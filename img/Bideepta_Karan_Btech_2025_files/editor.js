"use strict";(self.webpackChunk_grammarly_denali_app=self.webpackChunk_grammarly_denali_app||[]).push([[6008],{70736:(e,t,n)=>{n.d(t,{r:()=>c});var o=n(23988),r=n(50659),a=n(44297),i=n(30040),d=n(785);class c extends r.Component{componentDidMount(){const e=this.context;this.props.external?(e.scheduleReloadOnNavigation(),e.navigate(this.props.destination,(0,i.pipe)(e.locationState,a.toUndefined))):e.replace(this.props.destination,(0,i.pipe)(e.locationState,a.toUndefined))}render(){return null}constructor(...e){super(...e),(0,o._)(this,"context",void 0)}}(0,o._)(c,"contextType",d.L.Context)},97455:(e,t,n)=>{var o=n(5849),r=n(50659),a=n(53493),i=n(78952),d=n(53917),c=n(12061),l=n(69063),s=n(81870),p=n(69204),m=n(75967),g=n(96750),u=n(16721),f=n(74056),v=n(59815),x=n(80029),E=n(91731),I=n(30040),C=n(87574),w=n(36094),S=n(15491),h=n(44297),_=n(58889),y=n(70736),k=n(82937),L=n(11213),A=n(70932),M=n(22409),P=n(73451);function z({environment:e,platformEnvironment:t}){const n=v.Z.create(),o=e.platform===f.OH.Platform.IPAD,a=l.Bx.Logging.getLogger("router"),z=(0,i.zR)(),W=new d.kI(a,z,window.localStorage,window.location,n.query),b=(0,p.Z)((0,x.W)(),W.query.get("config")),O=(0,f.W$)(e),R={pageId:"root",pageSessionId:u.Y.createPageSessionId()},U=((e,t,n,o,a,i)=>{const d=(0,k.h)(e,i,{pageId:"root",pageSessionId:u.Y.createPageSessionId()},n);return{new_document:d("editor",s.Lz.routes.new_document,(e=>()=>r.createElement(C.F.div,null,w.RF((()=>e.documentActions.createDocument())).pipe(S.T(h.fold((()=>r.createElement(M.y,{className:L.A.spinner})),(0,I.flow)(_.map((e=>e.id.toString())),_.fold((e=>(l.Bx.Logging.getLogger("routes").fatal("Fail create new document",e),r.createElement(A.l,null))),(e=>r.createElement(y.r,{destination:s.Lz.routes.denali_editor.href({docId:e})})))))))))),denali_editor:d("editor",s.Lz.routes.denali_editor,(e=>({docId:i})=>r.createElement(u.Y.ContextProviderInherited,{pageId:"document",docId:i},r.createElement(s.Lz.Context.Consumer,null,(d=>r.createElement(P.A,{wsConnectivity:e.wsConnectivity,networkState:e.networkState,selfUpdate:e.selfUpdate,doxApi:e.apis.dox,doxWSApi:e.apis.doxWS,docId:i,userAccount:e.userAccount,upgradeHook:e.upgradeHook,notificationsManager:e.notificationsManager,backendManagedStorageManager:e.backendManagedStorageManager,textResources:t,config:n,router:d,environment:o,platformEnvironment:a,telemetryContainerId:e.telemetry,fingerprints:e.fingerprints,experimentClient:e.experimentClient}))))))}})(E.Tr.create({persistentApp:n,env:e,platformEnv:t,config:b,router:W,telemetryPageContext:R}),O,b,e,t,W);return(0,m.e)(o),r.createElement(c.j.Context.Provider,{value:z},r.createElement(c.a.Wrapper,{routesMap:U,renderer:({match:n},o)=>r.createElement(g.x,{pageName:"EditorCore",environment:e,platformEnvironment:t},r.createElement(s.Lz.Context.Provider,{value:W},o.component(n.params)))}))}const{env:W,platformEnv:b}=(0,o.I)();a.render(r.createElement(z,{environment:W,platformEnvironment:b}),document.getElementById("page"))}},e=>{var t=t=>e(e.s=t);e.O(0,[2688,9967,7302,4791,7977,2501,8203,4239,9518,190,5573,6818,5386,7706,7444,7555,741,5637,9590,1302,9098,1043,7961,8469,2584],(()=>(t(96262),t(97455)))),e.O()}]);