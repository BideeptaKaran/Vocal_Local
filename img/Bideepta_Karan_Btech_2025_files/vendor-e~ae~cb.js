/*! For license information please see vendor-e~ae~cb.js.LICENSE.txt */
(self.webpackChunk_grammarly_denali_app=self.webpackChunk_grammarly_denali_app||[]).push([[7706],{30451:(e,t,n)=>{"use strict";n.d(t,{B7:()=>i,Wc:()=>r,w_:()=>o});const i="#FFA600",r="#BCBCBC",o="#2B2B2B"},345:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CoreBlue1:()=>K,CoreBlue10:()=>I,CoreBlue20:()=>A,CoreBlue30:()=>x,CoreBlue40:()=>_,CoreBlue50:()=>C,CoreBlue60:()=>S,CoreBlue70:()=>E,CoreCoral1:()=>Re,CoreCoral10:()=>Fe,CoreCoral30:()=>Me,CoreCoral40:()=>Oe,CoreCoral50:()=>Te,CoreCoral60:()=>Ke,CoreCyan1:()=>se,CoreCyan10:()=>oe,CoreCyan20:()=>re,CoreCyan30:()=>ie,CoreCyan40:()=>ne,CoreCyan50:()=>te,CoreCyan60:()=>ee,CoreGreen1:()=>w,CoreGreen10:()=>k,CoreGreen20:()=>y,CoreGreen30:()=>b,CoreGreen40:()=>v,CoreGreen50:()=>g,CoreGreen60:()=>h,CoreGreen70:()=>f,CoreIndigo1:()=>Ee,CoreIndigo10:()=>we,CoreIndigo20:()=>ke,CoreIndigo30:()=>ye,CoreIndigo40:()=>be,CoreIndigo50:()=>ve,CoreIndigo60:()=>ge,CoreIndigo70:()=>he,CoreLime1:()=>We,CoreLime10:()=>ze,CoreLime20:()=>Ve,CoreLime30:()=>He,CoreLime40:()=>$e,CoreLime50:()=>Ue,CoreMagenta1:()=>Ie,CoreMagenta10:()=>Ae,CoreMagenta30:()=>xe,CoreMagenta40:()=>_e,CoreMagenta60:()=>Ce,CoreMagenta70:()=>Se,CoreNeutral0:()=>m,CoreNeutral1:()=>p,CoreNeutral10:()=>u,CoreNeutral20:()=>d,CoreNeutral30:()=>c,CoreNeutral40:()=>l,CoreNeutral50:()=>a,CoreNeutral60:()=>s,CoreNeutral70:()=>o,CoreNeutral80:()=>r,CoreNeutral90:()=>i,CorePurple1:()=>X,CorePurple10:()=>Y,CorePurple20:()=>J,CorePurple30:()=>q,CorePurple40:()=>Q,CorePurple50:()=>G,CorePurple60:()=>Z,CoreRed1:()=>P,CoreRed10:()=>N,CoreRed20:()=>B,CoreRed30:()=>R,CoreRed40:()=>F,CoreRed50:()=>M,CoreRed60:()=>O,CoreRed70:()=>T,CoreSky1:()=>fe,CoreSky10:()=>me,CoreSky20:()=>pe,CoreSky30:()=>ue,CoreSky40:()=>de,CoreSky50:()=>ce,CoreSky60:()=>le,CoreSky70:()=>ae,CoreYellow1:()=>W,CoreYellow10:()=>z,CoreYellow20:()=>V,CoreYellow30:()=>H,CoreYellow40:()=>$,CoreYellow50:()=>U,CoreYellow60:()=>L,CoreYellow70:()=>j,CoreYellow80:()=>D,CoreYellowBrand1:()=>Le,CoreYellowBrand10:()=>je,CoreYellowBrand20:()=>De,CoreYellowBrand30:()=>Pe,CoreYellowBrand40:()=>Ne,CoreYellowBrand50:()=>Be});const i="#0E101A",r="#1F243C",o="#333954",s="#4D536E",a="#6D758D",l="#9FA6BF",c="#C6CBDE",d="#E7E9F5",u="#F0F2FC",p="#F9FAFF",m="#FFFFFF",f="#0D8065",h="#11A683",g="#15C39A",v="#41D9B5",b="#87E8D1",y="#AAF2E1",k="#D7F7F0",w="#EBFFFA",E="#26307D",S="#3659B5",C="#4A6EE0",_="#638EEB",x="#79A8F2",A="#99C2FF",I="#DBEBFF",K="#EDF5FF",T="#A50018",O="#CE1331",M="#EA1537",F="#EE445F",R="#F27388",B="#FF99AB",N="#FFDBE3",P="#FDF0F3",D="#8C5404",j="#BB6E00",L="#F29100",U="#FFA600",$="#FFB619",H="#FFC940",V="#FFDF80",z="#FFF0D4",W="#FFF8EC",Z="#7E3DAD",G="#8F4CBF",Q="#A963DA",q="#BD79ED",J="#D3A1F7",Y="#F2E0FF",X="#F9F0FF",ee="#09A4B2",te="#28BAC7",ne="#4DD0DB",ie="#75E1EB",re="#93EDF5",oe="#DBFCFF",se="#EDFEFF",ae="#10627B",le="#157C9B",ce="#1995BB",de="#40A7C7",ue="#67B9D2",pe="#8ECBDE",me="#B5DDE9",fe="#DDEFF5",he="#494393",ge="#5B55B8",ve="#6E66DE",be="#8780E4",ye="#9F9AE9",ke="#B8B4EF",we="#D1CEF4",Ee="#E9E8FA",Se="#9A335C",Ce="#C24173",_e="#EE6C9F",xe="#F18AB2",Ae="#F8C6DA",Ie="#FCE4EE",Ke="#C44242",Te="#EC5050",Oe="#EF6E6E",Me="#F28C8C",Fe="#F9C7C7",Re="#FCE5E5",Be="#F6DF6C",Ne="#F8E485",Pe="#F9EA9E",De="#FBEFB7",je="#FCF5D0",Le="#FEFAE9",Ue="#ADD04F",$e="#BBD86D",He="#C9E08B",Ve="#D7E8A9",ze="#E5F0C7",We="#F3F8E5"},20294:(e,t,n)=>{"use strict";n.d(t,{KA:()=>r,Q1:()=>i});const i={Background:{Addition:{Default:"var(--color-background-addition-default)",Subdued:"var(--color-background-addition-subdued)"},Base:{Default:"var(--color-background-base-default)",Subdued:"var(--color-background-base-subdued)"},Brand:{Default:"var(--color-background-brand-default)",Subdued:"var(--color-background-brand-subdued)"},Business:{Default:"var(--color-background-business-default)",Subdued:"var(--color-background-business-subdued)"},Clarity:{Default:"var(--color-background-clarity-default)",Subdued:"var(--color-background-clarity-subdued)"},Correctness:{Default:"var(--color-background-correctness-default)",Subdued:"var(--color-background-correctness-subdued)"},Critical:{Default:"var(--color-background-critical-default)",Subdued:"var(--color-background-critical-subdued)"},Deletion:{Default:"var(--color-background-deletion-default)",Subdued:"var(--color-background-deletion-subdued)"},Delivery:{Default:"var(--color-background-delivery-default)",Subdued:"var(--color-background-delivery-subdued)"},Engagement:{Default:"var(--color-background-engagement-default)",Subdued:"var(--color-background-engagement-subdued)"},Neutral:{Default:"var(--color-background-neutral-default)"},Plagiarism:{Default:"var(--color-background-plagiarism-default)",Subdued:"var(--color-background-plagiarism-subdued)"},Premium:{Default:"var(--color-background-premium-default)",Subdued:"var(--color-background-premium-subdued)"},Success:{Default:"var(--color-background-success-default)",Subdued:"var(--color-background-success-subdued)"},Warning:{Default:"var(--color-background-warning-default)",Subdued:"var(--color-background-warning-subdued)"}},Border:{Addition:{Default:"var(--color-border-addition-default)",Subdued:"var(--color-border-addition-subdued)"},Base:{Default:"var(--color-border-base-default)",Subdued:"var(--color-border-base-subdued)",Inverse:"var(--color-border-base-inverse)"},Brand:{Default:"var(--color-border-brand-default)",Subdued:"var(--color-border-brand-subdued)"},Business:{Default:"var(--color-border-business-default)",Subdued:"var(--color-border-business-subdued)"},Critical:{Default:"var(--color-border-critical-default)",Subdued:"var(--color-border-critical-subdued)"},Deletion:{Default:"var(--color-border-deletion-default)",Subdued:"var(--color-border-deletion-subdued)"},Premium:{Default:"var(--color-border-premium-default)",Subdued:"var(--color-border-premium-subdued)"},Success:{Default:"var(--color-border-success-default)",Subdued:"var(--color-border-success-subdued)"},Warning:{Default:"var(--color-border-warning-default)",Subdued:"var(--color-border-warning-subdued)"}},Icon:{Addition:{Default:"var(--color-icon-addition-default)"},Base:{Default:"var(--color-icon-base-default)",Inverse:"var(--color-icon-base-inverse)"},Brand:{Default:"var(--color-icon-brand-default)"},Business:{Default:"var(--color-icon-business-default)"},Critical:{Default:"var(--color-icon-critical-default)"},Deletion:{Default:"var(--color-icon-deletion-default)"},Premium:{Default:"var(--color-icon-premium-default)"},Success:{Default:"var(--color-icon-success-default)"},Warning:{Default:"var(--color-icon-warning-default)"}},Text:{Addition:{Default:"var(--color-text-addition-default)"},Base:{Default:"var(--color-text-base-default)",Subdued:"var(--color-text-base-subdued)",Inverse:"var(--color-text-base-inverse)"},Brand:{Default:"var(--color-text-brand-default)"},Business:{Default:"var(--color-text-business-default)"},Critical:{Default:"var(--color-text-critical-default)"},Deletion:{Default:"var(--color-text-deletion-default)"},Premium:{Default:"var(--color-text-premium-default)"},Success:{Default:"var(--color-text-success-default)"},Warning:{Default:"var(--color-text-warning-default)"}}},r={DangerAndDeletion:{Primary:{Default:"var(--interface-dangeranddeletion-primary-default)",Hover:"var(--interface-dangeranddeletion-primary-hover)"},Secondary:{Default:"var(--interface-dangeranddeletion-secondary-default)",Hover:"var(--interface-dangeranddeletion-secondary-hover)"}},InteractiveBranded:{Primary:{Default:"var(--interface-interactivebranded-primary-default)",Hover:"var(--interface-interactivebranded-primary-hover)"},Secondary:{Default:"var(--interface-interactivebranded-secondary-default)",Hover:"var(--interface-interactivebranded-secondary-hover)"}},InteractiveNeutral:{Primary:{Default:"var(--interface-interactiveneutral-primary-default)",Hover:"var(--interface-interactiveneutral-primary-hover)"},Secondary:{Default:"var(--interface-interactiveneutral-secondary-default)",Hover:"var(--interface-interactiveneutral-secondary-hover)"}},Premium:{Primary:{Default:"var(--interface-premium-primary-default)",Hover:"var(--interface-premium-primary-hover)"},Secondary:{Default:"var(--interface-premium-secondary-default)",Hover:"var(--interface-premium-secondary-hover)"}},SuccessAndAddition:{Primary:{Default:"var(--interface-successandaddition-primary-default)",Hover:"var(--interface-successandaddition-primary-hover)"},Secondary:{Default:"var(--interface-successandaddition-secondary-default)",Hover:"var(--interface-successandaddition-secondary-hover)"}},Warning:{Primary:{Default:"var(--interface-warning-primary-default)",Hover:"var(--interface-warning-primary-hover)"},Secondary:{Default:"var(--interface-warning-secondary-default)",Hover:"var(--interface-warning-secondary-hover)"}}}},94713:(e,t,n)=>{"use strict";n.d(t,{Jj:()=>a,Oh:()=>c,or:()=>o,sp:()=>r,v$:()=>s,v5:()=>l,vW:()=>i});const i=.0625,r=.125,o=.25,s=.5,a=1,l=1.5,c=2},18243:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActionArg:()=>g,ActionArgDef:()=>v,ActionArgDefRadioButtonGroup:()=>w,ActionArgDefRadioButtonGroupHint:()=>k,ActionArgDefString:()=>y,ActionArgDefStringHint:()=>b,ActionDef:()=>C,ActionDefDisabled:()=>S,ActionDefGeneratesTextType:()=>E,ActionInfo:()=>_,AvailableVoiceProfile:()=>K,AvailableVoiceProfileSection:()=>I,AvailableVoiceProfileSectionTag:()=>A,AvailableVoiceProfileSectionTagState:()=>x,AvailableVoiceProfiles:()=>T,ClientMessage:()=>c,ClientMessageImplementations:()=>Me,Context:()=>O,DocumentOverview:()=>M,Error:()=>R,ErrorKind:()=>F,GeneratedText:()=>B,GenerationMode:()=>N,Message:()=>P,MessageAction:()=>L,MessageChunk:()=>q,MessageError:()=>Z,MessageGetContext:()=>D,MessageGetHistory:()=>W,MessageGetUserState:()=>V,MessageInterrupt:()=>H,MessageInvalidateContext:()=>j,MessageResult:()=>Y,MessageResultChangesSummary:()=>J,MessageSearchReferences:()=>z,MessageSearchReferencesResult:()=>Q,MessageSetContext:()=>G,MessageSetHistory:()=>re,MessageSetHistoryCard:()=>ie,MessageSetHistoryCardTitle:()=>ee,MessageSetHistoryCardTitleAction:()=>ne,MessageSetHistoryCardTitleUserPrompt:()=>te,MessageSetUserState:()=>X,MessageSetVoice:()=>U,MessageSetVoiceProfile:()=>$,Metadata:()=>oe,Notification:()=>ae,NotificationKind:()=>se,OuterContext:()=>ce,OuterContextItem:()=>le,PreviousText:()=>de,PreviousTextHistory:()=>pe,PreviousTextRegular:()=>ue,PreviousTextWriterExpert:()=>me,ProtocolMessage:()=>d,Reference:()=>fe,ReferencePrivacyLevel:()=>he,ReferencePrivacyLevelPublic:()=>ge,ReferencePrivacyLevelRestricted:()=>ve,Root:()=>h,ServerMessage:()=>u,ServerMessageImplementations:()=>Fe,SpecialView:()=>be,SpecialViewAiUsageAlert:()=>ye,StartMessage:()=>p,StartedMessage:()=>m,Style:()=>ke,Text:()=>we,TextLike:()=>f,TextRange:()=>Ee,Toggle:()=>Se,UrlReference:()=>Ce,Usage:()=>_e,UserState:()=>Ae,UserStateSettings:()=>xe,Voice:()=>Ie,VoiceProfileSettings:()=>Oe,VoiceProfileSettingsMyVoiceIsEnabledByDefault:()=>Ke,VoiceProfileSettingsStatus:()=>Te,encoderSchemable:()=>je,extend:()=>De,interpreter:()=>Pe,make:()=>Ne});var i=n(1059),r=n(43138),o=n(95717),s=n(97905),a=n(87626),l=n(30040),c=Ne((function(e){return Be(d(e),e.struct({}))(e)})),d=Ne((function(e){return e.struct({id:e.number})})),u=Ne((function(e){return Be(d(e),e.struct({}))(e)})),p=Ne((function(e){return e.intersect(e.partial({docIdIsTransient:e.boolean}))(e.struct({}))})),m=Ne((function(e){return e.struct({cheetahState:Ae(e)})})),f=Ne((function(e){return e.struct({plain:e.sensitiveString,delta:e.sensitiveDelta})})),h=Ne((function(e){return P(e)})),g=Ne((function(e){return e.struct({name:e.string,value:e.sensitiveString})})),v=Ne((function(e){var t;return e.sum("valueType")(((t={}).string=y(e),t.radioButtonGroup=w(e),t))})),b=Ne((function(e){return e.struct({header:e.string,text:e.readonly(e.array(e.string))})})),y=Ne((function(e){return e.intersect(e.partial({hint:b(e)}))(e.struct({valueType:e.literal("string"),label:e.string,name:e.string}))})),k=Ne((function(e){return e.struct({header:e.string,text:e.readonly(e.array(e.string))})})),w=Ne((function(e){return e.intersect(e.partial({hint:k(e)}))(e.struct({valueType:e.literal("radioButtonGroup"),label:e.string,name:e.string,radioButtonGroupValues:e.readonly(e.array(e.string))}))})),E=Re(r.nN),S=Ne((function(e){return e.intersect(e.partial({onActionNotification:ae(e)}))(e.struct({}))})),C=Ne((function(e){return e.intersect(e.partial({generatesTextType:E(e)}))(e.intersect(e.partial({disabled:S(e)}))(e.struct({id:e.string,iconUrl:e.string,group:e.string,label:e.string,searchTags:e.readonly(e.array(e.string)),args:e.readonly(e.array(v(e)))})))})),_=Ne((function(e){return e.intersect(e.partial({useReferences:e.readonly(e.array(Ce(e)))}))(e.intersect(e.partial({omitReferenceIds:e.readonly(e.array(e.string))}))(e.struct({contextId:e.string,triggerContextId:e.string,actionId:e.string,args:e.readonly(e.array(g(e)))})))})),x=Re(r.pz),A=Ne((function(e){return e.struct({name:e.string,state:x(e)})})),I=Ne((function(e){return e.struct({name:e.string,tags:e.readonly(e.array(A(e)))})})),K=Ne((function(e){return e.struct({name:e.string,summary:e.string,selected:e.boolean,sections:e.readonly(e.array(I(e)))})})),T=Ne((function(e){return e.readonly(e.array(K(e)))})),O=Ne((function(e){return e.intersect(e.partial({voiceProfileSettings:Oe(e)}))(e.intersect(e.partial({intent:e.sensitiveString}))(e.intersect(e.partial({documentOverview:M(e)}))(e.intersect(e.partial({specialView:be(e)}))(e.intersect(e.partial({textScope:Ee(e)}))(e.intersect(e.partial({contextNotification:ae(e)}))(e.intersect(e.partial({metadata:oe(e)}))(e.struct({id:e.string,voice:Ie(e),availableActions:e.readonly(e.array(C(e))),parentAction:_(e),stateBlob:e.string,promptAction:C(e),quickRewriteAction:C(e)}))))))))})),M=Ne((function(e){return e.struct({title:e.string,summary:e.string})})),F=Re(r.Fv),R=Ne((function(e){return e.struct({kind:F(e),title:e.string,text:e.string})})),B=Ne((function(e){return Be(f(e),e.struct({plain:e.sensitiveString,interrupted:e.boolean,renderDiff:e.boolean,delta:e.sensitiveDelta}))(e)})),N=Re(r.ol),P=Ne((function(e){var t;return Be(d(e),e.sum("action")(((t={})["cheetah:getContext"]=D(e),t["cheetah:invalidateContext"]=j(e),t["cheetah:action"]=L(e),t["cheetah:setVoice"]=U(e),t["cheetah:setVoiceProfile"]=$(e),t["cheetah:interrupt"]=H(e),t["cheetah:getUserState"]=V(e),t["cheetah:searchReferences"]=z(e),t["cheetah:getHistory"]=W(e),t["cheetah:error"]=Z(e),t["cheetah:setContext"]=G(e),t["cheetah:searchReferencesResult"]=Q(e),t["cheetah:chunk"]=q(e),t["cheetah:result"]=Y(e),t["cheetah:setUserState"]=X(e),t["cheetah:setHistory"]=re(e),t)))(e)})),D=Ne((function(e){return Be(c(e),e.intersect(e.partial({outerContext:ce(e)}))(e.intersect(e.partial({selectedRange:Ee(e)}))(e.intersect(e.partial({stateBlob:e.string}))(e.intersect(e.partial({previousText:de(e)}))(e.intersect(e.partial({includeDisabledActions:e.boolean}))(e.intersect(e.partial({metadata:oe(e)}))(e.struct({action:e.literal("cheetah:getContext"),rev:e.number,generationMode:N(e)}))))))))(e)})),j=Ne((function(e){return Be(u(e),e.struct({action:e.literal("cheetah:invalidateContext")}))(e)})),L=Ne((function(e){return Be(c(e),e.intersect(e.partial({useReferences:e.readonly(e.array(Ce(e)))}))(e.intersect(e.partial({omitReferenceIds:e.readonly(e.array(e.string))}))(e.intersect(e.partial({previousText:de(e)}))(e.intersect(e.partial({metadata:oe(e)}))(e.struct({action:e.literal("cheetah:action"),rev:e.number,contextId:e.string,triggerContextId:e.string,actionId:e.string,stateBlob:e.string,args:e.readonly(e.array(g(e)))}))))))(e)})),U=Ne((function(e){return Be(c(e),e.struct({action:e.literal("cheetah:setVoice"),voice:Ie(e)}))(e)})),$=Ne((function(e){return Be(c(e),e.intersect(e.partial({role:e.string}))(e.intersect(e.partial({isEnabledByDefault:e.boolean}))(e.intersect(e.partial({profiles:T(e)}))(e.struct({action:e.literal("cheetah:setVoiceProfile")})))))(e)})),H=Ne((function(e){return Be(c(e),e.struct({action:e.literal("cheetah:interrupt"),promptId:e.number}))(e)})),V=Ne((function(e){return Be(c(e),e.struct({action:e.literal("cheetah:getUserState")}))(e)})),z=Ne((function(e){return Be(c(e),e.intersect(e.partial({url:e.string}))(e.struct({action:e.literal("cheetah:searchReferences")})))(e)})),W=Ne((function(e){return Be(c(e),e.struct({action:e.literal("cheetah:getHistory")}))(e)})),Z=Ne((function(e){return Be(u(e),e.struct({action:e.literal("cheetah:error"),promptId:e.number,error:R(e)}))(e)})),G=Ne((function(e){return Be(u(e),e.intersect(e.partial({progressMessage:e.string}))(e.struct({action:e.literal("cheetah:setContext"),promptId:e.number,context:O(e),usage:_e(e)})))(e)})),Q=Ne((function(e){return Be(u(e),e.struct({action:e.literal("cheetah:searchReferencesResult"),promptId:e.number,references:e.readonly(e.array(fe(e)))}))(e)})),q=Ne((function(e){return Be(u(e),e.intersect(e.partial({metadata:oe(e)}))(e.struct({action:e.literal("cheetah:chunk"),promptId:e.number,token:e.sensitiveString})))(e)})),J=Ne((function(e){return e.struct({title:e.string,description:e.readonly(e.array(e.string))})})),Y=Ne((function(e){return Be(u(e),e.intersect(e.partial({metadata:oe(e)}))(e.intersect(e.partial({context:O(e)}))(e.intersect(e.partial({error:R(e)}))(e.intersect(e.partial({text:B(e)}))(e.intersect(e.partial({withVoiceText:B(e)}))(e.intersect(e.partial({showVoiceTextByDefault:e.boolean}))(e.intersect(e.partial({references:e.readonly(e.array(fe(e)))}))(e.intersect(e.partial({changesSummary:J(e)}))(e.struct({action:e.literal("cheetah:result"),promptId:e.number,usage:_e(e)}))))))))))(e)})),X=Ne((function(e){return Be(u(e),e.struct({action:e.literal("cheetah:setUserState"),state:Ae(e)}))(e)})),ee=Ne((function(e){var t;return e.sum("kind")(((t={}).userPrompt=te(e),t.action=ne(e),t))})),te=Ne((function(e){return e.struct({kind:e.literal("userPrompt"),text:e.string})})),ne=Ne((function(e){return e.struct({kind:e.literal("action"),iconUrl:e.string,label:e.string})})),ie=Ne((function(e){return e.intersect(e.partial({showVoiceTextByDefault:e.boolean}))(e.struct({id:e.string,text:we(e),withVoiceText:we(e),title:ee(e),references:e.readonly(e.array(fe(e)))}))})),re=Ne((function(e){return Be(u(e),e.struct({action:e.literal("cheetah:setHistory"),cards:e.readonly(e.array(ie(e)))}))(e)})),oe=Ne((function(e){return e.any})),se=Re(r.Ij),ae=Ne((function(e){return e.intersect(e.partial({title:e.string}))(e.struct({kind:se(e),text:e.string}))})),le=Ne((function(e){return e.intersect(e.partial({title:e.sensitiveString}))(e.intersect(e.partial({people:e.readonly(e.record(e.readonly(e.array(e.sensitiveString))))}))(e.struct({text:e.sensitiveString})))})),ce=Ne((function(e){return e.intersect(e.partial({pageIdHash:e.string}))(e.intersect(e.partial({title:e.sensitiveString}))(e.intersect(e.partial({people:e.readonly(e.record(e.readonly(e.array(e.sensitiveString))))}))(e.intersect(e.partial({items:e.readonly(e.array(le(e)))}))(e.struct({})))))})),de=Ne((function(e){var t;return e.sum("kind")(((t={}).regular=ue(e),t.history=pe(e),t.writerExpert=me(e),t))})),ue=Ne((function(e){return e.struct({kind:e.literal("regular"),text:e.string})})),pe=Ne((function(e){return e.struct({kind:e.literal("history"),text:e.string})})),me=Ne((function(e){return e.struct({kind:e.literal("writerExpert"),text:e.string,suggestionId:e.string,pname:e.string})})),fe=Ne((function(e){return e.intersect(e.partial({url:e.string}))(e.struct({id:e.string,privacyLevel:he(e),title:e.string,iconUrl:e.string}))})),he=Ne((function(e){var t;return e.sum("kind")(((t={}).public=ge(e),t.restricted=ve(e),t))})),ge=Ne((function(e){return e.struct({kind:e.literal("public")})})),ve=Ne((function(e){return e.struct({kind:e.literal("restricted")})})),be=Ne((function(e){var t;return e.sum("kind")(((t={}).aiUsageAlert=ye(e),t))})),ye=Ne((function(e){return e.struct({kind:e.literal("aiUsageAlert")})})),ke=Ne((function(e){return e.struct({button:Se(e),tones:e.readonly(e.array(Se(e))),maxTones:e.number})})),we=Ne((function(e){return Be(f(e),e.struct({}))(e)})),Ee=Ne((function(e){return e.struct({start:e.number,end:e.number})})),Se=Ne((function(e){return e.struct({iconUrl:e.string,label:e.string,description:e.string})})),Ce=Ne((function(e){return e.struct({url:e.string,referenceId:e.string})})),_e=Ne((function(e){return e.struct({promptsRemaining:e.number,promptsAllocated:e.number,refillDate:e.string})})),xe=Ne((function(e){return e.struct({inlineQuickReplyEnabled:e.boolean,inlineRewriteEnabled:e.boolean})})),Ae=Ne((function(e){return e.intersect(e.partial({historyItems:e.number}))(e.struct({settings:xe(e),usage:_e(e)}))})),Ie=Ne((function(e){return e.intersect(e.partial({styles:e.readonly(e.array(ke(e)))}))(e.intersect(e.partial({selectedRole:e.string}))(e.intersect(e.partial({roles:e.readonly(e.array(e.string))}))(e.struct({selectedStyle:e.string,selectedTones:e.readonly(e.array(e.string)),needSetup:e.boolean}))))})),Ke=Ne((function(e){return e.struct({state:e.boolean,label:e.string})})),Te=Re(r.nn),Oe=Ne((function(e){return e.intersect(e.partial({status:Te(e)}))(e.struct({userName:e.string,myVoiceIsEnabledByDefault:Ke(e),title:e.string,subTitle:e.string,profiles:T(e)}))})),Me=Ne((function(e){var t;return e.sum("action")(((t={})["cheetah:getContext"]=D(e),t["cheetah:action"]=L(e),t["cheetah:setVoice"]=U(e),t["cheetah:setVoiceProfile"]=$(e),t["cheetah:interrupt"]=H(e),t["cheetah:getUserState"]=V(e),t["cheetah:searchReferences"]=z(e),t["cheetah:getHistory"]=W(e),t))})),Fe=Ne((function(e){var t;return e.sum("action")(((t={})["cheetah:invalidateContext"]=j(e),t["cheetah:error"]=Z(e),t["cheetah:setContext"]=G(e),t["cheetah:searchReferencesResult"]=Q(e),t["cheetah:chunk"]=q(e),t["cheetah:result"]=Y(e),t["cheetah:setUserState"]=X(e),t["cheetah:setHistory"]=re(e),t))}));function Re(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t[0],r=t.slice(1);return Ne((function(e){return e.literal.apply(e,(0,i.fX)([n],r,!1))}))}function Be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ne((function(t){return e.reduce((function(e,n){return t.intersect(n)(e)}))}))}function Ne(e){return s.B(e)}var Pe=(0,l.unsafeCoerce)(a.n);function De(e){return function(t){return(0,i.Cl)((0,i.Cl)({},e),t)}}var je={URI:o.rz,literal:function(){return o.id()},string:o.id(),number:o.id(),boolean:o.id(),nullable:o.me,type:o.NW,struct:o.w3,partial:o.OH,record:o.g1,array:o.YO,tuple:o.PV,intersect:o.y$,sum:o.cz,lazy:function(e,t){return o.RZ(t)},readonly:o.tB}},56158:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var i="16.2.0"},43138:(e,t,n)=>{"use strict";var i,r,o,s,a,l;n.d(t,{Fv:()=>o,Ij:()=>a,nN:()=>i,nn:()=>l,ol:()=>s,pz:()=>r}),function(e){e.Insertable="insertable",e.NonInsertable="non_insertable"}(i||(i={})),function(e){e.Active="active",e.Snoozed="snoozed"}(r||(r={})),function(e){e.Generic="generic",e.Overflow="overflow",e.PromptsLimitExceeded="promptsLimitExceeded",e.SensitiveContent="sensitiveContent",e.ServerOverloaded="serverOverloaded",e.UnsupportedLanguage="unsupportedLanguage"}(o||(o={})),function(e){e.Ideation="ideation",e.PushRewrite="pushRewrite",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite"}(s||(s={})),function(e){e.Generic="generic",e.Info="info"}(a||(a={})),function(e){e.Initial="initial",e.Seen="seen",e.Updated="updated"}(l||(l={}))},23127:(e,t,n)=>{"use strict";n.d(t,{$:()=>m});var i=n(50659),r=n(19967),o=n(82608),s=n(21216),a=n(38427),l=n(15491),c=n(19840),d=n(70378),u=n(50733),p=n(97108);const m=e=>{var{className:t,compact:n=!1,theme:m="light",variant:f="primary",contained:h=!1,size:g=s.of("large"),style:v=s.of(void 0),children:b,onClick:y}=e,k=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["className","compact","theme","variant","contained","size","style","children","onClick"]);return i.createElement(r.$n.Animated,Object.assign({},k,(0,c.Ly)(a.zV([(0,u.b)(v),(0,u.b)(g)]).pipe(l.T((([e,t])=>(0,p.El)({compact:n,theme:m,size:t,style:e,variant:f,contained:h})))),t),{styleType:o.Typography.Type.Button,onClick:(0,d.e)(y)}),b)}},97108:(e,t,n)=>{"use strict";n.d(t,{Ek:()=>p,El:()=>f});var i=n(11864),r=n(36840),o=n(77167),s=n(38107),a=n(80152),l=n(39606),c=n(29585),d=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function u(e){var t,n;const i=null!==(t=e.default)&&void 0!==t?t:{},{$nest:r}=i,o=d(i,["$nest"]);return Object.assign(Object.assign({},o),{$nest:Object.assign({"&:not([data-disabled='true']):not([aria-disabled='true'])[data-hovered='true']":Object.assign({},e.hovered),"&:not([data-disabled='true']):not([aria-disabled='true']):hover":Object.assign({},e.hovered),"&[data-disabled='true'], &[aria-disabled='true']":Object.assign({},e.disabled),"&:not([data-disabled='true']):not([aria-disabled='true']):active":Object.assign({},e.active),"&:not([data-disabled='true']):not([aria-disabled='true'])[data-active='true']":Object.assign({},null!==(n=e.selected)&&void 0!==n?n:e.active),"&[hidden]":Object.assign({},e.hidden),"& > i":Object.assign({},e.icon),"&[data-textpos='left']":Object.assign({},e.textPosLeft),"&[data-textpos='right']":Object.assign({},e.textPosRight),"&[data-textpos='everywhere']":Object.assign({},e.textPosEverywhere)},r)})}function p(e){return{'&:focus:not(:active):not([data-active="true"])':{boxShadow:e,zIndex:1},'&:focus:not(:active):not(:focus-visible):not([data-active="true"])':{boxShadow:"none"},"&:focus-visible":{boxShadow:e,zIndex:1}}}const m={primaryLight:{fontWeight:"bold",backgroundDefault:c.A.BackgroundBrandDefault,colorDefault:a.Q.Text.Base.Inverse,backgroundHover:c.A.BackgroundBrandHover,colorHover:a.Q.Text.Base.Inverse,backgroundActive:c.A.BackgroundBrandActive,colorActive:a.Q.Background.Base.Default,focusOutline:c.A.BorderBrandDefault},primaryDark:void 0,secondaryLight:{backgroundDefault:"transparent",colorDefault:c.A.ButtonTextSecondaryDefault,borderDefault:c.A.BorderBrandDefault,backgroundHover:c.A.ButtonBackgroundSecondaryHover,colorHover:c.A.ButtonTextSecondaryHover,borderHover:c.A.BorderBrandDefault,backgroundActive:c.A.ButtonBackgroundSecondaryActive,colorActive:c.A.ButtonTextSecondaryActive,borderActive:c.A.BorderBrandDefault,focusOutline:c.A.BorderBrandDefault},secondaryDark:void 0,tertiaryLight:{backgroundDefault:"transparent",colorDefault:c.A.ButtonTextTertiaryDefault,borderDefault:"transparent",backgroundHover:c.A.ButtonBackgroundTertiaryHover,colorHover:c.A.ButtonTextTertiaryHover,borderHover:c.A.ButtonBorderTertiaryHover,backgroundActive:c.A.ButtonBackgroundTertiaryActive,colorActive:c.A.ButtonTextTertiaryActive,borderActive:c.A.ButtonBorderTertiaryActive,focusOutline:c.A.BorderBrandDefault},tertiaryDark:{backgroundDefault:"transparent",colorDefault:c.A.ButtonTextTertiaryDefaultInverse,borderDefault:"transparent",backgroundHover:c.A.ButtonBackgroundTertiaryHoverInverse,colorHover:c.A.ButtonTextTertiaryHoverInverse,borderHover:c.A.ButtonBorderTertiaryHoverInverse,backgroundActive:c.A.ButtonBackgroundTertiaryActiveInverse,colorActive:c.A.ButtonTextTertiaryActiveInverse,borderActive:c.A.ButtonBorderTertiaryActiveInverse,focusOutline:c.A.BorderBrandDefault},roundLight:{borderRadius:"100%",backgroundDefault:a.Q.Background.Base.Default,colorDefault:c.A.ButtonTextTertiaryDefault,borderDefault:c.A.ButtonBorderTertiaryActive,backgroundHover:c.A.ButtonBackgroundTertiaryHover,colorHover:c.A.ButtonTextTertiaryHover,borderHover:c.A.ButtonBorderTertiaryHover,backgroundActive:c.A.ButtonBackgroundTertiaryActive,colorActive:c.A.ButtonTextTertiaryActive,borderActive:c.A.ButtonBorderTertiaryActive,focusOutline:c.A.BorderBrandDefault,boxShadow:l.GP.boxShadow},roundDark:void 0},f=(0,r.Bj)((e=>{var t,n;const r=m[`${e.variant}${"dark"===e.theme?"Dark":"Light"}`];return i.Ks.style(function(e,t){const n="small"===e?1.5:"medium"===e?1.75:2,r=t?0:i.Ks.rem(o.v$);return u({default:{borderRadius:i.Ks.rem(s.KD),display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",transform:"scale(1)",overflow:"hidden",padding:0,outline:"none",border:0,backgroundColor:"transparent",verticalAlign:"middle",whiteSpace:"nowrap",cursor:"default",userSelect:"none",fontWeight:"normal",minWidth:i.Ks.rem(n),minHeight:i.Ks.rem(n),lineHeight:i.Ks.rem(n)},icon:{minWidth:i.Ks.rem(n),minHeight:i.Ks.rem(n),lineHeight:i.Ks.rem(n)},hovered:{cursor:"pointer"},disabled:{opacity:.4,cursor:"not-allowed",$nest:{'& > i[data-disabled="true"]':{fill:"inherit",stroke:"inherit"}}},hidden:{display:"none"},textPosLeft:{padding:`0 0 0 ${r}`},textPosRight:{padding:`0 ${r} 0 0`},textPosEverywhere:{padding:`0 ${r} 0 ${r}`}})}(null!==(t=e.size)&&void 0!==t?t:"large",null!==(n=e.compact)&&void 0!==n&&n),r?function(e,t,n=!1){const r=(e,t)=>void 0!==e&&"transparent"!==e?`${t?`${t}, `:""} inset 0 0 0 1px ${e}`:t,o=(n,i=!1)=>{const r=t?((e,t=!1)=>t?`0 0 0 2px ${e}`:`inset 0 0 0 2px ${e}`)(e.focusOutline,i):((e,t=!1)=>t?`inset 0 0 0 2px ${e}, inset 0 0 0 3px ${a.Q.Text.Base.Inverse}`:`0 0 0 2px ${a.Q.Text.Base.Inverse}, 0 0 0 4px ${e}`)(e.focusOutline,i);return p(n?i?`${r}, ${n}`:`${n}, ${r}`:r)},s=r(e.borderDefault,e.boxShadow),l=r(e.borderHover,e.boxShadow),c=r(e.borderActive,e.boxShadow);return u({default:{borderRadius:e.borderRadius,fontWeight:e.fontWeight,color:e.colorDefault,backgroundColor:e.backgroundDefault,boxShadow:s,$nest:o(s,n)},hovered:{color:e.colorHover,backgroundColor:e.backgroundHover,boxShadow:l,$nest:o(l,n)},active:{color:e.colorActive,backgroundColor:e.backgroundActive,boxShadow:c,$nest:o(c,n)},icon:{stroke:i.Ks.important(e.colorDefault),fill:i.Ks.important(e.colorDefault),$nest:{'&[data-hovered="true"]':{stroke:i.Ks.important(e.colorHover),fill:i.Ks.important(e.colorHover)}}}})}(r,"dark"===e.theme,e.contained):void 0,...Array.from([]).concat(e.style).map((e=>u(null!=e?e:{}))))}),(e=>`${e.size}-${e.variant}-${e.theme}-${e.contained}-${e.compact}-${JSON.stringify(e.style)}`))},35208:(e,t,n)=>{"use strict";n.d(t,{X:()=>m});var i=n(50659),r=n(27917),o=n(23127),s=n(11864),a=n(80152),l=n(51500);const c="closeBtn",d="closeIcon",u=(0,l.T2)({$nest:{[`& .${d}`]:Object.assign(Object.assign({},(0,l.QD)(1.5)),{stroke:s.Ks.important(a.Q.Text.Base.Inverse)})}},c),p=(s.Ks.joinClasses([c,s.Ks.style(u)]),d),m=({name:e,style:t,onClick:n})=>i.createElement(o.$,{variant:"tertiary",style:[t],onClick:n,compact:!0,size:"small",theme:"dark",name:e},i.createElement(r.In.Close,{className:p}))},87565:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var i=n(50659),r=n(38908);const o=i.forwardRef((function(e,t){var{children:n,rel:o}=e,s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children","rel"]);const a=i.useMemo((()=>r.G7(10)),[]);return i.createElement(i.Fragment,null,i.createElement("span",{hidden:!0,id:a},"Opens an external site in a new window"),i.createElement("a",Object.assign({},s,{"aria-describedby":a,target:"_blank",rel:null!=o?o:"noopener noreferrer",ref:t}),n))}))},33797:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var i=n(50659),r=n(96675),o=n(34050);const s=[];function a(e,t){const{onClose:n,shouldCloseOnBlur:a,isOpen:l,isDismissable:c=!1,isKeyboardDismissDisabled:d=!1,shouldCloseOnInteractOutside:u}=e;i.useEffect((()=>(l&&s.push(t),()=>{const e=s.indexOf(t);e>=0&&s.splice(e,1)})),[l,t]);const p=()=>{s[s.length-1]===t&&n&&n()};(0,o.$Z)({ref:t,onInteractOutside:c?e=>{e instanceof Event&&(e=>{u&&!u(e.target,e)||(s[s.length-1]===t&&(e.stopPropagation(),e.preventDefault()),p())})(e)}:void 0,onInteractOutsideStart:e=>{e instanceof Event&&(e=>{u&&!u(e.target,e)||s[s.length-1]===t&&(e.stopPropagation(),e.preventDefault())})(e)}});const{focusWithinProps:m}=(0,o.Rb)({isDisabled:!a,onBlurWithin:e=>{e.relatedTarget&&!(0,r.Pu)(e.relatedTarget)&&(u&&!u(e.relatedTarget,e instanceof Event?e:void 0)||null==n||n())}});return{overlayProps:Object.assign({onKeyDown:e=>{"Escape"!==e.key||d||(e.stopPropagation(),e.preventDefault(),p())}},m),underlayProps:{onPointerDown:e=>{e.target===e.currentTarget&&e.preventDefault()}}}}},53697:(e,t,n)=>{"use strict";n.d(t,{AM:()=>_,HR:()=>S});var i=n(50659),r=n(93669),o=n(31488),s=n(39694),a=n(44297),l=n(30040),c=n(24243),d=n(11864),u=n(42543),p=n(83541),m=n(77167),f=n(80152),h=n(38107),g=n(19840),v=n(60672),b=n(29585),y=n(56962),k=n(35208),w=n(33797);const E=(0,g.yY)(r.hJ),S=i.createContext({closePopover:l.constVoid});var C;!function(e){e.umount="unmount",e.interactOutside="interactOutside",e.closeButtonClick="closeButtonClick"}(C||(C={}));const _=e=>{var t,n,r,l,m,f,h,g,{reference:b,title:_,body:F,footer:R,className:B,placement:N,arrowAlignment:P,offset:D,containerPadding:j,onClose:L,onMount:U}=e,$=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["reference","title","body","footer","className","placement","arrowAlignment","offset","containerPadding","onClose","onMount"]);const H=i.useRef(null),[V,z]=i.useState(null),[W,Z]=i.useState(null),G=(0,v.Y)(),{styles:Q,attributes:q,state:J}=(0,o.E)(b,V,{placement:null!=N?N:"top",modifiers:[{name:"offset",options:{offset:[0,6+(null!=D?D:0)]}},{name:"arrow",options:{element:W,padding:12}},{name:"preventOverflow",options:{padding:null!=j?j:5}},G]}),Y=null!==(g=null===(h=null===(f=null===(m=null===(l=null===(r=null===(n=null===(t=Q.arrow)||void 0===t?void 0:t.transform)||void 0===n?void 0:n.replace("translate3d(",""))||void 0===r?void 0:r.replace("translate(",""))||void 0===l?void 0:l.replace(")",""))||void 0===m?void 0:m.split(","))||void 0===f?void 0:f.map((e=>e.trim())))||void 0===h?void 0:h.map((e=>parseInt(e,10))))&&void 0!==g?g:[],X=i.useRef(new u.B7),ee=i.useRef(null),te=(0,s.T)({defaultOpen:!1,onOpenChange:e=>{const t=ee.current;null!==t&&clearTimeout(t),e||(ee.current=setTimeout((()=>X.current.next(void 0)),500))}}),{overlayProps:ne,underlayProps:ie}=(0,w.e)({isOpen:te.isOpen,onClose:te.close,shouldCloseOnBlur:!0,isDismissable:!0,shouldCloseOnInteractOutside:(e,t)=>{const n=null==t?void 0:t.composedPath();let i=!1;return i=!n||!n.some((e=>e instanceof Node&&(null==V?void 0:V.contains(e)))),i&&(H.current=C.interactOutside),i}},{current:V}),{portalContainer:re}=i.useContext(y.j);i.useEffect((()=>{const e=p.timer(0).subscribe((()=>te.open()));return()=>e.unsubscribe()}),[]),i.useEffect((()=>{te.isOpen&&V&&(null==U||U(V))}),[te.isOpen,V]),i.useEffect((()=>{const e=X.current.subscribe((()=>{var e;return null==L?void 0:L(null!==(e=H.current)&&void 0!==e?e:C.umount)}));return()=>e.unsubscribe()}),[X]);const oe=i.useCallback((e=>{H.current=e,te.close()}),[te]);function se(){const{x:e,y:t,width:n,height:i}=b.getBoundingClientRect(),{x:r,y:o,width:s,height:a}=(null==V?void 0:V.getBoundingClientRect())||{x:0,y:0,width:0,height:0},l={position:"absolute"};if("leading"===P)switch(N){case"top":case"bottom":case"top-start":case"bottom-start":case"top-end":case"bottom-end":r<=e&&(l.left=Math.max(e-r+8,14));break;case"left":case"left-start":case"left-end":case"right":case"right-start":case"right-end":o<=t&&(l.top=Math.max(t-o+8,14))}else if("trailing"===P)switch(N){case"top":case"top-start":case"top-end":case"bottom":case"bottom-start":case"bottom-end":l.right=r+s>=e+n?Math.max(r+s-(e+n),8):8;break;case"left":case"left-start":case"left-end":case"right":case"right-start":case"right-end":l.bottom=o+a>=t+i?Math.max(o+a-(t+i),8):8}else{const[e,t]=Y;0!==e&&Number.isFinite(e)&&(l.left=e),0!==t&&Number.isFinite(t)&&(l.top=t)}return l}return b?i.createElement(E,{portalContainer:re.view(a.toUndefined)},i.createElement(c.A,{in:te.isOpen},((e,t)=>{var n,r;return i.createElement(i.Fragment,null,te.isOpen&&i.createElement("div",Object.assign({},ie,{className:A})),i.createElement("div",Object.assign({},$,q.popper,ne,{ref:e=>z(e),style:Object.assign(Object.assign({},Q.popper),ne.style),className:d.Ks.joinClasses([I,B,e]),onTransitionEnd:e=>{if(e.target===V&&(t(),!te.isOpen)){const e=ee.current;null!==e&&clearTimeout(e),X.current.next(void 0)}}}),i.createElement("div",{ref:Z},i.createElement("svg",{className:M,"data-placement":(null===(n=null==J?void 0:J.placement)||void 0===n?void 0:n.startsWith("bottom"))?"bottom":(null==J?void 0:J.placement.startsWith("top"))?"top":(null==J?void 0:J.placement.startsWith("right"))?"right":(null===(r=null==J?void 0:J.placement)||void 0===r?void 0:r.startsWith("left"))?"left":void 0,viewBox:"0 0 12 12",style:se()},i.createElement("path",{d:"M0 0 L6 6 L12 0"}))),i.createElement(S.Provider,{value:{closePopover:oe}},i.createElement(k.X,{style:x,onClick:()=>oe(C.closeButtonClick),name:"tooltipClose"}),_?i.createElement("div",{className:K},_):null,F?i.createElement("div",{className:T},F):null,R?i.createElement("div",{className:O},R):null)))}))):null},x={default:{position:"absolute",top:d.Ks.rem(m.v$),right:d.Ks.rem(m.v$)}},A=d.Ks.style({position:"fixed",inset:0}),I=d.Ks.style({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:d.Ks.rem(m.sp),background:b.A.PopoverBackgroundBaseSubdued,border:`1px solid ${f.Q.Border.Base.Default}`,color:f.Q.Text.Base.Inverse,borderRadius:d.Ks.rem(h.Dk),minWidth:d.Ks.rem(9.375),maxWidth:d.Ks.rem(15),fontSize:d.Ks.rem(.875),lineHeight:d.Ks.rem(1.375),padding:d.Ks.rem(m.Jj),$nest:{"&[data-popper-reference-hidden='true']":{visibility:"hidden"}}}),K=d.Ks.style({fontWeight:700,color:f.Q.Text.Base.Inverse}),T=d.Ks.style({color:f.Q.Border.Base.Subdued}),O=d.Ks.style({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:d.Ks.rem(m.v$),marginTop:d.Ks.rem(m.Jj-m.sp),width:"100%"}),M=d.Ks.style({position:"absolute",stroke:f.Q.Border.Base.Default,fill:b.A.PopoverBackgroundBaseSubdued,strokeWidth:"1px",width:d.Ks.rem(.75),height:d.Ks.rem(.75),$nest:{'&[data-placement="top"]':{top:"100%",transform:"translateX(-50%)"},'&[data-placement="bottom"]':{bottom:"100%",transform:"translateX(-50%) rotate(180deg)"},'&[data-placement="left"]':{left:"100%",transform:"translateY(-50%) rotate(-90deg)"},'&[data-placement="right"]':{right:"100%",transform:"translateY(-50%) rotate(90deg)"}}})},60672:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var i=n(50659);const r=function(){return i.useMemo((()=>({name:"forcePopperUpdateEffect",phase:"afterMain",enabled:!0,fn:()=>{},effect:({instance:e})=>{const t=setTimeout((()=>e.forceUpdate()),0);return()=>clearTimeout(t)}})),[])}},91367:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var i=n(50659),r=n(19772),o=n(10540),s=n(48209),a=n(90405),l=n(46669);function c(e){const{ref:t,onMount:n}=r.R.useElWatcher(),c=i.useMemo((()=>t.pipe(o.QE(s.$),a.oE,l.F(),e)),[t]);return r.R.useSubscriptionTo(c),{ref:t,onMount:n}}},53759:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var i,r=n(36840),o=n(86562);!function(e){let t;!function(e){e.mount="mount",e.unmount="unmount",e.actionsMenuMuteClick="actionsMenuMuteClick",e.actionsMenuReportIncorrectClick="actionsMenuReportIncorrectClick",e.actionsMenuReportOffensiveClick="actionsMenuReportOffensiveClick",e.addToDictionaryClick="addToDictionaryClick",e.headerCloseButtonClick="headerCloseButtonClick",e.headerGoBackButtonClick="headerGoBackButtonClick",e.headerVoiceButtonClick="headerVoiceButtonClick",e.setVoiceButtonClick="setVoiceButtonClick",e.voiceProfileCloseButtonClick="voiceProfileCloseButtonClick",e.voiceProfileUseVoiceButtonClick="voiceProfileUseVoiceButtonClick",e.toneToggleClick="toneToggleClick",e.styleToggleClick="styleToggleClick",e.roleTypeaheadSelectionChange="roleTypeaheadSelectionChange",e.dialectDropdownSelectionChange="dialectDropdownSelectionChange",e.promptFieldTextChange="promptFieldTextChange",e.promptFieldFocusChange="promptFieldFocusChange",e.promptFieldAndMenuFocusChange="promptFieldAndMenuFocusChange",e.actionBrickClick="actionBrickClick",e.actionBrickMount="actionBrickMount",e.actionBrickShow="actionBrickShow",e.actionsMount="actionsMount",e.promptSubmitButtonClick="promptSubmitButtonClick",e.generateStopButtonClick="generateStopButtonClick",e.promptFieldKeyPressEscape="promptFieldKeyPressEscape",e.promptFieldKeyPressEnter="promptFieldKeyPressEnter",e.promptFieldKeyPressArrowDown="promptFieldKeyPressArrowDown",e.promptFieldKeyPressArrowUp="promptFieldKeyPressArrowUp",e.promptMenuKeyPressArrowDown="promptMenuKeyPressArrowDown",e.promptMenuKeyPressArrowUp="promptMenuKeyPressArrowUp",e.promptSearchResultsUpdate="promptSearchResultsUpdate",e.resultCardInsertButtonClick="resultCardInsertButtonClick",e.resultCardCopyButtonClick="resultCardCopyButtonClick",e.resultCardCopyToClipboard="resultCardCopyToClipboard",e.resultCardRephraseButtonClick="resultCardRephraseButtonClick",e.resultCardDismissButtonClick="resultCardDismissButtonClick",e.resultCardToggleGenericVoiceButtonClick="resultCardToggleGenericVoiceButtonClick",e.errorCardDismissButtonClick="errorCardDismissButtonClick",e.openFeedbackFormButtonClick="openFeedbackFormButtonClick",e.feedbackFormChange="feedbackFormChange",e.feedbackFormSubmitButtonClick="feedbackFormSubmitButtonClick",e.reportOffensiveResultButtonClick="reportOffensiveResultButtonClick",e.reportOffensiveActionsButtonClick="reportOffensiveActionsButtonClick",e.resultCardHeaderClick="resultCardHeaderClick",e.collapsePromptMenuButtonClick="collapsePromptMenuButtonClick",e.creditsInfoHover="creditsInfoHover",e.creditsInfoClick="creditsInfoClick",e.resultCardHoverChange="resultCardHoverChange",e.resultCardFocusChange="resultCardFocusChange",e.reportMenuVisibilityChange="reportMenuVisibilityChange",e.referencesVisibilityChange="referencesVisibilityChange",e.voiceProfileTabChange="voiceProfileTabChange",e.voiceTagClick="voiceTagClick",e.voiceTagPopoverClose="voiceTagPopoverClose",e.voiceTagPopoverKeepButtonClick="voiceTagPopoverKeepButtonClick",e.voiceTagPopoverRemoveButtonClick="voiceTagPopoverRemoveButtonClick",e.voiceDialectDropdownSelectionChange="voiceDialectDropdownSelectionChange",e.voiceRoleDropdownSelectionChange="voiceRoleDropdownSelectionChange",e.voiceSelectionsSaveButtonClick="voiceSelectionsSaveButtonClick",e.voiceSelectionsCancelButtonClick="voiceSelectionsCancelButtonClick",e.voiceSelectionsEditButtonClick="voiceSelectionsEditButtonClick",e.surveyRatingSelectionChange="surveyRatingSelectionChange",e.surveyOpenAnswerChange="surveyOpenAnswerChange",e.surveySubmitButtonClick="surveySubmitButtonClick",e.surveyKeyPressShiftEnter="surveyKeyPressShiftEnter",e.surveyCancelButtonClick="surveyCancelButtonClick",e.surveyCloseButtonClick="surveyCloseButtonClick",e.regenerateWithoutReferenceButtonClick="regenerateWithoutReferenceButtonClick",e.restoreHistoryButtonClick="restoreHistoryButtonClick",e.userPromptSubmit="userPromptSubmit",e.radioOptionsSubmitButtonClick="radioOptionsSubmitButtonClick",e.radioOptionsCancelButtonClick="radioOptionsCancelButtonClick",e.removeSelectionContextClick="removeSelectionContextClick",e.selectionContextInteraction="selectionContextInteraction",e.settingsButtonClick="settingsButtonClick",e.toneReportLoadedEmptyMount="toneReportLoadedEmptyMount",e.toneReportLoadedNonEmptyMount="toneReportLoadedNonEmptyMount",e.toneReportBackToSuggestionsButtonClick="toneReportBackToSuggestionsButtonClick",e.toneReportToneLikeButtonClick="toneReportToneLikeButtonClick",e.toneReportToneDislikeButtonClick="toneReportToneDislikeButtonClick",e.toneReportFooterUphookPremiumButtonShow="toneReportFooterUphookPremiumButtonShow",e.toneReportFooterUphookPremiumButtonClick="toneReportFooterUphookPremiumButtonClick",e.signInButtonClick="signInButtonClick",e.suggestionAcceptClick="suggestionAcceptClick",e.suggestionDismissClick="suggestionDismissClick"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e},e.isResultAction=(0,r.Ub)(e.is(e.Kind.resultCardInsertButtonClick),e.is(e.Kind.resultCardCopyButtonClick),e.is(e.Kind.resultCardRephraseButtonClick),e.is(e.Kind.resultCardDismissButtonClick),e.is(e.Kind.reportOffensiveResultButtonClick),e.is(e.Kind.regenerateWithoutReferenceButtonClick)),e.isToneDetectorAction=(0,r.Ub)(e.is(e.Kind.toneReportLoadedEmptyMount),e.is(e.Kind.toneReportLoadedNonEmptyMount),e.is(e.Kind.toneReportBackToSuggestionsButtonClick),e.is(e.Kind.toneReportToneLikeButtonClick),e.is(e.Kind.toneReportToneDislikeButtonClick),e.is(e.Kind.toneReportFooterUphookPremiumButtonShow),e.is(e.Kind.toneReportFooterUphookPremiumButtonClick)),e.isSurveyAction=(0,r.Ub)(e.is(e.Kind.surveyOpenAnswerChange),e.is(e.Kind.surveySubmitButtonClick),e.is(e.Kind.surveyKeyPressShiftEnter),e.is(e.Kind.surveyCancelButtonClick),e.is(e.Kind.surveyCloseButtonClick),e.is(e.Kind.surveyRatingSelectionChange)),e.isSurveyImplicitDismissAction=(0,r.Ub)(e.is(e.Kind.promptSubmitButtonClick),e.is(e.Kind.actionBrickClick),e.is(e.Kind.resultCardInsertButtonClick),e.is(e.Kind.resultCardRephraseButtonClick),e.is(e.Kind.resultCardDismissButtonClick),e.is(e.Kind.resultCardHeaderClick)),e.isSduiAction=(0,r.Ub)(e.is(e.Kind.actionsMenuReportIncorrectClick),e.is(e.Kind.actionsMenuMuteClick),e.is(e.Kind.actionsMenuReportOffensiveClick),e.is(e.Kind.addToDictionaryClick),e.is(e.Kind.suggestionAcceptClick),e.is(e.Kind.suggestionDismissClick))}(i||(i={})),(0,o.AS)(void 0)},13448:(e,t,n)=>{"use strict";n.d(t,{Bw:()=>r,El:()=>u,Uv:()=>d});var i,r,o=n(96797),s=n(45116),a=n(87626),l=n(36840),c=n(91935);!function(e){e.Codec=o.tB(o.E$([o.tB(o.NW({action:o.tB(o.Yj)})),o.KC([o.OH({}),o.g1(o.Yj,o.L5)])])),e.is=function(t){return e.Codec.is(t)}}(i||(i={})),function(e){let t,n,i,r,d,u;!function(e){const t=o.tB(o.eu("error")),n=o.tB(o.NW({action:t}));e.is=function(e){return n.is(e)},e.isAction=function(e){return t.is(e)}}(t=e.Error||(e.Error={})),function(e){const t=o.tB(o.eu("finished")),n=o.tB(o.KC([o.tB(o.eu("all_checks_failed")),o.tB(o.eu("all_checks_succeeded")),o.tB(o.eu("nothing_to_check")),o.tB(o.eu("some_checks_failed")),o.tB(o.eu("some_checks_in_progress")),o.tB(o.eu("unknown"))])),i=o.tB(o.KC([o.tB(o.eu("TOO_SMALL")),o.tB(o.eu("SENSITIVE")),o.tB(o.eu("ERROR")),o.tB(o.eu("OK"))])),r=o.OH({Clarity:o.ai,Correctness:o.ai,Engagement:o.ai,"Style guide":o.ai,Tone:o.ai,GeneralScore:o.ai}),s=o.tB(o.E$([o.tB(o.NW({action:t,checksStatus:n,scoresStatus:i,generalScore:o.ai})),o.tB(o.OH({outcomeScores:r}))]));e.is=function(e){return s.is(e)},e.isAction=function(e){return t.is(e)}}(n=e.Finished||(e.Finished={})),function(e){const t=o.tB(o.eu("async_check_finished")),n=o.tB(o.NW({action:t}));e.is=function(e){return n.is(e)},e.isAction=function(e){return t.is(e)}}(i=e.AsyncCheckFinished||(e.AsyncCheckFinished={})),function(e){const t=o.tB(o.eu("emotions")),n=o.tB(o.NW({action:o.tB(o.eu("emotions"))}));e.is=function(e){return n.is(e)},e.isAction=function(e){return t.is(e)}}(r=e.TonesResult||(e.TonesResult={})),function(e){const t=o.tB(o.eu("show_survey")),n=o.tB(o.NW({action:t}));e.is=function(e){return n.is(e)},e.isAction=function(e){return t.is(e)}}(d=e.ShowSurvey||(e.ShowSurvey={})),function(e){let t,n;!function(e){const t=o.tB(o.eu("cheetah"));e.Codec=o.tB(o.NW({action:t,id:o.tB(o.ai)})),e.is=function(t){return e.Codec.is(t)},e.isAction=function(e){return t.is(e)}}(t=e.CheetahAck||(e.CheetahAck={})),function(e){e.is=a.n(c.Js.extend(s.Schemable)({any:s.id(),sensitiveString:s.string,sensitiveDelta:s.id()}))(c.Js.ServerMessageImplementations).is}(n=e.CheetahProtocolServerMessage||(e.CheetahProtocolServerMessage={})),e.is=(0,l.Ub)(t.is,n.is)}(u=e.CheetahInboundCAPIMessage||(e.CheetahInboundCAPIMessage={})),e.is=(0,l.Ub)(t.is,d.is,u.is,r.is,n.is,i.is)}(r||(r={}));const d=(0,l.Ub)(r.Finished.is,r.AsyncCheckFinished.is,r.TonesResult.is),u=((0,l.Ub)(r.Finished.isAction,r.AsyncCheckFinished.isAction,r.TonesResult.isAction),r.CheetahInboundCAPIMessage.is)},7808:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var i,r=n(44297),o=n(30040),s=n(36840);!function(e){let t,n;function i(e){return e.kind===t.activeLimited||e.kind===t.activeUnlimited}function a(e){return e.kind===t.passive}function l(e){return e.kind===t.unknown}function c(e){return i(e)||l(e)}function d(n){if(void 0===n)return{kind:t.unknown,userSettings:{inlineQuickReplyEnabled:!1,inlineRewriteEnabled:!1}};const i=e.Active.parseRefillDate(n.usage.refillDate);return n.usage.promptsRemaining<0?{kind:t.unknown,userSettings:n.settings}:1e4===n.usage.promptsAllocated&&n.usage.promptsRemaining>0?{kind:t.activeUnlimited,promptsRemaining:n.usage.promptsRemaining,promptsAllocated:n.usage.promptsAllocated,refillDate:i,userSettings:n.settings}:n.usage.promptsRemaining>0?{kind:t.activeLimited,promptsRemaining:n.usage.promptsRemaining,promptsAllocated:n.usage.promptsAllocated,refillDate:i,userSettings:n.settings}:{kind:t.passive,promptsRemaining:n.usage.promptsRemaining,promptsAllocated:n.usage.promptsAllocated,refillDate:i,userSettings:n.settings}}!function(e){e.activeLimited="activeLimited",e.activeUnlimited="activeUnlimited",e.passive="passive",e.unavailable="unavailable",e.disabled="disabled",e.pending="pending",e.unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){const t=(0,s.Bj)((e=>{const t=Date.parse(e);return isNaN(t)?0:t}));function n(e){const t=e-Date.now();return Math.floor(t/36e5)}e.parseRefillDate=function(e){return t(e)},e.hoursUntilRefillDate=n,e.daysUntilRefillDate=function(e){return Math.floor(n(e)/24)}}(n=e.Active||(e.Active={})),e.isActive=i,e.isActiveUnlimited=function(e){return e.kind===t.activeUnlimited},e.isPassive=a,e.isActiveOrPassive=(0,s.Ub)(i,a),e.isUnknown=l,e.isUsable=c,e.isVisible=function(e){return c(e)||a(e)},e.isDisabled=function(e){return e.kind===t.disabled},e.isUnavailable=function(e){return e.kind===t.pending||e.kind===t.unavailable||e.kind===t.disabled},e.fromUserState=d,e.updateUsage=function(t,n){return d({usage:n,settings:t.kind===e.Kind.disabled||t.kind===e.Kind.unavailable?{inlineQuickReplyEnabled:!1,inlineRewriteEnabled:!1}:t.userSettings})},e.getPromptsAllocated=function(t){return(0,o.pipe)(t,r.fromPredicate(e.isActiveOrPassive),r.map((e=>e.promptsAllocated)))}}(i||(i={}))},55250:(e,t,n)=>{"use strict";var i;n.d(t,{F:()=>i}),function(e){e.assistantOpenAttempt="assistant_open_attempt",e.preStartServicesReady="assistant_pre_start_services_ready"}(i||(i={}))},87404:(e,t,n)=>{"use strict";function i(e){return{kind:"error",source:"core",name:"lifecycleStartingFailed",data:e}}function r(e){return{kind:"error",source:"core",name:"lifecycleVisuallyReadyFailed",data:e}}function o(e){return{kind:"error",source:"core",name:"lifecycleInteractionReadyFailed",data:e}}function s(e){return{kind:"error",source:"core",name:"lifecycleReadyToDragFailed",data:e}}function a(e){return{kind:"error",source:"core",name:"lifecycleFocusStateChangedFailed",data:e}}function l(e){return{kind:"error",source:"core",name:"lifecycleCloseFailed",data:e}}function c(e){return{kind:"error",source:"core",name:"unsanitizeTextOnInboundCAPIMessageFailed",data:e}}function d(e){return{kind:"error",source:"core",name:"sanitizeTextOnOutboundCAPIMessageFailed",data:e}}function u(){return{kind:"error",source:"core",name:"getContextFailed",data:null}}function p(){return{kind:"error",source:"core",name:"getHistoryFailed",data:null}}function m(e){return{kind:"error",source:"core",name:"actionFailed",data:e}}function f(e){return{kind:"error",source:"core",name:"waitForContextTimeout",data:e}}function h(){return{kind:"error",source:"core",name:"waitForHistoryTimeout",data:null}}function g(){return{kind:"error",source:"core",name:"waitForResultTimeout",data:null}}function v(e){return{kind:"error",source:"core",name:"waitForAckTimeout",data:e}}function b(e){return{kind:"error",source:"core",name:"setVoiceProfileFailed",data:e}}function y(e){return{kind:"error",source:"core",name:"setNewVoiceProfileFailed",data:e}}function k(e){return{kind:"error",source:"core",name:"capiErrorUnhandled",data:e}}function w(e){return{kind:"error",source:"core",name:"insertResultFailed",data:e}}function E(e){return{kind:"error",source:"core",name:"copyResultFailed",data:e}}function S(e){return{kind:"error",source:"core",name:"regenerateResultFailed",data:e}}function C(e){return{kind:"error",source:"core",name:"stopInProgressResultFailed",data:e}}function _(e){return{kind:"error",source:"core",name:"getTextFailed",data:e}}function x(e){return{kind:"error",source:"core",name:"reportUphookShowFailed",data:e}}function A(e){return{kind:"error",source:"core",name:"reportUphookClickFailed",data:e}}function I(e){return{kind:"error",source:"core",name:"reportUphookDismissedFailed",data:e}}function K(e){return{kind:"error",source:"core",name:"executeUphookFailed",data:e}}n.d(t,{Dq:()=>a,Fb:()=>u,Fh:()=>K,Gt:()=>A,Hw:()=>I,Ie:()=>r,J8:()=>g,JE:()=>C,Jm:()=>o,PH:()=>y,T$:()=>_,_0:()=>E,b3:()=>f,bf:()=>b,cX:()=>s,ch:()=>h,cv:()=>p,dF:()=>S,gR:()=>w,hV:()=>k,mD:()=>i,pF:()=>d,pJ:()=>v,qr:()=>m,sB:()=>l,tZ:()=>c,tg:()=>x})},81154:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var i,r=n(47370),o=n(44297),s=n(57797),a=n(93629),l=n(30040),c=n(28986),d=n(36840),u=n(58889),p=n(761),m=n(3391);!function(e){let t,n,i,f,h,g,v;function b(e){return"complete"===e.kind}function y(e){return"history"===e.kind}function k(e){return"inProgressOngoing"===e.kind}function w(e){return"inProgressPending"===e.kind}!function(e){e.create=function(e){return`${e}`},e.toPrimitive=function(e){return parseInt(e,10)},e.eq=r.kK}(t=e.Id||(e.Id={})),function(e){e.insert="insert",e.reportOffensive="reportOffensive"}(n=e.Feedback||(e.Feedback={})),function(e){e.insert="insert",e.copy="copy",e.rephrase="rephrase"}(i=e.SupportedAction||(e.SupportedAction={})),e.hasId=function(e){return"id"in e},e.isComplete=b,e.isHistory=y,e.isAIUsageNotification=function(e){return"aiUsageNotification"===e.kind},e.isStandardCompletedResult=(0,d.Ub)(b,y),e.isInProgressOngoing=k,e.isInProgressPending=w,e.isInProgressInterrupted=function(e){return"inProgressInterrupted"===e.kind},e.isInProgress=(0,d.Ub)(k,w),function(e){e.generic="generic",e.user="user"}(f=e.GeneratedTextVoice||(e.GeneratedTextVoice={})),function(t){t.createFromResultMessage=function(t){var n,i;const r=(0,l.pipe)((0,p.y1)(null===(n=t.text)||void 0===n?void 0:n.delta),o.getOrElse((()=>new c.R)));return(0,l.pipe)((0,p.y1)(null===(i=t.withVoiceText)||void 0===i?void 0:i.delta),u.fromOption((()=>r)),u.map((n=>({generic:r,user:n,preferVoice:!0===(null==t?void 0:t.showVoiceTextByDefault)?e.GeneratedTextVoice.user:e.GeneratedTextVoice.generic}))))}}(h=e.ResultDelta||(e.ResultDelta={})),function(t){t.createFromCard=function(t,n){return{kind:"history",id:e.Id.create(t.id),header:"action"===t.title.kind?{label:t.title.label,iconUrl:""!==t.title.iconUrl.trim()?o.some(t.title.iconUrl):o.none,copiablePrompt:o.none}:{label:t.title.text,iconUrl:o.none,copiablePrompt:""!==t.title.text.trim()?o.some(t.title.text):o.none},replacementDelta:h.createFromResultMessage({text:t.text,withVoiceText:t.text.plain===t.withVoiceText.plain?void 0:t.withVoiceText,showVoiceTextByDefault:t.text.plain===t.withVoiceText.plain?void 0:t.showVoiceTextByDefault}),supportedActions:new Set([e.SupportedAction.insert].concat(n?[e.SupportedAction.copy]:[])),references:(0,l.pipe)(t.references,s.Tj(m.O.create),a._S)}}}(g=e.History||(e.History={})),function(e){e.fromInProgressResult=function(e,t){return Object.assign(Object.assign({},e),{kind:"aiUsageNotification",text:t})}}(v=e.AIUsageNotification||(e.AIUsageNotification={}))}(i||(i={}))},15917:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var i,r=n(36840);!function(e){function t(e){return"rewrite"===e}function n(e){return"quickRewrite"===e}e.isIdeation=function(e){return"ideation"===e},e.isRewrite=t,e.isQuickReply=function(e){return"quickReply"===e},e.isQuickRewrite=n,e.isPushRewrite=function(e){return"pushRewrite"===e},e.isRewriteOrQuickRewrite=(0,r.Ub)(t,n)}(i||(i={}))},7406:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});const i={useIframeTextfieldWrapper:!1}},37730:(e,t,n)=>{"use strict";var i,r;n.d(t,{Z:()=>r,e:()=>i}),function(e){e.intentCard="intentCard",e.initialActionsList="initialActionsList",e.followUpActionsList="followUpActionsList",e.actionsMoreButton="actionsMoreButton",e.appActionsList="appActionsList",e.creditsInfoButton="creditsInfoButton",e.promptInput="promptInput",e.promptInputAndMenuContainer="promptInputAndMenuContainer",e.promptMenuContent="promptMenuContent",e.skill="skill",e.referencesList="referencesList",e.historyButton="historyButton",e.historyButtonActive="historyButtonActive"}(i||(i={})),function(e){e.initialPopupAnchor="initialPopupAnchor",e.initialBTSPopupAnchor="initialBTSPopupAnchor",e.rewriteTooltipAnchor="rewriteTooltipAnchor"}(r||(r={}))},12944:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var i,r=n(30040),o=n(86562),s=n(44297),a=n(10047);!function(e){let t,n,i,l,c,d,u,p,m;!function(e){let t;!function(e){e.rephrase="rephrase",e.dismiss="dismiss",e.insert="insert",e.offensive="offensive",e.copy="copy",e.generationCompleted="generationCompleted"}(t=e.UserAction||(e.UserAction={}))}(t=e.Result||(e.Result={})),function(e){let t;!function(e){e.open="open",e.skip="skip",e.openFromBanner="openFromBanner",e.keepVoiceTag="keepTag",e.removeVoiceTag="removeTag",e.toggleToMyVoice="toggleToMyVoice",e.toggleToNeutral="toggleToNeutral"}(t=e.UserAction||(e.UserAction={}))}(n=e.VoiceProfile||(e.VoiceProfile={})),function(e){let t;!function(e){e.openStore="openStore",e.offensive="offensive"}(t=e.UserAction||(e.UserAction={}))}(i=e.Actions||(e.Actions={})),function(e){let t;!function(e){e.search="search"}(t=e.UserAction||(e.UserAction={}))}(l=e.Prompt||(e.Prompt={})),function(e){let t;!function(e){e.hover="hover",e.click="click"}(t=e.UserAction||(e.UserAction={}))}(c=e.UsageInfo||(e.UsageInfo={})),function(e){let t;!function(e){e.view="view"}(t=e.UserAction||(e.UserAction={}))}(d=e.HistoryButton||(e.HistoryButton={})),function(e){let t;!function(e){e.view="view",e.skip="skip",e.next="next"}(t=e.UserAction||(e.UserAction={}))}(u=e.Onboarding||(e.Onboarding={})),function(e){let t;!function(e){e.close="close",e.readyToInteract="readyToInteract"}(t=e.UserAction||(e.UserAction={}))}(p=e.Assistant||(e.Assistant={})),function(e){let t,n;!function(e){e.view="view"}(t=e.UserAction||(e.UserAction={})),function(e){e.dontShowOnDocument="dontShowOnDocument",e.dontShowForever="dontShowForever"}(n=e.AIUsageUserAction||(e.AIUsageUserAction={}))}(m=e.Notification||(e.Notification={})),e.getComponentId=function(e,t,n,l={}){const c=(0,r.pipe)(e.kind,(t=>{switch(t){case"result":return"card";case"voiceProfile":return"voice";case"actions":return e.userAction===i.UserAction.openStore?"group":"card";case"assistant":return"widget";case"onboardingPromptsTooltip":return"onboardingPromptTooltip";case"onboardingReviewTooltip":return"onboardingReviewtextTooltip";case"usageInfo":case"historyButton":case"prompt":case"onboardingPopup":case"BTSonboardingPopup":case"onboardingRewriteTooltip":case"onboardingKnowledgeHubTooltip":case"onboardingReferencesTooltip":case"onboardingHistoryTooltip":case"aiUsageNotification":case"contextNotification":case"actionNotification":return t;default:return(0,o.AS)(t)}}));return(0,r.pipe)(s.fromNullable(n),s.map((e=>`cheetah:history-card:${e}`)),s.getOrElse((()=>`cheetah:${c}${t?`:${t}`:""}`)),(d=l,e=>(0,r.pipe)(Object.entries(d),a.TS(e,((e,[t,n])=>{const i=e.includes("?")?"&":"?";return e+`${i}${t}=${n}`})))));var d},e.getUserAction=function(e){return(0,r.pipe)(e.kind,(t=>{switch(t){case"actions":return e.userAction===i.UserAction.openStore?"All Ideas":e.userAction;case"assistant":return e.userAction===p.UserAction.close?"dismiss":e.userAction;case"result":case"voiceProfile":case"prompt":case"usageInfo":case"historyButton":case"onboardingPopup":case"BTSonboardingPopup":case"onboardingPromptsTooltip":case"onboardingReviewTooltip":case"onboardingRewriteTooltip":case"onboardingKnowledgeHubTooltip":case"onboardingReferencesTooltip":case"onboardingHistoryTooltip":case"aiUsageNotification":case"contextNotification":case"actionNotification":return e.userAction;default:return(0,o.AS)(t)}}))}}(i||(i={}))},91935:(e,t,n)=>{"use strict";n.d(t,{Js:()=>o,WV:()=>s});var i=n(18243),r=n(56158);const o=i,s=r.r},15466:(e,t,n)=>{"use strict";n.d(t,{V:()=>L});var i=n(83293),r=n(29052),o=n(30040),s=n(18243),a=n(42543),l=n(78339),c=n(31691),d=n(41797),u=n(19147),p=n(23988),m=n(10334),f=n(17171),h=n(58889),g=n(59697),v=n(88105),b=n(91817),y=n(34937),k=n(95717),w=n(22835);function E(e){return{encode:function(t){var n=Object.entries(e).filter((function(e){return(0,b._)(e,1)[0]in t})).map((function(e){var n=(0,b._)(e,2),i=n[0],s=n[1];return(0,o.pipe)(void 0===t[i]?r.pG(void 0):s.encode(t[i]),r.Tj((function(e){return[i,e]})))}));return(0,o.pipe)(r.Pz(n),r.Tj((function(e){return w.PW(e)})))}}}var S=E,C=S;function _(){return{encode:function(e){return r.pG(e)}}}var x=function(e){return null===e?"null":void 0===e?"undefined":(0,y._)(e)},A={URI:"io-ts/EncoderAsync",literal:function(){return _()},string:_(),number:_(),boolean:_(),nullable:function(e){return{encode:function(t){return null===t?r.pG(null):e.encode(t)}}},type:C,struct:S,partial:E,record:function(e){return{encode:function(t){var n=Object.entries(t).map((function(t){var n=(0,b._)(t,2),i=n[0],s=n[1];return(0,o.pipe)(e.encode(s),r.Tj((function(e){return[i,e]})))}));return(0,o.pipe)(r.Pz(n),r.Tj((function(e){return w.PW(e)})))}}},array:function(e){return{encode:function(t){return r.Pz(t.map((function(t){return e.encode(t)})))}}},tuple:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{encode:function(e){return r.Pz(t.map((function(t,n){return t.encode(e[n])})))}}},intersect:function(e){return function(t){return{encode:function(n){return(0,o.pipe)(t.encode(n),r.cy((function(t){return(0,o.pipe)(e.encode(n),r.Tj((function(e){return function(e,t){if(void 0!==e&&void 0!==t){var n=x(e),i=x(t);if("object"===n||"object"===i)return Object.assign({},e,t)}return t}(t,e)})))})))}}}},sum:k.cz,lazy:function(e,t){return k.RZ(t)},readonly:k.tB},I=n(47318),K=n(39695),T=n(6922),O=n(29573),M=n(32557),F=function(e){(0,O._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,u._)(this,n),r=t.call(this,"DLP Sanitizer: Schema mismatch error. ".concat(e)),(0,p._)((0,K._)(r),"decodeError",void 0),r.decodeError=i,r}return(0,T._)(n,[{key:"toString",value:function(){return"Decode error:\n      Message: ".concat(this.message,"\n      Details: ").concat(this.decodeError)}}]),n}(n(86562).eo),R=function e(t){var n=this;(0,u._)(this,e),(0,p._)(this,"_sanitizationFunctions",void 0),(0,p._)(this,"sanitizeMessage",void 0),(0,p._)(this,"unsanitizeMessage",void 0),(0,p._)(this,"_replaceInDelta",void 0),(0,p._)(this,"_sanitizeDelta",void 0),(0,p._)(this,"_unsanitizeDelta",void 0),(0,p._)(this,"_sensitiveDecoder",void 0),(0,p._)(this,"_sanitizingEncoder",void 0),(0,p._)(this,"_unsanitizingEncoder",void 0),(0,p._)(this,"_getMessageHandler",void 0),this._sanitizationFunctions=t,this.sanitizeMessage=function(e,t){var i=n._getMessageHandler(t);return(0,o.pipe)(i.decode(e),h.fold((function(e){return r.kb(new F("Sanitization failed",g.$2(e)))}),(function(e){return i.sanitizer.encode(e)})))},this.unsanitizeMessage=function(e,t){var i=n._getMessageHandler(t);return(0,o.pipe)(i.decode(e),h.fold((function(e){return r.kb(new F("Unsanitization failed",g.$2(e)))}),(function(e){return i.unsanitizer.encode(e)})))},this._replaceInDelta=function(e,t){return(0,o.pipe)(r.Pz(e.ops.map((function(e){return v.E.isInsertString(e)?(0,o.pipe)(t(e.insert),r.Tj((function(t){return(0,f._)((0,m._)({},e),{insert:t})}))):r.pG(e)}))),r.Tj((function(e){return{ops:e}})))},this._sanitizeDelta=function(e){return n._replaceInDelta(e,n._sanitizationFunctions.sanitizeText)},this._unsanitizeDelta=function(e){return n._replaceInDelta(e,n._sanitizationFunctions.unsanitizeText)},this._sensitiveDecoder=I.b.extend(N)({any:g.id(),sensitiveString:g.Yj,sensitiveDelta:g.id()}),this._sanitizingEncoder=I.b.extend(A)({any:_(),sensitiveString:{encode:this._sanitizationFunctions.sanitizeText},sensitiveDelta:{encode:this._sanitizeDelta}}),this._unsanitizingEncoder=I.b.extend(A)({any:_(),sensitiveString:{encode:this._sanitizationFunctions.unsanitizeText},sensitiveDelta:{encode:this._unsanitizeDelta}}),this._getMessageHandler=function(e){return(0,f._)((0,m._)({},I.b.interpreter(n._sensitiveDecoder)(e)),{sanitizer:I.b.interpreter(n._sanitizingEncoder)(e),unsanitizer:I.b.interpreter(n._unsanitizingEncoder)(e)})}},B=function e(){(0,u._)(this,e),(0,p._)(this,"sanitizeMessage",(function(e,t){return r.pG(e)})),(0,p._)(this,"unsanitizeMessage",(function(e,t){return r.pG(e)}))},N=(0,f._)((0,m._)({},g.Pw),{struct:g.Pw.partial,type:g.Pw.partial}),P=n(13448),D=n(87404),j=n(79193);class L{constructor(e){this._params=e,this._logEvents=new a.B7,this.relevantInboundCAPIMessages=this._getRelevantInboundCAPIMessagesObs(),this.logEvents=this._logEvents.asObservable();const t=e.dlpOptions;this._dlpSanitizer=t?new R({sanitizeText:e=>r.TX((()=>t.sanitizeText(e)),j.$),unsanitizeText:e=>r.TX((()=>t.unsanitizeText(e)),j.$)}):new B}cheetahGetContext(e){return(0,o.pipe)(this._sanitizeOutboundCheetahMessage("cheetah:getContext",e,s.MessageGetContext),r.cy((e=>this._params.sendCAPIMessage({action:"cheetah:getContext",shouldInjectRev:!0,data:e,shouldInjectSessionId:!1}))))}cheetahAction(e){return(0,o.pipe)(this._sanitizeOutboundCheetahMessage("cheetah:action",e,s.MessageAction),r.cy((e=>this._params.sendCAPIMessage({action:"cheetah:action",shouldInjectRev:!0,data:e,shouldInjectSessionId:!1}))))}cheetahGetHistory(){return this._params.sendCAPIMessage({action:"cheetah:getHistory",shouldInjectRev:!1,data:{},shouldInjectSessionId:!1})}cheetahGetUserState(){return this._params.sendCAPIMessage({action:"cheetah:getUserState",data:{},shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahInterrupt(e){return this._params.sendCAPIMessage({action:"cheetah:interrupt",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahSearchReferences(e){return this._params.sendCAPIMessage({action:"cheetah:searchReferences",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahSetVoice(e){return this._params.sendCAPIMessage({action:"cheetah:setVoice",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahSetVoiceProfile(e){return this._params.sendCAPIMessage({action:"cheetah:setVoiceProfile",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}user_action(e){return this._params.sendCAPIMessage({action:"user_action",data:e,shouldInjectRev:!1,shouldInjectSessionId:!0})}set_context(e){return this._params.sendCAPIMessage({action:"set_context",data:e,shouldInjectRev:!0,shouldInjectSessionId:!1})}submit_survey_result(e){return this._params.sendCAPIMessage({action:"submit_survey_result",data:e,shouldInjectRev:!0,shouldInjectSessionId:!1})}feedback(e){return this._params.sendCAPIMessage({action:"feedback",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}toggle_checks(e){return this._params.sendCAPIMessage({action:"toggle_checks",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}_getRelevantInboundCAPIMessagesObs(){return this._params.inboundCAPIMessages.pipe(l.p(P.Bw.is),c.H((e=>d.H((0,o.pipe)(e,(e=>{switch(e.action){case"cheetah:setContext":return this._dlpSanitizer.unsanitizeMessage(e,s.MessageSetContext);case"cheetah:chunk":return this._dlpSanitizer.unsanitizeMessage(e,s.MessageChunk);case"cheetah:result":return this._dlpSanitizer.unsanitizeMessage(e,s.MessageResult);default:return r.pG(e)}}),r.AU((t=>(this._logEvents.next((0,D.tZ)({capiMessageAction:e.action,reason:(0,j.$)(t).message})),i.of(e))),i.of),(e=>e()))))))}_sanitizeOutboundCheetahMessage(e,t,n){return(0,o.pipe)(this._dlpSanitizer.sanitizeMessage(t,n),r.qE((t=>(this._logEvents.next((0,D.pF)({capiMessageAction:e,reason:(0,j.$)(t).message})),t))))}}},6742:(e,t,n)=>{"use strict";n.d(t,{V:()=>r,r:()=>o});var i=n(60251);const r={CheetahFetchSkills:new i.iD("cheetah_fetch_skills")},o={SmartPlagiarismUphook:new i.aj("smart_plagiarism_uphook",["control","test"]),GrammarlyProM3V2:new i.aj("grammarly_pro_m3_v2",["control","test"]),PremiumFreeTrialEUUK:new i.aj("premium_free_trial_eu_uk",["control","test"])}},68975:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var i=n(9619),r=n(36094),o=n(80074);class s{constructor(e){this._hostAvailability=e,this._sub=new i.y,this._availability=o.s.create(null),this.availability=this._availability.view(),this._sub=e.subscribe(r.H9(this._availability))}augment(e){this._sub.unsubscribe(),this._sub=e(this._hostAvailability).subscribe(r.H9(this._availability))}dispose(){this._sub.unsubscribe()}}},51500:(e,t,n)=>{"use strict";n.d(t,{GL:()=>s,QD:()=>r,T2:()=>a,xP:()=>o});var i=n(11864);function r(e,t){return Object.assign(Object.assign({},function(e){return{width:i.Ks.rem(e),minWidth:i.Ks.rem(e)}}(e)),function(e){return{height:i.Ks.rem(e),minHeight:i.Ks.rem(e)}}(null!=t?t:e))}function o(e,t){return`.${e}`.repeat(t)}const s=7;function a(e,t){return function(e,t,n){return{$nest:{[`&${o(t,n)}`]:e}}}(e,t,s)}},761:(e,t,n)=>{"use strict";n.d(t,{xn:()=>d,y1:()=>c});var i=n(44297),r=n(30040),o=n(96797),s=n(28986),a=n(88105);const l=o.tB(o.NW({ops:o.QZ(o.KC([o.NW({insert:o.tB(o.Yj)}),o.NW({retain:o.tB(o.ai)}),o.NW({delete:o.tB(o.ai)})]))}));function c(e){return(0,r.pipe)(e,i.fromPredicate(l.is),i.map((e=>new s.R([...e.ops]))))}function d(e,t){return e.reduce(((e,t)=>(a.E.isInsertString(t)?(e.text=`${e.text.substring(0,e.index)}${t.insert}${e.text.substring(e.index)}`,e.index+=t.insert.length):a.E.isDelete(t)?e.text=`${e.text.substring(0,e.index)}${e.text.substring(e.index+t.delete)}`:a.E.isRetain(t)?e.index+=t.retain:function(e){var t;return a.E.isInsertEmbed(e)&&!0===(null===(t=e.insert)||void 0===t?void 0:t.linebreak)}(t)&&(e.text=`${e.text.substring(0,e.index)}\n${e.text.substring(e.index)}`,e.index+=1),e)),{text:t,index:0}).text}},29585:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(24497),r=n(80152);const o=Object.assign(Object.assign({},i),{BrandGreen60:i.Green60,BorderBaseSubduedColor:r.Q.Border.Base.Subdued,TextBaseSubduedColor:r.Q.Text.Base.Subdued,TextBaseDefault:r.Q.Text.Base.Default,BorderBaseInverse:r.Q.Border.Base.Inverse,BackgroundNeutralDefault:r.Q.Background.Neutral.Default,BackgroundAdditionSubdued:r.Q.Background.Addition.Subdued,BackgroundBaseSubdued:r.Q.Background.Base.Subdued,BackgroundBrandDefault:i.Green60,BackgroundBrandHover:i.Green80,BackgroundBrandActive:i.Green90,ButtonBackgroundSecondaryHover:i.Green0,ButtonBackgroundSecondaryActive:i.Green10,ColorBrandDefault:i.Green60,BorderBrandDefault:i.Green60,ButtonTextSecondaryDefault:i.Green60,ButtonTextSecondaryHover:i.Green90,ButtonTextSecondaryActive:i.Green90,ButtonBackgroundTertiaryHover:i.NeutralGray10,ButtonBackgroundTertiaryActive:i.NeutralGray20,ButtonTextTertiaryDefault:i.NeutralGray60,ButtonTextTertiaryHover:i.NeutralGray80,ButtonTextTertiaryActive:i.NeutralGray80,ButtonBorderTertiaryHover:i.NeutralGray40,ButtonBorderTertiaryActive:i.NeutralGray40,ButtonTextTertiaryDefaultInverse:i.NeutralGray10,ButtonTextTertiaryHoverInverse:i.NeutralGray10,ButtonBackgroundTertiaryHoverInverse:i.NeutralGray90,ButtonBorderTertiaryHoverInverse:i.NeutralGray10,ButtonTextTertiaryActiveInverse:i.NeutralGray10,ButtonBackgroundTertiaryActiveInverse:i.NeutralGray80,ButtonBorderTertiaryActiveInverse:i.NeutralGray10,PopoverBackgroundBaseSubdued:i.NeutralGray90,IndicatorDotDefault:i.Blue10,IndicatorDotActive:i.Blue40,OnBrandBadge:i.Blue0,OnBrandBadgeLabel:i.Blue40,OnBrandBadgeIcon:i.Blue60,OffBrandBadge:i.Red0,OffBrandBadgeLabel:i.Red60,OffBrandBadgeIcon:i.Red60,FooterBorder:r.Q.Border.Base.Subdued,MenuBackgroundSelected:i.NeutralGray0,MenuIconSelected:i.NeutralGray60,MenuBorderDefault:i.NeutralGray40,MenuBackgroundHover:i.NeutralGray10,MenuIconHover:i.NeutralGray80,YellowGreen:"#D5FF00",LightGreen:"#00E0AC"})},79193:(e,t,n)=>{"use strict";function i(e){return function(e){const t=e;return null!=t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}(e)?e:{message:String(e),name:"",stack:void 0}}n.d(t,{$:()=>i})},70378:(e,t,n)=>{"use strict";function i(e){return t=>{(null==t?void 0:t.isTrusted)&&(null==e||e(t))}}n.d(t,{e:()=>i})},50733:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var i=n(83779),r=n(41797),o=n(21216),s=n(68363);function a(e){return(0,i.A)(e)||function(e){return c(e)&&(Symbol.observable in e&&l(e[Symbol.observable])||s.s in e&&l(e[s.s]))}(e)||c(t=e)&&"then"in t&&l(null==t?void 0:t.then)?(0,r.H)(e):function(e){return c(e)&&"subscribe"in e&&l(null==e?void 0:e.subscribe)}(e)?(0,r.H)({[Symbol.observable||s.s]:()=>e}):(0,o.of)(e);var t}function l(e){return"function"==typeof e}function c(e){return null!==e&&"object"==typeof e}},60046:(e,t,n)=>{"use strict";n.d(t,{s:()=>l,z:()=>c});var i=n(58889),r=n(29052),o=n(30040),s=n(79193),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function l(e,t,n,r,o){return a(this,void 0,void 0,(function*(){try{const s=yield t();i.isLeft(s)?(null==n||n.error("Error executing async task.",{taskName:e,reason:s.left.message}),null==o||o(s.left)):(null==n||n.debug("Successfully executed async task.",{taskName:e,result:s.right}),null==r||r(s.right))}catch(t){null==o||o(t instanceof Error?t:new Error(String(t)));const i=(0,s.$)(t);null==n||n.error("Error executing async task, promise rejected.",{taskName:e,reason:i.message})}}))}const c={URI:r.rz,map:r.WW.map,ap:(e,t)=>(0,o.pipe)(e,r.ap(t))}},56962:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var i=n(50659),r=n(44297),o=n(80074);const s=i.createContext({portalContainer:o.s.create(r.none)})},23402:(e,t,n)=>{"use strict";n.d(t,{v:()=>rx});var i,r=n(50659),o=n(80300);!function(e){e.assistantComponentStart="assistant_component_start",e.assistantViewModelsCreated="assistant_view_models_created",e.assistantComponentEnd="assistant_component_end",e.assistantContainerMounted="assistant_container_mounted",e.assistantGetStart="assistant_get_start",e.assistantGetEnd="assistant_get_end"}(i||(i={}));var s=n(44297),a=n(30040),l=n(42543),c=n(9619),d=n(6987),u=n(21216),p=n(36094),m=n(78339),f=n(24946),h=n(86562),g=n(80074),v=n(7808),b=n(7406),y=n(15466);class k{constructor(e){var t;this._deepLinkService=e,this._subs=new c.y,this._handlers=new Map,this._subs.add(null===(t=this._deepLinkService)||void 0===t?void 0:t.deepLinkRequests.subscribe((e=>{var t;return null===(t=this._handlers.get(e))||void 0===t?void 0:t.handler.handleDeepLinkRequest()})))}registerDeepLinkHandler(e,t){var n;const i=t.deepLinkStatusChanges.subscribe((t=>{var n;return null===(n=this._deepLinkService)||void 0===n?void 0:n.notifyStatusChanged(e,t)})),r=()=>{i.unsubscribe(),this._handlers.delete(e)};return null===(n=this._handlers.get(e))||void 0===n||n.dispose(),this._handlers.set(e,{handler:t,dispose:r}),r}dispose(){this._subs.unsubscribe(),this._handlers.clear()}}var w=n(89606),E=n(58889),S=n(57797),C=n(93629),_=n(95292),x=n(29052),A=n(46669),I=n(19711),K=n(66799),T=n(80837),O=n(15491),M=n(71372),F=n(83541),R=n(68594),B=n(90405),N=n(40027),P=n(95168),D=n(54988),j=n(58193),L=n(47370),U=n(36840),$=n(38581),H=n(58413);function V(e,t=3){if(e&&t>0){const n=function(e){const t=(null===(r=null===(i=(n=e).ownerDocument)||void 0===i?void 0:i.defaultView)||void 0===r?void 0:r.getComputedStyle(n))||null;var n,i,r;return t?"auto"===t.overflow||"scroll"===t.overflow||"auto"===t.overflowY||"scroll"===t.overflowY||"auto"===t.overflowX||"scroll"===t.overflowX:null}(e);return n?e:null===n?null:V(null==e?void 0:e.parentElement,t-1)}return null}function z(e){var t,n;return null===(n=(null===(t=e.activeElement)||void 0===t?void 0:t.shadowRoot)||e)||void 0===n?void 0:n.activeElement}function W(e){return e instanceof HTMLElement}const Z=["b","i"];function G(e,t=Z){return"string"==typeof e?{dangerouslySetInnerHTML:{__html:(0,$.sanitize)(e,{ALLOWED_TAGS:Array.from(t)})}}:{dangerouslySetInnerHTML:e.pipe(O.T((e=>({__html:(0,$.sanitize)(e,{ALLOWED_TAGS:Array.from(t)})}))))}}var Q,q,J,Y=n(19309);!function(e){let t,n,i;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),function(e){e.create=function(e,t){return{id:e,kind:"string",value:t}}}(n=e.StringValue||(e.StringValue={})),function(e){e.create=function(e,t){return{id:e,kind:"radio",value:t}}}(i=e.RadioValue||(e.RadioValue={}))}(Q||(Q={})),function(e){e.match=e=>t=>{const n=t.kind;return"string"===n?e.string(t):"radio"===n?e.radio(t):void(0,h.AS)(n)}}(q||(q={})),function(e){function t(e){return"followUpQuestion"===e.kind}function n(e){return"quickAction"===e.kind}let i,r,o,l,c,d;e.isFollowUpQuestionActionValue=t,e.isQuickActionValue=n,e.isListableActionValue=(0,U.Ub)(t,n),e.isUserPromptActionValue=function(e){return"userPrompt"===e.kind},e.isQuickRewriteActionValue=function(e){return"quickRewrite"===e.kind},e.isFollowUpQuestionActionInput=function(e){return"followUpQuestion"===e.kind},e.isQuickActionInput=function(e){return"quickAction"===e.kind},e.isSkillAction=function(e){return"skillAction"===e.kind},e.isToneAction=function(e){return"toneAction"===e.kind},e.isPlagiarismAction=function(e){return"plagiarismAction"===e.kind},e.isWritingExpertAction=function(e){return"writingExpertAction"===e.kind},e.isPerformanceScoreAction=function(e){return"performanceScoreAction"===e.kind},e.isHumanWritingReportAction=function(e){return"humanWritingReportAction"===e.kind},e.createFollowUpQuestionActionInputOrQuickActionInput=function(t,n,i){const o=Array.from(new Set(n.map((e=>e.group)).filter((0,a.not)(r.isPinned)))).findIndex((e=>t.group===e)),l={id:e.Id.create(t.id),contextId:i,icon:E.right(t.iconUrl),group:{id:r.Id.create(t.group),label:t.group,rank:o>-1?1e3*o:Number.MAX_SAFE_INTEGER},label:(0,$.sanitize)(t.label,{ALLOWED_TAGS:Z}),badge:s.none,searchLabel:(0,$.sanitize)(t.label,{ALLOWED_TAGS:[]}),searchTags:t.searchTags,generatesTextType:s.fromNullable(t.generatesTextType),disabled:void 0!==t.disabled,notificationOnAttempt:(0,a.pipe)(s.fromNullable(t.disabled),s.chain((({onActionNotification:e})=>s.fromNullable(e))),s.map((({text:e})=>e)))};if(1===t.args.length){const e=t.args[0],n={id:Q.Id.create(e.name),label:e.label,hints:(0,a.pipe)(s.fromNullable(e.hint),s.map((e=>({header:e.header,items:e.text}))))};return"string"===e.valueType?s.some(Object.assign(Object.assign({},l),{kind:"followUpQuestion",args:[Object.assign(Object.assign({},n),{kind:"string"})],generatesTextType:s.fromNullable(t.generatesTextType)})):"radioButtonGroup"===e.valueType?(0,a.pipe)(e.radioButtonGroupValues,C.ci,s.map((e=>Object.assign(Object.assign({},l),{kind:"followUpQuestion",args:[Object.assign(Object.assign({},n),{kind:"radio",radioOptions:e})],generatesTextType:s.fromNullable(t.generatesTextType)})))):s.none}return 0===t.args.length?s.some(Object.assign(Object.assign({},l),{kind:"quickAction",args:[]})):s.none},function(e){e.create=function(e){return e},e.eq=L.kK}(i=e.Id||(e.Id={})),function(t){let n;!function(e){e.create=function(e){return e},e.eq=L.kK}(n=t.Id||(t.Id={})),t.isPinned=function(t){return t===e.knownGroup.pinned}}(r=e.Group||(e.Group={})),e.knownGroup={tools:r.Id.create("tools"),apps:r.Id.create("apps"),pinned:r.Id.create("pinned"),moreIdeas:r.Id.create("More ideas")},e.knownGroupRank={[e.knownGroup.tools]:-3e3,[e.knownGroup.pinned]:-1e3},e.knowGroupLabels={[e.knownGroup.tools]:"Tools",[e.knownGroup.apps]:"Apps",[e.knownGroup.pinned]:""},function(e){e.fromTextInput=function(e,t){return Object.assign(Object.assign({},e),{args:[Q.StringValue.create(e.args[0].id,t)]})},e.fromRadioInput=function(e,t){return Object.assign(Object.assign({},e),{args:[Q.RadioValue.create(e.args[0].id,t)]})}}(o=e.FollowUpQuestionActionValue||(e.FollowUpQuestionActionValue={})),e.createSkillAction=function(t){return{kind:"skillAction",id:i.create(t.id),group:{id:e.knownGroup.apps,label:"App actions",rank:Number.MAX_SAFE_INTEGER},icon:E.right(t.iconUrl),label:(0,$.sanitize)(t.displayName,{ALLOWED_TAGS:Z}),badge:s.none,searchLabel:(0,$.sanitize)(t.displayName,{ALLOWED_TAGS:[]}),searchTags:t.tags,generatesTextType:s.none,args:[],skill:t,disabled:!1,notificationOnAttempt:s.none}},e.createToneAction=function(t){const n="Check my tone";return{kind:"toneAction",id:i.create(t.name),group:{id:e.knownGroup.tools,label:"Tools",rank:Number.MAX_SAFE_INTEGER},icon:E.right((r=t.emojiId,Y.C+r+".svg")),label:n,badge:s.none,searchLabel:(0,$.sanitize)(t.name,{ALLOWED_TAGS:[]}),searchTags:[n,t.name],generatesTextType:s.none,args:[],tone:t,disabled:!1,notificationOnAttempt:s.none};var r},e.createPlagiarismAction=function(t=!1){const n=t?"Plagiarism detected":"Check for plagiarism",r=t?E.left("plagiarismDetected"):E.left("plagiarism");return{kind:"plagiarismAction",id:i.create("plagiarism"),group:{id:e.knownGroup.tools,label:"Tools",rank:Number.MAX_SAFE_INTEGER},icon:r,label:n,badge:s.none,searchLabel:"plagiarism",searchTags:["Check for plagiarism"],generatesTextType:s.none,args:[],disabled:!1,notificationOnAttempt:s.none,isUphook:t}},e.createWritingExpertAction=function(){const t="Increase the impact of your text";return{kind:"writingExpertAction",id:i.create("writingExpert"),group:{id:e.knownGroup.tools,label:"Tools",rank:Number.MAX_SAFE_INTEGER},icon:E.left("writingExpert"),label:t,badge:s.some("new"),searchLabel:"ideas",searchTags:[t],generatesTextType:s.none,args:[],disabled:!1,notificationOnAttempt:s.none}},function(e){e.ordByGroup=H.contramap((e=>e.group.rank))(H.ordNumber)}(l=e.ListableActionInput||(e.ListableActionInput={})),function(e){e.fromInput=function(e,t,n,i){return Object.assign(Object.assign({},e),{arg:Q.StringValue.create(e.arg.id,t),useReferences:n,omitReferenceIds:i})}}(c=e.UserPromptActionValue||(e.UserPromptActionValue={})),function(e){e.fromInput=function(e){return Object.assign(Object.assign({},e),{args:[]})}}(d=e.QuickRewriteActionValue||(e.QuickRewriteActionValue={}))}(J||(J={}));var X,ee=n(13448);function te(e){return(0,a.pipe)(s.fromNullable(e.changesSummary),s.filter((({title:e})=>""!==e)),s.chain((({title:e,description:t})=>(0,a.pipe)(C._S(t),s.map((t=>({title:e,description:t})))))))}!function(e){let t,n;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),e.isPending=function(e){return"pending"===e.kind},e.isReceived=function(e){return"received"===e.kind},function(e){e.empty=function(e){return{id:e,kind:"pending",availableActions:[],specialView:s.none,userPromptAction:s.none,intent:s.none,documentOverview:s.none,selection:s.none,isBoundary:!1,textRevision:s.none}}}(n=e.Pending||(e.Pending={}))}(X||(X={}));var ne,ie=n(43138);!function(e){let t;function n(e){switch(e){case"sensitiveResult":return{header:"Assistance is unavailable",text:"Assistance is unavailable for that text or prompt.\nTry something else."};case"overload":return{header:"Couldn’t generate text",text:"We’re handling a lot of prompts right now and couldn’t generate that text.\nPlease try again later."};case"unsupportedLanguage":return{header:"Hmm, don’t know that language",text:"Assistance is currently only available for English."};case"critical":case"timeout":case"emptyResult":case"truncatedResult":case"usageExceeded":return{header:"Something went wrong",text:"We’re not sure what happened, but we couldn’t generate that text.\nPlease try again."};default:return(0,a.absurd)(e)}}!function(e){e.create=function(e){switch(e){case ie.Fv.Generic:return"critical";case ie.Fv.Overflow:return"truncatedResult";case ie.Fv.PromptsLimitExceeded:return"usageExceeded";case ie.Fv.SensitiveContent:return"sensitiveResult";case ie.Fv.ServerOverloaded:return"overload";case ie.Fv.UnsupportedLanguage:return"unsupportedLanguage";default:return(0,a.absurd)(e)}}}(t=e.Reason||(e.Reason={})),e.create=function(e){const i=t.create(e.kind),r=(0,a.pipe)(w.J(s.Applicative)({header:(0,a.pipe)(s.fromNullable(e.title),s.filter((e=>""!==e.trim()))),text:(0,a.pipe)(s.fromNullable(e.text),s.filter((e=>""!==e.trim())))}),s.getOrElse((()=>n(i))));return Object.assign({reason:i},r)},e.createCriticalError=function(e){return{reason:"critical",header:"Something went wrong",text:e?"We’re not sure what happened.\nPlease try again later.":"We’re not sure what happened, but we couldn’t generate that text.\nPlease try again."}},e.createEmptyResultError=function(){return Object.assign({reason:"emptyResult"},n("emptyResult"))}}(ne||(ne={}));var re,oe=n(87404),se=n(81154);!function(e){let t,n,i;!function(e){e.restoreDisabled="restoreDisabled",e.unknown="unknown",e.hasHistory="hasHistory",e.noHistory="noHistory",e.historyRequested="historyRequested",e.historyRestored="historyRestored"}(t=e.HistoryStatus||(e.HistoryStatus={})),function(e){e.unknown="unknown",e.static="static",e.dynamic="dynamic"}(n=e.SelectionContextStatus||(e.SelectionContextStatus={})),e.toStarting=function(e){return"starting"===e.kind?s.some(e):s.none},e.toStarted=function(e){return"started"===e.kind?s.some(e):s.none},e.toContextless=function(e){return"contextless"===e.kind?s.some(e):s.none},e.fold=function(e){return t=>"starting"===t.kind?e.starting(t):"started"===t.kind?e.started(t):"contextless"===t.kind?e.contextless(t):void(0,h.AS)(t)},e.isStartedWithInProgressResult=function(e){return"started"===e.kind&&s.isSome(e.inProgressResult)},e.isStartingWithoutError=function(e){return s.isNone(e.error)&&"starting"===e.kind},function(e){e.initial=e=>({kind:"starting",mode:e,selectedRange:s.none,selectedText:s.none,quickReplyContext:s.none,historyStatus:t.unknown,writingExpertContext:s.none,error:s.none,textRevision:0,selectionContextStatus:n.unknown})}(i=e.Starting||(e.Starting={}))}(re||(re={}));var ae=n(15917);function le(e){return ae.Y.isRewriteOrQuickRewrite(e.mode)}function ce(e){return ae.Y.isQuickReply(e.mode)}function de(e){return ae.Y.isPushRewrite(e.mode)}function ue(e){return"signed-in"===e.kind&&e.email.endsWith("@grammarly.com")&&(0,a.pipe)(e.institution,s.fold(a.constFalse,(e=>624392205===e.id)))}function pe(e){return"signed-in"===e.kind}function me(e){return"signed-out"===e.kind}function fe(e){return pe(e)&&e.isPremium}var he,ge=n(28986);!function(e){const t={"Cheetah/_System/Push/SimplifyRewrite":{copiablePrompt:s.none,iconUrl:s.some("https://assets.grammarly.com/cheetah/v1/actions/simplify.svg"),label:"Simplify your text"},"Cheetah/_System/Push/ImproveParagraph":{copiablePrompt:s.none,iconUrl:s.some("https://assets.grammarly.com/cheetah/v1/actions/improve.svg"),label:"Improve your text"}};e.toPreviousText=function(e){return(0,a.pipe)(e,s.fromPredicate((e=>e.alertPname in t)),s.map((e=>({kind:"writerExpert",suggestionId:e.alertId,pname:e.alertPname,text:e.replacementText}))))},e.getInitialResult=function(e){const n=E.left((new ge.R).insert(e.replacementText));return(0,a.pipe)(s.fromNullable(t[e.alertPname]),s.map((t=>({kind:"complete",id:se.Q.Id.create(0),header:t,replacementDelta:n,text:e.replacementText,references:s.none,source:s.none,changesSummary:s.none,timestamp:Date.now(),supportedActions:new Set([se.Q.SupportedAction.insert,se.Q.SupportedAction.copy]),boundaryContextId:s.none}))))}}(he||(he={}));var ve,be,ye=n(79193),ke=n(50733),we=n(60046),Ee=n(96339);function Se(e,t){const n=(0,ke.b)(e).pipe((0,f.s)(1));return void 0!==t?n.pipe((0,Ee.w)(t)).toPromise():n.toPromise()}!function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.create=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(ve||(ve={})),function(e){e.create=function(e,t,n,i,r){return"information"===e||"warning"===e?{kind:e,persistent:!!i,customTimeout:r,text:t,id:n||ve.create()}:{kind:e,persistent:!!n,customTimeout:"number"==typeof i?i:void 0,id:t||ve.create()}}}(be||(be={}));var Ce,_e,xe=n(3391),Ae=n(45790);!function(e){let t,n,i,r,o,a;!function(e){let t;!function(e){e.create=function(e){return e},e.eq=L.kK}(t=e.Id||(e.Id={}))}(t=e.Tone||(e.Tone={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=L.kK}(t=e.Id||(e.Id={}))}(n=e.Style||(e.Style={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=L.kK}(t=e.Id||(e.Id={}))}(i=e.Role||(e.Role={})),function(e){function t(e){switch(e){case"american":return"American English";case"australian":return"Australian English";case"british":return"British English";case"canadian":return"Canadian English";case"indian":return"Indian English";default:return(0,h.AS)(e)}}function n(e){switch(e){case"american":return"https://assets.grammarly.com/emoji/v1/1f1fa-1f1f8.svg";case"australian":return"https://assets.grammarly.com/emoji/v1/1f1e6-1f1fa.svg";case"british":return"https://assets.grammarly.com/emoji/v1/1f1ec-1f1e7.svg";case"canadian":return"https://assets.grammarly.com/emoji/v1/1f1e8-1f1e6.svg";case"indian":return"https://assets.grammarly.com/emoji/v1/1f1ee-1f1f3.svg";default:return(0,h.AS)(e)}}let i;!function(e){e.create=function(e){return e},e.eq=L.kK}(i=e.Id||(e.Id={})),e.american={id:i.create("american"),label:t("american"),iconUrl:n("american")},e.australian={id:i.create("australian"),label:t("australian"),iconUrl:n("australian")},e.british={id:i.create("british"),label:t("british"),iconUrl:n("british")},e.canadian={id:i.create("canadian"),label:t("canadian"),iconUrl:n("canadian")},e.indian={id:i.create("indian"),label:t("indian"),iconUrl:n("indian")},e.all=function(){return[e.american,e.australian,e.british,e.canadian,e.indian]}}(r=e.Dialect||(e.Dialect={})),function(e){e.eq=L.OW({selectedStyle:n.Id.eq,selectedTonesPerStyle:Ae.nZ(n.Id.eq,_.nZ(t.Id.eq)),selectedRole:s.getEq(i.Id.eq),selectedDialect:r.Id.eq})}(o=e.Selections||(e.Selections={})),e.toLegacyVoiceProfile=function(e){return"legacyVoiceProfile"===e.kind?s.some(e):s.none},function(e){const t=L.OW({name:L.kK,state:L.kK}),n=L.OW({name:L.kK,tags:S.nZ(t)}),o=L.OW({name:L.kK,summary:L.kK,selected:L.zF,sections:S.nZ(n)}),a=S.nZ(o);e.eqByRoleDialectProfileAndIsEnabledByDefault=L.OW({profiles:a,selectedRole:s.getEq(i.Id.eq),selectedDialect:r.Id.eq,isEnabledByDefault:L.zF})}(a=e.NewSelections||(e.NewSelections={})),e.toNewVoiceProfile=function(e){return"newVoiceProfile"===e.kind?s.some(e):s.none}}(Ce||(Ce={})),function(e){e.createId=({tagName:e,sectionName:t,profileName:n})=>`${t}-${e}-${n}`}(_e||(_e={}));var Ie,Ke=n(6742),Te=n(62470),Oe=n(98475);!function(e){let t,n;e.fromOuterContext=function(e){var n,i,r,o;const l=e=>(0,a.pipe)(s.fromNullable(null==e?void 0:e.from),s.chain(S.d5),s.fold((()=>t.empty),t.fromNameAndEmailString)),c=e=>(0,a.pipe)(s.fromNullable(null==e?void 0:e.to),s.chain(C._S),s.map(C.Tj(t.fromNameAndEmailString)),s.getOrElseW((()=>[]))),d=(0,a.pipe)(s.fromNullable(e.items),s.chain(S.d5),s.getOrElseW((()=>{})));return{previousMessageInfo:{author:l(null==d?void 0:d.people),directRecipients:c(null==d?void 0:d.people),text:null!==(n=null==d?void 0:d.text)&&void 0!==n?n:""},title:null!==(i=e.title)&&void 0!==i?i:"",author:l(e.people),directRecipients:c(e.people),indirectRecipients:(0,a.pipe)(s.fromNullable(null===(r=e.people)||void 0===r?void 0:r.cc),s.chain(C._S),s.map(C.Tj(t.fromNameAndEmailString)),s.getOrElseW((()=>[]))),undisclosedRecipients:(0,a.pipe)(s.fromNullable(null===(o=e.people)||void 0===o?void 0:o.bcc),s.chain(C._S),s.map(C.Tj(t.fromNameAndEmailString)),s.getOrElseW((()=>[])))}},e.toOuterContext=function(t){return{title:t.title,people:{from:[e.Person.extractNameAndEmailString(t.author)],to:t.directRecipients.map(e.Person.extractNameAndEmailString),cc:t.indirectRecipients.map(e.Person.extractNameAndEmailString),bcc:t.undisclosedRecipients.map(e.Person.extractNameAndEmailString)},items:[{text:t.previousMessageInfo.text,people:{from:[e.Person.extractNameAndEmailString(t.previousMessageInfo.author)],to:t.previousMessageInfo.directRecipients.map(e.Person.extractNameAndEmailString)}}]}},e.empty={previousMessageInfo:{author:{name:"",email:""},directRecipients:[],text:""},title:"",author:{name:"",email:""},directRecipients:[],indirectRecipients:[],undisclosedRecipients:[]},function(e){e.empty={name:"",email:""},e.fromNameAndEmailString=function(t){return(0,a.pipe)(s.fromNullable(t.match(/^([^<]*)<(.*)>$/)),s.map((e=>{var t,n,i,r;return{name:null!==(n=null===(t=e[1])||void 0===t?void 0:t.trim())&&void 0!==n?n:"",email:null!==(r=null===(i=e[2])||void 0===i?void 0:i.trim())&&void 0!==r?r:""}})),s.getOrElse((()=>e.empty)))},e.extractNameAndEmailString=function(e){const t=""!==e.email?`<${e.email}>`:"";return[e.name,t].filter((e=>""!==e)).join(" ")}}(t=e.Person||(e.Person={})),function(e){e.empty={author:{name:"",email:""},directRecipients:[],text:""}}(n=e.PreviousMessageInfo||(e.PreviousMessageInfo={}))}(Ie||(Ie={}));var Me=n(761);const Fe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Re(e,t,n,i,r){let o,s,a,l,c,d,u,p,m,f,h,g,v;for(;r>=64;){for(o=t[0],s=t[1],a=t[2],l=t[3],c=t[4],d=t[5],u=t[6],p=t[7],f=0;f<16;f++)h=i+4*f,e[f]=(255&n[h])<<24|(255&n[h+1])<<16|(255&n[h+2])<<8|255&n[h+3];for(f=16;f<64;f++)m=e[f-2],g=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,m=e[f-15],v=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3,e[f]=(g+e[f-7]|0)+(v+e[f-16]|0);for(f=0;f<64;f++)g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&d^~c&u)|0)+(p+(Fe[f]+e[f]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&a^s&a)|0,p=u,u=d,d=c,c=l+g|0,l=a,a=s,s=o,o=g+v|0;t[0]+=o,t[1]+=s,t[2]+=a,t[3]+=l,t[4]+=c,t[5]+=d,t[6]+=u,t[7]+=p,i+=64,r-=64}return i}class Be{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,t=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[n++],t--;64===this.bufferLength&&(Re(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=Re(this.temp,this.state,e,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[n++],t--;return this}finish(e){if(!this.finished){const e=this.bytesHashed,t=this.bufferLength,n=e/536870912|0,i=e<<3,r=e%64<56?64:128;this.buffer[t]=128;for(let e=t+1;e<r-8;e++)this.buffer[e]=0;this.buffer[r-8]=n>>>24&255,this.buffer[r-7]=n>>>16&255,this.buffer[r-6]=n>>>8&255,this.buffer[r-5]=n>>>0&255,this.buffer[r-4]=i>>>24&255,this.buffer[r-3]=i>>>16&255,this.buffer[r-2]=i>>>8&255,this.buffer[r-1]=i>>>0&255,Re(this.temp,this.state,this.buffer,0,r),this.finished=!0}for(let t=0;t<8;t++)e[4*t+0]=this.state[t]>>>24&255,e[4*t+1]=this.state[t]>>>16&255,e[4*t+2]=this.state[t]>>>8&255,e[4*t+3]=this.state[t]>>>0&255;return this}digest(){const e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let t=0;t<this.state.length;t++)e[t]=this.state[t]}_restoreState(e,t){for(let t=0;t<this.state.length;t++)this.state[t]=e[t];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);function Ne(e,t){switch(e.historyStatus){case re.HistoryStatus.restoreDisabled:return e.historyStatus;case re.HistoryStatus.unknown:case re.HistoryStatus.noHistory:case re.HistoryStatus.hasHistory:return void 0!==t?t>0?re.HistoryStatus.hasHistory:re.HistoryStatus.noHistory:re.HistoryStatus.unknown;case re.HistoryStatus.historyRequested:case re.HistoryStatus.historyRestored:return"started"===e.kind&&void 0!==e.results.find(se.Q.isHistory)?re.HistoryStatus.historyRestored:re.HistoryStatus.restoreDisabled;default:(0,h.AS)(e.historyStatus)}}function Pe(e,t=!1){return(0,a.pipe)(e.replacementDelta,E.fold(a.identity,(({preferVoice:e,generic:n,user:i})=>t?e===se.Q.GeneratedTextVoice.generic?n:i:n)),(e=>(0,Me.xn)(e,"")))}function De(e){return x.oF((()=>"started"===e.kind?E.right(e):E.left(new Error("Session not started"))))}function je(e,t,n,i){var r;const o=(0,a.pipe)(re.toStarted(n),s.fold((()=>[]),(e=>e.voiceProfile.roles)));return{kind:"newVoiceProfile",userName:e.userName,title:e.title,subTitle:e.subTitle,profiles:e.profiles,isEnabledByDefault:e.myVoiceIsEnabledByDefault.state,isEnabledByDefaultLabel:e.myVoiceIsEnabledByDefault.label,dialects:Ce.Dialect.all(),roles:(0,a.pipe)(null!==(r=t.roles)&&void 0!==r?r:[],S.Tj((e=>({id:Ce.Role.Id.create(e),label:e}))),(e=>e.length>0?e:o)),selectedDialect:(0,a.pipe)(re.toStarted(n),s.fold((()=>Ce.Dialect.Id.create(i)),(e=>e.voiceProfile.selectedDialect))),selectedRole:(0,a.pipe)(s.fromNullable(t.selectedRole),s.map((e=>e.trim())),s.filter((e=>""!==e)),s.map(Ce.Role.Id.create)),needsSetup:!1}}function Le(e,t,n){var i,r;const o=(0,a.pipe)(re.toStarted(t),s.map((e=>e.voiceProfile)),s.chain(Ce.toLegacyVoiceProfile),s.fold((()=>[]),(e=>e.styles))),l=(0,a.pipe)(re.toStarted(t),s.fold((()=>[]),(e=>e.voiceProfile.roles))),c=(0,a.pipe)(null!==(i=e.styles)&&void 0!==i?i:[],S.Tj((e=>({id:Ce.Style.Id.create(e.button.label),label:e.button.label,iconUrl:e.button.iconUrl,tones:e.tones.map((e=>({id:Ce.Tone.Id.create(e.label),label:e.label,iconUrl:e.iconUrl,description:e.description}))),maxTones:e.maxTones,description:e.button.description}))),(e=>e.length>0?e:o)),d=Ce.Style.Id.create(e.selectedStyle),u=c.find((e=>Ce.Style.Id.eq.equals(e.id,d)));return{kind:"legacyVoiceProfile",styles:c,roles:(0,a.pipe)(null!==(r=e.roles)&&void 0!==r?r:[],S.Tj((e=>({id:Ce.Role.Id.create(e),label:e}))),(e=>e.length>0?e:l)),selectedStyle:d,selectedTonesPerStyle:(new Map).set(d,new Set(e.selectedTones.filter((e=>null==u?void 0:u.tones.map((e=>e.id.toString())).includes(e))))),selectedRole:(0,a.pipe)(s.fromNullable(e.selectedRole),s.map((e=>e.trim())),s.filter((e=>""!==e)),s.map(Ce.Role.Id.create)),dialects:Ce.Dialect.all(),selectedDialect:(0,a.pipe)(re.toStarted(t),s.fold((()=>Ce.Dialect.Id.create(n)),(e=>e.voiceProfile.selectedDialect))),needsSetup:e.needSetup}}function Ue(e,t,n){return[...(0,a.pipe)(t,S.Tj((n=>J.createFollowUpQuestionActionInputOrQuickActionInput(n,t,e))),S.oE),...n.map((e=>J.createSkillAction(e)))]}function $e(e,t){const n=(0,a.pipe)(e.args,S.d5,s.map((t=>({id:J.Id.create(e.id),kind:"userPrompt",arg:{id:Q.Id.create(t.name),kind:"string",label:t.label,hints:(0,a.pipe)(s.fromNullable(t.hint),s.map((e=>({header:e.header,items:e.text}))))},generatesTextType:s.some(ie.nN.Insertable),useReferences:s.none,omitReferenceIds:s.none,disabled:void 0!==e.disabled,notificationOnAttempt:(0,a.pipe)(s.fromNullable(e.disabled),s.chain((({onActionNotification:e})=>s.fromNullable(e))),s.map((({text:e})=>e)))}))));return s.isNone(n)&&t.warn("Failed to extract user prompt action, received empty action args.",{actionId:e.id}),n}function He(e){return{kind:"quickRewrite",id:J.Id.create(e.id),label:(0,$.sanitize)(e.label,{ALLOWED_TAGS:Z}),icon:E.right(e.iconUrl),generatesTextType:s.fromNullable(e.generatesTextType),disabled:void 0!==e.disabled,notificationOnAttempt:(0,a.pipe)(s.fromNullable(e.disabled),s.chain((({onActionNotification:e})=>s.fromNullable(e))),s.map((({text:e})=>e)))}}function Ve(e){return(0,a.pipe)(s.fromNullable(e),s.map((e=>(0,$.sanitize)(e,{ALLOWED_TAGS:[...Z,"person"]}))),s.map((e=>e.trim())),s.filter((e=>e.length>0)))}function ze(e){return{kind:se.Q.isComplete(e)?"regular":se.Q.isHistory(e)?"history":(0,h.AS)(e),text:Pe(e)}}function We(e){return(0,a.pipe)(s.fromNullable(e.references),s.map((t=>t.map((t=>{var n;return Object.assign(Object.assign({},t),{id:xe.O.Id.create(t.id),url:s.fromNullable(t.url),contextText:(0,a.pipe)(s.fromNullable(null===(n=e.metadata)||void 0===n?void 0:n.knowledge_engine_references),s.chainNullableK((e=>{const n=Array.isArray(e)?e.find((e=>e.id===t.id)):void 0,i=null==n?void 0:n.contextText;return"string"==typeof i?i:void 0})))})})))))}const Ze=s.fromNullable;function Ge(e){switch(e){case"ideation":return ie.ol.Ideation;case"rewrite":return ie.ol.Rewrite;case"quickRewrite":return ie.ol.QuickRewrite;case"quickReply":return ie.ol.QuickReply;case"pushRewrite":return ie.ol.PushRewrite;default:return(0,h.AS)(e)}}function Qe(e){return(0,a.pipe)(e.quickReplyContext,s.map(Ie.toOuterContext))}function qe(e){var t;return(0,a.pipe)(null!==(t=function(e){var t;return null===(t=e.match(/^https:\/\/docs.google.com\/[a-zA-Z0-9-_]+\/d\/([a-zA-Z0-9-_]+)/))||void 0===t?void 0:t[1]}(e))&&void 0!==t?t:function(e){var t;const n=null!==(t=e.match(/^https:\/\/([a-zA-Z0-9-_]+).atlassian.net\/wiki\/spaces\/[a-zA-Z0-9-_]+\/pages\/([0-9]+)/))&&void 0!==t?t:[];return n[1]&&n[2]?`${n[1]}:${n[2]}`:void 0}(e),s.fromNullable,s.map(Je))}function Je(e){const t=(new TextEncoder).encode(e);return Te.hp.from(function(e){const t=(new Be).update(e),n=t.digest();return t.clean(),n}(t)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Ye(e,t,n,i,r){var o,l,c,d,u,p;return c=this,d=void 0,p=function*(){if((null==r?void 0:r.contextUpdatesServer)&&!X.isPending(e)&&n.textRevision===s.toUndefined(e.textRevision)){const r=(0,a.pipe)(s.isNone(n.selectedRange)?(0,a.pipe)(s.fromNullable(null===(o=t.context)||void 0===o?void 0:o.textScope),s.filter((e=>e.start!==e.end))):(0,a.pipe)(w.J(s.option)({currentSelectionRange:n.selectedRange,backendSelectionRange:s.fromNullable(null===(l=t.context)||void 0===l?void 0:l.textScope)}),s.filter((({currentSelectionRange:e,backendSelectionRange:t})=>e.start!==t.start||e.end!==t.end)),s.map((({backendSelectionRange:e})=>e))),s.toUndefined);if(r){if(r.start===r.end)return E.right(s.none);{const t=yield i(r)();return E.right((0,a.pipe)(s.fromEither(t),s.map((e=>({text:e,range:r}))),s.alt((()=>e.selection))))}}return E.left(void 0)}return E.left(void 0)},new((u=void 0)||(u=Promise))((function(e,t){function n(e){try{r(p.next(e))}catch(e){t(e)}}function i(e){try{r(p.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof u?r:new u((function(e){e(r)}))).then(n,i)}r((p=p.apply(c,d||[])).next())}))}var Xe=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class et{constructor(e){var t,n,i,r;if(this._params=e,this._subs=new T.y.Keeper,this._logger=this._params.logService.getLogger(et.name),this._session=g.s.create(re.Starting.initial(this._params.genAIStartSessionOptions.mode)),this._resultById=new Map,this._contextIdByResultId=new Map,this._contextById=new Map,this._historyResultIdByGetContextMessageId=new Map,this._contextMessageIdsTriggeredBySelectionChanges=new Set,this._stateBlobByContextId=new Map,this._initialReceivedContext=null,this._upstreamDialect=g.s.create(Ce.Dialect.Id.create("american")),this._cheetahAckIds=new Set,this._searchReferencesUrlsById=new Map,this._cheetahAckHandlers=new Array,this._resultTimeout=void 0,this._contextTimeout=void 0,this._historyTimeout=void 0,this._cheetahAckTimeout=void 0,this._historyAckHandler=void 0,this._skills=[],this._capiCheckingStatus=g.s.create("unknown"),this._resultTimeoutMs=null!==(t=this._params.resultTimeoutMs)&&void 0!==t?t:2e4,this._contextTimeoutMs=null!==(n=this._params.contextTimeoutMs)&&void 0!==n?n:2e4,this._historyTimeoutMs=null!==(i=this._params.historyTimeoutMs)&&void 0!==i?i:2e4,this._cheetahAckTimeoutMs=null!==(r=this._params.cheetahAckTimeoutMs)&&void 0!==r?r:2e4,this._notificationHandler=null,this.session=this._session.view(),this._handleCAPIMessage=e=>{switch(e.action){case"error":return this._handleError(e);case"cheetah":return this._handleCheetahAck(e);case"cheetah:setContext":return void this._handleCheetahSetContext(e);case"cheetah:chunk":return this._handleCheetahChunk(e);case"cheetah:result":return void this._handleCheetahResult(e);case"cheetah:error":return this._handleCheetahError(e);case"cheetah:setUserState":return this._handleCheetahSetUserState(e);case"cheetah:searchReferencesResult":return this._handleCheetahSearchReferencesResult(e);case"cheetah:invalidateContext":return void this._getContext();case"cheetah:setHistory":return this._handleCheetahSetHistory(e);case"show_survey":case"emotions":case"finished":case"async_check_finished":return;default:return(0,h.AS)(e)}},this._subs.push(this._params.capiService.relevantInboundCAPIMessages.pipe(m.p(ee.Bw.Finished.is),O.T((e=>e.checksStatus))).subscribe(p.H9(this._capiCheckingStatus))),le(this._params.genAIStartSessionOptions)){const e=this._params.textEditorService.selectedRange.get();(0,a.pipe)(e,s.fold((()=>this._init()),(e=>(0,we.s)("getText",this._params.textEditorService.getText(e),this._logger,(t=>this._init({selectedRange:e,selectedText:t})),(t=>{this._params.logService.logEvent((0,oe.T$)({textRange:e,reason:(0,ye.$)(t).message})),this._init()})))))}else this._init()}registerNotificationHandler(e){this._notificationHandler=e}_pushNotification(e){var t;null===(t=this._notificationHandler)||void 0===t||t.call(this,e)}_init(e){var t;this._session.set({kind:"starting",mode:this._params.genAIStartSessionOptions.mode,selectedRange:s.fromNullable(null==e?void 0:e.selectedRange),selectedText:(0,a.pipe)(s.fromNullable(null==e?void 0:e.selectedText),s.filter((e=>e.length>0))),quickReplyContext:s.fromNullable(ce(this._params.genAIStartSessionOptions)?this._params.genAIStartSessionOptions.quickReplyContext:void 0),writingExpertContext:s.fromNullable(de(this._params.genAIStartSessionOptions)?this._params.genAIStartSessionOptions.writingExpertContext:void 0),historyStatus:re.HistoryStatus.unknown,error:s.none,textRevision:0,selectionContextStatus:this._params.selectionContextAvailability&&(null===(t=this._params.selectionContextAvailability.get())||void 0===t?void 0:t.contextUpdatesClient)?re.SelectionContextStatus.dynamic:re.SelectionContextStatus.static}),this._setupSessionModeUpdater(),this._subs.push(this._params.capiService.relevantInboundCAPIMessages.subscribe((e=>this._handleCAPIMessage(e)))),this._subs.push(this._params.userService.user.pipe(m.p(pe),O.T((({dialect:e})=>e)),O.T(Ce.Dialect.Id.create)).subscribe(p.H9(this._upstreamDialect))),this._subs.push(this._upstreamDialect.subscribe((e=>this._handleUpstreamDialectChange(e)))),this._subs.push(this._session.pipe((0,A.F)(((e,t)=>e.kind===t.kind)),(0,I.$)((e=>"started"===e.kind))).subscribe((()=>{this._params.userActionTrackingService.trackReadyToInteract(),this._params.metricService.report({name:"assistant_gen_ai_initial_context_ready",labels:void 0},{startMarks:["assistant_lifecycle_starting"]})}))),this._params.selectionContextAvailability&&this._setUpSelectionAvailabilityChangeHandlers(this._params.selectionContextAvailability),this._setupGenAIAvailabilityHandler(),this._subs.push(this._session.subscribe((e=>this._logger.debug("Session updated.",e))))}_setupGenAIAvailabilityHandler(){this._subs.push(this._params.genAIAvailability.pipe(O.T(v.y.isUnavailable),A.F()).subscribe((e=>{this._logger.debug("Gen-AI availability updated.",{genAIIsUnavailable:e}),e?(this._session.modify((e=>Object.assign(Object.assign({},e),{kind:"contextless",nonContextualActions:[]}))),this._getSkills()):"started"!==this._session.get().kind&&(this._session.modify((e=>Object.assign(Object.assign({},e),{kind:"starting"}))),this._startSessionWhenAppropriate())})))}_startSessionWhenAppropriate(){var e;this._params.selectionContextAvailability&&null===this._params.selectionContextAvailability.get()?M.O4([this._params.selectionContextAvailability.pipe(m.p((e=>null!==e))),F.timer(null!==(e=this._params.selectionContextAvailabilityWaitTimeoutMs)&&void 0!==e?e:2e3)]).pipe(f.s(1)).subscribe((()=>this._startSession())):this._startSession()}_startSession(e){(0,we.s)("flush",this._params.textEditorService.flush(),this._logger,(()=>{var t,n;const i=le(this._params.genAIStartSessionOptions)?this._params.textEditorService.selectedRange.get():s.fromNullable(void 0),r=function(e){const t=(0,a.pipe)(e,s.fromPredicate((e=>function(e){return ae.Y.isIdeation(e.mode)}(e)&&!!e.documentUrl)),s.map((e=>e.documentUrl)),s.chain(s.fromNullable),s.chain(qe),s.map((e=>({pageIdHash:e})))),n=(0,a.pipe)(e,s.fromPredicate(ce),s.map((e=>Ie.toOuterContext(e.quickReplyContext))));return s.getMonoid((0,Oe.getFirstSemigroup)()).concat(t,n)}(this._params.genAIStartSessionOptions),o=s.fromNullable(de(this._params.genAIStartSessionOptions)?this._params.genAIStartSessionOptions.writingExpertContext:void 0),l={generationMode:Ge(this._params.genAIStartSessionOptions.mode),selectedRange:s.toUndefined(i),outerContext:s.toUndefined(r),stateBlob:e,metadata:this._params.genAIStartSessionOptions.metadata,previousText:(0,a.pipe)(o,s.chain(he.toPreviousText),s.toUndefined),includeDisabledActions:this._params.selectionContextAvailability&&(null===(t=this._params.selectionContextAvailability.get())||void 0===t?void 0:t.contextUpdatesServer)&&(null===(n=this._params.selectionContextAvailability.get())||void 0===n?void 0:n.contextUpdatesClient)};this._getSkills(),this._getContext(l)}))}_getSkills(){if(this._params.skillService){const e={skills:0===this._skills.length?this._params.skillService.getSkills():x.pG(this._skills),shouldShowSkills:(0,a.pipe)(this._params.experimentService?this._params.experimentService.isGateEnabled(Ke.V.CheetahFetchSkills):x.pG(!1),x.qE((e=>new Error(e))))};(0,we.s)("getSkills",w.J(we.z)(e),this._logger,(({skills:e,shouldShowSkills:t})=>{t&&(this._skills=e,this._session.modify(re.fold({starting:a.identity,contextless:e=>Object.assign(Object.assign({},e),{nonContextualActions:this._skills.map((e=>J.createSkillAction(e)))}),started:e=>e.activeContext.availableActions.some((e=>"skillAction"===e.kind))?e:Object.assign(Object.assign({},e),{activeContext:Object.assign(Object.assign({},e.activeContext),{availableActions:e.activeContext.availableActions.concat(this._skills.map((e=>J.createSkillAction(e))))}),activeBoundaryContext:Object.assign(Object.assign({},e.activeBoundaryContext),{availableActions:e.activeBoundaryContext.availableActions.concat(this._skills.map((e=>J.createSkillAction(e))))})})})))}),(e=>{this._params.logService.logEvent(function(e){return{kind:"error",source:"skill",name:"getSkillsFailed",data:e}}({reason:(0,ye.$)(e).message}))}))}}_setUpSelectionAvailabilityChangeHandlers(e){const t=e.pipe(O.T((e=>!!(null==e?void 0:e.contextUpdatesClient))));this._subs.push(t.pipe(d.n((e=>e?this._params.textEditorService.selectedRange.pipe(R.i(1),B.oE,N.Z(500),P.M((e=>this._handleSelectedRangeUpdate(e)))):D.w))).subscribe()),this._subs.push(t.pipe(d.n((e=>e?(0,ke.b)(this._params.textEditorService.textUpdated).pipe(P.M((()=>this._handleTextUpdated()))):D.w))).subscribe()),this._subs.push(t.pipe(P.M((e=>{this._session.modify((t=>Object.assign(Object.assign({},t),{selectionContextStatus:e?re.SelectionContextStatus.dynamic:re.SelectionContextStatus.static})))}))).subscribe())}_handleSelectedRangeUpdate(e){this._logger.debug("Handling selected range update.",{selectedRange:e}),(0,we.s)("getText",this._params.textEditorService.getText(e),this._logger,(t=>{t.trim().length?(this._session.modify(re.fold({starting:a.identity,contextless:a.identity,started:n=>Object.assign(Object.assign({},n),{mode:"rewrite",activeContext:Object.assign(Object.assign({},n.activeContext),{kind:"pending",isBoundary:!0,textRevision:s.some(n.textRevision),selection:s.some({text:t,range:e})}),activeBoundaryContext:Object.assign(Object.assign({},n.activeBoundaryContext),{kind:"pending",isBoundary:!0,textRevision:s.some(n.textRevision),selection:s.some({text:t,range:e})}),selectedRange:s.some(e),selectedText:(0,a.pipe)(s.some(t),s.filter((e=>e.length>0)))})})),this._getContext(void 0,void 0,!0)):this._session.modify((e=>Object.assign(Object.assign({},e),{selectedRange:s.none,selectedText:s.none})))}))}_handleTextUpdated(){this._logger.debug("Handling text update."),this._session.modify(re.fold({starting:a.identity,contextless:a.identity,started:e=>Object.assign(Object.assign({},e),{textRevision:e.textRevision+1})}))}_setupSessionModeUpdater(){"quickReply"===this._params.genAIStartSessionOptions.mode&&this._params.textEditorService.trimmedTextLength&&this._subs.push((0,ke.b)(this._params.textEditorService.trimmedTextLength).pipe(m.p((e=>e>0)),f.s(1)).subscribe((()=>{this._session.modify((e=>Object.assign(Object.assign({},e),{mode:"quickReply"===e.mode?"ideation":e.mode})))})))}submitAction(e,t){this._logger.debug("Submitting action.",{actionValue:e,selectedVoice:t}),this._submitAction(e,void 0,void 0,void 0,void 0,t)}setVoiceProfile(e){return this._logger.debug("Setting voice profile (legacy).",{voiceProfileSelections:e}),(0,a.pipe)(De(this._session.get()),x.Tj((t=>(this._session.set(Object.assign(Object.assign({},t),{voiceProfile:Object.assign(Object.assign({},t.voiceProfile),e),activeContext:Object.assign(Object.assign({},t.activeContext),{kind:"pending"})})),t))),x.cy((t=>(0,a.pipe)(this._params.capiService.cheetahSetVoice({voice:{selectedStyle:e.selectedStyle,selectedTones:Array.from(e.selectedTonesPerStyle.get(e.selectedStyle)||[]),selectedRole:(0,a.pipe)(e.selectedRole,s.toUndefined),needSetup:!1}}),x.wu((e=>new Error(`CAPIService.cheetahSetVoice error: ${e.message}`)),(()=>!Ce.Dialect.Id.eq.equals(t.voiceProfile.selectedDialect,e.selectedDialect))),x.cy((t=>t?w.C(x.ys)((0,a.pipe)(this._params.capiService.set_context({documentContext:{dialect:e.selectedDialect}}),x.qE((e=>new Error(`CAPIService.setContext error: ${e.message}`)))),(0,a.pipe)(this._params.userService.setDialect(e.selectedDialect),x.qE((e=>new Error(`UserService.setDialect error: ${e.message}`))))):x.of(null))),x.wu((e=>(this._params.logService.logEvent((0,oe.bf)({reason:(0,ye.$)(e).message})),e)),a.constVoid)))))}setNewVoiceProfile(e){var{selectedDialect:t}=e,n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["selectedDialect"]);return this._logger.debug("Setting voice profile (new).",{dialect:t,voiceProfile:n}),(0,a.pipe)(De(this._session.get()),x.Tj((e=>(this._session.set(Object.assign(Object.assign({},e),{activeContext:Object.assign(Object.assign({},e.activeContext),{kind:"pending"})})),e))),x.cy((e=>(0,a.pipe)(this._params.capiService.cheetahSetVoiceProfile({role:(0,a.pipe)(n.selectedRole,s.toUndefined),isEnabledByDefault:n.isEnabledByDefault,profiles:n.profiles}),x.wu((e=>new Error(`CAPIService.cheetahSetVoiceProfile error: ${e.message}`)),(()=>!Ce.Dialect.Id.eq.equals(e.voiceProfile.selectedDialect,t))),x.cy((e=>e?w.C(x.ys)((0,a.pipe)(this._params.capiService.set_context({documentContext:{dialect:t}}),x.qE((e=>new Error(`CAPIService.setContext error: ${e.message}`)))),(0,a.pipe)(this._params.userService.setDialect(t),x.qE((e=>new Error(`UserService.setDialect error: ${e.message}`))))):x.of(null))),x.wu((e=>(this._params.logService.logEvent((0,oe.PH)({reason:(0,ye.$)(e).message})),e)),a.constVoid)))))}stopInProgressResult(){return this._logger.debug("Stopping in-progress result."),(0,a.pipe)(this._session.get(),x.aN(re.isStartedWithInProgressResult,(()=>new Error("Session has no in-progress result."))),x.cy((e=>(this._clearResultRelatedTimeouts(),this._session.modify((t=>Object.assign(Object.assign({},t),{activeContext:(0,a.pipe)(e.results.length>0?this._extractLatestResultContext(e):this._extractInitialContext(),s.getOrElse((()=>e.activeContext))),inProgressResult:se.Q.isInProgressPending(e.inProgressResult.value)?s.some(Object.assign(Object.assign({},e.inProgressResult.value),{kind:"inProgressInterrupted"})):se.Q.isInProgressInterrupted(e.inProgressResult.value)?e.inProgressResult:se.Q.isInProgressOngoing(e.inProgressResult.value)?s.none:(0,h.AS)(e.inProgressResult.value)}))),(0,a.pipe)(e.inProgressResult.value,s.fromPredicate(se.Q.isInProgressOngoing),s.fold((()=>x.of(-1)),(e=>this._params.capiService.cheetahInterrupt({promptId:se.Q.Id.toPrimitive(e.id)}))))))),x.wu((e=>(this._params.logService.logEvent((0,oe.JE)({reason:(0,ye.$)(e).message})),e)),a.constVoid))}regenerateResult(e,t,n){this._logger.debug("Regenerating result.",{resultId:e,options:t,selectedVoice:n}),(0,a.pipe)(re.toStarted(this._session.get()),j.jw((()=>{this._params.logService.logEvent((0,oe.dF)({resultId:e,reason:"session-not-started"}))})),s.chain((t=>(0,a.pipe)(s.fromNullable(this._resultById.get(e)),s.filter(se.Q.isComplete),s.filter((e=>e.supportedActions.has(se.Q.SupportedAction.rephrase))),s.map((e=>({session:t,result:e}))),j.jw((()=>{this._params.logService.logEvent((0,oe.dF)({resultId:e,reason:"not-found"}))}))))),s.chain((({session:t,result:n})=>(0,a.pipe)(w.J(s.option)({resultSource:n.source,boundaryContextId:n.boundaryContextId}),s.map((({resultSource:e,boundaryContextId:i})=>({resultSource:e,boundaryContextId:i,resultText:Pe(n),session:t}))),j.jw((()=>{this._params.logService.logEvent((0,oe.dF)({resultId:e,reason:"no-source-action"}))}))))),s.map((({resultSource:i,boundaryContextId:r,resultText:o})=>{const l=i.actionValue,c=s.getMonoid(C.CA()).concat,d=(0,a.pipe)(l,s.fromPredicate(J.isUserPromptActionValue),s.fold((0,a.constant)(l),(e=>Object.assign(Object.assign({},e),{omitReferenceIds:c(e.omitReferenceIds,t.omitReferenceIds)})))),u=this._contextIdByResultId.get(e);void 0===u&&this._params.logService.logEvent({kind:"warn",source:"core",name:"regenerateResultContextNotFound",data:null}),this._submitAction(d,i.contextId,u,r,{kind:"regular",text:o},n),this._params.userActionTrackingService.trackResultRephrase(u)})))}searchReferences(e){const t=this._session.get();"started"===t.kind?t.detectedReferences.has(e)||(this._session.set(Object.assign(Object.assign({},t),{detectedReferences:new Map(t.detectedReferences).set(e,s.none)})),this._setupCheetahAckHandler("searchReferences",(t=>{this._searchReferencesUrlsById.set(t,e)})),(0,we.s)("cheetahSearchReferences",this._params.capiService.cheetahSearchReferences({url:e}),this._logger)):this._logger.warn("Failed to search references, session not started.",{referencesUrl:e})}dismissResult(e){this._logger.debug("Dismissing result.",{resultId:e});const t=this._session.get();let n=null;if("started"===t.kind)if(this._resultById.delete(e)){const i=t.results.findIndex((t=>t.id===e));n=t.results[i];let r=t.activeContext,o=t.activeBoundaryContext,l=null;if(0===i&&t.results.length>1){this._logger.debug("Dismissing latest result, will try to restore context from previous result.",{session:t,resultId:e});const n=s.toUndefined(this._extractPreviousResultContext(t)),i=(0,a.pipe)(this._extractPreviousResultBoundaryContext(t),s.alt((()=>s.fromNullable(this._initialReceivedContext))),s.toUndefined),c=s.toUndefined(this._extractLatestResultBoundaryContext(t));n?i!==c?(this._logger.debug("Dismissing result, previous result was for different boundary context, will keep currently active boundary context.",{session:t,resultId:e}),r=t.activeBoundaryContext):(this._logger.debug("Dismissing result, found context for previous result, will restore its context.",{session:t,resultId:e,previousResultContext:n}),r=n,i&&(o=i)):t.results[1]&&se.Q.isHistory(t.results[1])&&(0,a.pipe)(s.fromNullable(this._contextIdByResultId.get(t.results[1].id)),s.chain((e=>s.fromNullable(this._contextById.get(e)))),s.isNone)?l=t.results[1].id:this._logger.warn("Failed to find context for previous result after dismissing result.",{resultId:e})}else 1===t.results.length&&(r=t.activeBoundaryContext);this._session.set(Object.assign(Object.assign({},t),{activeContext:Object.assign(Object.assign({},r),{kind:null!==l?"pending":r.kind,availableActions:l?[]:r.availableActions}),activeBoundaryContext:o,results:t.results.filter((t=>!se.Q.Id.eq.equals(t.id,e)))}));const c=this._contextIdByResultId.get(e);this._params.userActionTrackingService.trackResultDismiss(c,se.Q.isHistory(n)?e:void 0),"aiUsageNotification"===n.kind&&this._params.userActionTrackingService.trackAINotificationDismiss("document"),l&&this._getContext(void 0,l)}else this._logger.warn("Failed to dismiss result, result does not exist.",{resultId:e});else this._logger.warn("Failed to dismiss result, session not started.",{resultId:e})}dismissError(){this._logger.debug("Dismissing error."),this._session.lens("error").set(s.none)}restoreHistory(){this._getHistory()}trackResultInsert(e,t=!1){this._logger.debug("Tracking result insert.",{resultId:e,isUserVoice:t});const n=this._resultById.get(e);if(n){const i=this._contextIdByResultId.get(e);this._params.userActionTrackingService.trackResultInsert(i,se.Q.isHistory(n)?n.id:void 0,t)}else this._logger.warn("Failed to track result insert, result does not exist.",{resultId:e})}trackResultCopy(e,t=!1){this._logger.debug("Tracking result copy.",{resultId:e,isUserVoice:t});const n=this._resultById.get(e);if(n){const i=this._contextIdByResultId.get(e);this._params.userActionTrackingService.trackResultCopy(i,se.Q.isHistory(n)?n.id:void 0,t)}else this._logger.warn("Failed to track result copy, result does not exist.",{resultId:e})}_trackResultGenerationCompleted(e){this._logger.debug("Tracking result generation-complete.",{resultId:e});const t=this._resultById.get(e);if(t){const n=this._contextIdByResultId.get(e);this._params.userActionTrackingService.trackResultGenerationCompleted(n,se.Q.isHistory(t)?t.id:void 0)}else this._logger.warn("Failed to track result generation-complete, result does not exist.",{resultId:e})}trackResultOffensive(e){this._logger.debug("Tracking result as offensive.",{resultId:e});const t=this._resultById.get(e);if(t){const n=this._contextIdByResultId.get(e);this._params.userActionTrackingService.trackResultOffensive(n,se.Q.isHistory(t)?t.id:void 0)}else this._logger.warn("Failed to track result as offensive, result does not exist.",{resultId:e})}trackActionsOffensive(){this._logger.debug("Tracking actions as offensive.");const e=this._session.get();"started"===e.kind?this._params.userActionTrackingService.trackActionsOffensive(e.activeContext.id):this._logger.warn("Failed to track actions as offensive, session not started.")}getContextById(e){return s.fromNullable(this._contextById.get(e))}dismissActiveBoundaryContext(e){this._logger.debug("Dismissing active boundary context.",{restorePreviousBoundaryContext:e});const t=(0,a.pipe)(re.toStarted(this._session.get()),s.map((e=>e.activeContext.id!==e.activeBoundaryContext.id)),s.getOrElse(a.constFalse));if(e&&t)return void this._logger.warn("Failed to dismiss active boundary context, cannot simultaneously dismiss boundary context with results and restore previous one.");const n=t||!e,i=s.toNullable((0,a.pipe)(this._session.get(),re.toStarted,s.chain((e=>this._extractLatestResultContext(e))))),r=s.toNullable((0,a.pipe)(this._session.get(),re.toStarted,s.chain((e=>this._extractLatestResultBoundaryContext(e))),s.alt((()=>this._extractInitialContext()))));this._session.modify(re.fold({starting:a.identity,contextless:a.identity,started:e=>n?Object.assign(Object.assign({},e),{mode:"ideation",activeContext:Object.assign(Object.assign({},e.activeContext),{kind:"pending",isBoundary:!0,textRevision:s.some(e.textRevision),selection:s.none}),activeBoundaryContext:Object.assign(Object.assign({},e.activeBoundaryContext),{kind:"pending",isBoundary:!0,textRevision:s.some(e.textRevision),selection:s.none}),selectedRange:s.none,selectedText:s.none}):i&&r?Object.assign(Object.assign({},e),{mode:e.results.length?e.mode:"ideation",activeContext:i,activeBoundaryContext:r}):Object.assign(Object.assign({},e),{kind:"starting",activeContext:Object.assign(Object.assign({},e.activeContext),{selection:s.none,kind:"pending"}),activeBoundaryContext:void 0,selectedRange:s.none,selectedText:s.none})})),i&&r&&!n||this._getContext(void 0,void 0,n)}dispose(){this._subs.dispose()}_getContext(e,t,n=!1){var i,r;return Xe(this,void 0,void 0,(function*(){if(this._logger.debug("Getting context.",{data:e,fetchContextForHistoryCardId:t}),"contextless"===this._session.get().kind)return void this._logger.debug("Getting context for a contextless session, skipping.");try{yield Se(this._capiCheckingStatus.pipe(m.p((e=>"unknown"!==e&&"some_checks_in_progress"!==e))),1e4)}catch(e){this._params.logService.logEvent({kind:"warn",source:"core",name:"waitForStableCAPICheckingStatusTimeout",data:null})}this._setupCheetahAckHandler("getContext",(e=>{this._setupContextTimeout("getContext"),void 0!==t&&this._historyResultIdByGetContextMessageId.set(e,t),n&&this._contextMessageIdsTriggeredBySelectionChanges.add(e)}));const o=this._session.get();(0,we.s)("cheetahGetContext",this._params.capiService.cheetahGetContext(null!=e?e:{generationMode:Ge(n?"rewrite":o.mode),selectedRange:s.toUndefined(o.selectedRange),outerContext:s.toUndefined(Qe(o)),stateBlob:(0,a.pipe)(re.toStarted(o),s.map((e=>e.activeContext)),s.fold(a.constUndefined,(e=>this._stateBlobByContextId.get(e.id)))),previousText:!n&&"started"===o.kind&&o.results.length>0&&se.Q.isStandardCompletedResult(o.results[0])?ze(o.results[0]):void 0,includeDisabledActions:this._params.selectionContextAvailability&&(null===(i=this._params.selectionContextAvailability.get())||void 0===i?void 0:i.contextUpdatesServer)&&(null===(r=this._params.selectionContextAvailability.get())||void 0===r?void 0:r.contextUpdatesClient)}),this._logger,(()=>{this._params.logService.logEvent({kind:"info",source:"core",name:"getContextSuccessful",data:null})}),(()=>{const e=ne.createCriticalError((0,a.pipe)(re.toStarting(this._session.get()),s.isSome));this._session.modify(re.fold({starting:t=>Object.assign(Object.assign({},t),{error:s.some(e),kind:"contextless",nonContextualActions:this._skills.map((e=>J.createSkillAction(e)))}),contextless:t=>Object.assign(Object.assign({},t),{error:s.some(e)}),started:t=>Object.assign(Object.assign({},t),{error:s.some(e),inProgressResult:s.none})})),this._params.logService.logEvent((0,oe.Fb)())}))}))}_handleCheetahSetContext(e){var t,n;return Xe(this,void 0,void 0,(function*(){this._logger.debug("Handling `cheetah:setContext`.",{message:e}),this._clearContextTimeout();const i=this._session.get(),r=(0,a.pipe)(s.fromNullable(null===(t=e.context)||void 0===t?void 0:t.voiceProfileSettings),s.fold((()=>Le(e.context.voice,i,this._upstreamDialect.get())),(t=>je(t,e.context.voice,i,this._upstreamDialect.get())))),o={id:X.Id.create(e.context.id),availableActions:Ue(X.Id.create(e.context.id),e.context.availableActions,this._skills),userPromptAction:$e(e.context.promptAction,this._logger),quickRewriteAction:He(e.context.quickRewriteAction),intent:Ve(e.context.intent),documentOverview:Ze(e.context.documentOverview),specialView:s.fromNullable(e.context.specialView),selection:this._historyResultIdByGetContextMessageId.has(e.promptId)?s.none:(0,a.pipe)(w.J(s.option)({text:i.selectedText,range:i.selectedRange})),textRevision:s.some(i.textRevision)},l=0===this._contextById.size;let c=e.progressMessage?Object.assign(Object.assign({},o),{kind:"pending",isBoundary:!1}):Object.assign(Object.assign({},o),{kind:"received",isBoundary:l||this._contextMessageIdsTriggeredBySelectionChanges.has(e.promptId)});if(this._shouldSkipContextUpdate(e))return void this._logger.debug("Skipping `cheetah:setContext` for missing history card.");const d=yield Ye(c,e,this._session.get(),(e=>this._params.textEditorService.getText(e)),null===(n=this._params.selectionContextAvailability)||void 0===n?void 0:n.get());c=(0,a.pipe)(s.fromEither(d),s.fold((()=>c),(t=>Object.assign(Object.assign({},c),{isBoundary:!0,selection:t,availableActions:Ue(X.Id.create(e.context.id),e.context.availableActions,this._skills)})))),0===this._contextById.size&&X.isReceived(c)&&(this._initialReceivedContext=c),this._contextById.set(c.id,c),this._stateBlobByContextId.set(c.id,e.context.stateBlob),this._bindContextToHistoryCardIfNeeded(e,c.id);const u=(0,a.pipe)(i.writingExpertContext,s.chain((e=>he.getInitialResult(e))),j.Mi((e=>{this._resultById.set(e.id,e),this._contextIdByResultId.set(e.id,c.id)})),s.fold((()=>[]),(e=>[e])));if(this._session.set(Object.assign(Object.assign({},i),{kind:"started",voiceProfile:r,activeContext:c,activeBoundaryContext:c.isBoundary?c:"started"===i.kind?i.activeBoundaryContext:c,inProgressResult:"started"===i.kind?(0,a.pipe)(i.inProgressResult,s.map((e=>Object.assign(Object.assign({},e),{boundaryContextId:c.isBoundary?s.some(c.id):e.boundaryContextId})))):s.none,results:"started"===i.kind?i.results:u,detectedReferences:"started"===i.kind?i.detectedReferences:new Map,selectedRange:(0,a.pipe)(d,E.fold((()=>i.selectedRange),(e=>(0,a.pipe)(e,s.map((({range:e})=>e)))))),selectedText:(0,a.pipe)(d,E.fold((()=>i.selectedText),(e=>(0,a.pipe)(e,s.map((({text:e})=>e))))))})),(0,a.pipe)(s.fromNullable(e.context.contextNotification),j.Mi((({text:t})=>{this._pushNotification(be.create("information",t,`contextNotification:${e.id}`,!0)),this._params.userActionTrackingService.trackContexNotification("context")}))),l&&ae.Y.isQuickRewrite(i.mode)){const t=J.QuickRewriteActionValue.fromInput(He(e.context.quickRewriteAction));this._logger.debug("Handling initial `cheetah:setContext` for quick rewrite session, submitting quick rewrite action.",{session:i,message:e,quickRewriteAction:t}),this._submitAction(t)}}))}_shouldSkipContextUpdate(e){return(0,a.pipe)(s.fromNullable(this._historyResultIdByGetContextMessageId.get(e.promptId)),s.fold(a.constFalse,(e=>(0,a.pipe)(re.toStarted(this._session.get()),s.map((e=>e.results)),s.fold(a.constTrue,(t=>!t.some((t=>t.id===e))))))))}_bindContextToHistoryCardIfNeeded(e,t){(0,a.pipe)(s.fromNullable(this._historyResultIdByGetContextMessageId.get(e.promptId)),s.filter((e=>(0,a.pipe)(s.fromNullable(this._contextIdByResultId.get(e)),s.fold(a.constTrue,(e=>void 0===this._contextById.get(e)))))),j.Mi((e=>this._contextIdByResultId.set(e,t))))}_handleCheetahSetUserState(e){this._logger.debug("Handling `cheetah:setUserState`.",{message:e}),this._session.modify((t=>Object.assign(Object.assign({},t),{historyStatus:Ne(t,e.state.historyItems)})))}_getHistory(){this._logger.debug("Getting history."),void 0===this._historyAckHandler?(this._historyAckHandler=()=>{this._historyAckHandler=void 0,this._setupHistoryTimeout()},this._setupCheetahAckHandler("getHistory",this._historyAckHandler),this._session.lens("historyStatus").set(re.HistoryStatus.historyRequested),(0,we.s)("cheetahGetHistory",this._params.capiService.cheetahGetHistory(),this._logger,(()=>{this._params.logService.logEvent({kind:"info",source:"core",name:"getHistorySuccessful",data:null})}),(()=>{this._params.logService.logEvent((0,oe.cv)())}))):this._logger.warn("Failed to get history, `cheetah:getHistory` request hasn't been ack'ed yet.")}_handleCheetahSetHistory(e){void 0!==this._historyAckHandler&&(this._removeCheetahAckHandler(this._historyAckHandler),this._historyAckHandler=void 0),this._clearHistoryTimeout();const t=this._session.get();"started"===t.kind?(0,a.pipe)(e.cards,S.Tj((e=>se.Q.History.createFromCard(e,void 0!==this._params.textEditorService.copyText))),S.BE,C._S,s.fold((()=>this._session.lens("historyStatus").set(re.HistoryStatus.noHistory)),(e=>{e.forEach((e=>this._resultById.set(e.id,e))),this._session.set(Object.assign(Object.assign({},t),{activeContext:Object.assign(Object.assign({},t.activeContext),{kind:"pending",textRevision:s.none,availableActions:[],selection:s.none}),historyStatus:re.HistoryStatus.historyRestored,results:[...t.results,...e],selectedRange:s.none,selectedText:s.none})),this._getContext(void 0,e[0].id)}))):this._logger.warn("Failed to handle `cheetah:setHistory`, session not started.")}_handleCheetahChunk(e){this._logger.debug("Handling `cheetah:chunk`.",{message:e});const t=this._session.get();if("started"!==t.kind)return void this._logger.warn("Failed to handle `cheetah:chunk`, session not started.");const n=se.Q.Id.create(e.promptId);(0,a.pipe)(t.inProgressResult,s.filter(se.Q.isInProgressOngoing),s.filter((e=>se.Q.Id.eq.equals(e.id,n))),s.fold((()=>{const e=(0,a.pipe)(t.inProgressResult,s.filter(se.Q.isInProgressOngoing),s.map((e=>e.id)),s.toNullable);this._params.logService.logEvent(function(e){return{kind:"warn",source:"core",name:"unexpectedChunkReceived",data:e}}({expectedInProgressResultId:e,receivedInProgressResultId:n}))}),(n=>{this._clearResultRelatedTimeouts(),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:s.some(Object.assign(Object.assign({},n),{text:n.text+e.token}))})),this._setupResultTimeout()})))}_handleCheetahResult(e){return Xe(this,void 0,void 0,(function*(){this._logger.debug("Handling `cheetah:result`.",{message:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("Failed to handle `cheetah:result`, session not started.");const n=se.Q.Id.create(e.promptId);try{yield(0,a.pipe)(t.inProgressResult,s.filter(se.Q.isInProgressOngoing),s.filter((e=>se.Q.Id.eq.equals(e.id,n))),s.fold((()=>{const e=(0,a.pipe)(t.inProgressResult,s.filter(se.Q.isInProgressOngoing),s.map((e=>e.id)),s.toNullable);return this._params.logService.logEvent(function(e){return{kind:"warn",source:"core",name:"unexpectedResultReceived",data:e}}({expectedInProgressResultId:e,receivedInProgressResultId:n})),Promise.resolve(void 0)}),(i=>Xe(this,void 0,void 0,(function*(){var r,o,l,c;if(this._clearResultRelatedTimeouts(),e.error||!e.text||""===e.text.plain){const i=e.error?ne.create(e.error):ne.createEmptyResultError();this._logger.warn("Received `cheetah:result` with error.",{resultId:n,errorReason:i.reason}),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:s.none,error:s.some(i)}))}else if(e.text.interrupted)this._logger.debug("Received `cheetah:result` with interrupted text, skipping.",{session:t,message:e});else{let n,d,u,p;n="aiUsageAlert"===(null===(o=null===(r=e.context)||void 0===r?void 0:r.specialView)||void 0===o?void 0:o.kind)?se.Q.AIUsageNotification.fromInProgressResult(i,e.text.plain):Object.assign(Object.assign({},i),{text:e.text.plain,kind:"complete",timestamp:Date.now(),replacementDelta:se.Q.ResultDelta.createFromResultMessage(e),supportedActions:(0,a.pipe)((c=i.source,(0,a.pipe)(c,s.map((e=>e.actionValue.generatesTextType)),s.filter(j.gR(ie.nN.Insertable)),s.fold((()=>_.Ie),(()=>_.tP(new Set([se.Q.SupportedAction.rephrase,se.Q.SupportedAction.insert])))))),_.Yr(L.kK)(se.Q.SupportedAction.copy)),references:We(e),changesSummary:te(e)}),this._logger.debug("Received complete `cheetah:result`, saving complete result into history.",{session:t,message:e,result:n});let m=E.left(void 0);if(e.context){const r=e.context;u=r.voiceProfileSettings?je(r.voiceProfileSettings,r.voice,t,this._upstreamDialect.get()):Le(r.voice,t,this._upstreamDialect.get()),d={kind:"received",id:X.Id.create(r.id),availableActions:Ue(X.Id.create(e.context.id),r.availableActions,this._skills),userPromptAction:$e(r.promptAction,this._logger),intent:Ve(r.intent),documentOverview:Ze(r.documentOverview),specialView:s.fromNullable(r.specialView),selection:this._historyResultIdByGetContextMessageId.has(e.promptId)?s.none:(0,a.pipe)(i.boundaryContextId,s.chain((e=>(0,a.pipe)(s.fromNullable(this._contextById.get(e)),s.chain((({selection:e})=>e)))))),isBoundary:!1,textRevision:(0,a.pipe)((0,a.pipe)(i.boundaryContextId,s.chain((e=>s.fromNullable(this._contextById.get(e)))),s.chain((({textRevision:e})=>e))))},m=yield Ye(d,e,this._session.get(),(e=>this._params.textEditorService.getText(e)),null===(l=this._params.selectionContextAvailability)||void 0===l?void 0:l.get()),d=(0,a.pipe)(s.fromEither(m),s.fold((()=>d),(e=>Object.assign(Object.assign({},d),{isBoundary:!0,selection:e,availableActions:Ue(X.Id.create(r.id),r.availableActions,this._skills)})))),d.isBoundary&&(n=Object.assign(Object.assign({},n),{boundaryContextId:s.some(d.id)})),p=r.stateBlob,this._logger.debug("Received `cheetah:result` with context, will update voice profile and context accordingly.",{session:t,message:e,voiceProfile:u,context:d})}else this._logger.warn("Received `cheetah:result` without context.",{resultId:n.id}),u=t.voiceProfile,d=t.activeContext,p=this._stateBlobByContextId.get(t.activeContext.id);this._contextById.set(d.id,d),void 0!==p&&this._stateBlobByContextId.set(d.id,p),this._resultById.set(n.id,n),this._contextIdByResultId.set(n.id,d.id),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:u,activeContext:d,inProgressResult:s.none,results:[n,...t.results],selectedRange:(0,a.pipe)(m,E.fold((()=>t.selectedRange),(e=>(0,a.pipe)(e,s.map((({range:e})=>e)))))),selectedText:(0,a.pipe)(m,E.fold((()=>t.selectedText),(e=>(0,a.pipe)(e,s.map((({text:e})=>e))))))})),this._trackResultGenerationCompleted(n.id)}})))))}catch(e){const t=(0,ye.$)(e);return this._logger.warn("Failed to handle `cheetah:result`.",{resultId:n,reason:t.message})}}))}_handleCheetahSearchReferencesResult(e){const t=this._session.get();if("started"===t.kind){const n=this._searchReferencesUrlsById.get(e.promptId);if(n){const i=e.references[0];i&&this._session.set(Object.assign(Object.assign({},t),{detectedReferences:new Map(t.detectedReferences).set(n,s.some(xe.O.create(i)))}))}else this._logger.warn("Failed to handle `cheetah:searchReferencesResult`, no corresponding `cheetah:searchReferences` request.")}else this._logger.warn("Failed to handle `cheetah:searchReferencesResult`, session not started.")}_handleCheetahError(e){this._logger.debug("Handling `cheetah:error`.",{message:e}),this._clearAllTimeouts();const t=ne.create(e.error);this._logger.warn("Received `cheetah:error`.",{errorKind:e.error.kind}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:s.none,error:s.some(t)})))}_handleUpstreamDialectChange(e){this._logger.debug("Handling upstream dialect change.",{upstreamDialect:e});const t=this._session.get();if("started"===t.kind){const n=Ce.Dialect.Id.create(e);this._logger.debug("Dialect changed on upstream services, updating selected dialect on voice profile.",{session:t,selectedDialect:n}),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:Object.assign(Object.assign({},t.voiceProfile),{selectedDialect:n})}))}}_handleCheetahAck(e){this._logger.debug("Handling `cheetah:ack`.",{message:e}),this._clearCheetahAckTimeout(),this._cheetahAckIds.add(e.id);const t=this._cheetahAckHandlers.length>0?this._cheetahAckHandlers[0]:void 0;t&&(this._logger.debug("Extracting `cheetah:ack` handler from queue and executing it.",{message:e,cheetahAckHandlers:this._cheetahAckHandlers}),this._cheetahAckHandlers=this._cheetahAckHandlers.slice(1),t(e.id))}_handleError(e){if(this._cheetahAckIds.has(e.id))if(this._clearAllTimeouts(),e.error===K.O4.SESSION_NOT_INITIALIZED){const t=(0,a.pipe)(re.toStarted(this._session.get()),s.map((e=>this._stateBlobByContextId.get(e.activeContext.id))),s.toUndefined);this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:s.none}))),this._startSession(t),this._params.logService.logEvent(function(e){return{kind:"warn",source:"core",name:"capiErrorHandled",data:e}}({capiError:e}))}else{const t=ne.createCriticalError((0,a.pipe)(re.toStarting(this._session.get()),s.isSome));this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:s.none,error:s.some(t)}))),this._params.logService.logEvent((0,oe.hV)({capiError:e}))}else this._params.logService.logEvent((0,oe.hV)({capiError:e}))}_submitAction(e,t,n,i,r,o){var l,c;this._logger.debug("Submitting action.",{actionValue:e,contextId:t,triggerContextId:n,boundaryContextId:i,previousText:r,selectedVoice:o});const d=this._session.get();if("started"===d.kind){const u=null!==(l=null!=t?t:null==e?void 0:e.contextId)&&void 0!==l?l:d.activeContext.id,p=null!=n?n:u,m=null!=i?i:d.activeBoundaryContext.id,f=(null!=r?r:void 0!==(null==e?void 0:e.contextId))?void 0:d.results.length>0&&se.Q.isStandardCompletedResult(d.results[0])?ze(d.results[0]):void 0,g=this._stateBlobByContextId.get(u);if(void 0===g)return void this._logger.warn("Failed to submit action, cannot find state blob for context ID.",{contextId:u,triggerContextId:n});const v="aiUsageNotification"===(null===(c=d.results[0])||void 0===c?void 0:c.kind)?d.results.slice(1):d.results;this._session.set(Object.assign(Object.assign({},d),{results:v,historyStatus:re.HistoryStatus.restoreDisabled,activeContext:Object.assign(Object.assign({},d.activeContext),{kind:"pending"}),inProgressResult:s.isSome(e.generatesTextType)?s.some({kind:"inProgressPending",header:{label:J.isUserPromptActionValue(e)?e.arg.value:e.label,iconUrl:J.isUserPromptActionValue(e)||""===e.icon.right.trim()?s.none:s.some(e.icon.right),copiablePrompt:J.isUserPromptActionValue(e)&&""!==e.arg.value.trim()?s.some(e.arg.value):s.none},text:"",source:s.some({contextId:u,actionValue:e}),boundaryContextId:s.some(m)}):s.none,error:s.none})),this._setupCheetahAckHandler("action",(e=>{(0,a.pipe)(re.toStarted(this._session.get()),s.chain((e=>e.inProgressResult)),s.filter((0,U.Ub)(se.Q.isInProgressPending,se.Q.isInProgressInterrupted)),s.fold((()=>(this._logger.debug("Received `cheetah:ack` related to in-progress-pending result but we don't have an in-progress-pending result, skipping.",{ackId:e}),x.of(void 0))),(t=>{if(se.Q.isInProgressInterrupted(t))return this._logger.debug("Received `cheetah:ack` related to in-progress-interrupted result, sending `cheetah:interrupt`.",{ackId:e}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:s.none}))),this._params.capiService.cheetahInterrupt({promptId:e});if(se.Q.isInProgressPending(t)){this._setupContextTimeout("action"),this._setupResultTimeout();const n=Object.assign(Object.assign({},t),{kind:"inProgressOngoing",id:se.Q.Id.create(e)});return this._logger.debug("Received `cheetah:ack` related to in-progress-pending result, transitioning result to in-progress-ongoing.",{ackId:e,inProgressResult:n}),this._resultById.set(n.id,n),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:s.some(n)}))),x.of(void 0)}(0,h.AS)(t)})))()}));const b=Object.assign({contextId:u,triggerContextId:p,actionId:e.id,args:J.isUserPromptActionValue(e)?[{name:e.arg.id,value:e.arg.value}]:(0,a.pipe)(C._S(e.args),s.fold((()=>[]),(e=>e.map((e=>({name:e.id,value:e.value})))))),stateBlob:g,previousText:f},o?{metadata:{selectedVoice:o}}:null),y=(0,a.pipe)(e,s.fromPredicate(J.isUserPromptActionValue),s.fold((0,a.constant)(b),(e=>Object.assign(Object.assign({},b),{useReferences:s.toUndefined(e.useReferences),omitReferenceIds:s.toUndefined(e.omitReferenceIds)}))));this._logger.debug("Sending `cheetah:action` to CAPI.",{data:y}),(0,we.s)("cheetahAction",this._params.capiService.cheetahAction(y),this._logger,(()=>{this._params.logService.logEvent(function(e){return{kind:"info",source:"core",name:"actionSuccessful",data:e}}({actionId:e.id}))}),(()=>{this._params.logService.logEvent((0,oe.qr)({actionId:e.id}))}))}else this._logger.warn("Failed to submit action, session not started.",{actionId:e.id})}_extractLatestResultContext(e){return this._extractContextFromResult(e,0)}_extractLatestResultBoundaryContext(e){return this._extractBoundaryContextFromResult(e,0)}_extractPreviousResultContext(e){return this._extractContextFromResult(e,1)}_extractPreviousResultBoundaryContext(e){return this._extractBoundaryContextFromResult(e,1)}_extractContextFromResult(e,t){const n=(0,a.pipe)(s.fromNullable(e.results[t]),s.map((e=>e.id)),s.chain((e=>s.fromNullable(this._contextIdByResultId.get(e)))),s.chain((e=>s.fromNullable(this._contextById.get(e)))));return s.isNone(n)&&this._logger.warn("Failed to extract context from result.",{resultIndex:t}),n}_extractBoundaryContextFromResult(e,t){return(0,a.pipe)(s.fromNullable(e.results[t]),s.filter(se.Q.isComplete),s.chain((({boundaryContextId:e})=>e)),s.chain((e=>s.fromNullable(this._contextById.get(e)))),j.jw((()=>{this._logger.warn("Failed to extract boundary context from result.",{resultIndex:t})})))}_extractInitialContext(){return null!==this._initialReceivedContext?s.some(this._initialReceivedContext):(this._logger.warn("Failed to extract initial context."),s.none)}_setupResultTimeout(){this._clearResultTimeout(),this._resultTimeout=F.timer(this._resultTimeoutMs).subscribe((()=>{this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:s.none,error:s.some(ne.createCriticalError((0,a.pipe)(re.toStarting(this._session.get()),s.isSome)))}))),this._params.logService.logEvent((0,oe.J8)())}))}_setupContextTimeout(e){this._logger.debug("Setting up context timeout.",{sourceCommand:e}),this._clearContextTimeout(),this._contextTimeout=F.timer(this._contextTimeoutMs).subscribe((()=>{const t=ne.createCriticalError((0,a.pipe)(re.toStarting(this._session.get()),s.isSome));this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:s.none,error:s.some(t)}))),this._params.logService.logEvent((0,oe.b3)({sourceCommand:e}))}))}_setupHistoryTimeout(){this._clearHistoryTimeout(),this._historyTimeout=F.timer(this._historyTimeoutMs).subscribe((()=>{const e=ne.createCriticalError((0,a.pipe)(re.toStarting(this._session.get()),s.isSome));this._session.modify((t=>Object.assign(Object.assign({},t),{inProgressResult:s.none,error:s.some(e)}))),this._params.logService.logEvent((0,oe.ch)())}))}_setupCheetahAckTimeout(e){this._logger.debug("Setting up `cheetah:ack` timeout.",{sourceCommand:e}),this._clearCheetahAckTimeout(),this._cheetahAckTimeout=F.timer(this._cheetahAckTimeoutMs).subscribe((()=>{const t=ne.createCriticalError((0,a.pipe)(re.toStarting(this._session.get()),s.isSome));this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:s.none,error:s.some(t)}))),this._params.logService.logEvent((0,oe.pJ)({sourceCommand:e}))}))}_clearResultTimeout(){var e;null===(e=this._resultTimeout)||void 0===e||e.unsubscribe(),this._resultTimeout=void 0}_clearContextTimeout(){var e;null===(e=this._contextTimeout)||void 0===e||e.unsubscribe(),this._contextTimeout=void 0}_clearHistoryTimeout(){var e;null===(e=this._historyTimeout)||void 0===e||e.unsubscribe(),this._historyTimeout=void 0}_clearCheetahAckTimeout(){var e;null===(e=this._cheetahAckTimeout)||void 0===e||e.unsubscribe(),this._cheetahAckTimeout=void 0}_clearResultRelatedTimeouts(){this._clearContextTimeout(),this._clearResultTimeout(),this._clearCheetahAckTimeout()}_clearAllTimeouts(){this._clearResultTimeout(),this._clearContextTimeout(),this._clearHistoryTimeout(),this._clearCheetahAckTimeout()}_setupCheetahAckHandler(e,t){this._setupCheetahAckTimeout(e),this._cheetahAckHandlers.push(t)}_removeCheetahAckHandler(e){this._cheetahAckHandlers=this._cheetahAckHandlers.filter((t=>t!==e)),0===this._cheetahAckHandlers.length&&this._clearCheetahAckTimeout()}}var tt=n(91935);const nt={version:"122.1.0"};class it{constructor(e){var t,n;this._params=e,this._commonProperties={version:nt.version,cheetahClientProtocolVersion:tt.WV,clientType:this._params.hostInfo.clientType,clientVersion:this._params.hostInfo.clientVersion,environment:this._params.hostInfo.environment,experience:this._params.experience,userId:null!==(n=this._params.user,t=pe(n)?n.id:void 0)&&void 0!==t?t:""}}logEvent(e){return this._log(e.kind,e.source,e.name,e.data)}getLogger(e){return{debug:(t,...n)=>this._debug(e,t,...n),info:(t,n)=>this._info(e,t,n),warn:(t,n)=>this._warn(e,t,n),error:(t,n)=>this._error(e,t,n)}}_debug(e,t,...n){["dev","test"].includes(this._params.hostInfo.environment)&&console.debug(`[${e}]`,t,...n)}_info(e,t,n){return["dev","test"].includes(this._params.hostInfo.environment)&&console.info(`[${e}]`,t,n),this._log("info",e,t,n)}_warn(e,t,n){return["dev","test"].includes(this._params.hostInfo.environment)&&console.warn(`[${e}]`,t,n),this._log("warn",e,t,n)}_error(e,t,n){return["dev","test"].includes(this._params.hostInfo.environment)&&console.error(`[${e}]`,t,n),this._log("error",e,t,n)}_log(e,t,n,i){const r="info"===e||"prod"!==this._params.hostInfo.environment?"infrequent":"continuous",o="prod"!==this._params.hostInfo.environment?30:90;return function(e){return t=this,n=void 0,r=function*(){if("error"===e.logLevel||"warn"===e.logLevel?console[e.logLevel](e.message,e):console.debug("Sending log.",e.message,e),!["prod","preprod","qa","dev","unknown"].includes(e.environment))return console.debug(`Won't send log for host environment "${e.environment}".`,e);let t=!1;if(e.data)try{JSON.stringify(e.data)}catch(n){console.warn("Failed to JSON.stringify data.",{data:e.data},n),t=!0}try{const n=yield fetch(`https://f-log-assistant.grammarly.io/log?datatier=${e.dataTier}&retention=${e.retentionDays}`,{method:"POST",body:JSON.stringify(Object.assign(Object.assign({logLevel:e.logLevel,source:e.source,message:e.message},e.data?t?{data:"JSON.stringify failure"}:{data:e.data}:{}),e.commonProperties))});if(!n.ok){const e=yield n.text();throw Error(e)}}catch(t){console.warn("Failed to send log.",e,t)}},new((i=void 0)||(i=Promise))((function(e,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((r=r.apply(t,n||[])).next())}));var t,n,i,r}({environment:this._params.hostInfo.environment,dataTier:r,retentionDays:o,logLevel:e,source:t,message:n,commonProperties:this._commonProperties,data:i})}}class rt{constructor(e){this._params=e,this._logger=this._params.logService.getLogger(rt.name),this._commonLabels={version:nt.version,cheetahClientProtocolVersion:tt.WV,clientType:this._params.lifecycleService.hostInfo.clientType,clientVersion:this._params.lifecycleService.hostInfo.clientVersion,environment:this._params.lifecycleService.hostInfo.environment,experience:this._params.experience},this._markedMetricNames=new Set}report(e,{startMarks:t,durationBetweenMarks:n}={}){return i=this,r=void 0,s=function*(){if(!["prod","preprod","qa","dev"].includes(this._params.lifecycleService.hostInfo.environment))return this._logger.debug(`Won't report metric for host environment "${this._params.lifecycleService.hostInfo.environment}".`,{metric:e,startMarks:t,durationBetweenMarks:n});performance.mark(e.name),this._markedMetricNames.add(e.name);const i=Object.entries(Object.assign(Object.assign({},this._commonLabels),e.labels)).map((([e,t])=>({key:e,value:t}))),r=this._getDurationMetrics(null!=t?t:[],e.name,i),o=this._getDurationBetweenMetrics(null!=n?n:[],e.name,i);try{const t=yield fetch(`${rt.FEMETRICS_ENDPOINT}/batch/import`,{method:"POST",body:JSON.stringify([{name:`${e.name}_total`,type:"counter",value:1,labels:i},...r,...o])});if(!t.ok){const e=yield t.text();throw Error(e)}}catch(t){this._params.logService.logEvent(function(e){return{kind:"warn",source:"core",name:"reportMetricFailed",data:e}}({reason:(0,ye.$)(t).message,metric:e}))}},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(n,a)}l((s=s.apply(i,r||[])).next())}));var i,r,o,s}_getDurationBetweenMetrics(e,t,n){return e.map(((e,i,r)=>{var o;const s=null!==(o=r[i+1])&&void 0!==o?o:t;try{return{name:`${e}_to_${s}_duration_ms`,type:"histogram",value:this._measureDurationBetweenMarks(e,s),labels:n}}catch(t){const n=(0,ye.$)(t);return this._logger.warn(`Failed to measure '${e}' to '${s}'.`,{reason:n.message}),null}})).filter(Boolean)}_measureDurationBetweenMarks(e,t){const n=performance.measure(`${e}_to_${t}`,e,t);this._markedMetricNames.add(`${e}_to_${t}`);let i=null==n?void 0:n.duration;if(!i){const n=performance.getEntriesByName(`${e}_to_${t}`).at(-1);if(!n)throw Error("performance.measure had no return value and measure could not be found among entries.");i=n.duration}return i}_getDurationMetrics(e,t,n){return e.map((e=>{try{const i=this._measureDurationBetweenMarks(e,t);return{name:`${t}_duration_ms`,type:"histogram",value:i,labels:n.concat([{key:"startMark",value:e}])}}catch(n){const i=(0,ye.$)(n);return void this._logger.warn(`Failed to measure '${e}' to '${t}'.`,{reason:i.message})}})).filter(Boolean)}dispose(){this._markedMetricNames.forEach((e=>{performance.clearMarks(e),performance.clearMeasures(e)}))}}rt.FEMETRICS_ENDPOINT="https://assistant.femetrics.grammarly.io";const ot=rt;var st=n(62822);class at{constructor(){this._notifications=new l.B7,this._notificationDismissed=D.w}notify(e){return this._notifications.next(e),this._notificationDismissed.pipe(m.p((t=>t===e.id)),st.u("dismissed"),f.s(1))}getNotifications(e){return this._notificationDismissed=e,this._notifications}}var lt=n(89769);function ct(e){return e.split(/\s+/).map((e=>e.trim())).filter((e=>""!==e))}var dt=n(12944);class ut{constructor(e){this._params=e,this._logger=this._params.logService.getLogger(ut.name)}trackResultInsert(e,t,n=!1){this._logger.debug("Tracking result insert.",{contextId:e,historyResultId:t,withVoiceProfile:n}),e||this._logger.warn("Tracking result insert without context ID."),this._trackUxInteraction({kind:"result",userAction:dt._.Result.UserAction.insert},e,t,{withVoiceProfile:n})}trackResultCopy(e,t,n=!1){this._logger.debug("Tracking result copy.",{contextId:e,historyResultId:t,withVoiceProfile:n}),e||this._logger.warn("Tracking result copy without context ID."),this._trackUxInteraction({kind:"result",userAction:dt._.Result.UserAction.copy},e,t,{withVoiceProfile:n})}trackResultOffensive(e,t){this._logger.debug("Tracking result as offensive.",{contextId:e,historyResultId:t}),e||this._logger.warn("Tracking result as offensive without context ID."),this._trackUxInteraction({kind:"result",userAction:dt._.Result.UserAction.offensive},e,t)}trackResultDismiss(e,t){this._logger.debug("Tracking result dismiss.",{contextId:e,historyResultId:t}),e||this._logger.warn("Tracking result dismiss without context ID."),this._trackUxInteraction({kind:"result",userAction:dt._.Result.UserAction.dismiss},e,t)}trackResultRephrase(e){this._logger.debug("Tracking result rephrase.",{contextId:e}),e||this._logger.warn("Tracking result rephrase without context ID."),this._trackUxInteraction({kind:"result",userAction:dt._.Result.UserAction.rephrase},e)}trackResultGenerationCompleted(e,t){this._logger.debug("Tracking result generation-complete.",{contextId:e,historyResultId:t}),e||this._logger.warn("Tracking result generation-complete without context ID."),this._trackUxInteraction({kind:"result",userAction:dt._.Result.UserAction.generationCompleted},e,t)}trackVoiceProfileOpen(e){this._logger.debug("Tracking voice profile open.",{source:e}),this._trackUxInteraction({kind:"voiceProfile",userAction:"toolbar"===e?dt._.VoiceProfile.UserAction.open:dt._.VoiceProfile.UserAction.openFromBanner})}trackVoiceProfileSkip(){this._logger.debug("Tracking voice profile skip."),this._trackUxInteraction({kind:"voiceProfile",userAction:dt._.VoiceProfile.UserAction.skip})}trackActionsOpenStore(){this._logger.debug("Tracking actions open store."),this._trackUxInteraction({kind:"actions",userAction:dt._.Actions.UserAction.openStore})}trackActionsOffensive(e){this._logger.debug("Tracking actions as offensive.",{contextId:e}),e||this._logger.warn("Tracking actions as offensive context ID."),this._trackUxInteraction({kind:"actions",userAction:dt._.Actions.UserAction.offensive},e)}trackPromptSearch(){this._logger.debug("Tracking prompt search."),this._trackUxInteraction({kind:"prompt",userAction:dt._.Prompt.UserAction.search})}trackUsageInfoClick(){this._logger.debug("Tracking usage info click."),this._trackUxInteraction({kind:"usageInfo",userAction:dt._.UsageInfo.UserAction.click})}trackUsageInfoHover(){this._logger.debug("Tracking usage info hover."),this._trackUxInteraction({kind:"usageInfo",userAction:dt._.UsageInfo.UserAction.hover})}trackHistoryButtonView(){this._logger.debug("Tracking history button view."),this._trackUxInteraction({kind:"historyButton",userAction:dt._.HistoryButton.UserAction.view})}trackAssistantClose(){this._logger.debug("Tracking assistant close."),this._trackUxInteraction({kind:"assistant",userAction:dt._.Assistant.UserAction.close})}trackVoiceProfileRemoveTag(){this._logger.debug("Tracking voice profile remove tag."),this._trackUxInteraction({kind:"voiceProfile",userAction:dt._.VoiceProfile.UserAction.removeVoiceTag})}trackVoiceProfileKeepTag(){this._logger.debug("Tracking voice profile keep tag."),this._trackUxInteraction({kind:"voiceProfile",userAction:dt._.VoiceProfile.UserAction.keepVoiceTag})}trackAINotificationDismiss(e){this._logger.debug("Tracking AI notification dismiss.",{scope:e}),this._trackUxInteraction({kind:"aiUsageNotification",userAction:"document"===e?dt._.Notification.AIUsageUserAction.dontShowOnDocument:dt._.Notification.AIUsageUserAction.dontShowForever})}trackReadyToInteract(){this._logger.debug("Tracking ready to interact."),this._trackUxInteraction({kind:"assistant",userAction:dt._.Assistant.UserAction.readyToInteract})}trackMyVoiceCardToggle(e){this._logger.debug("Tracking my voice card toggle.",{isMyVoiceEnabled:e}),this._trackUxInteraction({kind:"voiceProfile",userAction:e?dt._.VoiceProfile.UserAction.toggleToMyVoice:dt._.VoiceProfile.UserAction.toggleToNeutral})}trackContexNotification(e){this._logger.debug("Tracking context notification.",{source:e}),this._trackUxInteraction({kind:"context"===e?"contextNotification":"actionNotification",userAction:dt._.Notification.UserAction.view})}_trackUxInteraction(e,t,n,i={}){const r=dt._.getComponentId(e,t,n,i),o=dt._.getUserAction(e),s=this._params.genAIAvailability.get();v.y.isUnavailable(s)?this._logger.debug(`Gen-AI ${s.kind}, skipping backend user_action tracking.`,{componentId:r,userAction:o,uxInteraction:e,contextId:t}):(this._logger.debug("Sending `user_action` to CAPI.",{componentId:r,userAction:o,uxInteraction:e,contextId:t}),(0,we.s)("sendUserAction",this._params.capiService.user_action({componentId:r,userAction:o}),this._logger))}}var pt=n(38908),mt=n(53759);const ft=(0,U.Ub)(mt.t.is(mt.t.Kind.headerVoiceButtonClick),mt.t.is(mt.t.Kind.openFeedbackFormButtonClick),mt.t.is(mt.t.Kind.promptSearchResultsUpdate),mt.t.is(mt.t.Kind.removeSelectionContextClick),mt.t.is(mt.t.Kind.reportOffensiveResultButtonClick),mt.t.is(mt.t.Kind.resultCardDismissButtonClick),mt.t.is(mt.t.Kind.setVoiceButtonClick)),ht=(0,U.Ub)(mt.t.is(mt.t.Kind.actionsMenuReportIncorrectClick),mt.t.is(mt.t.Kind.actionsMenuMuteClick),mt.t.is(mt.t.Kind.actionsMenuReportOffensiveClick),mt.t.is(mt.t.Kind.addToDictionaryClick),mt.t.is(mt.t.Kind.suggestionAcceptClick),mt.t.is(mt.t.Kind.suggestionDismissClick)),gt=(e,t)=>e?`There ${pt.td(e,"is","are")} ${e} matching ${pt.td(e,"result","results")} for query ${t}`:`No matching results, press enter to execute your custom prompt ${t}`;class vt{constructor(e){this._params=e,this._subs=new c.y,this._logger=this._params.logService.getLogger(vt.name),this.state=g.s.create({messageId:0,messageText:""}),this._subs.add(this.state.subscribe((e=>this._logger.debug("A11y view model message updated.",e)))),this._subs.add(this._params.assistantUIActions.pipe(m.p((0,U.Ub)(ft,ht))).subscribe((e=>this._handleUIAction(e))))}createNotification(e){this._subs.add(F.timer(300).subscribe((()=>this.state.set({messageId:this.state.lens("messageId").get()+1,messageText:e}))))}_handleUIAction(e){var t,n;switch(e.kind){case mt.t.Kind.removeSelectionContextClick:{const e=null===(t=s.toNullable(this._params.genAISessionService.get()))||void 0===t?void 0:t.session.get();return void("started"===(null==e?void 0:e.kind)&&s.isNone(e.activeBoundaryContext.selection)&&this.createNotification("Removed selected context"))}case mt.t.Kind.headerVoiceButtonClick:case mt.t.Kind.setVoiceButtonClick:{const{kind:e}=this._params.routingViewModel.activeView.get();return void("voiceProfile"!==e&&"legacyVoiceProfile"!==e||this.createNotification("Now viewing my voice profile"))}case mt.t.Kind.reportOffensiveResultButtonClick:return void this.createNotification("Thanks for the feedback");case mt.t.Kind.resultCardDismissButtonClick:{const{result:{id:t}}=e,i=null===(n=s.toNullable(this._params.genAISessionService.get()))||void 0===n?void 0:n.session.get();return void("started"!==(null==i?void 0:i.kind)||i.results.find((e=>e.id===t))||this.createNotification("Dismissed response output"))}case mt.t.Kind.openFeedbackFormButtonClick:{const{kind:e}=this._params.routingViewModel.activeView.get();return void("feedbackForm"===e&&this.createNotification("Now viewing the feedback form"))}case mt.t.Kind.promptSearchResultsUpdate:return void this.createNotification(gt(e.resultsCount,e.query));case mt.t.Kind.actionsMenuMuteClick:return void this.createNotification("Turning off these types of suggestions");case mt.t.Kind.actionsMenuReportIncorrectClick:return void this.createNotification("Reporting as incorrect suggestion");case mt.t.Kind.actionsMenuReportOffensiveClick:return void this.createNotification("Reporting as offensive suggestion");case mt.t.Kind.addToDictionaryClick:return void this.createNotification("Adding term to the dictionary");case mt.t.Kind.suggestionAcceptClick:return void this.createNotification("Accepting suggestion");case mt.t.Kind.suggestionDismissClick:return void this.createNotification("Dismissing suggestion");default:return(0,h.AS)(e)}}dispose(){this._subs.unsubscribe()}}class bt{constructor(e){this._params=e,this._sub=new c.y,this._logger=this._params.logService.getLogger(bt.name),this._domain=g.s.create(s.none),this._state=g.s.create({}),this.stagingFeedbackFormData=this._state.view(),this.domain=this._domain.view(),this._sub.add(this._params.feedbackService.domain.subscribe((e=>this._domain.set(s.fromNullable(e))))),this._sub.add(this._params.assistantUIActions.subscribe((e=>this._handleUIAction(e))))}dispose(){this._sub.unsubscribe()}_handleUIAction(e){switch(e.kind){case mt.t.Kind.openFeedbackFormButtonClick:return this._openFeedbackForm(e.source);case mt.t.Kind.feedbackFormChange:return this._updateFeedbackForm(e.feedbackData);case mt.t.Kind.feedbackFormSubmitButtonClick:return this._submitFeedbackForm(e.feedbackData);default:return}}_openFeedbackForm(e){this._params.routingViewModel.push({kind:"feedbackForm"}),this._state.set({source:e})}_updateFeedbackForm(e){this._state.modify((t=>Object.assign(Object.assign({},t),e)))}_submitFeedbackForm(e){this._params.routingViewModel.pop(),this._state.set({}),(0,we.s)("submitFeedback",this._params.feedbackService.submitFeedback(e),this._logger,void 0,(e=>{this._params.logService.logEvent(function(e){return{source:"feedback",kind:"error",name:"submitFeedbackFailed",data:e}}({reason:(0,ye.$)(e).message}))}))}}class yt{constructor(e,t,n,i=3e3,r=300,o=1){this._notificationService=e,this._assistantUIActions=t,this._activeView=n,this._notificationsDurationMs=i,this._mouseOutHoldBackDurationMs=r,this._maxNotificationsCountAtOnce=o,this._state=g.s.create([]),this._notificationsSubs=new Map,this._subs=new c.y,this._hovered=g.s.create(!1),this._dismissed=new l.B7,this.state=this._state.view(),this._subs.add(this._showFeedbackSubmittedToast().subscribe()),this._subs.add(this._clearNotificationsOnViewChange().subscribe()),this._subs.add(this._removeVoiceTagNotification().subscribe()),this._subs.add(this._showServiceNotifications().subscribe())}dismiss(e){var t;null===(t=this._notificationsSubs.get(e))||void 0===t||t.unsubscribe(),this._notificationsSubs.delete(e),this._state.modify(S.pb((t=>t.id!==e))),this._hovered.set(!1),this._dismissed.next(e)}hover(e){this._hovered.set(e)}clearAll(){this._notificationsSubs.forEach((e=>e.unsubscribe())),this._notificationsSubs.clear(),this._state.set([])}dispose(){this._subs.unsubscribe(),this.clearAll()}_showNotification(e){e.persistent||this._notificationsSubs.set(e.id,F.timer(e.customTimeout||this._notificationsDurationMs).pipe(d.n((()=>this._hovered.get()?this._hovered.pipe(N.Z(10),m.p((e=>!e)),f.s(1),d.n((()=>F.timer(this._mouseOutHoldBackDurationMs)))):u.of(null)))).subscribe((()=>this.dismiss(e.id)))),this._state.modify((0,a.flow)(S.qu(e),S.$M(this._maxNotificationsCountAtOnce)))}_showFeedbackSubmittedToast(){return this._assistantUIActions.pipe(m.p((0,U.Ub)(mt.t.is(mt.t.Kind.feedbackFormSubmitButtonClick),mt.t.is(mt.t.Kind.reportOffensiveResultButtonClick),mt.t.is(mt.t.Kind.reportOffensiveActionsButtonClick),mt.t.is(mt.t.Kind.toneReportToneLikeButtonClick),mt.t.is(mt.t.Kind.toneReportToneDislikeButtonClick))),P.M((()=>this._showNotification(be.create("feedbackSubmitted")))))}_removeVoiceTagNotification(){return this._assistantUIActions.pipe(m.p(mt.t.is(mt.t.Kind.voiceTagPopoverRemoveButtonClick)),P.M((()=>this._showNotification(be.create("voiceTagRemoved")))))}_showServiceNotifications(){return this._notificationService.getNotifications(this._dismissed).pipe(P.M((e=>this._showNotification(e))))}_clearNotificationsOnViewChange(){return this._activeView.view("kind").pipe(A.F(),P.M((()=>this.clearAll())))}}var kt=n(38427),wt=n(37730);function Et(e){switch(e){case wt.e.historyButtonActive:return s.some("historyButton");case wt.e.initialActionsList:return s.some("homeGenAIActionsList");case wt.e.referencesList:return s.some("genAIResultReferences");case wt.e.promptInputAndMenuContainer:return s.some("promptInput");case wt.e.followUpActionsList:return s.some("genAIResultFollowUpActionsList");case wt.e.appActionsList:return s.some("homeAppActionsList");case wt.e.actionsMoreButton:return s.some("actionsMoreButton");case wt.e.creditsInfoButton:case wt.e.intentCard:case wt.e.historyButton:case wt.e.promptInput:case wt.e.promptMenuContent:case wt.e.skill:return s.none;default:(0,h.AS)(e)}}class St{constructor(e){this._params=e,this._subs=new c.y,this._references=g.s.create(new Map),this._onboardingStep=g.s.create(s.none),this.onboardingStep=this._onboardingStep.view(),(0,a.pipe)(this._params.onboardingService,s.map((e=>{this._subs.add(this._params.assistantUIActions.pipe(m.p(mt.t.is(mt.t.Kind.mount))).subscribe((({name:t,element:n})=>(0,a.pipe)(Et(t),s.map((t=>{this._references.modify((e=>new Map(e).set(t,n))),e.notify({kind:"onboardingTargetMount",target:t})})))))),this._subs.add(this._params.assistantUIActions.pipe(m.p(mt.t.is(mt.t.Kind.unmount))).subscribe((({name:t})=>(0,a.pipe)(Et(t),s.map((t=>{this._references.modify((e=>{const n=new Map(e);return n.delete(t),n})),e.notify({kind:"onboardingTargetUnmount",target:t})})))))),this._subs.add(kt.zV([this._references,(0,ke.b)(e.onboardingStepRequest).pipe(O.T(s.fromNullable))]).pipe(O.T((([e,t])=>(0,a.pipe)(t,s.chain((t=>(0,a.pipe)(s.fromNullable(e.get(t.target)),s.map((e=>Object.assign(Object.assign({},t),{reference:e})))))))))).subscribe(p.H9(this._onboardingStep)))})))}notify(e){switch(e.kind){case"onboardingStepUnmount":(0,a.pipe)(this._params.onboardingService,s.map((t=>t.notify({kind:"onboardingStepUnmount",stepId:e.stepId,reason:e.reason}))));break;case"onboardingStepMount":(0,a.pipe)(this._params.onboardingService,s.map((t=>t.notify({kind:"onboardingStepMount",stepId:e.stepId}))));break;default:(0,h.AS)(e)}}dispose(){this._subs.unsubscribe()}}function Ct(e){return"home"===e.kind||"thread"===e.kind}const _t={legacyVoiceProfile:!0,voiceProfile:!0,feedbackForm:!0,skill:!0,toneReport:!0,settings:!0,plagiarism:!0,writingExpert:!0,performanceScore:!0};function xt(e){return!0===_t[e.kind]}var At;!function(e){e.eq=L.ee(((e,t)=>e.kind===t.kind))}(At||(At={}));var It,Kt,Tt,Ot=n(21662);!function(e){e.Slight="Slight",e.Moderate="Moderate",e.Strong="Strong",e.VeryStrong="Very strong"}(It||(It={})),function(e){e.On="on",e.Off="off"}(Kt||(Kt={})),function(e){e.positive="positive",e.negative="negative"}(Tt||(Tt={}));const Mt=H.contramap((e=>e.confidence))(H.getDualOrd(H.ordNumber)),Ft=H.contramap((e=>e===Kt.Off||e!==Kt.On&&(0,h.AS)(e)))(H.ordBoolean),Rt=H.contramap((({brandToneInfo:e,confidence:t})=>[(0,a.pipe)(e,s.map((({status:e})=>e))),t]))(H.getTupleOrd(H.getDualOrd(s.getOrd(Ft)),H.getDualOrd(H.ordNumber)));var Bt;!function(e){e.isLoadedEmpty=e=>"loadedEmpty"===e.kind,e.isLoadedNonEmpty=e=>"loadedNonEmpty"===e.kind,e.isLoaded=(0,U.Ub)(e.isLoadedEmpty,e.isLoadedNonEmpty)}(Bt||(Bt={}));class Nt{constructor(e){var t;this._params=e,this._subscriptions=new c.y,this._toneAlertsSummary=g.s.create(s.none),this._loadingTimedOut=g.s.create(!1),this.state=g.s.combine(this._params.toneDetectorServiceInternal.state,this._toneAlertsSummary,this._params.userService.user.view((e=>(0,a.pipe)(s.fromPredicate(pe)(e),s.map((({institution:e,isPremium:t})=>({institutionName:(0,a.pipe)(e,s.map((e=>e.name))),isUphookEligible:!t}))),s.getOrElse((()=>({institutionName:s.none,isUphookEligible:!1})))))),this._loadingTimedOut,((e,t,{institutionName:n,isUphookEligible:i},r)=>r?{kind:"loadedEmpty",brandToneInfo:s.none,loadingTimedOut:!0}:(0,a.pipe)(e,s.fold((()=>({kind:"loading"})),(({tones:e,hidden:r,brandTonesEnabled:o,institutionLogo:l})=>(0,a.pipe)(C._S(e),s.filter((e=>!r)),s.fold((()=>({kind:"loadedEmpty",brandToneInfo:o?s.some({institutionName:n,institutionLogo:l}):s.none,loadingTimedOut:!1})),(e=>({kind:"loadedNonEmpty",tones:e,brandToneInfo:o?s.some({institutionName:n,institutionLogo:l}):s.none,uphookInfo:i?t:s.none}))))))))),this._subscriptions.add(this._params.assistantUIActions.pipe(m.p((0,U.Ub)(mt.t.isToneDetectorAction,mt.t.is(mt.t.Kind.actionBrickClick))),Ot.E(this.state)).subscribe((([e,t])=>this._handleUIAction(e,t)))),this._subscriptions.add(this._params.routingViewModel.activeView.view("kind").pipe(A.F(),m.p((e=>"toneReport"===e))).subscribe((()=>this._refreshToneAlertsSummary()))),this._subscriptions.add(this.state.pipe(I.$(Bt.isLoadedNonEmpty)).subscribe((()=>this._refreshToneAlertsSummary())));const n=F.timer(null!==(t=this._params.loadingTimeoutMs)&&void 0!==t?t:1e4).subscribe((()=>this._loadingTimedOut.set(!0)));this._subscriptions.add(n),this._subscriptions.add(this.state.pipe(I.$(Bt.isLoaded)).subscribe((()=>n.unsubscribe())))}dispose(){this._subscriptions.unsubscribe()}_refreshToneAlertsSummary(){Se(this._params.toneDetectorServiceInternal.getToneAlertsSummary()).then(p.H9(this._toneAlertsSummary))}_handleUIAction(e,t){switch(e.kind){case mt.t.Kind.toneReportToneLikeButtonClick:this._params.toneDetectorServiceInternal.submitToneFeedback(e.toneName,Tt.positive);break;case mt.t.Kind.toneReportToneDislikeButtonClick:this._params.toneDetectorServiceInternal.submitToneFeedback(e.toneName,Tt.negative);break;case mt.t.Kind.actionBrickClick:{const t=e.action;"regularAction"===t.kind&&J.isToneAction(t.action)&&this._params.routingViewModel.push({kind:"toneReport"});break}case mt.t.Kind.toneReportLoadedEmptyMount:Bt.isLoadedEmpty(t)&&this._params.lifecycleViewModel.onInteractionReady({kind:"tone-detector",success:!t.loadingTimedOut});break;case mt.t.Kind.toneReportLoadedNonEmptyMount:Bt.isLoadedNonEmpty(t)&&(this._params.lifecycleViewModel.onInteractionReady({kind:"tone-detector",success:!0}),this._params.trackingService.toneReportShown({tones:t.tones,brandTonesEnabled:s.isSome(t.brandToneInfo)}));break;case mt.t.Kind.toneReportBackToSuggestionsButtonClick:"toneReport"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.pop();break;case mt.t.Kind.toneReportFooterUphookPremiumButtonShow:Se(this._params.uphookService.trackUphookShown({name:"toneDetector",slot:"emogenieReport",variant:"premium"})).catch((e=>{this._params.logService.logEvent((0,oe.tg)({uphook:"toneDetector",reason:(0,ye.$)(e).message}))}));break;case mt.t.Kind.toneReportFooterUphookPremiumButtonClick:Se(this._params.uphookService.trackUphookClicked({name:"toneDetector",slot:"emogenieReport",variant:"premium"})).catch((e=>{this._params.logService.logEvent((0,oe.Gt)({uphook:"toneDetector",reason:(0,ye.$)(e).message}))})),Se(this._params.uphookService.executeUphook({name:"toneDetector",slot:"emogenieReport",variant:"premium"})).catch((e=>{this._params.logService.logEvent((0,oe.Fh)({uphook:"toneDetector",reason:(0,ye.$)(e).message}))}));break;default:(0,h.AS)(e)}}}class Pt{constructor(e){this._params=e,this._contextualActions=g.s.combine(this._params.genAISession,this._params.activeView.view(s.fromPredicate(Ct)),this._params.genAIAvailability,((e,t,n)=>(0,a.pipe)(w.J(s.option)({session:(0,a.pipe)(e,s.chain(re.toStarted)),view:(0,a.pipe)(t,s.map((e=>e.kind)))}),s.map((({session:e,view:t})=>"home"===t?e.activeBoundaryContext:"thread"===t?e.activeContext:(0,h.AS)(t))),s.map((t=>({loading:!(0,a.pipe)(e,s.exists((e=>s.isSome(e.error))))&&"pending"===t.kind,actions:v.y.isUnavailable(n)||s.exists((({kind:e})=>"aiUsageAlert"===e))(t.specialView)?[]:t.availableActions.filter((0,a.not)(J.isSkillAction)),context:t})))))),this._toneAction=(0,a.pipe)(this._params.toneDetectorViewModel,s.fold((()=>g.s.create(s.none)),(e=>e.state.view((0,a.flow)(s.fromPredicate(Bt.isLoadedNonEmpty),s.map((({tones:e})=>(0,a.pipe)(e,C.d5,J.createToneAction)))))))),this._performanceScoreAction=(0,a.pipe)(this._params.performanceScoreViewModel,s.fold((()=>g.s.create(s.none)),(e=>e.performanceScoreAction))),this._plagiarismAction=g.s.combine((0,a.pipe)(this._params.plagiarismViewModel,s.fold((()=>g.s.create(s.none)),(e=>e.plagiarismAction))),this._params.textEditorState.view("textLength"),((e,t)=>(0,a.pipe)(w.J(s.option)({action:e,textLength:t}),s.filter((({textLength:e})=>e>0)),s.map((({action:e})=>e))))),this._writingExpertAction=g.s.combine((0,a.pipe)(this._params.writingExpertViewModel,s.fold((()=>g.s.create(s.none)),(e=>e.writingExpertAction))),this._params.textEditorState.view("wordCount"),((e,t)=>(0,a.pipe)(w.J(s.option)({action:e,wordCount:t}),s.filter((({wordCount:e})=>e>50)),s.map((({action:e})=>e))))),this._humanWritingReportAction=(0,a.pipe)(this._params.humanWritingReportViewModel,s.fold((()=>g.s.create(s.none)),(e=>e.humanWritingReportAction))),this._skillActions=this._params.genAISession.view((e=>(0,a.pipe)(e,s.chain(re.toStarted),s.map((e=>e.activeContext)),s.map((e=>e.availableActions)),s.alt((()=>(0,a.pipe)(e,s.chain(re.toContextless),s.map((({nonContextualActions:e})=>e))))),s.fold((()=>[]),S.pb(J.isSkillAction))))),this.state=g.s.combine(this._contextualActions,this._toneAction,this._plagiarismAction,this._skillActions,this._writingExpertAction,this._performanceScoreAction,this._humanWritingReportAction,((e,t,n,i,r,o,s)=>({contextualActions:e,toneAction:t,plagiarismAction:n,skillActions:i,writingExpertAction:r,performanceScoreAction:o,humanWritingReportAction:s})))}}var Dt=n(19772),jt=n(34078),Lt=n(58347),Ut=n(65621),$t=n(65141),Ht=n(3346);function Vt(e){var t;if(e instanceof HTMLIFrameElement){const n=null===(t=e.contentWindow)||void 0===t?void 0:t.document;if(n){const e=n.body.querySelector("textarea:not([disabled]), input:not([disabled])");e&&"focus"in e&&"function"==typeof e.focus&&e.focus()}}else e.focus()}function zt(e){return(t,n)=>(t instanceof HTMLIFrameElement?t.contentDocument&&t.contentDocument.body?$t.R(t.contentDocument.body,n):D.w:$t.R(t,n)).pipe(Ht.W((i=>{const r=(0,ye.$)(i);return e.error("Failed to attach event listener during focus trap.",{htmlElementTagName:null!==t?t.tagName:null,eventName:n,reason:r.message}),D.w})))}var Wt=n(94713),Zt=n(11864),Gt=n(53651),Qt=n(13970);const qt=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 4.4h5m-5 2.4h5m-5 2.4h5m-5 2.4H8M4.25 14h7.5c.69 0 1.25-.56 1.25-1.25v-9.5C13 2.56 12.44 2 11.75 2h-7.5C3.56 2 3 2.56 3 3.25v9.5c0 .69.56 1.25 1.25 1.25"}))));var Jt=n(54242),Yt=n(77167),Xt=n(80152),en=n(38107),tn=n(24497),nn=n(87574),rn=n(23127),on=n(97108),sn=n(27917);const an=e=>r.createElement(sn.hh,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),r.createElement("rect",{x:"4.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:Xt.Q.Text.Base.Subdued}),r.createElement("rect",{x:"4.5",y:"13.5",width:"6",height:"6",rx:"1.5",stroke:Xt.Q.Text.Base.Subdued}),r.createElement("rect",{x:"13.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:Xt.Q.Text.Base.Subdued}),r.createElement("path",{d:"M14.5513 15.8162L12.9269 16.3577C12.7902 16.4033 12.7902 16.5967 12.9269 16.6423L14.5513 17.1838C15.1485 17.3828 15.6172 17.8515 15.8162 18.4487L16.3577 20.0731C16.4033 20.2098 16.5967 20.2098 16.6423 20.0731L17.1838 18.4487C17.3828 17.8515 17.8515 17.3828 18.4487 17.1838L20.0731 16.6423C20.2098 16.5967 20.2098 16.4033 20.0731 16.3577L18.4487 15.8162C17.8515 15.6172 17.3828 15.1485 17.1838 14.5513L16.6423 12.9269C16.5967 12.7902 16.4033 12.7902 16.3577 12.9269L15.8162 14.5513C15.6172 15.1485 15.1485 15.6172 14.5513 15.8162Z",fill:Xt.Q.Text.Base.Subdued,stroke:Xt.Q.Text.Base.Subdued})),ln=e=>r.createElement(sn.hh,Object.assign({width:"22",height:"22",viewBox:"0 0 28 28"},e,{fill:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"27",height:"27",rx:"13.5",stroke:"#C6CBDE"}),r.createElement("path",{d:"M18.6118 19.9487C19.8543 18.9904 20.7655 17.6671 21.2173 16.1645C21.6692 14.6619 21.639 13.0554 21.1311 11.5708C20.6231 10.0863 19.6629 8.79805 18.3853 7.88717C17.1076 6.9763 15.5768 6.4885 14.0077 6.49228C12.4386 6.49607 10.9101 6.99126 9.63688 7.9083C8.36366 8.82533 7.40967 10.1182 6.90889 11.6052C6.40811 13.0922 6.3857 14.6988 6.84481 16.1992C7.30392 17.6996 8.22148 19.0185 9.46862 19.9707",stroke:"#6D758D",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M14.0001 14L18.3723 12.1908",stroke:"#6D758D",strokeLinecap:"round"}),r.createElement("circle",{cx:"14",cy:"14",r:"1.5",fill:"#F9FAFF",stroke:"#6D758D",strokeLinejoin:"round"})),cn=e=>r.createElement(sn.hh,Object.assign({width:"22",height:"22",viewBox:"0 0 28 28"},e,{fill:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"27",height:"27",rx:"13.5",stroke:"#E7E9F5"}),r.createElement("rect",{x:"8",y:"13",width:"12",height:"2",rx:"1",fill:"#C6CBDE"})),dn=e=>r.createElement(sn.hh,Object.assign({width:"22",height:"22",viewBox:"0 0 28 28"},e,{fill:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"27",height:"27",rx:"13.5",stroke:"#E7E9F5"}),r.createElement("path",{d:"M9.5 15.5L12.5 18.5L20 11",stroke:"#6D758D",strokeLinecap:"round"})),un=e=>r.createElement(sn.hh,Object.assign({width:"16",height:"13",viewBox:"0 0 16 13"},e),r.createElement("g",{id:"Vector"},r.createElement("path",{d:"M9.42855 10.1756C11.1709 9.79665 12.1201 8.82771 12.5714 7.34465C10.6779 7.34465 9.14286 5.83188 9.14286 3.96578C9.14286 2.09969 10.6779 0.586914 12.5714 0.586914C14.465 0.586914 16 2.00384 16 3.96578C16 5.92773 15.619 10.8871 9.42855 12.413V10.1756Z",fill:"#7A3500",stroke:"none"}),r.createElement("path",{d:"M0.285697 10.1756C2.02804 9.79665 2.97729 8.82771 3.42857 7.34465C1.53502 7.34465 0 5.83188 0 3.96578C0 2.09969 1.53502 0.586914 3.42857 0.586914C5.32212 0.586914 6.85714 2.00384 6.85714 3.96578C6.85714 5.92773 6.47619 10.8871 0.285697 12.413V10.1756Z",fill:"#7A3500",stroke:"none"}))),pn=e=>r.createElement(sn.hh,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16"},e),r.createElement("path",{d:"M10.3009 10.6376C11.3878 10.4069 11.9799 9.817 12.2614 8.91408C11.0802 8.91408 10.1227 7.99306 10.1227 6.85694C10.1227 5.72082 11.0802 4.7998 12.2614 4.7998C13.4425 4.7998 14.4 5.66246 14.4 6.85694C14.4 8.05142 14.1624 11.0708 10.3009 11.9998V10.6376Z",fill:"#027E6F",stroke:"none"}),r.createElement("path",{d:"M4.97826 10.6376C6.06509 10.4069 6.65721 9.817 6.93871 8.91408C5.75756 8.91408 4.80005 7.99306 4.80005 6.85694C4.80005 5.72082 5.75756 4.7998 6.93871 4.7998C8.11986 4.7998 9.07737 5.66246 9.07737 6.85694C9.07737 8.05142 8.83974 11.0708 4.97826 11.9998V10.6376Z",fill:"#027E6F",stroke:"none"})),mn=e=>r.createElement(sn.hh,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"none"},e),r.createElement("g",{clipPath:"url(#a)"},r.createElement("path",{fill:"#FFC444",d:"M5.654 7.744a3.623 3.623 0 0 0-2.398-2.398.362.362 0 0 1 0-.692 3.623 3.623 0 0 0 2.398-2.398.362.362 0 0 1 .692 0 3.623 3.623 0 0 0 2.398 2.398.362.362 0 0 1 0 .692 3.623 3.623 0 0 0-2.398 2.398.362.362 0 0 1-.692 0"}),r.createElement("path",{fill:"#027E6F",d:"M6.207 13.111a.5.5 0 0 1-.353-.853l8.98-8.982c.36-.358.962-.017.84.475l-1.63 6.517a.5.5 0 0 0 .485.62h2.597a.5.5 0 0 1 .354.854l-8.981 8.982c-.359.358-.962.017-.839-.475l1.63-6.517a.5.5 0 0 0-.486-.62z"})),r.createElement("defs",null,r.createElement("clipPath",{id:"a"},r.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"}))));const fn=e=>{var{children:t}=e,n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children"]);return r.createElement("div",Object.assign({},n,{className:Zt.Ks.joinClasses([hn,n.className])}),t)},hn=Zt.Ks.style({display:"inline-flex",justifyContent:"center",alignItems:"center",transform:"scale(calc(var(--rem)/16))"});var gn=n(51500),vn=n(29585);const bn="action-row-btn",yn=`.${bn}`,kn=r.forwardRef((function({icon:e,label:t,ariaLabel:n,badge:i,style:o,mount:s,onClick:l,isUphook:c},d){return r.createElement(rn.$,{variant:"tertiary",onClick:l,name:"actionBrick",size:"large",style:[In,c?Kn:void 0,o],className:bn,mount:s,role:"option","aria-label":n||t},(0,a.pipe)(e,E.fold((e=>"more"===e?r.createElement(an,{"aria-hidden":!0}):"plagiarism"===e?r.createElement(pn,{"aria-hidden":!0}):"plagiarismDetected"===e?r.createElement(un,{"aria-hidden":!0}):"writingExpert"===e?r.createElement(mn,{"aria-hidden":!0}):"performanceScoreEmpty"===e?r.createElement(cn,{"aria-hidden":!0}):"performanceScoreSome"===e?r.createElement(ln,{"aria-hidden":!0}):"performanceScoreSuccess"===e?r.createElement(dn,{"aria-hidden":!0}):"humanWritingReport"===e?r.createElement(fn,null,r.createElement(Gt.I,{icon:qt,accessibilityLabel:""})):(0,h.AS)(e)),(e=>r.createElement("img",{src:e,style:{width:Zt.Ks.rem(wn),height:Zt.Ks.rem(wn)},"aria-hidden":!0})))),r.createElement("div",{className:On},r.createElement(nn.F.div,Object.assign({mount:d},G(t),{className:Tn,"aria-hidden":!0})),"new"===i&&r.createElement("span",{"aria-hidden":!0},r.createElement(Jt.v,{variant:"success",label:"New!","aria-hidden":!0}))))})),wn=1.25,En=Yt.Jj,Sn=Yt.Jj,Cn=Yt.CN,_n=En+wn+Cn,xn=Sn,An=(0,on.Ek)(`inset 0 0 0 2px ${vn.A.BorderBrandDefault}`),In={default:{fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),minHeight:Zt.Ks.rem(2.5),gap:Zt.Ks.rem(Cn),padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Sn)} ${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(En)}`,justifyContent:"flex-start",alignItems:"flex-start",color:Xt.Q.Text.Base.Default,boxShadow:"none",borderRadius:0,$nest:An,width:"100%"},hovered:{color:Xt.Q.Text.Base.Default,boxShadow:"none",$nest:An},active:{color:Xt.Q.Text.Base.Default,boxShadow:"none",$nest:An},icon:(0,gn.QD)(wn)},Kn={default:{backgroundColor:Xt.Q.Background.Premium.Default,color:Xt.Q.Text.Premium.Default,borderRadius:Zt.Ks.rem(en.KY),minHeight:"auto",width:"fit-content",padding:`${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(Yt.v$)}`,gap:Zt.Ks.rem(Yt.v$),fontWeight:700,margin:Zt.Ks.rem(Yt.v$)},active:{backgroundColor:tn.Gold40,color:Xt.Q.Text.Premium.Default},hovered:{backgroundColor:tn.Gold40,color:Xt.Q.Text.Premium.Default}},Tn=Zt.Ks.style({whiteSpace:"initial",textAlign:"left",lineHeight:Zt.Ks.rem(1.3125)}),On=Zt.Ks.style({display:"flex",alignItems:"start",justifyContent:"space-between",width:"100%",gap:Zt.Ks.rem(Wt.v$)});var Mn;!function(e){function t(e){return"actionStore"===e.kind}function n(e){return"searchResults"===e.kind}e.isActionStore=t,e.isSearchResults=n,e.isEmptySearchResults=function(e){return"emptySearchResults"===e.kind},e.isNonEmptyState=function(e){return t(e)||n(e)}}(Mn||(Mn={}));class Fn{constructor(e,t,n,i,r,o,f,v,b,y,k,w){this._userActionTrackingService=b,this._focusPromptField=k,this._logger=w,this._subs=new c.y,this._state=g.s.create(s.none),this._userTyped=new l.B7,this._promptOrMenuFocused=new l.B7,this._promptMenuActions=new l.B7,this._promptMenuContainer=g.s.create(s.none),this._promptMenuContentContainer=s.none,this._cachedActionBricks=s.none,this.state=this._state.view(),this._subs.add(e.subscribe((e=>this._handleUIAction(e)))),this._subs.add(this._userTyped.pipe(jt.s((e=>e.trim().length>0?F.timer(150):u.of(null))),O.T((e=>e.trim())),P.M((e=>{""===e&&this._promptMenuActions.next({kind:"close"})})),m.p((e=>""!==e)),m.p((()=>!y())),Ot.E(this._state.view(s.fold((()=>a.constTrue),(e=>e.filterPredicate)))),P.M((([e,t])=>this._promptMenuActions.next({kind:"showSearchResults",search:e,filterPredicate:t})))).subscribe()),this._subs.add(function(e,t,n,i,r,o,l,c,p){const m=i;return kt.zV([e.pipe(d.n((e=>"showSearchResults"===e.kind||"showActionStore"===e.kind?g.s.combine(t,m,r,n,o,l,c,((t,n,i,r,o,l,c)=>{const d=(0,a.pipe)(t,s.fold((()=>[]),(e=>e.actions))),u=(0,a.pipe)((0,a.pipe)([o,n,i,l,c],S.oE).concat(r).concat(d.filter((0,a.not)(J.isSkillAction))),S.pb(e.filterPredicate),C._S);return(0,a.pipe)("showSearchResults"===e.kind?(0,a.pipe)(u,s.filter((()=>""!==e.search.trim()&&!(0,a.pipe)(t,s.exists((e=>e.loading))))),s.chain((t=>function(e,t){return(0,a.pipe)(e,S.x1((e=>(0,a.pipe)(function(e,t,n){const i=ct(e),r=[...ct(t),...(0,a.pipe)(n,S.cy((e=>ct(e))))],o=i.map((()=>null));let l=0;for(const e of r){if(l>=i.length)break;e.toLowerCase().includes(i[l].toLowerCase())&&(o[l]=0,++l)}return o.includes(null)?s.none:s.some(o.map((e=>null!=e?e:0)).reduce(((e,t)=>e+t),0))}(t,e.searchLabel,e.searchTags),s.map((t=>({data:e,matchScore:t})))))),S.di(H.contramap((({matchScore:e})=>e))(H.ordNumber)),S.Tj((({data:e})=>e)),C._S)}(t,e.search)))):"showActionStore"===e.kind?(0,a.pipe)(u,s.filter((()=>!(0,a.pipe)(t,s.exists((e=>e.loading)))))):(0,h.AS)(e),s.map((t=>"showSearchResults"===e.kind?{kind:"searchResults",actions:t,filterPredicate:e.filterPredicate,query:e.search,promptMenuContainer:s.none}:"showActionStore"===e.kind?{kind:"actionStore",actions:t,filterPredicate:e.filterPredicate,promptMenuContainer:s.none}:(0,h.AS)(e))),s.alt((()=>"showSearchResults"===e.kind?s.some({kind:"emptySearchResults",query:e.search,filterPredicate:e.filterPredicate,promptMenuContainer:s.none}):s.none)))})):"close"===e.kind?u.of(s.none):(0,h.AS)(e))),lt.Z(s.none)),p]).pipe(O.T((([e,t])=>(0,a.pipe)(e,s.map((e=>Object.assign(Object.assign({},e),{promptMenuContainer:t})))))))}(this._promptMenuActions,t,n,i,r,o,f,v,this._promptMenuContainer).subscribe(p.H9(this._state))),this._subs.add(this._promptOrMenuFocused.pipe(Lt.B(100),m.p((e=>!e))).subscribe((()=>this._promptMenuActions.next({kind:"close"})))),this._subs.add(this.state.pipe(Ut.J(),m.p((([e,t])=>s.isNone(e)&&s.isSome(t))),O.T((([e,t])=>t)),B.oE).subscribe((e=>{"actionStore"===e.kind?this._userActionTrackingService.trackActionsOpenStore():"searchResults"===e.kind&&this._userActionTrackingService.trackPromptSearch()}))),this._subs.add(this._promptMenuActions.pipe(m.p((e=>"close"===e.kind))).subscribe((()=>this._invalidateActionBricks()))),this._subs.add(kt.zV([this._state,e.pipe(m.p((e=>e.kind===mt.t.Kind.mount&&e.name===wt.e.promptInputAndMenuContainer)))]).pipe(d.n((([e,{element:t}])=>(0,a.pipe)(e,s.fold((()=>D.w),(e=>Dt.R.FocusTrap.dynamicFocusTrap(Dt.R.FocusTrap.InitialFocus.none,Vt,zt(this._logger))(u.of(s.some(t))))))))).subscribe())}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case mt.t.Kind.mount:return void(e.name===wt.e.promptMenuContent?this._promptMenuContentContainer=s.some(e.element):e.name===wt.e.promptInputAndMenuContainer&&this._promptMenuContainer.set(s.some(e.element)));case mt.t.Kind.unmount:return void(e.name===wt.e.promptInputAndMenuContainer&&this._promptMenuContainer.set(s.none));case mt.t.Kind.promptMenuKeyPressArrowDown:return this._onPromptMenuKeyPressArrowDown();case mt.t.Kind.promptMenuKeyPressArrowUp:return this._onPromptMenuKeyPressArrowUp();case mt.t.Kind.promptFieldKeyPressArrowUp:return this._focusLastBrick();case mt.t.Kind.promptFieldKeyPressArrowDown:return this._focusFirstBrick();case mt.t.Kind.promptFieldTextChange:return this._invalidateActionBricks(),this._userTyped.next(e.text);case mt.t.Kind.promptFieldKeyPressEscape:return e.menuOpened?this._promptMenuActions.next({kind:"close"}):void 0;case mt.t.Kind.collapsePromptMenuButtonClick:case mt.t.Kind.promptSubmitButtonClick:return this._promptMenuActions.next({kind:"close"});case mt.t.Kind.promptFieldKeyPressEnter:return void(e.text.trim().length>0&&this._promptMenuActions.next({kind:"close"}));case mt.t.Kind.actionBrickClick:return"allResults"===e.action.kind?this._promptMenuActions.next({kind:"showActionStore",filterPredicate:e.action.filterPredicate}):this._promptMenuActions.next({kind:"close"});case mt.t.Kind.promptFieldAndMenuFocusChange:return this._promptOrMenuFocused.next(e.focused);default:return}}_invalidateActionBricks(){this._cachedActionBricks=s.none}_getActionBricks(){return(0,a.pipe)(this._cachedActionBricks,s.getOrElse((()=>{const e=(0,a.pipe)(this._promptMenuContentContainer,s.fold((()=>[]),(e=>S.ci(Array.from(e.querySelectorAll(yn)).filter(W)))));return this._cachedActionBricks=s.some(e),e})))}_onPromptMenuKeyPressArrowDown(){var e;const t=this._getActionBricks(),n=z((null===(e=s.toNullable(this._promptMenuContentContainer))||void 0===e?void 0:e.ownerDocument)||document);return(0,a.pipe)(s.fromNullable(t.findIndex((e=>e===n))),j.Mi((e=>{var n;e+1>=t.length?this._focusPromptField():null===(n=t[e+1])||void 0===n||n.focus()})))}_onPromptMenuKeyPressArrowUp(){var e;const t=this._getActionBricks(),n=z((null===(e=s.toNullable(this._promptMenuContentContainer))||void 0===e?void 0:e.ownerDocument)||document);return(0,a.pipe)(s.fromNullable(t.findIndex((e=>e===n))),j.Mi((e=>{var n;e-1<0?this._focusPromptField():null===(n=t[e-1])||void 0===n||n.focus()})))}_focusFirstBrick(){var e;null===(e=this._getActionBricks()[0])||void 0===e||e.focus()}_focusLastBrick(){var e;const t=this._getActionBricks();null===(e=t[t.length-1])||void 0===e||e.focus()}}var Rn=n(10540),Bn=n(48209),Nn=n(60269),Pn=n(41797);class Dn{constructor(e){var t,n;this._params=e,this._subs=new c.y,this._action=g.s.create(s.none),this.humanWritingReportAction=this._action.view(),void 0!==this._params.humanWritingReportService&&(this._subs.add(this._params.assistantUIActions.pipe(m.p((0,U.M4)(mt.t.is(mt.t.Kind.actionBrickClick),(e=>"regularAction"===e.action.kind&&J.isHumanWritingReportAction(e.action.action))))).subscribe((()=>{var e,t;return null===(t=null===(e=this._params.humanWritingReportService)||void 0===e?void 0:e.notifyGenerateReportActionClick)||void 0===t?void 0:t.call(e)}))),this._subs.add(Pn.H(null!==(n=null===(t=this._params.humanWritingReportService)||void 0===t?void 0:t.showGenerateReportActions)&&void 0!==n?n:u.of(!1)).pipe(O.T((0,U.Sw)(s.some(function(){const e="Generate a report";return{kind:"humanWritingReportAction",id:J.Id.create("humanWritingReport"),group:{id:J.knownGroup.tools,label:"Tools",rank:Number.MAX_SAFE_INTEGER},icon:E.left("humanWritingReport"),label:e,badge:s.none,searchLabel:"humanWritingReport",searchTags:[e],generatesTextType:s.none,args:[],disabled:!1,notificationOnAttempt:s.none}}()),s.none))).subscribe(p.H9(this._action))))}dispose(){this._subs.unsubscribe()}}class jn{constructor(e){this._params=e,this._subs=new c.y,this._viewActive=g.s.create(!1),this.deepLinkStatusChanges=g.s.combine(this._viewActive,this._params.performanceScoreViewAvailable,((e,t)=>({active:e,available:t}))),this._subs.add(this._params.routingViewModel.activeView.view("kind").subscribe((e=>this._viewActive.set("performanceScore"===e)))),this._subs.add(this._performanceViewActiveScoreNone().subscribe((()=>this._params.routingViewModel.pop()))),this._subs.add(this._performanceActionBrickClick().subscribe((()=>this._handleOpenPerformanceScoreViewRequest())))}handleDeepLinkRequest(){this._handleOpenPerformanceScoreViewRequest()}dispose(){this._subs.unsubscribe()}_handleOpenPerformanceScoreViewRequest(){"performanceScore"!==this._params.routingViewModel.activeView.get().kind&&this._params.performanceScoreViewAvailable.get()&&this._params.routingViewModel.push({kind:"performanceScore"})}_performanceActionBrickClick(){return this._params.assistantUIActions.pipe(m.p((0,U.M4)(mt.t.is(mt.t.Kind.actionBrickClick),(e=>"regularAction"===e.action.kind&&J.isPerformanceScoreAction(e.action.action)))))}_performanceViewActiveScoreNone(){return this._params.routingViewModel.activeView.view("kind").pipe(m.p((e=>"performanceScore"===e)),d.n((()=>this._params.performanceScoreViewAvailable.pipe(m.p((e=>!e)),f.s(1)))))}}var Ln,Un=n(57980);function $n(e){return"number"==typeof e&&e>=0&&e<=1?s.some(e):s.none}!function(e){e.lensAllSuggestionFeedShortForm="lens-all-suggestions-feed-short-form",e.lensAllSuggestionFeed="lens-all-suggestions-feed",e.lensCorrectnessFeed="lens-correctness-feed",e.lensClarityFeed="lens-clarity-feed",e.lensDeliveryFeed="lens-delivery-feed",e.lensEngagementFeed="lens-engagement-feed",e.lensStyleGuideFeed="lens-style-guide-feed",e.lensPremiumFeed="lens-premium-feed",e.plagiarismFeed="plagiarism-feed",e.writingExpertFeed="writing-expert-feed"}(Ln||(Ln={}));const Hn={[Ln.lensAllSuggestionFeed]:"All suggestions",[Ln.lensAllSuggestionFeedShortForm]:"All suggestions",[Ln.lensCorrectnessFeed]:"Correctness",[Ln.lensClarityFeed]:"Clarity",[Ln.lensDeliveryFeed]:"Delivery",[Ln.lensEngagementFeed]:"Engagement",[Ln.lensStyleGuideFeed]:"Style guide",[Ln.lensPremiumFeed]:"Premium",[Ln.plagiarismFeed]:"Plagiarism",[Ln.writingExpertFeed]:"Writing Expert"};function Vn(e){return Object.values(Ln).includes(e)?s.some(e):s.none}const zn={shortForm:Ln.lensAllSuggestionFeedShortForm,longForm:Ln.lensAllSuggestionFeed};function Wn(e){return!function(e){return"sensitive"===e.status||"error"===e.status}(e)}function Zn(e){return t=>{switch(t.status){case"loading":return e.loading();case"tooSmall":return e.tooSmall();case"ok":return e.ok(t);default:(0,h.AS)(t)}}}function Gn(e){const t=(0,a.pipe)(e,(e=>{switch(e.status){case"ok":return`See overall score (${e.generalScore}/100)`;case"loading":case"tooSmall":return"See overall score";default:(0,h.AS)(e)}})),n=(0,a.pipe)(e,(e=>{switch(e.status){case"ok":return function(e){return"ok"===e.status&&100===e.generalScore}(e)?"performanceScoreSuccess":"performanceScoreSome";case"loading":case"tooSmall":return"performanceScoreEmpty";default:(0,h.AS)(e)}}));return{kind:"performanceScoreAction",id:J.Id.create("performanceScore"),group:{id:J.knownGroup.tools,label:"Tools",rank:Number.MAX_SAFE_INTEGER},icon:E.left(n),label:t,badge:s.none,searchLabel:"performanceScore",searchTags:[t],generatesTextType:s.none,args:[],disabled:!1,notificationOnAttempt:s.none}}class Qn{constructor(e){this._params=e,this._logger=this._params.logService.getLogger("PerformanceScoreViewModelImpl"),this._subs=new c.y,this._performanceScore=g.s.create(s.some({status:"loading"})),this._featureOptions=g.s.create(s.none),this.performanceScore=g.s.combine(this._performanceScore,this._featureOptions,((e,t)=>(0,a.pipe)(e,s.filter((()=>s.isSome(t))),s.filter(Wn)))),this.performanceScoreAction=g.s.combine(this.performanceScore,this._featureOptions,((e,t)=>(0,a.pipe)(e,s.filter((()=>(0,a.pipe)(t,s.exists((e=>e.showEntryPoint))))),s.map(Gn)))),this._params.featureOptions&&(this._subs.add((0,ke.b)(this._params.featureOptions).pipe(O.T(s.fromNullable)).subscribe(p.H9(this._featureOptions))),this._subs.add(kt.zV([this._params.lastFinishedMessage,this._params.feeds,this._featureOptions]).pipe(m.p((([e,t,n])=>s.isSome(n))),O.T((([e,t])=>function(e,t){return"OK"===e.scoresStatus?(0,a.pipe)("number"==typeof(n=e.generalScore)&&n>=0&&n<=100?s.some(Math.round(n)):s.none,s.map((n=>({status:"ok",generalScore:n,outcomeScores:qn(e.outcomeScores,t)})))):s.some({status:"TOO_SMALL"===e.scoresStatus?"tooSmall":"SENSITIVE"===e.scoresStatus?"sensitive":"ERROR"===e.scoresStatus?"error":(0,h.AS)(e.scoresStatus)});var n}(e,t)))).subscribe(p.H9(this._performanceScore))),this._subs.add(this.performanceScore.subscribe((e=>this._logger.debug("Performance score",e)))))}onPerformanceScoreReportMount(e){this._params.tracking.performanceScoreReportShown("ok"===e.status&&100===e.generalScore?"success":e.status)}dispose(){this._subs.unsubscribe()}}function qn(e,t){var n,i,r,o,l,c,d,u,p,m;return{clarity:{score:(0,a.pipe)($n(null==e?void 0:e.Clarity),s.getOrElse((()=>0))),alerts:null!==(i=null===(n=t.get(Un.W.Item.Id.from(Ln.lensClarityFeed)))||void 0===n?void 0:n.alertCount)&&void 0!==i?i:0},correctness:{score:(0,a.pipe)($n(null==e?void 0:e.Correctness),s.getOrElse((()=>0))),alerts:null!==(o=null===(r=t.get(Un.W.Item.Id.from(Ln.lensCorrectnessFeed)))||void 0===r?void 0:r.alertCount)&&void 0!==o?o:0},engagement:{score:(0,a.pipe)($n(null==e?void 0:e.Engagement),s.getOrElse((()=>0))),alerts:null!==(c=null===(l=t.get(Un.W.Item.Id.from(Ln.lensEngagementFeed)))||void 0===l?void 0:l.alertCount)&&void 0!==c?c:0},styleGuide:{score:(0,a.pipe)($n(null==e?void 0:e["Style guide"]),s.getOrElse((()=>0))),alerts:null!==(u=null===(d=t.get(Un.W.Item.Id.from(Ln.lensStyleGuideFeed)))||void 0===d?void 0:d.alertCount)&&void 0!==u?u:0},delivery:{score:(0,a.pipe)($n(null==e?void 0:e.Tone),s.getOrElse((()=>0))),alerts:null!==(m=null===(p=t.get(Un.W.Item.Id.from(Ln.lensDeliveryFeed)))||void 0===p?void 0:p.alertCount)&&void 0!==m?m:0}}}class Jn{constructor(e){this._params=e,this.deepLinkStatusChanges=g.s.combine(this._params.plagiarismAvailable,this._params.activeView,((e,t)=>({available:e,active:"plagiarism"===t})))}handleDeepLinkRequest(){"plagiarism"!==this._params.activeView.get()&&this._params.plagiarismAvailable.get()&&this._params.handlePlagiarismDeepLinkRequest()}}var Yn=n(28600);function Xn(e){return{kind:"error",source:"revision",name:"applyAlertsFailed",data:e}}function ei(e){return{kind:"error",source:"revision",name:"removeAlertsFailed",data:e}}function ti(e){return{kind:"error",source:"revision",name:"sduiUserActionFailed",data:e}}function ni(e){return{kind:"error",source:"revision",name:"sduiCardCopyTextFailed",data:e}}function ii(e){return{kind:"error",source:"revision",name:"sduiCardOpenLinkFailed",data:e}}class ri{constructor(e){this._params=e,this._disposed=new l.B7,this._plagiarismChecksEnabled=g.s.create(!1),this.plagiarismChecksEnabled=this._plagiarismChecksEnabled.view()}enablePlagiarismChecks(){Pn.H(this._params.capiService.toggle_checks({checks:{plagiarism:!0}})()).pipe(f.s(1),Yn.Q(this._disposed)).subscribe((()=>this._plagiarismChecksEnabled.set(!0)),(e=>function(e){return{kind:"error",source:"revision",name:"enablePlagiarismCheckFailed",data:e}}({reason:(0,ye.$)(e).message})))}disablePlagiarismChecks(){Pn.H(this._params.capiService.toggle_checks({checks:{plagiarism:!1}})()).pipe(f.s(1),Yn.Q(this._disposed)).subscribe((()=>this._plagiarismChecksEnabled.set(!1)),(e=>function(e){return{kind:"error",source:"revision",name:"disablePlagiarismCheckFailed",data:e}}({reason:(0,ye.$)(e).message})))}dispose(){this._disposed.next(void 0),this._disposed.complete()}}var oi=n(85262);function si(e){const t=new c.y,n=e.feedManager.feeds.view((t=>s.fromNullable(t.get(e.feedId)))).view(s.map((e=>e.feed)));return t.add(e.entryPointClicked.pipe(P.M((()=>e.routingViewModel.push(e.view))),d.n((()=>e.canExecuteEntryPointAction().pipe(f.s(1)))),B.oE).subscribe((t=>{e.feedActionService.processActions(t.content.actions,t.id,t.alertIds,t.content.id)}))),t.add(e.feedManager.feed.pipe(O.T((e=>{var t;return null===(t=s.toNullable(e))||void 0===t?void 0:t.id})),Ut.J(),m.p((([t,n])=>t===e.feedId&&n!==e.feedId&&e.routingViewModel.activeView.get().kind===e.view.kind))).subscribe((()=>e.routingViewModel.pop()))),t.add(e.routingViewModel.has(e.view).pipe(Ut.J(),m.p((([e,t])=>e&&!t)),d.n((()=>e.feedManager.feed.pipe(f.s(1),O.T((e=>{var t;return null===(t=s.toNullable(e))||void 0===t?void 0:t.id}))))),m.p((t=>t===e.feedId))).subscribe((()=>(0,a.pipe)(n.get(),s.map((t=>e.feedActionService.processActions([{type:"popAssistantFeed"},e.sduiDisableCheckAction],t.id,t.alertIds,t.content.id))))))),t.add({unsubscribe:()=>{e.routingViewModel.has(e.view).get()&&(0,a.pipe)(n.get(),s.map((t=>e.feedActionService.processActions([e.sduiDisableCheckAction],t.id,t.alertIds,t.content.id))))}}),t}var ai=n(59042);function li(e,t){return e.pipe(O.T(ai.b.filter(t,t,t)),m.p((e=>!ai.b.isEmpty(e))),O.T(ai.b.reduce(s.none,((e,t)=>s.none),((e,t,n)=>s.some(n)),((e,t)=>s.some(t)))),F.skipBy(s.getEq(Un.W.Item.eq)))}var ci=n(61586);function di(e){return new ci.c((t=>{const n=new c.y,i=new l.B7;let r=s.none;return n.add(e.asyncCheckFinishedMessage.pipe(m.p((t=>t.check===e.asyncCheckType))).subscribe((t=>{r=s.some(e.extractScore(t)),i.next(t)}))),n.add(e.asyncChecksEnabled.pipe(A.F(),d.n((t=>t?Nn.h(e.textUpdated.pipe(O.T((()=>s.some({checking:!0,lastScore:r})))),i.pipe(O.T((t=>e.extractScore(t))),O.T((e=>s.some({checking:!1,lastScore:s.some(e)}))))).pipe(lt.Z(s.some({checking:!0,lastScore:r}))):u.of(s.none))),F.skipBy(s.getEq(L.OW({checking:L.zF,lastScore:s.getEq(e.scoreEq)})))).subscribe(t)),()=>n.unsubscribe()}))}function ui(e){return"gButton:plagiarism"===e.content.type}class pi{constructor(e){this._params=e,this._subs=new c.y,this._sourceCount=g.s.create(s.none),this._hasPlagiarismUphookSuggestions=g.s.create(!1),this._citationDropdown=g.s.create(s.none),this._plagiarismEntryPoint=g.s.create(s.none),this._plagiarismFeed=this._params.feedManager.feeds.view((e=>s.fromNullable(e.get(Un.W.Item.Id.from(Ln.plagiarismFeed))))).view(s.map((e=>e.feed))),this._checkingState=g.s.create(s.none),this._logger=this._params.logService.getLogger(pi.name),this._smartUphookTreatment=g.s.create(null),this._grammarlyProTreatment=g.s.create(null),this._freeTrialEUUKTreatment=g.s.create(null),this.isEligibleForFreeTrial=g.s.create(!1),this.smartUphookEnabled=g.s.combine(this._params.userViewModel.isPremium,this._params.userViewModel.isPlagiarismDisabled,this._smartUphookTreatment,((e,t,n)=>!e&&!t&&"test"===n)),this.isGrammarlyPro=g.s.combine(this._params.userViewModel.isPremium,this._params.userViewModel.isPlagiarismDisabled,this._grammarlyProTreatment,((e,t,n)=>!e&&!t&&"test"===n)),this.state=this._params.isPlagiarismEnabled?g.s.combine(this._checkingState,this._sourceCount,this._citationDropdown,this._params.userViewModel.isPlagiarismDisabled,((e,t,n,i)=>(0,a.pipe)(e,s.map((({checking:e,lastScore:i})=>({checking:e,originality:i,sourceCount:t,citationDropdown:n}))),s.filter((()=>!i))))):g.s.create(s.none),this._showPlagiarismDetectedAction=g.s.combine(this.smartUphookEnabled,this._hasPlagiarismUphookSuggestions,this.state,((e,t,n)=>(0,a.pipe)(n,s.exists((n=>{const i=(0,a.pipe)(n.originality,s.getOrElse((()=>1)));return e&&t&&i<=.95}))))),this.plagiarismAction=this._params.isPlagiarismEnabled?g.s.combine(this._plagiarismEntryPoint,this._showPlagiarismDetectedAction,this._params.userViewModel.isPlagiarismDisabled,((e,t,n)=>(0,a.pipe)(e,s.map((()=>J.createPlagiarismAction(t))),s.filter((()=>!n))))):g.s.create(s.none),this._subs.add(li(this._params.sduiItemsCollectionDiff,ui).subscribe((e=>this._plagiarismEntryPoint.set(e)))),this._subs.add(si({feedManager:this._params.feedManager,feedActionService:this._params.feedActionService,routingViewModel:this._params.routingViewModel,entryPointClicked:Nn.h(this._params.assistantUIActions.pipe(m.p((0,U.M4)(mt.t.is(mt.t.Kind.actionBrickClick),(e=>"regularAction"===e.action.kind&&J.isPlagiarismAction(e.action.action))))),this._params.plagiarismDeepLinkRequest).pipe(P.M((()=>this._logSmartUphookTreatment()))),canExecuteEntryPointAction:()=>this._params.userViewModel.isPremium.get()||this.smartUphookEnabled.get()?this._plagiarismEntryPoint.pipe(m.p(s.isSome),f.s(1)):u.of(s.none),feedId:Un.W.Item.Id.from(Ln.plagiarismFeed),sduiDisableCheckAction:{type:"disablePlagiarismCheck"},view:{kind:"plagiarism"}})),this._subs.add(di({asyncCheckType:"plagiarism",extractScore:e=>e.outcomeScores.Originality,asyncChecksEnabled:kt.zV([this._params.plagiarismChecksEnabled,this.smartUphookEnabled]).pipe(O.T((([e,t])=>e||t))),asyncCheckFinishedMessage:this._params.lastAsyncCheckFinishedMessage,textUpdated:this._params.textUpdated,scoreEq:L.US}).subscribe((e=>this._checkingState.set(e)))),this._subs.add(this._plagiarismFeed.view(s.chain((e=>{var t,n;for(const i of oi.cK.traverse(e.content))if("tooltip"===i.type){const e=null===(n=null===(t=/from (?<sources>\d+) sources on the web/.exec(i.text))||void 0===t?void 0:t.groups)||void 0===n?void 0:n.sources;if(void 0!==e)return(0,a.pipe)(s.fromNullable(Number.parseInt(e,10)),s.filter((e=>Number.isSafeInteger(e))))}return s.none}))).subscribe((e=>this._sourceCount.set(e)))),this._subs.add(this._plagiarismFeed.view(s.chain((e=>{var t;for(const n of oi.cK.traverse(e.content))if("selectableDropDownMenu"===n.type&&"citation-style"===(null===(t=n.name)||void 0===t?void 0:t.value))return s.some(n);return s.none}))).subscribe((e=>this._citationDropdown.set(e)))),this._subs.add(this.smartUphookEnabled.pipe(m.p(a.identity),d.n((()=>this._params.suggestionCountViewModel.getFeedSuggestionCount(Ln.plagiarismFeed)))).subscribe((e=>{this._hasPlagiarismUphookSuggestions.set(e>0)}))),(0,we.s)("peekSmartPlagiarismUphookTreatment",(0,a.pipe)(this._params.experimentService&&!this._params.userViewModel.isPremium.get()?this._params.experimentService.peekTreatment(Ke.r.SmartPlagiarismUphook):x.pG(null),x.qE((e=>new Error(e)))),this._logger,(e=>this._smartUphookTreatment.set(e))),(0,we.s)("peekGrammarlyProTreatment",(0,a.pipe)(this._params.experimentService&&!this._params.userViewModel.isPremium.get()?this._params.experimentService.peekTreatment(Ke.r.GrammarlyProM3V2):x.pG(null),x.qE((e=>new Error(e)))),this._logger,(e=>this._grammarlyProTreatment.set(e))),(0,we.s)("peekFreeTrialEUUKTreatment",(0,a.pipe)(this._params.experimentService&&!this._params.userViewModel.isPremium.get()?this._params.experimentService.peekTreatment(Ke.r.PremiumFreeTrialEUUK):x.pG(null),x.qE((e=>new Error(e)))),this._logger,(e=>this._freeTrialEUUKTreatment.set(e))),void 0!==this._params.uphookService.isEligibleForFreeTrial&&this._subs.add((0,ke.b)(this._params.uphookService.isEligibleForFreeTrial).subscribe((e=>{this.isEligibleForFreeTrial.set(e)})))}onUphookShow(){this._logGrammarlyProTreatment(),this._logFreeTrialEUUKTreatment(),Se(this._params.uphookService.trackUphookShown({name:"plagiarism",slot:"plagiarismView",variant:"premium"})).catch((e=>{this._params.logService.logEvent((0,oe.tg)({uphook:"plagiarism",reason:(0,ye.$)(e).message}))}))}onUphookClick(){Se(this._params.uphookService.trackUphookClicked({name:"plagiarism",slot:"plagiarismView",variant:"premium"})).catch((e=>{this._params.logService.logEvent((0,oe.Gt)({uphook:"plagiarism",reason:(0,ye.$)(e).message}))})),Se(this._params.uphookService.executeUphook({name:"plagiarism",slot:"plagiarismView",variant:"premium"})).catch((e=>{this._params.logService.logEvent((0,oe.Fh)({uphook:"plagiarism",reason:(0,ye.$)(e).message}))}))}onUphookDismiss(){Se(this._params.uphookService.trackUphookDismissed({name:"plagiarism",slot:"plagiarismView",variant:"premium"})).catch((e=>{this._params.logService.logEvent((0,oe.Hw)({uphook:"plagiarism",reason:(0,ye.$)(e).message}))})),this.seeAllSuggestions()}seeAllSuggestions(){this._params.routingViewModel.popUntil((e=>"home"===e.kind))}onCitationDropdownSelect(e,t){(0,a.pipe)(this._plagiarismFeed.get(),s.map((n=>{this._params.feedActionService.processActions(e,n.id,n.alertIds,t),this._params.trackingService.plagiarismCitationsStyleChanged(t)})))}onCitationDropdownOpen(e){this._params.trackingService.plagiarismCitationsStyleDropdownOpened(e)}_logSmartUphookTreatment(){const e=this._smartUphookTreatment.get();null!==e&&this._logTreatment(Ke.r.SmartPlagiarismUphook,e)}_logGrammarlyProTreatment(){const e=this._grammarlyProTreatment.get();null!==e&&this._logTreatment(Ke.r.GrammarlyProM3V2,e)}_logFreeTrialEUUKTreatment(){const e=this._freeTrialEUUKTreatment.get();null!==e&&this._logTreatment(Ke.r.PremiumFreeTrialEUUK,e)}_logTreatment(e,t){(0,we.s)("logExperimentTreatment",(0,a.pipe)(this._params.experimentService?this._params.experimentService.logTreatment(e,t):x.kb("No experiment service"),x.qE((e=>new Error(e)))),this._logger)}dispose(){this._subs.unsubscribe()}}class mi{constructor(e){this._params=e,this._disposed=new l.B7,this._writingExpertChecksEnabled=g.s.create(!1),this.writingExpertChecksEnabled=this._writingExpertChecksEnabled.view()}enableWritingExpertChecks(){Pn.H(this._params.capiService.toggle_checks({checks:{writing_expert_check:!0}})()).pipe(f.s(1),Yn.Q(this._disposed)).subscribe((()=>this._writingExpertChecksEnabled.set(!0)),(e=>function(e){return{kind:"error",source:"revision",name:"enableWritingExpertCheckFailed",data:e}}({reason:(0,ye.$)(e).message})))}disableWritingExpertChecks(){Pn.H(this._params.capiService.toggle_checks({checks:{writing_expert_check:!1}})()).pipe(f.s(1),Yn.Q(this._disposed)).subscribe((()=>this._writingExpertChecksEnabled.set(!1)),(e=>function(e){return{kind:"error",source:"revision",name:"disableWritingExpertCheckFailed",data:e}}({reason:(0,ye.$)(e).message})))}dispose(){this._disposed.next(void 0),this._disposed.complete()}}var fi=n(2365),hi=n(246);const gi=()=>fi.KH();function vi(e){return(0,a.pipe)(gi().unwrap(e),(({items:e})=>e.size))}function bi(e){return(0,a.pipe)(gi().unwrap(e),(({items:t})=>(0,a.pipe)(function(e){return(0,a.pipe)(gi().unwrap(e),(({order:e})=>xi(e)))}(e),S.Tj((e=>s.fromNullable(t.get(e)))),S.oE)))}function yi(e){return(0,a.pipe)(gi().unwrap(e),(({items:e,order:t})=>(0,a.pipe)(t.focus,s.chain((t=>s.fromNullable(e.get(t)))))))}function ki(e){return(0,a.pipe)(gi().unwrap(e),(({order:e})=>(0,a.pipe)(e.focus,s.map((()=>e.lefts.length)))))}function wi(e){return(0,a.flow)(gi().unwrap,(({items:t,order:n})=>({items:t,order:(0,a.pipe)(n.focus,s.fold((()=>Ci(n.lefts.concat(n.rights),s.some(e))),(t=>function(t,n){const i=(n.lefts.length,e);return Ci(xi(n),s.some(i))}(0,_i(n.lefts,s.some(t),n.rights)))),s.getOrElse((()=>n)))})),gi().wrap)}function Ei(e){return(0,a.pipe)(gi().unwrap(e).order.lefts.length,(t=>(0,a.pipe)(e,wi(t+1))))}function Si(e){return(0,a.pipe)(gi().unwrap(e).order.lefts.length,(t=>(0,a.pipe)(e,wi(t-1))))}function Ci(e,t){return S.Im(e)||(0,a.pipe)(t,s.exists((t=>S.kI(t,e))))?s.none:s.some((0,a.pipe)(t,s.fold((()=>({lefts:e,focus:s.none,rights:[]})),(t=>({lefts:(0,a.pipe)(e.slice(),S.$M(t)),focus:s.fromNullable(e[t]),rights:(0,a.pipe)(e.slice(),S.Zg(t+1))})))))}function _i(e,t,n){return{lefts:e,focus:t,rights:n}}function xi(e){return e.lefts.concat(S.oE([e.focus])).concat(e.rights)}function Ai(e){const t=e.lefts.length,n=e.rights.length;return Ci(e.lefts.concat(e.rights),s.some(n>0?t:t-1))}function Ii(e){return Ci(e.lefts.concat(e.rights),s.none)}var Ki=n(50422);function Ti(e){return"globalPart"===e.content.type&&("known"===e.content.name.kind||"unknown"===e.content.name.kind)&&e.content.name.value===Ki.A7.GlobalPartWritingExpertState}function Oi(e){var t,n;if("column"===e.content.content.type){if("error-content"===(null===(t=e.content.content.name)||void 0===t?void 0:t.value))return s.some({kind:"error-content",sduiItem:e});if("success-content"===(null===(n=e.content.content.name)||void 0===n?void 0:n.value))return s.some({kind:"success-content",sduiItem:e})}return s.none}const Mi={id:Un.W.Item.Id.from("writing-expert-part-EMPTY"),alertIds:[],content:{id:Un.W.Item.Id.from("writing-expert-part"),type:"globalPart",name:{kind:"known",value:Ki.A7.GlobalPartWritingExpertState},content:{id:Un.W.Item.Id.from("writing-expert-part-EMPTY-COLUMN"),type:"column",name:{kind:"unknown",value:"success-content"},children:[{type:"block",id:"6",parts:[{type:"text",selectable:!1,id:"5",meta:{},text:"Something went wrong. Please, try again later.",textColor:"CoreNeutral90",format:[]}],name:{kind:"unknown",value:"alignment-block"},spacing:{top:"0",right:"0",bottom:"0.5",left:"0"},horizontalAlign:"center",verticalAlign:"middle"}]}}};var Fi,Ri;function Bi(e){return"gButton:writingExpert"===e.content.type}!function(e){let t;!function(e){e.empty="empty",e.error="error",e.nonEmpty="nonEmpty",e.loadingEvaluationAndSuggestions="loadingEvaluationAndSuggestions",e.nonEmptyLoadingEvaluation="nonEmptyLoadingEvaluation",e.evaluationFinishedLoadingSuggestions="evaluationFinishedLoadingSuggestions"}(t=e.Kind||(e.Kind={})),e.isIdle=function(e){return e===t.empty||e===t.error||e===t.nonEmpty},e.isError=function(e){return e.kind===t.error},e.isEmpty=function(e){return e.kind===t.empty},e.isNonEmpty=function(e){return e.kind===t.nonEmpty},e.isLoadingEvaluationAndSuggestions=function(e){return e.kind===t.loadingEvaluationAndSuggestions},e.isEvaluationFinishedLoadingSuggestions=function(e){return e.kind===t.evaluationFinishedLoadingSuggestions},e.isNonEmptyLoadingEvaluation=function(e){return e.kind===t.nonEmptyLoadingEvaluation}}(Fi||(Fi={})),function(e){e.isIdle=e=>"idle"===e.kind,e.isZero=e=>"zero"===e.kind,e.isLoadingEvaluation=e=>"loadingEvaluation"===e.kind,e.isLoadingSuggestions=e=>"loadingSuggestions"===e.kind}(Ri||(Ri={}));const Ni=Un.W.Item.Id.from(Ln.writingExpertFeed);class Pi{constructor(e){this._params=e,this._subs=new c.y,this._writingExpertEntryPoint=g.s.create(s.none),this._checkingState=g.s.create(s.none),this._globalPartState=g.s.create(s.none),this._writingExpertFeed=this._params.feedManager.feeds.view((e=>s.fromNullable(e.get(Ni)))),this._feedManagerFeed=this._params.feedManager.feed.view(s.filter((e=>e.id===Ni))),this.writingExpertAction=this._params.isWritingExpertEnabled?g.s.combine(this._writingExpertEntryPoint,this._params.userViewModel.isPremium,((e,t)=>(0,a.pipe)(e,s.filter((()=>t)),s.map((()=>J.createWritingExpertAction()))))):g.s.create(s.none),this._evaluationState=g.s.create({kind:"zero"}),this._state=g.s.create({kind:Fi.Kind.loadingEvaluationAndSuggestions}),this.state=this._state.view(),this._logger=this._params.logService.getLogger("WritingExpertViewModelImpl"),this._params.isWritingExpertEnabled&&(this._subs.add(li(this._params.sduiItemsCollectionDiff,Bi).subscribe((e=>this._writingExpertEntryPoint.set(e)))),this._subs.add(li(this._params.sduiItemsCollectionDiff,Ti).subscribe((e=>(0,a.pipe)(e,s.chain(Oi),s.fold((()=>{this._logger.debug("globalPartState not changed, failed to extract",e)}),(e=>{this._globalPartState.set(s.some(e)),this._logger.debug("globalPartState changed",e)})))))),this._subs.add(si({feedManager:this._params.feedManager,feedActionService:this._params.feedActionService,routingViewModel:this._params.routingViewModel,entryPointClicked:this._params.assistantUIActions.pipe(m.p((0,U.M4)(mt.t.is(mt.t.Kind.actionBrickClick),(e=>"regularAction"===e.action.kind&&J.isWritingExpertAction(e.action.action))))),canExecuteEntryPointAction:()=>this._writingExpertEntryPoint.pipe(m.p(s.isSome),f.s(1)),feedId:Un.W.Item.Id.from(Ln.writingExpertFeed),sduiDisableCheckAction:{type:"disableWritingExpertCheck"},view:{kind:"writingExpert"}})),this._subs.add(di({asyncCheckType:"writing_expert_check",extractScore:()=>null,asyncChecksEnabled:this._params.writingExpertChecksEnabled,asyncCheckFinishedMessage:this._params.lastAsyncCheckFinishedMessage,textUpdated:D.w,scoreEq:L.w_}).subscribe((e=>this._checkingState.set(e)))),this._subs.add(g.s.combine(this._checkingState,this._writingExpertFeed,((e,t)=>{const n=(0,a.pipe)(t,s.map((e=>e.feed)));return this._logger.debug("evaluationState recalculation....",e,n),(0,a.pipe)(e,s.map((e=>{const t=function(e){return(0,a.pipe)(e,s.chain((e=>s.fromNullable(e.content.footer))),s.chain((e=>{let t;for(const n of oi.cK.traverse(e))if("text"===n.type&&n.text.length>0){if(t)return s.some({title:t,subTitle:n.text});t=n.text}return t?s.some({title:t,subTitle:""}):s.none})))}(n);this._logger.debug("trying to extract evaluation result",t);const i=this._evaluationState.get();return!0===e.checking?s.isSome(t)&&Ri.isLoadingEvaluation(i)?{kind:"loadingSuggestions",evaluationResult:j.$v(t)}:{kind:"loadingEvaluation"}:s.isSome(t)?{kind:"idle",evaluationResult:j.$v(t)}:{kind:"zero"}})),s.getOrElse((()=>({kind:"zero"}))))})).subscribe((e=>{this._evaluationState.set(e),this._logger.debug("evaluationState changed",e)}))),this._subs.add(this._params.routingViewModel.activeView.view("kind").pipe(A.F(),Ut.J(),P.M((([e,t])=>{"home"===e&&"writingExpert"===t&&this.submitWritingExpertFeedback(K.Mq.FEED_OPENED),"writingExpert"===e&&this.submitWritingExpertFeedback(K.Mq.FEED_CLOSED)}))).subscribe()),this._subs.add(kt.zV([this._feedManagerFeed,this._evaluationState,this._globalPartState]).pipe(O.T((([e,t,n])=>(this._logger.debug("state recalculation....",e,t,n),function(e,t,n){return(0,a.pipe)(e,s.fold((()=>({kind:Fi.Kind.loadingEvaluationAndSuggestions})),(e=>(0,a.pipe)(n,s.filter((({kind:e})=>"error-content"===e)),s.isSome)&&(Ri.isIdle(t)||Ri.isZero(t))?{kind:Fi.Kind.error,sduiItem:(0,a.pipe)(n,s.map((({sduiItem:e})=>e)),j.$v)}:vi(e.collection)>0?Ri.isIdle(t)||Ri.isLoadingSuggestions(t)?{kind:Fi.Kind.nonEmpty,evaluationResult:t.evaluationResult}:{kind:Fi.Kind.nonEmptyLoadingEvaluation}:Ri.isIdle(t)||Ri.isZero(t)?(0,a.pipe)(n,s.map((({kind:e,sduiItem:t})=>{switch(e){case"error-content":return{kind:Fi.Kind.error,sduiItem:t};case"success-content":return{kind:Fi.Kind.empty,sduiItem:t};default:return(0,h.AS)(e)}})),s.getOrElse((()=>({kind:Fi.Kind.loadingEvaluationAndSuggestions})))):Ri.isLoadingEvaluation(t)?{kind:Fi.Kind.loadingEvaluationAndSuggestions}:{kind:Fi.Kind.evaluationFinishedLoadingSuggestions,evaluationResult:t.evaluationResult})))}(e,t,n)))),Ht.W((e=>(this._logger.error("Exception in state recalculation",e),u.of({kind:Fi.Kind.error,sduiItem:Mi}))))).subscribe((e=>{this._logger.debug("state changed",e),this._state.set(e)}),(e=>{this._logger.error("Exception in state recalculation, subscription ended",e)}),(()=>{this._logger.debug("state recalculation subscription completed")}))))}submitWritingExpertFeedback(e){(0,we.s)("submitWritingExpertFeedback",this._params.capiService.feedback({type:K.Sm.WritingExpert,weStage:e}))}seeAllSuggestions(){this._params.routingViewModel.popUntil((e=>"home"===e.kind))}tryAgain(){this.submitWritingExpertFeedback(K.Mq.TRY_AGAIN)}dispose(){this._subs.unsubscribe()}}var Di=n(35749),ji=n(35413),Li=n(39039);class Ui{constructor(e){this._params=e,this._logger=this._params.logService.getLogger(Ui.name),this._subs=new c.y,this._alertIds=new Set,this._changes=new l.B7,this.changes=Di.x(ji.v((()=>u.of(Array.from(this._alertIds).map(Li.BG)))),this._changes).pipe(m.p(S.J_)),this._subs.add((0,ke.b)(this._params.alertCollectionChanges).subscribe({next:e=>this._processChanges(e),complete:()=>this._changes.complete()}))}hasAlert(e){return this._alertIds.has(e)}_processChanges(e){for(const t of e)(0,Li.L1)(t)?this._alertIds.add(t.alertId):(0,Li.x9)(t)?this._alertIds.delete(t.alertId):(0,h.AS)(t);e.length>0&&this._logger.debug("Alert collection change.",new Set(this._alertIds)),this._changes.next(e)}dispose(){this._subs.unsubscribe(),this._changes.complete()}}var $i=n(41139),Hi=n(82549),Vi=n(71814);class zi{constructor(e){this._params=e,this._logger=this._params.logService.getLogger(zi.name),this._subs=new c.y;const t=this._params.sduiActions.pipe((0,a.flow)(F.shareReplay({bufferSize:1,refCount:!0}),(e=>e.pipe($i.r(e.pipe(Lt.B(0))))))),n=t.pipe(m.p((e=>e.some((e=>"notify"===e.type&&e.userAction===Ki.nm.Click))&&e.some((e=>"nextCard"===e.type||"prevCard"===e.type)))),st.u(!0)),i=t.pipe(m.p((e=>e.some((e=>"positionedClick"===e.type&&"collapsedCard"===e.source)))),st.u(!0)),r=t.pipe(m.p((e=>e.some((e=>"notify"===e.type&&e.userAction===Ki.nm.Click))&&e.some((e=>"removeRoot"===e.type)))),st.u(!0));this._subs.add(Nn.h(n,i,r).pipe(Rn.QE(Hi.E),Ot.E(this._params.activeFeed),O.T((([e,t])=>(0,a.pipe)(t,s.chain((e=>yi(e.collection))),s.chain((e=>S.d5(e.alertIds)))))),B.oE,d.n((e=>(this._logger.info(`Scrolling alert ${e} into view`),(0,ke.b)(this._params.alertService.scrollAlertIntoView({alertId:e})).pipe(f.s(1),Vi.w(),Ht.W((t=>u.of(function(e){return{kind:"error",source:"revision",name:"scrollAlertIntoViewFailed",data:e}}({scrollAlertIntoViewInfo:{alertId:e},reason:(0,ye.$)(t).message}))))))))).subscribe((e=>{this._params.logService.logEvent(e)})))}dispose(){this._subs.unsubscribe()}}var Wi=n(92051),Zi=n(30396);function Gi(e){var t;try{return"strongAlertRef"===e.type&&"known"===(null===(t=e.name)||void 0===t?void 0:t.kind)&&e.name.value===Ki.A7.StrongAlertRefUpgradeHook||"longFormCard"===e.type&&e.behaviors.some((e=>{var t;return"behavior:strongAlertRef"===e.type&&"known"===(null===(t=e.name)||void 0===t?void 0:t.kind)&&e.name.value===Ki.A7.StrongAlertRefUpgradeHook}))}catch(e){return!1}}class Qi{constructor(e){var t,n,i,r;this._params=e,this._subs=new c.y,this._logger=this._params.logService.getLogger(Qi.name),this._feedMounted=g.s.create(!1),this._subs.add((0,a.pipe)((t=this._feedMounted,n=this._params.focusedItem,i=this._params.activeFeedChanges,r=this._params.resetEmphasizedAlerts,Nn.h(t.pipe(A.F(),O.T((e=>({kind:"activeFeedMounted",mounted:e})))),n.pipe(O.T(s.map((e=>e.id))),F.skipBy(s.getEq(Un.W.Item.Id.eq)),O.T((e=>({kind:"focusedItem",itemId:s.toNullable(e)})))),r.pipe(O.T((e=>({kind:"resetEmphasizedAlerts",alerts:e})))),i.pipe(O.T((e=>Object.assign({kind:"activeFeedChanges"},e))))).pipe(Zi.S(((e,t)=>{var n,i,r,o,l,c;let d=e.upgradeHookItemId,u=!1;if("resetEmphasizedAlerts"===t.kind)e.visibilityState.forEach(((n,i)=>{"emphasized"!==n||t.alerts.has(i)||(e.visibilityState.set(i,"visible"),e.alertsToUpdate.add(i))})),t.alerts.forEach((t=>{const n=Un.W.AlertId.from(t);e.visibilityState.set(n,"emphasized"),e.alertsToUpdate.add(n)}));else if("focusedItem"===t.kind)if(null===t.itemId){const t=null!==d&&d===e.focusedItemId,r=null!==e.focusedItemId&&null!==(i=null===(n=e.items.get(e.focusedItemId))||void 0===n?void 0:n.alertIds)&&void 0!==i?i:[];r.length>0&&r.forEach((n=>{e.visibilityState.set(n,t?"hidden":"visible"),e.alertsToUpdate.add(n)}))}else{const n=new Set(null!==e.focusedItemId&&null!==(o=null===(r=e.items.get(e.focusedItemId))||void 0===r?void 0:r.alertIds)&&void 0!==o?o:[]),i=new Set(null!==(c=null===(l=e.items.get(t.itemId))||void 0===l?void 0:l.alertIds)&&void 0!==c?c:[]),s=_.iv(Un.W.AlertId.eq)(n)(i);_.iv(Un.W.AlertId.eq)(i)(n).forEach((t=>{const n=e.alertsToItems.get(t),i=null!==d&&n&&1===n.size&&n.has(d);e.visibilityState.set(t,i?"hidden":"visible"),e.alertsToUpdate.add(t)})),s.forEach((t=>{e.visibilityState.set(t,"emphasized"),e.alertsToUpdate.add(t)}))}else if("activeFeedChanges"===t.kind){if(t.feedChanged){for(const t of e.visibilityState.values())if("hidden"!==t){u=!0;break}e.items.clear(),e.alertsToItems.clear(),e.alertsToUpdate.clear(),e.visibilityState.clear()}(0,a.pipe)(t.itemsChanges,ai.b.forEach(((t,n)=>e.items.delete(n)),((t,n,i)=>{e.items.set(i,n),d=Gi(n.content)?i:d}),((t,n)=>{e.items.set(n,t),d=Gi(t.content)?n:d}))),(0,a.pipe)(t.alertsToItemsChanges,ai.b.forEach(((t,n)=>{e.visibilityState.set(n,"hidden"),e.alertsToUpdate.add(n),e.alertsToItems.delete(n)}),((t,n,i)=>{const r=null!==e.upgradeHookItemId&&t.has(e.upgradeHookItemId)&&1===t.size,o=null!==d&&n.has(d)&&1===n.size,s=null!==e.focusedItemId&&t.has(e.focusedItemId),a=null!==e.focusedItemId&&n.has(e.focusedItemId);!s&&a?(e.visibilityState.set(i,"emphasized"),e.alertsToUpdate.add(i)):s&&!a?(e.visibilityState.set(i,null!==d&&1===n.size&&n.has(d)?"hidden":"visible"),e.alertsToUpdate.add(i)):!r&&o?(e.visibilityState.set(i,"hidden"),e.alertsToUpdate.add(i)):r&&!o&&(e.visibilityState.set(i,"visible"),e.alertsToUpdate.add(i)),e.alertsToItems.set(i,n)}),((t,n)=>{const i=null!==e.focusedItemId&&t.has(e.focusedItemId),r=null!==d&&1===t.size&&t.has(d);i?(e.visibilityState.set(n,"emphasized"),e.alertsToUpdate.add(n)):r||(e.visibilityState.set(n,"visible"),e.alertsToUpdate.add(n)),e.alertsToItems.set(n,t)})))}else if("activeFeedMounted"===t.kind){const n=(0,a.pipe)(Array.from(e.visibilityState.entries()),S.pb((([e,t])=>"hidden"!==t))),i=t.mounted&&n.length>0?(0,a.pipe)(n,S.Tj((([e,t])=>({alertId:e,visibility:t}))),(e=>s.some({changes:e,isReset:!0}))):!t.mounted&&n.length>0?s.some({changes:[],isReset:!0}):s.none;return Object.assign(Object.assign({},e),{feedMounted:t.mounted,alertsToUpdate:new Set,output:i})}const p=e.feedMounted&&(e.alertsToUpdate.size>0||"activeFeedChanges"===t.kind&&t.feedChanged&&u)?(0,a.pipe)(Array.from(e.alertsToUpdate),S.Tj((t=>(0,a.pipe)(s.fromNullable(e.visibilityState.get(t)),s.map((e=>({alertId:t,visibility:e})))))),S.oE,(e=>s.some({changes:e,isReset:"activeFeedChanges"===t.kind&&t.feedChanged}))):s.none;return Object.assign(Object.assign({},e),{upgradeHookItemId:d,focusedItemId:"focusedItem"===t.kind?t.itemId:e.focusedItemId,output:p,alertsToUpdate:s.isSome(p)?new Set:e.alertsToUpdate})}),{visibilityState:new Map,alertsToUpdate:new Set,alertsToItems:new Map,items:new Map,feedMounted:!1,upgradeHookItemId:null,focusedItemId:null,output:s.none}),O.T((e=>e.output)),B.oE)),P.M((e=>this._logger.debug("Received alert visibility changes.",e))),Wi.ZZ((({changes:e,isReset:t})=>t?(0,ke.b)(this._params.alertService.setAlertsVisibility(e)).pipe(f.s(1),Vi.w(),Ht.W((t=>u.of(function(e){return{kind:"error",source:"revision",name:"setAlertsVisibilityFailed",data:e}}({alertsVisibilityInfo:e,reason:(0,ye.$)(t).message}))))):(0,ke.b)(this._params.alertService.updateAlertsVisibility(e)).pipe(f.s(1),Vi.w(),Ht.W((t=>u.of(function(e){return{kind:"error",source:"revision",name:"updateAlertsVisibilityFailed",data:e}}({alertsVisibilityInfo:e,reason:(0,ye.$)(t).message})))))))).subscribe((e=>{this._params.logService.logEvent(e)})))}notifyFeedMount(){this._feedMounted.set(!0)}notifyFeedUnmount(){this._feedMounted.set(!1)}dispose(){this._subs.unsubscribe()}}var qi=n(68745),Ji=n(68101),Yi=n(60246);function Xi(e,t){return(0,a.pipe)(e,S.TS([],((e,n)=>n.alertIds.some((e=>t.has(e)))?[...e,n]:e)),S.di(H.getDualOrd(H.fromCompare(((e,n)=>{const i=e.alertIds.filter((e=>t.has(e))).length,r=n.alertIds.filter((e=>t.has(e))).length;if(i!==r)return i-r>0?1:-1;{const t=n.alertIds.length-e.alertIds.length;return t>0?1:t<0?-1:0}})))),S.d5,s.map((e=>e.id)))}class er{constructor(e){this._params=e,this._subs=new c.y,this._logger=this._params.logService.getLogger(er.name),this._activeFeed=new qi.t(s.none),this._sduiCheckingFinishedOnce=this._sduiFullTextCheckingCompletedOnceProxy(),this.focusCard=this._getSelectAlertByIdRequest().pipe(d.n((e=>e?this._getFocusCardRequest(e).pipe(P.M((t=>this._logger.debug(`Focus request for card ${t} with alertId ${e}`))),O.T((e=>({kind:"focusCard",cardId:e})))):this._getFocusFirstCardRequest().pipe(P.M((()=>this._logger.debug("Focus request for first card."))),O.T((()=>({kind:"focusFirstCard"}))))))),this._subs.add(this._params.activeFeed.subscribe(this._activeFeed))}dispose(){this._subs.unsubscribe()}_getFocusCardRequest(e){return this._activeFeed.pipe(O.T((t=>(0,a.pipe)(t,s.chain((t=>Xi(bi(t.collection),new Set([e]))))))),B.oE,f.s(1))}_getFocusFirstCardRequest(){const e=this._activeFeed.pipe(B.oE,O.T((e=>this._params.isShortFormFeed(e)&&0===vi(e.collection))),A.F(),m.p(a.identity)),t=this._activeFeed.pipe(F.skipBy(s.getEq(L.mJ((e=>e.id))(Un.W.Item.Id.eq))),B.oE);return Nn.h(t,e).pipe(Ot.E(this._activeFeed),d.n((([e,t])=>{var n;return M.O4(this._sduiCheckingFinishedOnce.pipe(m.p(a.identity),f.s(1)),F.timer((null===(n=s.toNullable(t))||void 0===n?void 0:n.id)===Ln.lensAllSuggestionFeedShortForm?2e3:Number.MAX_SAFE_INTEGER)).pipe(d.n((()=>this._activeFeed.pipe(m.p(s.exists((e=>vi(e.collection)>0))),Ji.v((0,a.flow)(s.chain((e=>yi(e.collection))),s.isNone))))))})))}_sduiFullTextCheckingCompletedOnceProxy(){const e=new qi.t(!1),t=new Yi.m(1);return this._subs.add(this._params.sduiChangesSettled.subscribe(t)),this._subs.add(this._params.checkingFinishedOnce.pipe(f.s(1),d.n((()=>M.O4(F.timer(500).pipe(st.u(!0)),t))),m.p(a.identity)).subscribe(e)),e}_getSelectAlertByIdRequest(){const e=new qi.t(null);return this._subs.add((0,ke.b)(this._params.selectedAlertId).pipe(d.n((e=>e?Nn.h(this._activeFeed.pipe(m.p((t=>(0,a.pipe)(t,s.chain((e=>yi(e.collection))),s.exists((t=>t.alertIds.includes(Un.W.AlertId.from(e))))))),st.u(null)),this._params.alertCollection.changes.pipe(m.p((t=>!!t.find((t=>(0,Li.x9)(t)&&t.alertId===e)))),st.u(null))).pipe(lt.Z(e)):u.of(null)))).subscribe(e)),e.pipe(lt.Z(null),A.F())}}class tr{constructor(e){var t,n;this._subs=new c.y,this._autofocusNextLongFormCardOnApplyOrDismiss=g.s.create(!0),this._autofocusNextLongFormCardOnAlertRefEmpty=g.s.create(!1),this.autofocusNextLongFormCardOnApplyOrDismiss=this._autofocusNextLongFormCardOnApplyOrDismiss.view(),this.autofocusNextLongFormCardOnAlertRefEmpty=this._autofocusNextLongFormCardOnAlertRefEmpty.view(),this._subs.add(null===(t=e.autofocusNextLongFormCardOnAlertRefEmpty)||void 0===t?void 0:t.subscribe(p.H9(this._autofocusNextLongFormCardOnAlertRefEmpty))),this._subs.add(null===(n=e.autofocusNextLongFormCardOnApplyOrDismiss)||void 0===n?void 0:n.subscribe(p.H9(this._autofocusNextLongFormCardOnApplyOrDismiss)))}dispose(){this._subs.unsubscribe()}}var nr=n(91242);function ir(e){return{kind:"warn",source:"revision",name:"sduiUserActionFailed",data:e}}const rr=/^.*(@(Short|Long)).*$/;function or(e,t){const n=e.match(rr);return null!==n?e.replace(n[1],"shortForm"===t?"@Short":"@Long"):e}var sr=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class ar{constructor(e){this._params=e,this._subs=new c.y,this._logger=this._params.logService.getLogger(ar.name),this._processedActionStatus=new l.B7,this._disposed=!1,this.processedActionStatus=this._processedActionStatus.asObservable(),this._sduiFeedManagerLifecycleOnActiveFeedEmpty(),this._sduiFeedManagerLifecycleOnActiveFeedRemoved(),this._sduiFeedManagerLifecycleOnAlertsRefEmpty()}_sduiFeedManagerLifecycleOnAlertsRefEmpty(){this._subs.add(this._params.sduiManagerProxy.onAlertsRefEmpty.subscribe((e=>(0,a.pipe)(this._params.feedManager.feed.get(),s.chain((e=>yi(e.collection))),s.filter((t=>t.id===e.sduiRootId)),j.Mi((()=>{const t=this._params.autofocusSettingsService.autofocusNextLongFormCardOnAlertRefEmpty.get(),n=e.emptyStrongAlertRef.onEmpty.filter((e=>"nextCard"!==e.type&&"prevCard"!==e.type||t));this._logger.debug("Handling alerts ref empty.",{actions:e.emptyStrongAlertRef.onEmpty,patchedActions:n,itemId:e.sduiId,autofocusNextCardOnAlertRefEmptyEnabled:t}),n.length>0&&this._processActions(n,e.sduiId,e.emptyStrongAlertRef.alertIds,e.sduiId)}))))))}_sduiFeedManagerLifecycleOnActiveFeedEmpty(){this._subs.add(this._params.feedManager.onActiveFeedEmpty.subscribe((e=>{var t;"assistantFeed"===e.content.type?this._processActions(null!==(t=e.content.onEmpty)&&void 0!==t?t:[],e.id,[],e.id):this._params.logService.logEvent({kind:"warn",source:"revision",name:"sduiFeedOnEmptyDSLActionsSkipped",data:null})})))}_sduiFeedManagerLifecycleOnActiveFeedRemoved(){this._subs.add(this._params.feedManager.onActiveFeedRemove.subscribe((e=>{"assistantFeed"===e.content.type?this._processActions(e.content.onRemove,e.id,e.alertIds,e.content.id):this._params.logService.logEvent({kind:"warn",source:"revision",name:"sduiFeedOnRemoveDSLActionsSkipped",data:null})})))}_switchViewWithinFocusedItem(e){(0,a.pipe)(this._params.feedManager.feed.get(),s.chain((e=>yi(e.collection))),s.filter((t=>e.sduiRootId!==t.id)),j.Mi((t=>this._params.sduiManagerProxy.pushSwitchView(Object.assign(Object.assign({},e),{sduiRootId:t.id})))))}_switchViewWithinCurrentFeed(e){(0,a.pipe)(this._params.feedManager.feed.get(),s.filter((({id:t})=>e.sduiRootId!==t)),j.Mi((({id:t})=>this._params.sduiManagerProxy.pushSwitchView(Object.assign(Object.assign({},e),{sduiRootId:t})))))}_onAssistantClose(){(0,a.pipe)(this._params.feedManager.feed.get(),s.chain((e=>{var t;return s.fromNullable(null===(t=this._params.feedManager.feeds.get().get(e.id))||void 0===t?void 0:t.feed)})),j.Mi((e=>{var t,n,i;(null!==(n=null===(t=e.content.onAssistantClose)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0&&this._processActions(null!==(i=e.content.onAssistantClose)&&void 0!==i?i:[],e.id,e.alertIds,e.content.id)})))}_executeAsyncCommand(e,t){return sr(this,void 0,void 0,(function*(){try{return yield Se(e()),!0}catch(e){return t(e),!1}}))}_processActions(e,t,n,i){return sr(this,void 0,void 0,(function*(){const r=function(e){return e.some((e=>"notify"===e.type&&e.userAction===Ki.nm.Click))&&e.some((e=>"removeRoot"===e.type))?e.filter((e=>"nextCard"!==e.type&&"prevCard"!==e.type)):e}(e);this._logger.debug("Processing SDUI actions.",{actions:r,dslActions:e,itemId:t,alertIdsInScope:n,sourceId:i});for(const e of r){this._logger.debug("Processing SDUI action.",{action:e}),this._processedActionStatus.next({action:e,status:"pending",itemId:t});const o=yield(0,a.pipe)(e,(e=>sr(this,void 0,void 0,(function*(){var o;switch(e.type){case"notify":{const t=null!==(o=e.sourceId)&&void 0!==o?o:i,n=or(t,this._params.feedForm.get());return t!==n&&this._logger.debug("Patched user action component ID.",{componentId:t,patchedComponentId:n}),(0,a.pipe)(yield this._params.capiService.user_action({userAction:e.userAction,componentId:n})(),E.fold((n=>(this._params.logService.logEvent(this._disposed&&nr.Xb.isNotConnectedError(n)?ir({componentId:t,userAction:e.userAction,reason:(0,ye.$)(n).message}):ti({componentId:t,userAction:e.userAction,reason:(0,ye.$)(n).message})),!1)),(()=>!0)))}case"applyAlerts":{const t=n.map((t=>({alertId:t,alternativeIndex:e.alternativeIndex,feedForm:this._params.feedForm.get()})));return this._executeAsyncCommand((()=>this._params.alertService.applyAlerts(t)),(e=>{this._params.logService.logEvent(Xn({applyAlertsInfo:t,reason:(0,ye.$)(e).message}))}))}case"removeAlerts":{const e=r.some((e=>"applyAlerts"===e.type)),t=n.map((t=>({alertId:t,removalReason:e?"alertApplied":"other"})));return this._executeAsyncCommand((()=>this._params.alertService.removeAlerts(t)),(e=>{this._params.logService.logEvent(ei({removeAlertsInfo:t,reason:(0,ye.$)(e).message}))}))}case"removeRoot":return this._params.sduiManagerProxy.pushRemovedRoot([t,"removeRoot"]),!0;case"pushAssistantFeed":return this._params.feedManager.pushFeed(e.feedId,e.cardId),!0;case"popAssistantFeed":return this._params.feedManager.popFeed(e.fallbackFeed),!0;case"positionedClick":case"focusAssistantCard":return this._params.feedManager.focusCard("focusAssistantCard"===e.type?Un.W.Item.Id.from(e.cardId):t),!0;case"prevCard":return this._params.feedManager.focusPrev(),!0;case"nextCard":return this._params.feedManager.focusNext(),!0;case"switchView":{const n={where:e.where,selected:e.selected,sduiRootId:t};return this._params.sduiManagerProxy.pushSwitchView(n),this._switchViewWithinFocusedItem(n),this._switchViewWithinCurrentFeed(n),!0}case"highlightAlert":return this._params.setEmphasizedAlerts([n[0]]),!0;case"openLink":return this._executeAsyncCommand((()=>this._params.lifecycleService.openUrl(e.url)),(e=>{this._params.logService.logEvent(ii({reason:(0,ye.$)(e).message}))}));case"upgradeToPremium":return this._executeAsyncCommand((()=>this._params.uphookService.executeUphook({name:"advancedIssues",slot:"shortForm"===this._params.feedForm.get()?"singleCardAssistant":"longFormAssistant",variant:"premium"})),(e=>{this._params.logService.logEvent((0,oe.Fh)({uphook:"advancedIssues",reason:(0,ye.$)(e).message}))}));case"copyToClipboard":return this._executeAsyncCommand((()=>this._params.textEditorService.copyText(e.text)),(e=>{this._params.logService.logEvent(ni({reason:(0,ye.$)(e).message}))}));case"enablePlagiarismCheck":return this._params.plagiarismService.enablePlagiarismChecks(),!0;case"disablePlagiarismCheck":return this._params.plagiarismService.disablePlagiarismChecks(),!0;case"enableWritingExpertCheck":return this._params.writingExpertService.enableWritingExpertChecks(),!0;case"disableWritingExpertCheck":return this._params.writingExpertService.disableWritingExpertChecks(),!0;case"hoverStateChanged":case"transition":return!0;case"selectAlternative":case"hideHighlights":case"showHighlights":case"nativeOpenAssistant":case"openCreateSnippetModal":case"newRevision":case"interactPopover":case"closePopover":case"closeCard":case"openGrammarlyGo":case"openToneDetector":case"stopApplyingAlerts":case"openSettings":case"openFeedback":case"openPerformanceScore":case"nativeOpenUserSatisfactionFeedback":case"openLearnMore":return this._logger.warn("Processing unsupported SDUI action, this is a no-op.",{actionType:e.type}),!1;default:(0,h.AS)(e)}}))));this._processedActionStatus.next({action:e,status:o?"successful":"failed",itemId:t})}}))}processActions(e,t,n,i){return this._processActions(e,t,null!=n?n:[],null!=i?i:t)}dispose(){this._disposed=!0,this._onAssistantClose(),this._subs.unsubscribe()}}var lr=n(94673),cr=n(70057),dr=n(31691);function ur(e){return t=>{const n=pr(t.content);return!s.isNone(n)&&e.reduce(((e,t)=>!1===e?e:(0,a.pipe)(n,s.chain((e=>s.fromNullable(e[t.property]))),s.fold((()=>t.condition===Ki.TV.NotEqualTo),(e=>t.condition===Ki.TV.EqualTo?e===t.value:e!==t.value)))),!0)}}function pr(e){try{for(const t of oi.cK.traverse(e)){if("longFormCard"===t.type)return s.some(t.feedProperties);if("assistantCard"===t.type&&t.properties)return s.some(t.properties)}return s.none}catch(e){return s.none}}const mr=S.nZ(L.OW({property:L.kK,condition:L.kK,value:L.US})),fr=S.nZ(L.OW({orderBy:L.kK,direction:L.kK}));function hr(e){return e.pipe(Zi.S((({feedsState:e,items:t,alertsToItems:n},i)=>{(0,a.pipe)(i,ai.b.forEach((n=>{if(gr(n))e.delete(n.id);else{t.delete(n.id);for(const t of e.values())t.removeItem(n)}}),((n,i)=>{if(gr(i)){let n=e.get(i.id);n?n.updateFeed(i,t):(n=new vr(i.id,i,t),e.set(i.id,n))}else{t.set(i.id,i);for(const t of e.values())t.updateItem(n,i)}}),(n=>{if(gr(n))e.set(n.id,new vr(n.id,n,t));else{t.set(n.id,n);for(const t of e.values())t.addItem(n)}})));const r=new Map(Array.from(e.entries()).map((([e,t])=>[e,{id:e,feed:t.feed,itemCount:t.itemCount,alertCount:t.alertCount,items:t.items,itemsChanges:t.getItemsChangesAndReset(),alertsToItems:t.alertsToItems,alertsToItemsChanges:t.getAlertsToItemsChangesAndReset()}])));return{feedsState:e,items:t,alertsToItems:n,output:r}}),{feedsState:new Map,items:new Map,alertsToItems:new Map,output:new Map})).pipe(O.T((({output:e})=>e)))}function gr(e){return"assistantFeed"===e.content.type}class vr{constructor(e,t,n){this.id=e,this.feed=t,this._filter=ur(this.feed.content.filtering),this._items=new Map,this._alertsToItems=new Map,this._itemsDiff=new Map,this._alertsToItemsDiff=new Map;for(const e of n.values())this.addItem(e)}updateFeed(e,t){const n=!mr.equals(this.feed.content.filtering,e.content.filtering);this.feed=e,n&&(this._filter=ur(e.content.filtering),this._items.forEach((e=>this.removeItem(e))),t.forEach((e=>this.addItem(e))))}addItem(e){this._filter(e)&&!this._items.has(e.id)&&(this._itemsDiff.set(e.id,cr.pG(e)),this._items.set(e.id,e),this._addAlertsForItem(e))}updateItem(e,t){const n=this._items.delete(e.id),i=this._filter(t);(n||i)&&this._itemsDiff.set(t.id,i&&n?cr.WP(e,t):i?cr.pG(t):cr.kb(e)),n&&this._removeAlertsForItem(e),i&&(this._items.set(t.id,t),this._addAlertsForItem(t))}removeItem(e){this._items.delete(e.id)&&(this._itemsDiff.set(e.id,cr.kb(e)),this._removeAlertsForItem(e))}_removeAlertsForItem(e){for(const t of e.alertIds){const n=this._alertsToItems.get(t);if(!n)return;n.delete(e.id)&&(0===n.size?(this._alertsToItems.delete(t),this._alertsToItemsDiff.set(t,cr.kb([e.id]))):this._alertsToItemsDiff.set(t,cr.WP([...n].concat(e.id),[...n])))}}_addAlertsForItem(e){var t;for(const n of e.alertIds){const i=null!==(t=this._alertsToItems.get(n))&&void 0!==t?t:new Set;if(!i.has(e.id)){const t=[...i];this._alertsToItems.set(n,i.add(e.id)),this._alertsToItemsDiff.set(n,0===t.length?cr.pG([e.id]):cr.WP(t,[...i]))}}}getItemsChangesAndReset(){const e=ai.b.fromMutation((e=>this._itemsDiff.forEach(((t,n)=>e.set(n,t)))));return this._itemsDiff.clear(),e}getAlertsToItemsChangesAndReset(){const e=ai.b.fromMutation((e=>this._alertsToItemsDiff.forEach(((t,n)=>e.set(n,(0,a.pipe)(t,cr.wu((e=>new Set(e)),(e=>new Set(e)))))))));return this._alertsToItemsDiff.clear(),e}get items(){return this._items}get alertsToItems(){return this._alertsToItems}get itemCount(){return this._items.size}get alertCount(){return this._alertsToItems.size}}var br=n(69082),yr=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const kr={show:e=>`[${e.id} - ${vi(e.collection)} items - focus at ${s.getShow(lr.N4).show((0,a.pipe)(yi(e.collection),s.map((e=>e.id))))}]`};class wr{constructor(e){this._params=e,this._subs=new c.y,this._logger=this._params.logService.getLogger(wr.name),this._focusCommandsQueue=[],this._evalFocusCommand=new Yi.m(1),this._feedStack=new qi.t([]),this._feed=g.s.create(s.none),this._feedsState=new qi.t(new Map),this._feeds=g.s.create(new Map),this._sduiItemsCollectionDiff=new l.B7,this._sduiFeedChanges=this._sduiFeedAddedAndRemovedObs(),this._activeFeedChanges=new l.B7,this.onActiveFeedRemove=new l.B7,this.onActiveFeedEmpty=new l.B7,this.feed=this._feed.view(),this.activeFeedChanges=this._activeFeedChanges.asObservable(),this.feeds=this._feeds.view(),this._subs.add(this._sduiItemsCollectionDiff.pipe(hr).subscribe((e=>{this._feedsState.next(e),this._feeds.set(new Map(Array.from(e.entries()).map((e=>{var[t,n]=e,{itemsChanges:i,items:r,alertsToItems:o,alertsToItemsChanges:s}=n;return[t,yr(n,["itemsChanges","items","alertsToItems","alertsToItemsChanges"])]}))))}))),this._subs.add(this._getActiveFeedChanges().subscribe(this._activeFeedChanges)),this._subs.add(this._emitOnFeedRemove()),this._subs.add(this._updateActiveFeed()),this._subs.add(this._invalidateFeedsFromStack()),this._subs.add(this.feed.subscribe((e=>this._logger.debug("Feed state changed.",s.getShow(kr).show(e))))),this._subs.add(this.feeds.subscribe((e=>this._logger.debug("Feeds changed.",Array.from(e.keys()))))),this._subs.add(this._params.sduiItemsCollectionDiff.subscribe(this._sduiItemsCollectionDiff))}pushFeed(e,t,n){const i=this._feedStack.getValue(),r=this._feedsState.getValue(),o=(0,a.pipe)(s.fromNullable(t),s.filter((t=>{var n,i;return!!(null===(i=null===(n=r.get(Un.W.Item.Id.from(e)))||void 0===n?void 0:n.items)||void 0===i?void 0:i.get(Un.W.Item.Id.from(t)))})),s.alt((()=>{var t,i,o;return n?Xi(Array.from(null!==(o=null===(i=null===(t=r.get(Un.W.Item.Id.from(e)))||void 0===t?void 0:t.items)||void 0===i?void 0:i.values())&&void 0!==o?o:[]),n):s.none}))),l=(0,a.pipe)(this._feed.get(),s.chain((e=>yi(e.collection))),s.map((e=>e.id))),c=(0,a.pipe)(i,S.HV,s.map((({feedId:e,valid:t})=>({feedId:e,itemIdToFocus:l,valid:t}))));this._logger.debug("Pushing feed.",{feedId:e,itemIdToFocus:o}),this._feedStack.next((0,hi.lN)(i).concat(S.oE([c])).concat({feedId:Un.W.Item.Id.from(e),itemIdToFocus:o,valid:!0}))}replaceFeed(e,t,n){const i=this._feedsState.getValue(),r=(0,a.pipe)(s.fromNullable(t),s.filter((t=>{var n,r;return!!(null===(r=null===(n=i.get(Un.W.Item.Id.from(e)))||void 0===n?void 0:n.items)||void 0===r?void 0:r.get(Un.W.Item.Id.from(t)))})),s.alt((()=>{var t,r,o;return n?Xi(Array.from(null!==(o=null===(r=null===(t=i.get(Un.W.Item.Id.from(e)))||void 0===t?void 0:t.items)||void 0===r?void 0:r.values())&&void 0!==o?o:[]),n):s.none})));this._logger.debug("Replacing feed.",{feedId:e,itemIdToFocus:r}),this._feedStack.next(S.Kv((0,hi.lN)(this._feedStack.getValue()),{feedId:Un.W.Item.Id.from(e),itemIdToFocus:r,valid:!0}))}popFeed(e){const t=this._feedStack.getValue();this._logger.debug("Popping feed.",{fallbackFeed:e}),t.filter((e=>e.valid)).length>1?this._feedStack.next(function(e){const t=[...e];for(let e=t.length-1;e>=0&&!t[e].valid;--e)t.pop();return t}((0,hi.lN)(t))):(0,a.pipe)(s.fromNullable(e),s.fold((()=>{this._logger.warn("Popped feed with less than 2 valid feeds in the feed stack and no fallback feed, this is a no-op.")}),(e=>{this.pushFeed(Un.W.Item.Id.from(e.feedId),e.cardId),this._logger.debug(`Popped feed with less than 2 valid feeds in the feed stack. Switching to fallback feed. ${JSON.stringify(e)}`)})))}focusFirst(){this._logger.debug("Focusing first card on feed."),this._focusCommandsQueue.push({kind:"focusFirst"}),this._evalFocusCommand.next()}focusCard(e){this._logger.debug("Focusing card on feed.",{itemId:e}),this._focusCommandsQueue.push({kind:"focusCard",itemId:e}),this._evalFocusCommand.next()}focusNext(){this._logger.debug("Focusing next card on feed."),this._focusCommandsQueue.push({kind:"focusNext"}),this._evalFocusCommand.next()}focusPrev(){this._logger.debug("Focusing previous card on feed."),this._focusCommandsQueue.push({kind:"focusPrev"}),this._evalFocusCommand.next()}dispose(){this._subs.unsubscribe()}_updateActiveFeed(){return this._getActiveFeedMeta().pipe(d.n(s.fold((()=>u.of(s.none)),(({ordering:e,feedId:t,itemIdToFocus:n})=>{const i=this._getFeedItemsAndChanges(t).pipe(O.T((e=>({kind:"sduiChange",diff:e})))),r=(0,a.pipe)(n,s.fold((()=>D.w),(e=>u.of({kind:"focusCard",itemId:e})))),o=(c=e,l=(0,br.fold)(H.getMonoid())(c.map((e=>(0,a.pipe)(H.ordNumber,H.contramap((0,a.flow)(pr,s.chain((t=>s.fromNullable(t[e.orderBy]))),s.fold((()=>Number.MAX_VALUE),(t=>e.direction===Ki.ne.Asc?t:-1*t)))))))),H.contramap((e=>e.content))(l));var l,c;return Nn.h(i,r,this._evalFocusCommand.pipe(lt.Z(null),d.n((()=>Pn.H(this._focusCommandsQueue.splice(0)))))).pipe(Zi.S(((e,n)=>(0,a.pipe)(e,"sduiChange"===n.kind?function(e,t,n=a.constTrue){return(0,a.flow)(gi().unwrap,(i=>(0,a.pipe)(e,ai.b.reduce({items:new Map(i.items),added:new Set,updated:new Set,removed:new Set},((e,t,n)=>(e.removed.add(n),e)),((e,t,n,i)=>(e.items.set(i,n),e.updated.add(i),e)),((e,t,n)=>(e.items.set(n,t),e.added.add(n),e))),(({items:e,added:r,updated:o,removed:l})=>{const c=(0,a.pipe)(i.order.focus,s.exists((e=>l.has(e)))),d=xi(i.order).filter((e=>!o.has(e))),u=(0,hi.zj)(d,[...o,...r],function(e,t){return H.fromCompare(((n,i)=>{const r=e.get(n),o=e.get(i);return void 0!==r&&void 0!==o?t.compare(r,o):0}))}(e,t)),p=(0,a.pipe)(u,S.pb((e=>!l.has(e)||(0,a.pipe)(i.order.focus,s.exists((t=>t===e))))));l.forEach((t=>e.delete(t)));const m=(0,a.pipe)(i.order.focus,s.fold((()=>_i((0,a.pipe)(p,S.pb((e=>!l.has(e)))),s.none,[])),(t=>(0,a.pipe)(Ci(p,s.some(p.indexOf(t))),c?s.chain(n(e)?Ai:Ii):a.identity,s.getOrElse((()=>_i((0,a.pipe)(p,S.pb((e=>!l.has(e)))),s.none,[])))))));return{items:e,order:m}}))),gi().wrap)}(n.diff,o,(e=>1===e.size&&Gi(Array.from(e.values())[0].content)||this._params.autofocusNextCard(t))):a.identity,"focusNext"===n.kind?Ei:a.identity,"focusPrev"===n.kind?Si:a.identity,"focusCard"===n.kind?wi(bi(e).findIndex((e=>e.id===n.itemId))):a.identity,"focusFirst"===n.kind?wi((0,a.pipe)(bi(e),(e=>1===e.length?0:e.findIndex((e=>!Gi(e.content)))))):a.identity)),gi().wrap({items:new Map,order:_i([],s.none,[])})),O.T((e=>s.some({id:t,collection:e}))))}))),P.M((e=>this._emitOnActiveFeedEmptyIfNewFeedIsEmpty(e,this._feed.get())))).subscribe(p.H9(this._feed))}_getFeedItemsAndChanges(e){return Di.x(u.of((0,a.pipe)(this._feedsState.getValue(),Ae.$I(Un.W.Item.Id.eq)(e),s.map((e=>e.items)),s.map((e=>ai.b.fromMutation((t=>e.forEach(((e,n)=>t.set(n,cr.pG(e)))))))))),this._feedsState.pipe(R.i(1),O.T((0,a.flow)(Ae.$I(Un.W.Item.Id.eq)(e),s.map((e=>e.itemsChanges)))))).pipe(B.oE)}_getActiveFeedChanges(){return this._feed.pipe(O.T(s.map((e=>e.id))),lt.Z(s.none),F.skipBy(s.getEq(Un.W.Item.Id.eq)),O.T((e=>s.toNullable(w.J(s.option)({feedId:e,feedItems:(0,a.pipe)(e,s.chain((e=>{var t;return s.fromNullable(null===(t=this._feedsState.getValue().get(e))||void 0===t?void 0:t.items)}))),feedAlerts:(0,a.pipe)(e,s.chain((e=>{var t;return s.fromNullable(null===(t=this._feedsState.getValue().get(e))||void 0===t?void 0:t.alertsToItems)})))})))),Ut.J(),d.n((([e,t])=>null===t?null===e?D.w:u.of({feedChanged:!0,itemsChanges:ai.b.empty(),alertsToItemsChanges:ai.b.empty()}):Di.x(u.of({feedChanged:!0,itemsChanges:ai.b.fromMutation((e=>{for(const n of t.feedItems.values())e.set(n.id,cr.pG(n))})),alertsToItemsChanges:ai.b.fromMutation((e=>{for(const[n,i]of t.feedAlerts.entries())e.set(n,cr.pG(i))}))}),this._feedsState.pipe(R.i(1),O.T((0,a.flow)(Ae.$I(Un.W.Item.Id.eq)(t.feedId),s.map((e=>({feedChanged:!1,itemsChanges:e.itemsChanges,alertsToItemsChanges:e.alertsToItemsChanges})))))).pipe(B.oE)))),m.p((e=>e.feedChanged||!ai.b.isEmpty(e.itemsChanges)||!ai.b.isEmpty(e.alertsToItemsChanges))))}_getActiveFeedMeta(){return this._feedStack.pipe(O.T((0,hi.i5)((e=>e.valid))),d.n(s.fold((()=>u.of(s.none)),(e=>this._feedsState.pipe(O.T(Ae.$I(Un.W.Item.Id.eq)(e.feedId)),O.T(s.map((({feed:t})=>({ordering:t.content.ordering,feedId:t.id,itemIdToFocus:e.itemIdToFocus})))))))),F.skipBy(s.getEq(Er)))}_sduiFeedAddedAndRemovedObs(){const e=L.mJ((e=>e.id))(Un.W.Item.Id.eq),t=this._feedsState.pipe(O.T((0,a.flow)((e=>Array.from(e.values())),S.Tj((e=>e.feed)),_.ci(e))),lt.Z(new Set),Ut.J()),n=_.iv(e),i=t.pipe(O.T((([e,t])=>n(t)(e))),dr.H((e=>Pn.H(e))),F.shareReplay({bufferSize:1,refCount:!0}));return{added:t.pipe(O.T((([e,t])=>n(e)(t))),dr.H((e=>Pn.H(e))),F.shareReplay({bufferSize:1,refCount:!0})),removed:i}}_invalidateFeedsFromStack(){const e=this._sduiFeedChanges.removed.subscribe((e=>{const t=this._feedStack.getValue();if(t.find((t=>t.feedId===e.id))){const n=t.map((t=>t.feedId===e.id?Object.assign(Object.assign({},t),{valid:!1}):t));this._feedStack.next(n)}})),t=this._sduiFeedChanges.added.subscribe((e=>{const t=this._feedStack.getValue();if(t.find((t=>t.feedId===e.id))){const n=t.map((t=>t.feedId===e.id?Object.assign(Object.assign({},t),{valid:!0}):t));this._feedStack.next(n)}}));return()=>{e.unsubscribe(),t.unsubscribe()}}_emitOnFeedRemove(){return this._sduiFeedChanges.removed.pipe(Ot.E(this._feedStack.pipe(O.T(S.HV))),m.p((([e,t])=>{var n;return(null===(n=s.toNullable(t))||void 0===n?void 0:n.feedId)===e.id})),O.T((([e,t])=>e))).subscribe(this.onActiveFeedRemove)}_emitOnActiveFeedEmptyIfNewFeedIsEmpty(e,t){(0,a.pipe)(w.J(s.option)({currentFeed:t,newFeed:e}),s.filter((({currentFeed:e,newFeed:t})=>e.id===t.id&&vi(e.collection)>0&&0===vi(t.collection))),s.chain((({currentFeed:e})=>s.fromNullable(this._feeds.get().get(e.id)))),s.map((({feed:e})=>this.onActiveFeedEmpty.next(e))))}}const Er=L.OW({feedId:Un.W.Item.Id.eq,itemIdToFocus:s.getEq(Un.W.Item.Id.eq),ordering:fr});class Sr extends wr{constructor(e){super(e),this._initialForm=null,this.allSuggestionsFeedId=this.feeds.view((e=>{var t,n;return(0,a.pipe)(s.fromNullable(null===(n=null===(t=e.get(Un.W.Item.Id.from("longForm"===this._initialForm?Ln.lensAllSuggestionFeed:Ln.lensAllSuggestionFeedShortForm)))||void 0===t?void 0:t.feed)||void 0===n?void 0:n.id))})),this._initialForm=e.initialForm}pushFeed(e,t,n){super.pushFeed(Un.W.Item.Id.from(e),t,n)}replaceFeed(e,t,n){super.replaceFeed(Un.W.Item.Id.from(e),t,n)}popFeed(e){super.popFeed(null!=e?e:(0,a.pipe)(this.allSuggestionsFeedId.get(),s.map((e=>({feedId:e}))),s.toUndefined))}}class Cr{constructor(e){this._params=e,this._subs=new c.y,this._deepLinkStatus=g.s.create({available:!1,active:!1}),this.deepLinkStatusChanges=this._deepLinkStatus.view(),this._subs.add(this._focusPremiumSuggestionsUphook()),this._subs.add(this._trackPremiumSuggestionsUphookAvailability()),this._subs.add(this._deepLinkStatus.view("active").subscribe((e=>{var t,n;null===(n=(t=this._params.uphookService).notifyPremiumSuggestionsUphookFocusChanged)||void 0===n||n.call(t,e)}))),this._subs.add(this._params.routingViewModel.activeView.view((e=>"home"!==e.kind)).subscribe((()=>this._deepLinkStatus.lens("active").set(!1))))}onFocusedSDUIItemMount(e){this._deepLinkStatus.lens("active").set(Gi(e.content))}handleDeepLinkRequest(){this._params.routingViewModel.has({kind:"home"})&&(this._params.routingViewModel.popUntil((e=>"home"===e.kind)),(0,a.pipe)(this._params.feedManager.feed.get(),s.chain((({collection:e})=>this._findUphookItem(e))),s.map((e=>this._params.feedManager.focusCard(e.id)))))}_focusPremiumSuggestionsUphook(){var e;return(null!==(e=this._params.uphookService.requestFocusPremiumSuggestionsUphook)&&void 0!==e?e:D.w).subscribe((()=>this.handleDeepLinkRequest()))}_trackPremiumSuggestionsUphookAvailability(){return this._params.feedManager.feed.pipe(N.Z(100),O.T(s.exists((e=>s.isSome(this._findUphookItem(e.collection)))))).subscribe((e=>{var t,n;null===(n=(t=this._params.uphookService).notifyPremiumSuggestionsUphookAvailabilityChanged)||void 0===n||n.call(t,e),this._deepLinkStatus.lens("available").set(e)}))}_findUphookItem(e){return(0,a.pipe)(bi(e),"shortForm"===this._params.feedFormViewModel.state.get().feedForm?S.Uk((e=>Gi(e.content))):S.i8((e=>Gi(e.content))))}dispose(){this._subs.unsubscribe()}}var _r=n(12884),xr=n(28066),Ar=n(2338),Ir=n(92490),Kr=n(83375),Tr=n(6608);class Or{constructor(e){this._params=e,this._subs=new c.y,this._logger=this._params.logService.getLogger(Or.name),this._sduiEvents=new l.B7,this._localSDUIBuffer=[],this._localSDUIBufferChanged=new l.B7,this._flush=new l.B7,this._sduiManagerFactory=()=>new Ir.Z(this._sduiEvents.asObservable(),s.fromPredicate((e=>this._params.alertCollection.hasAlert(e))),void 0,Nn.h(_r.Y(100).pipe(lt.Z(0)),this._flush.pipe(st.u(0)))),this._sduiManager=g.s.create(this._sduiManagerFactory()),this._state=g.s.create(this._sduiManager.get().state.get()),this._sduiReset=new l.B7,this._sduiItemCollectionChanges=new l.B7,this._sduiChangesSettled=new qi.t(!1),this.sduiReset=this._sduiReset.asObservable(),this.state=this._state.view(),this.onAlertsRefEmpty=(0,a.pipe)(this._sduiManager.view((e=>e.onAlertsRefEmpty)),xr.w()),this.sduiChangesSettled=this._sduiChangesSettled.pipe(A.F()),this._sduiProcessingSub=null,this._subs.add(this._processAlertChanges()),this._subs.add(this._processInboundSDUIMessages(this._sduiItemCollectionChanges)),this._subs.add(this._computeSDUIChangesSettled().subscribe(this._sduiChangesSettled)),this._subs.add(this._sduiManager.pipe(d.n((e=>e.state))).subscribe(p.H9(this._state))),this._subs.add(this._sduiEvents.pipe($i.r(this._sduiEvents.pipe(Lt.B(0)))).subscribe((e=>{const t=e.filter((e=>e.kind===Kr.Q.SduiEventKind.Add)),n=e.filter((e=>e.kind===Kr.Q.SduiEventKind.Update)),i=e.filter((e=>e.kind===Kr.Q.SduiEventKind.Remove));(t.length>0||n.length>0||i.length>0)&&this._logger.debug(`Received SDUI events - insertions: [${t.map((e=>e.sduiRootId)).join(",")}] - updates: [${n.map((e=>e.sduiRootId)).join(",")}] - removals: [${i.map((e=>e.sduiRootId)).join(",")}]`)}))),this._subs.add((0,ke.b)(this._params.sduiItemCollectionChanges).subscribe(this._sduiItemCollectionChanges))}pushRemovedRoot(e){this._sduiManager.get().pushRemovedRoot(e),this._sduiManager.get().flush()}pushRemovedAlerts([e,t]){this._sduiManager.get().pushRemovedAlerts([e,t])}pushSwitchView(e){this._sduiManager.get().pushSwitchView(e)}dispose(){this._cancelSDUIBufferProcessing(),this._subs.unsubscribe(),this._sduiManager.get().dispose()}_computeSDUIChangesSettled(){const e=this._sduiManager.pipe(d.n((e=>e.unresolvedItemsQueueSize)),O.T((e=>0===e))),t=this._localSDUIBufferChanged.pipe(O.T((()=>0===this._localSDUIBuffer.length))),n=kt.zV([e,t]).pipe(O.T((([e,t])=>e&&t)),A.F()),i=this._sduiItemCollectionChanges.pipe(O.T((e=>0===e.pendingChangesCount)),lt.Z(!0),A.F());return kt.zV([n,i]).pipe(d.n((([e,t])=>e?t?u.of(!0):F.timer(500).pipe(st.u(!0)):F.timer(500).pipe(st.u(!0),lt.Z(!1)))),A.F())}_parseSDUIMessage(e,t,n=!1){return n?(0,a.pipe)(oi.cK.dslRootParser(e),E.mapLeft((e=>(this._params.logService.logEvent(function(e){return{kind:"error",source:"revision",name:"sduiDSLParseFailed",data:e}}({sduiRootId:t,reason:(0,ye.$)(e).message})),e))),s.fromEither):s.some(e)}_processInboundSDUIMessages(e){var t;return e.pipe(O.T((e=>e.changes)),Ar.K(),m.p(Mr),O.T((e=>(0,Tr.Cv)(e)?(0,a.pipe)(this._parseSDUIMessage(e.sdui,e.sduiRootId),s.map((t=>({kind:Kr.Q.SduiEventKind.Add,sdui:t,sduiRootId:Kr.Q.RawSduiItem.Id.create(e.sduiRootId),rev:0})))):(0,Tr.av)(e)?(0,a.pipe)(this._parseSDUIMessage(e.sdui,e.sduiRootId),s.map((t=>({kind:Kr.Q.SduiEventKind.Update,sdui:t,sduiRootId:Kr.Q.RawSduiItem.Id.create(e.sduiRootId),rev:0})))):(0,Tr.Jd)(e)?s.some({kind:Kr.Q.SduiEventKind.Remove,sduiRootId:Kr.Q.RawSduiItem.Id.create(e.sduiRootId),rev:0}):(0,Tr.pp)(e)?(this._cancelSDUIBufferProcessing(),this._localSDUIBuffer=[],this._localSDUIBufferChanged.next(),this._sduiManager.modify((e=>(e.dispose(),this._sduiManagerFactory()))),this._sduiReset.next(void 0),s.none):void(0,h.AS)(e))),B.oE,null!==(t=this._params.sduiEventTransformer)&&void 0!==t?t:a.identity).subscribe((e=>{this._localSDUIBuffer.push(e),this._localSDUIBufferChanged.next(),this._startSDUIBufferProcessing()}))}_cancelSDUIBufferProcessing(){null!==this._sduiProcessingSub&&(this._sduiProcessingSub.unsubscribe(),this._sduiProcessingSub=null)}_startSDUIBufferProcessing(){null===this._sduiProcessingSub&&(this._sduiProcessingSub=this._enqueueSDUIProcessing())}_enqueueSDUIProcessing(){return F.timer(0).pipe(P.M((()=>{this._processBatchFromSDUIBuffer(),this._localSDUIBuffer.length>0?(this._cancelSDUIBufferProcessing(),this._startSDUIBufferProcessing()):this._sduiProcessingSub=null}))).subscribe()}_processBatchFromSDUIBuffer(){this._localSDUIBuffer.length>0&&(this._localSDUIBuffer.splice(0,100).forEach((e=>this._sduiEvents.next(e))),this._sduiManager.get().notifyAlertsChanged(),this._flush.next(),this._localSDUIBufferChanged.next())}_processAlertChanges(){return this._params.alertCollection.changes.subscribe((e=>{const t=e.reduce(((e,t)=>{var n;return(0,Li.x9)(t)&&"textChange"===t.reason&&e.set("textChange",(null!==(n=e.get("textChange"))&&void 0!==n?n:[]).concat(Un.W.AlertId.from(t.alertId))),e}),new Map);e.length>0&&(this._sduiManager.get().notifyAlertsChanged(),t.size>0&&this._logger.debug("Optimistically removing alerts.",t),t.forEach(((e,t)=>this.pushRemovedAlerts([e,t]))))}))}}function Mr(e){return"sduiItemAdd"!==e.kind&&"sduiItemUpdate"!==e.kind||!function(e,t=new Set(["inlineCard"])){return!(null==e||"object"!=typeof e||!("type"in e)||"string"!=typeof e.type||!t.has(e.type))}(e.sdui)}var Fr=n(14018);function Rr(e){return e.pipe(lt.Z(Fr.k.empty),Ut.J(),O.T((([e,t])=>Fr.k.diff(e,t))))}const Br="long-form-suggestion-card",Nr="long-form-lens",Pr="feed-order",Dr="short-form-feed-order",jr=(0,a.flow)(Zi.S(((e,t)=>{var n;const i=[],r=new Map(e.updatedLongFormFeeds),o=new Set(e.longFormFeedFilteringValues),l=e=>{const t=(n=r.values(),o=e,(0,a.pipe)(Array.from(n),S.x1((e=>(0,a.pipe)("assistantFeed"===e.sdui.type?s.some(e.sdui):s.none,s.map((e=>function(e,t){return Object.assign(Object.assign({},e),{filtering:[...e.filtering,{property:Nr,value:t,condition:Ki.TV.NotEqualTo}]})}(e,o))),s.map((t=>Object.assign(Object.assign({},e),{kind:Kr.Q.SduiEventKind.Update,sdui:t}))))))));var n,o;t.forEach((e=>r.set(e.sduiRootId,e))),i.push(...t)};if(t.kind===Kr.Q.SduiEventKind.Add||t.kind===Kr.Q.SduiEventKind.Update)if(Gi(t.sdui))"longFormCard"===t.sdui.type?i.push(Object.assign(Object.assign({},t),{sdui:Ur(t.sdui)})):"strongAlertRef"===t.sdui.type&&"longFormCard"===t.sdui.child.type&&i.push(Object.assign(Object.assign({},t),{sdui:Object.assign(Object.assign({},t.sdui),{child:Ur(t.sdui.child)})}));else if("longFormCard"===t.sdui.type||"strongAlertRef"===t.sdui.type&&"longFormCard"===t.sdui.child.type){const e=null!==(n=("longFormCard"===t.sdui.type?t.sdui.feedProperties:"strongAlertRef"===t.sdui.type&&"longFormCard"===t.sdui.child.type?t.sdui.child.feedProperties:{})[Nr])&&void 0!==n?n:void 0;void 0===e||o.has(e)||l(e),"longFormCard"===t.sdui.type?i.push(Object.assign(Object.assign({},t),{sdui:$r(t.sdui)})):"strongAlertRef"===t.sdui.type&&"longFormCard"===t.sdui.child.type&&i.push(Object.assign(Object.assign({},t),{sdui:Object.assign(Object.assign({},t.sdui),{child:$r(t.sdui.child)})}))}else if("assistantFeed"===t.sdui.type&&t.sdui.id===String(Ln.lensAllSuggestionFeed)){const e=Kr.Q.RawSduiItem.Id.create(Ln.lensAllSuggestionFeedShortForm);i.push(t,Object.assign(Object.assign({},t),{sduiRootId:e,sdui:Hr(e,t.sdui)}))}else"assistantFeed"===t.sdui.type&&(0,a.pipe)(function(e,t){var n;const i=e.filtering.find(Lr);if(i){const r=Array.from(t).filter((e=>e!==i.value));return s.some({sdui:Object.assign(Object.assign({},e),{filtering:[...e.filtering.filter((e=>!Lr(e))),...r.map((e=>({property:Nr,value:e,condition:Ki.TV.NotEqualTo})))]}),filteringValue:null!==(n=null==i?void 0:i.value)&&void 0!==n?n:null})}return s.none}(t.sdui,e.longFormFeedFilteringValues),s.map((({sdui:e,filteringValue:n})=>{const s=!o.has(n);o.add(n),s&&l(n),r.set(t.sduiRootId,Object.assign(Object.assign({},t),{sdui:e})),i.push(Object.assign(Object.assign({},t),{sdui:e}))})));else t.sduiRootId===String(Ln.lensAllSuggestionFeed)?i.push(t,Object.assign(Object.assign({},t),{sduiRootId:Kr.Q.RawSduiItem.Id.create(Ln.lensAllSuggestionFeedShortForm)})):t.kind===Kr.Q.SduiEventKind.Remove?r.delete(t.sduiRootId):(0,h.AS)(t);return{events:i.length>0?i:[t],longFormFeedFilteringValues:o,updatedLongFormFeeds:r}}),{events:[],longFormFeedFilteringValues:new Set(S.y1(0,6)),updatedLongFormFeeds:new Map}),dr.H((({events:e})=>Pn.H(e))));function Lr(e){return e.property===Nr&&e.condition===Ki.TV.EqualTo}const Ur=e=>Object.assign(Object.assign({},e),{feedProperties:Object.assign(Object.assign({},e.feedProperties),{[Br]:1,[Pr]:Number.MIN_SAFE_INTEGER,[Dr]:Number.MAX_SAFE_INTEGER})}),$r=e=>Object.assign(Object.assign({},e),{feedProperties:Object.assign(Object.assign({},e.feedProperties),{[Dr]:e.feedProperties[Pr]})});function Hr(e,t){return Object.assign(Object.assign({},t),{id:e,ordering:[{orderBy:Dr,direction:Ki.ne.Asc},...t.ordering.filter((e=>e.orderBy!==Pr))]})}class Vr{constructor(e){this._subs=new c.y,this._state=g.s.create({firstCheckingFinished:!1,sduiEventsSettledOnce:!1}),this._firstCheckingFinishedAndSduiEventsSettledTimedOut=g.s.create(!1),this.firstCheckingFinishedAndSduiEventsSettled=this._state.view((e=>e.firstCheckingFinished&&e.sduiEventsSettledOnce)),this.firstCheckingFinishedAndSduiEventsSettledTimedOut=this._firstCheckingFinishedAndSduiEventsSettledTimedOut.view(),this._subs.add(e.sduiChangesSettled.pipe(m.p(a.identity)).subscribe((()=>this._state.lens("sduiEventsSettledOnce").set(!0)))),this._subs.add(e.lastFinishedMessage.subscribe((()=>this._state.lens("firstCheckingFinished").set(!0))));const t=F.timer(1e4).subscribe((()=>this._firstCheckingFinishedAndSduiEventsSettledTimedOut.set(!0)));this._subs.add(t),this._subs.add(this.firstCheckingFinishedAndSduiEventsSettled.pipe(m.p(a.identity)).subscribe((()=>t.unsubscribe())))}dispose(){this._subs.unsubscribe()}}const zr={[Ln.lensAllSuggestionFeed]:"all-suggestions",[Ln.lensAllSuggestionFeedShortForm]:"all-suggestions",[Ln.lensCorrectnessFeed]:"correctness",[Ln.lensClarityFeed]:"clarity",[Ln.lensDeliveryFeed]:"delivery",[Ln.lensEngagementFeed]:"engagement",[Ln.lensStyleGuideFeed]:"style-guide",[Ln.lensPremiumFeed]:"premium",[Ln.plagiarismFeed]:"plagiarism",[Ln.writingExpertFeed]:"writing-expert"};function Wr(e){return(0,a.pipe)(Vn(e.id),s.map((e=>zr[e])))}class Zr{constructor(e){this._params=e,this._feedForm=g.s.create(this._params.supportedForms[0]),this.requestedSupportedForms=this._params.supportedForms,this.state=g.s.combine(this._feedForm,this._params.feedManager.feeds,((e,t)=>({feedForm:e,supportedForms:(0,a.pipe)(new Set(this._params.supportedForms),_.pb((e=>t.has(Un.W.Item.Id.from(zn[e])))))})))}onToggleFeedForm(e){this._feedForm.set(e);const t=this._params.feedManager.feed.get();this._params.tracking.feedFormChanged(e,(0,a.pipe)(t,s.chain(Wr),s.toNullable),(0,a.pipe)(t,s.map((e=>vi(e.collection))),s.toNullable));const n=(0,a.pipe)(t,s.chain((e=>yi(e.collection))));this._params.feedManager.replaceFeed("longForm"===e?Ln.lensAllSuggestionFeed:Ln.lensAllSuggestionFeedShortForm,(0,a.pipe)(n,s.fold((()=>{}),(e=>e.id))),(0,a.pipe)(n,s.chain((e=>oi.cK.getAlertIds(e.content))),s.fold((()=>{}),(e=>new Set(e)))))}}function Gr(e){return"premiumFeedLens"===e.kind}const Qr=[Ln.lensAllSuggestionFeed,Ln.lensCorrectnessFeed,Ln.lensClarityFeed,Ln.lensEngagementFeed,Ln.lensDeliveryFeed,Ln.lensStyleGuideFeed,Ln.lensPremiumFeed];function qr(e){return{[Ln.lensAllSuggestionFeed]:e(Ln.lensAllSuggestionFeed),[Ln.lensClarityFeed]:e(Ln.lensClarityFeed),[Ln.lensCorrectnessFeed]:e(Ln.lensCorrectnessFeed),[Ln.lensEngagementFeed]:e(Ln.lensEngagementFeed),[Ln.lensDeliveryFeed]:e(Ln.lensDeliveryFeed),[Ln.lensStyleGuideFeed]:e(Ln.lensStyleGuideFeed),[Ln.lensPremiumFeed]:e(Ln.lensPremiumFeed)}}class Jr{constructor(e){this._params=e,this._subs=new c.y,this._outcomeScores=g.s.create(qr((()=>1))),this._styleGuideEnabled=g.s.create(!1),this._availableFeeds=g.s.create(new Map),this._grammarlyProTreatment=g.s.create(null),this._logger=this._params.logService.getLogger(pi.name),this.lenses=g.s.combine(this._outcomeScores,this._availableFeeds,this._styleGuideEnabled,this._grammarlyProTreatment,((e,t,n,i)=>(0,a.pipe)(Qr,S.pb((e=>t.has(Un.W.Item.Id.from(e)))),S.pb((e=>!!n||e!==Ln.lensStyleGuideFeed)),S.Tj((n=>{var r,o,s;return n===Ln.lensPremiumFeed?{kind:"premiumFeedLens",lensId:n,label:"test"===i?"Pro":Hn[n],suggestionCount:null!==(o=null===(r=t.get(Un.W.Item.Id.from(Ln.lensPremiumFeed)))||void 0===r?void 0:r.alertCount)&&void 0!==o?o:0}:{kind:"regularFeedLens",lensId:n,label:Hn[n],percent:null!==(s=e[n])&&void 0!==s?s:1}})),(e=>new Map(e.map((e=>[e.lensId,e]))))))),this._subs.add(this._params.availableFeeds.subscribe(p.H9(this._availableFeeds))),this._subs.add(this._params.userInstitutionInfo.pipe(O.T(s.exists((e=>!0===e.styleGuideEnabled)))).subscribe(p.H9(this._styleGuideEnabled))),this._subs.add(kt.zV([this._params.lastFinishedMessage,this._availableFeeds]).subscribe((([{outcomeScores:e},t])=>{const n=function(e,t){return n=>{var i,r;const o=null===(i=e.get(Un.W.Item.Id.from(n)))||void 0===i?void 0:i.alertCount,a=function(e,t){switch(t){case Ln.lensAllSuggestionFeed:case Ln.lensAllSuggestionFeedShortForm:return null==e?void 0:e.GeneralScore;case Ln.lensClarityFeed:return null==e?void 0:e.Clarity;case Ln.lensCorrectnessFeed:return null==e?void 0:e.Correctness;case Ln.lensDeliveryFeed:return null==e?void 0:e.Tone;case Ln.lensEngagementFeed:return null==e?void 0:e.Engagement;case Ln.lensStyleGuideFeed:return null==e?void 0:e["Style guide"];case Ln.lensPremiumFeed:case Ln.plagiarismFeed:case Ln.writingExpertFeed:return;default:(0,h.AS)(t)}}(t,n);return 0===o?1:null!==(l=a,r=s.toNullable($n(l)))&&void 0!==r?r:0;var l}}(t,e);this._outcomeScores.set(qr(n))}))),(0,we.s)("peekGrammarlyProTreatment",(0,a.pipe)(this._params.experimentService?this._params.experimentService.peekTreatment(Ke.r.GrammarlyProM3V2):x.pG(null),x.qE((e=>new Error(e)))),this._logger,(e=>this._grammarlyProTreatment.set(e)))}onToggleLens(e){const t=(0,a.pipe)(this._params.feedManager.feed.get(),s.map((e=>e.id)),s.exists((t=>t===e)));this._params.tracking.feedLensButtonClicked(zr[e]);const n=(0,a.pipe)(this._params.feedManager.feed.get(),s.chain((e=>yi(e.collection))),s.fold((()=>{}),(e=>e.id)));t?this._params.feedManager.replaceFeed(Ln.lensAllSuggestionFeed,n):this._params.feedManager.replaceFeed(e,n)}dispose(){this._subs.unsubscribe()}}var Yr;function Xr(e){return"assistantCard"===e.content.type?s.some(e.content):"strongAlertRef"===e.content.type&&"assistantCard"===e.content.child.type?s.some(e.content.child):"strongAlertRef"===e.content.type&&"longFormCard"===e.content.child.type&&"assistantCard"===e.content.child.fullContent.type?s.some(e.content.child.fullContent):"longFormCard"===e.content.type&&"assistantCard"===e.content.fullContent.type?s.some(e.content.fullContent):s.none}!function(e){const t=[];e.notifyFeedUnmount=function(){t.forEach((e=>e()))},e.registerFeedUnmountHandler=function(e){return t.push(e),e},e.unregisterFeedUnmountHandler=function(e){const n=t.findIndex((t=>t===e));n>=0&&t.splice(n,1)}}(Yr||(Yr={}));class eo{constructor(e){this._params=e,this._subs=new c.y,this._focusedItem=g.s.create(s.none),this._feedReset=g.s.create(!1),this._feedItemRendered=new l.B7,this._isWaitingForAlertsToBeApplied=g.s.create(!1),this.isAllSuggestionsFeedEnabled=g.s.create(this._params.isAllSuggestionsFeedEnabled),this.feed=this._params.feedManager.feed.view(),this.feedReset=this._feedReset.view(),this.isWaitingForAlertsToBeApplied=this._isWaitingForAlertsToBeApplied.view(),this._subs.add(this._params.sduiReset.pipe(d.n((()=>F.timer(5e3).pipe(st.u(!1),lt.Z(!0))))).subscribe(p.H9(this._feedReset))),this._subs.add(this._trackFeedShows().subscribe()),this._subs.add(this._params.feedActionService.processedActionStatus.pipe(m.p((({action:e})=>"applyAlerts"===e.type)),Zi.S(((e,{status:t,itemId:n})=>(0,a.pipe)(e,"pending"===t?_.Yr(Un.W.Item.Id.eq)(n):_.TF(Un.W.Item.Id.eq)(n))),new Set),O.T((e=>e.size>0))).subscribe(p.H9(this._isWaitingForAlertsToBeApplied)))}_interactionReady(e){const t=this._params.feedFormViewModel.state.view("feedForm").get(),n=(0,a.pipe)(this.feed.get(),s.chain(Wr),s.getOrElseW((()=>"unknown")));this._params.lifecycleViewModel.onInteractionReady({kind:"revision",feedForm:t,feedName:n,success:e})}processActions(e,t,n,i){this._params.feedActionService.processActions(e,t.id,n.alertRefs,i)}_onFocusedItemMount(e){(0,a.pipe)(this._focusedItem.get(),s.filter((t=>t.id!==e.id)),s.chain((e=>(0,a.pipe)(Xr(e),s.map((t=>({actions:t.onBlur,item:e,sourceId:t.id})))))),s.map((({actions:e,item:t,sourceId:n})=>this._params.feedActionService.processActions(e,t.id,void 0,n)))),(0,a.pipe)(Xr(e),s.map((t=>({actions:t.onFocus,item:e,sourceId:t.id}))),s.map((({actions:e,item:t,sourceId:n})=>this._params.feedActionService.processActions(e,t.id,void 0,n)))),this._params.onFocusedSDUIItemMount(e),this._focusedItem.set(s.some(e)),"shortForm"===this._params.feedFormViewModel.state.view("feedForm").get()&&this._interactionReady(!0)}onItemMount(e,t){e&&this._onFocusedItemMount(t),"longForm"===this._params.feedFormViewModel.state.view("feedForm").get()&&this._interactionReady(!0),this._feedItemRendered.next()}onFeedMount(){const e=Yr.registerFeedUnmountHandler((()=>{Yr.unregisterFeedUnmountHandler(e),this._params.alertVisibilityManager.notifyFeedUnmount(),(0,a.pipe)(this._focusedItem.get(),s.chain((e=>(0,a.pipe)(Xr(e),s.map((t=>({actions:t.onBlur,item:e,sourceId:t.id})))))),s.map((({actions:e,item:t,sourceId:n})=>this._params.feedActionService.processActions(e,t.id,void 0,n))))}));this._params.alertVisibilityManager.notifyFeedMount()}onSuccessStateMount(){(0,a.pipe)(this.feed.get(),s.chain(Wr),s.map((e=>this._params.tracking.feedSuccessStateShown(e,"applied")))),this._interactionReady(!0),this._feedItemRendered.next()}onEmptyStateMount(e){(0,a.pipe)(this.feed.get(),s.chain(Wr),s.map((e=>this._params.tracking.feedSuccessStateShown(e,"nothingToCheck")))),this._interactionReady(!e),e||this._feedItemRendered.next()}dispose(){this._subs.unsubscribe()}_trackFeedShows(){return this.feed.pipe(O.T(s.chain(Wr)),F.skipBy(s.getEq(L.kK)),B.oE,d.n((e=>this._feedItemRendered.pipe(f.s(1),st.u(e))))).pipe(P.M((e=>this._params.tracking.feedLensShown(e))))}}class to{constructor(e){this._params=e,this._subs=new c.y,this._showPartialPageModeNotification=this._params.showPartialPageModeNotification,this._pageRange=g.s.create(s.none),this._partialPageModeNotificationShown=!1,this.pageRange=this._pageRange.view(),this._subs.add(this._params.partialPageRange.pipe(O.T(s.some)).subscribe(p.H9(this._pageRange)))}partialPageRangeHeaderMount(){const e=(0,a.pipe)(this._pageRange.get(),s.filter((()=>this._showPartialPageModeNotification&&!this._partialPageModeNotificationShown)),s.fold((()=>D.w),(e=>this._params.notificationService.notify(be.create("warning",`Grammarly shows suggestions for ${e.endPage-e.startPage+1} document pages at a time. Scroll into the page you want to review to see suggestions for that section.`,"partialPageMode",!0)))));this._subs.add(e.subscribe((()=>{this._params.tracking.partialPageModeNotificationDismissed(),this._partialPageModeNotificationShown=!0})))}dispose(){this._subs.unsubscribe()}}class no{constructor(e){this._params=e,this._subs=new c.y,this._state=g.s.create({allSuggestionsCount:0,activeFeedSuggestionCount:0,allSuggestionsEmpty:!0,someSuggestionsAddressed:!1}),this.state=this._state.view();const t=g.s.combine(this._params.isAllSuggestionsFeedEnabled,this._params.feedManagerProxy.allSuggestionsFeedId,((e,t)=>e?t:s.none));this._subs.add(t.pipe(d.n(s.fold((()=>u.of(0)),(e=>this._params.feedManagerProxy.feeds.view((t=>{var n,i;return null!==(i=null===(n=t.get(e))||void 0===n?void 0:n.itemCount)&&void 0!==i?i:0})))))).subscribe(p.H9(this._state.lens("allSuggestionsCount")))),this._subs.add(g.s.combine(this._params.isAllSuggestionsFeedEnabled,this._params.feedManagerProxy.allSuggestionsFeedId,this._params.feedManagerProxy.feed,((e,t,n)=>(0,a.pipe)(n,s.filter((n=>!(n.id===s.toNullable(t)&&!e)))))).view(s.fold((()=>0),(e=>vi(e.collection)))).subscribe(p.H9(this._state.lens("activeFeedSuggestionCount")))),this._subs.add(t.pipe(d.n(s.fold((()=>u.of(!0)),(e=>this._params.feedManagerProxy.feeds.view((t=>{var n,i;return 0===(null!==(i=null===(n=t.get(e))||void 0===n?void 0:n.itemCount)&&void 0!==i?i:0)}))))),A.F()).subscribe((e=>{this._state.lens("allSuggestionsEmpty").set(e),e||this._state.lens("someSuggestionsAddressed").set(!1)})))}onSuggestionAddressed(){this._state.lens("someSuggestionsAddressed").set(!0)}getFeedSuggestionCount(e){return this._params.feedManagerProxy.feeds.view((t=>(0,a.pipe)(s.fromNullable(t.get(Un.W.Item.Id.from(e))),s.fold((()=>0),(e=>e.itemCount)))))}dispose(){this._subs.unsubscribe()}}function io(e){var t,n,i,r;const o=new c.y,u=e.logService.getLogger(io.name),p=new l.B7,g=null!==(t=e.sduiService.supportedForms)&&void 0!==t?t:["shortForm","longForm"],v=new l.B7,b=new l.B7,y=new Ui({alertCollectionChanges:b,logService:e.logService}),k=new Or({sduiItemCollectionChanges:v,alertCollection:y,sduiEventTransformer:jr,logService:e.logService}),w=new l.B7;o.add(k.state.pipe(Rr).subscribe(w));const E=new ri({capiService:e.capiService}),S=new mi({capiService:e.capiService}),C=new tr({autofocusNextLongFormCardOnAlertRefEmpty:e.sduiService.autofocusNextLongFormCardOnAlertRefEmpty,autofocusNextLongFormCardOnApplyOrDismiss:e.sduiService.autofocusNextLongFormCardOnApplyOrDismiss}),_=new Sr({sduiItemsCollectionDiff:w,initialForm:g[0],autofocusNextCard:e=>e===Ln.lensAllSuggestionFeedShortForm||C.autofocusNextLongFormCardOnApplyOrDismiss.get(),logService:e.logService}),x=new er({activeFeed:_.feed,checkingFinishedOnce:e.capiService.relevantInboundCAPIMessages.pipe(m.p(ee.Bw.Finished.is)),sduiChangesSettled:k.sduiChangesSettled,selectedAlertId:e.alertService.selectedAlertId,alertCollection:y,isShortFormFeed:e=>e.id===Ln.lensAllSuggestionFeedShortForm,logService:e.logService});o.add(x.focusCard.pipe(Rn.QE(Bn.$)).subscribe((e=>{switch(e.kind){case"focusFirstCard":return _.focusFirst();case"focusCard":return _.focusCard(e.cardId);default:(0,h.AS)(e)}})));const A=new Zr({supportedForms:g,feedManager:_,tracking:e.trackingService}),I=new ar({feedManager:_,sduiManagerProxy:k,capiService:e.capiService,alertService:e.alertService,plagiarismService:E,writingExpertService:S,textEditorService:e.textEditorService,lifecycleService:e.lifecycleService,uphookService:e.uphookService,autofocusSettingsService:C,feedForm:A.state.view("feedForm"),logService:e.logService,setEmphasizedAlerts:e=>p.next(new Set(e))}),K=null!==(n=e.defaultFeed)&&void 0!==n?n:_.allSuggestionsFeedId.pipe(B.oE,f.s(1));o.add(K.subscribe((e=>{u.debug("Pushing default feed.",{feedId:e}),_.pushFeed(e)})));const T=new Qi({focusedItem:_.feed.pipe(O.T(s.chain((e=>yi(e.collection))))),activeFeedChanges:_.activeFeedChanges,resetEmphasizedAlerts:p,alertService:e.alertService,logService:e.logService}),M=new zi({activeFeed:_.feed,alertService:e.alertService,sduiActions:I.processedActionStatus.pipe(O.T((e=>e.action))),logService:e.logService}),F=new Cr({feedManager:_,routingViewModel:e.routingViewModel,uphookService:e.uphookService,feedFormViewModel:A}),R=e.deepLinkManager.registerDeepLinkHandler("premiumSuggestionsUphook",F),N=new Jr({feedManager:_,availableFeeds:_.feeds,lastFinishedMessage:e.capiService.relevantInboundCAPIMessages.pipe(m.p(ee.Bw.Finished.is)),userInstitutionInfo:e.userViewModel.institutionInfo,tracking:e.trackingService,experimentService:e.experimentService,logService:e.logService}),j=new eo({isAllSuggestionsFeedEnabled:e.isAllSuggestionsFeedEnabled,feedManager:_,feedActionService:I,alertVisibilityManager:T,onFocusedSDUIItemMount:e=>F.onFocusedSDUIItemMount(e),feedFormViewModel:A,sduiReset:k.sduiReset,tracking:e.trackingService,lifecycleViewModel:e.lifecycleViewModel}),L=new Vr({lastFinishedMessage:e.capiService.relevantInboundCAPIMessages.pipe(m.p(ee.Bw.Finished.is)),sduiChangesSettled:k.sduiChangesSettled}),U=new to({showPartialPageModeNotification:null!==(r=null===(i=e.partialPageModeSettings)||void 0===i?void 0:i.showPartialPageModeNotification)&&void 0!==r&&r,partialPageRange:(0,a.pipe)(s.fromNullable(e.textEditorService.partialPageRange),s.fold((()=>D.w),ke.b)),tracking:e.trackingService,notificationService:e.notificationService}),$=new no({isAllSuggestionsFeedEnabled:j.isAllSuggestionsFeedEnabled,feedManagerProxy:_}),H=(0,ke.b)(e.textEditorService.textUpdated),V=e.capiService.relevantInboundCAPIMessages.pipe(m.p(ee.Bw.AsyncCheckFinished.is)),z=new l.B7,W=new pi({uphookService:e.uphookService,feedManager:_,sduiItemsCollectionDiff:w,feedActionService:I,routingViewModel:e.routingViewModel,userViewModel:e.userViewModel,assistantUIActions:e.assistantUIActions,textUpdated:H,lastAsyncCheckFinishedMessage:V,isPlagiarismEnabled:e.isPlagiarismEnabled,plagiarismChecksEnabled:E.plagiarismChecksEnabled,trackingService:e.trackingService,logService:e.logService,plagiarismDeepLinkRequest:z,experimentService:e.experimentService,lifecycleService:e.lifecycleService,suggestionCountViewModel:$}),Z=new Jn({activeView:e.routingViewModel.activeView.view("kind"),plagiarismAvailable:W.plagiarismAction.view(s.isSome),handlePlagiarismDeepLinkRequest:()=>z.next()}),G=e.deepLinkManager.registerDeepLinkHandler("plagiarismView",Z),Q=new Pi({feedManager:_,feedActionService:I,sduiItemsCollectionDiff:w,routingViewModel:e.routingViewModel,userViewModel:e.userViewModel,assistantUIActions:e.assistantUIActions,lastAsyncCheckFinishedMessage:V,isWritingExpertEnabled:e.isWritingExpertEnabled,writingExpertChecksEnabled:S.writingExpertChecksEnabled,capiService:e.capiService,logService:e.logService}),q=new Dn({assistantUIActions:e.assistantUIActions,humanWritingReportService:e.humanWritingReportService}),J=new Qn({featureOptions:e.performanceScoreOptions,lastFinishedMessage:e.capiService.relevantInboundCAPIMessages.pipe(m.p(ee.Bw.Finished.is)),feeds:_.feeds,tracking:e.trackingService,logService:e.logService}),Y=new jn({performanceScoreViewAvailable:J.performanceScore.view(s.isSome),routingViewModel:e.routingViewModel,assistantUIActions:e.assistantUIActions}),X=e.deepLinkManager.registerDeepLinkHandler("performanceScoreView",Y),te=new l.B7;return o.add(te.pipe(f.s(1),d.n((()=>Nn.h((0,ke.b)(e.alertService.alertCollectionChanges).pipe(P.M((e=>b.next(e)))),(0,ke.b)(e.sduiService.sduiItemCollectionChanges).pipe(P.M((e=>v.next(e)))))))).subscribe()),{start:()=>te.next(),viewModels:{feed:j,feedLens:N,feedForm:A,checkingState:L,suggestionCount:$,plagiarism:W,writingExpert:Q,performanceScore:J,humanWritingReport:q,shortFormFeedMode:e.shortFormFeedMode,pageRange:U},dispose:()=>{o.unsubscribe(),q.dispose(),y.dispose(),C.dispose(),x.dispose(),X(),R(),G(),Y.dispose(),F.dispose(),J.dispose(),$.dispose(),W.dispose(),Q.dispose(),E.dispose(),N.dispose(),L.dispose(),T.dispose(),M.dispose(),I.dispose(),_.dispose(),k.dispose(),U.dispose()}}}class ro{constructor(e){this._params=e,this._subs=new c.y,this._subs.add(this._params.assistantUIActions.subscribe((e=>{if(e.kind===mt.t.Kind.settingsButtonClick)return"withView"===this._params.options.kind?this._params.routingViewModel.push({kind:"settings"}):this._params.options.onClick(e.buttonRect)})))}getView(){return"withView"===this._params.options.kind?s.some(this._params.options.getView()):s.none}dispose(){this._subs.unsubscribe()}}class oo{constructor(e){this._params=e,this._subs=new c.y,this._logger=this._params.logService.getLogger(oo.name),this._state=g.s.create(s.none),this.state=this._state.view(),this._params.skillService&&this._subs.add(this._params.skillService.skillRequests.subscribe((e=>{e.close?(this._onSkillClosed(),this._state.set(s.none)):e.size&&this._state.modify(s.map((t=>Object.assign(Object.assign({},t),{size:e.size}))))}))),this._subs.add(this._params.assistantUIActions.subscribe((e=>this._handleUIAction(e))))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case mt.t.Kind.actionBrickClick:if("regularAction"===e.action.kind&&J.isSkillAction(e.action.action)){const t=e.action.action.skill;this._onSkillOpened(),this._state.set(s.some({skill:t,status:"loading",size:{width:416,height:245}}))}break;case mt.t.Kind.mount:e.name===wt.e.skill&&(0,we.s)("initSkill",(0,a.pipe)((0,a.pipe)(this._state.get(),x.sV((()=>new Error("Cannot init Skill. No Skill state available.")))),x.cy((t=>this._params.skillService?(0,a.pipe)(this._params.skillService.initSkill(t.skill,e.element),x.Tj((e=>Object.assign(Object.assign({},t),{size:e})))):x.kb(new Error("Cannot init Skill. No `SkillService` available."))))),this._logger,(e=>this._state.set(s.some(Object.assign(Object.assign({},e),{status:"ready"})))),(e=>{this._state.modify(s.map((e=>Object.assign(Object.assign({},e),{status:"error"})))),this._params.logService.logEvent(function(e){return{kind:"error",source:"skill",name:"initSkillFailed",data:e}}({skillId:(0,a.pipe)(this._state.get(),s.map((e=>e.skill.id)),s.toNullable),reason:(0,ye.$)(e).message}))}));break;case mt.t.Kind.unmount:if(e.name===wt.e.skill&&!this._params.routingViewModel.has({kind:"skill"}).get()){const e=this._state.get();(0,we.s)("terminateSkill",(0,a.pipe)(e,x.sV((()=>new Error("Cannot terminate Skill. No Skill state available."))),x.cy((e=>this._params.skillService?(0,a.pipe)(this._params.skillService.terminateSkill(e.skill),x.Tj((()=>e))):x.kb(new Error("Cannot terminate Skill. No `SkillService` available."))))),this._logger,(()=>this._state.set(s.none)),(t=>{this._params.logService.logEvent(function(e){return{kind:"error",source:"skill",name:"terminateSkillFailed",data:e}}({skillId:(0,a.pipe)(this._state.get(),s.map((e=>e.skill.id)),s.toNullable),reason:(0,ye.$)(t).message})),this._state.get()===e&&this._state.set(s.none)}))}}}_onSkillOpened(){this._params.routingViewModel.push({kind:"skill"})}_onSkillClosed(){"skill"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.pop()}}var so=n(10047);class ao{constructor(e){this._params=e,this._subscriptions=new T.y.Keeper,this._logger=this._params.logService.getLogger(ao.name),this._state=g.s.create(s.none),this.state=this._state.view(),this.getToneAlertsSummary=()=>this._params.externalService.getToneAlertsSummary(),this._subscriptions.push(this._params.capiService.relevantInboundCAPIMessages.pipe(m.p(ee.Bw.TonesResult.is)).subscribe((e=>this._handleTonesResultMessage(e))))}submitToneFeedback(e,t){const n=t===Tt.positive?K.Zq.EMOTION_LIKE:t===Tt.negative?K.Zq.EMOTION_DISLIKE:(0,h.AS)(t);(0,we.s)("submitToneFeedback",this._params.capiService.feedback({emotion:e,type:n,subtype:K.U3.Inline}),this._logger)}_handleTonesResultMessage(e){const t=!0===e.brandTonesEnabled;this._state.set(s.some({tones:(0,a.pipe)(e.emotions,(0,so.Tj)((({name:e,emojiId:t,confidence:n,brandToneLabel:i,brandToneDescription:r})=>({name:e,emojiId:t,confidence:n,brandToneInfo:void 0!==i?s.some({status:co(i),description:s.fromNullable(r)}):s.none}))),lo,S.di(t?Rt:Mt)),hidden:!0===e.hidden,brandTonesEnabled:t,institutionLogo:s.fromNullable(e.institutionLogo)}))}dispose(){this._subscriptions.dispose()}}function lo(e){const t=e.reduce(((e,t)=>e+t.confidence),0);return e.map((e=>{let n;return n=e.confidence<.25?It.Slight:e.confidence<.5?It.Moderate:e.confidence/t>.5?It.VeryStrong:It.Strong,Object.assign(Object.assign({},e),{prevalence:n})}))}function co(e){switch(e){case"on":return Kt.On;case"off":return Kt.Off;default:return(0,h.AS)(e)}}var uo,po,mo=n(62228);function fo(e){return{source:"userSurvey",kind:"error",name:"submitSurveyFailed",data:e}}!function(e){let t;!function(e){let t;!function(e){e.Rating="rating",e.Feedback="feedback",e.Completed="completed",e.Closed="closed"}(t=e.Type||(e.Type={})),e.isOpen=e=>e!==t.Closed,e.toCAPIStage=e=>{switch(e){case t.Rating:return mo.QB.Survey.Data.OpenAnswerScoreSurvey.scoreStage;case t.Feedback:case t.Closed:case t.Completed:return mo.QB.Survey.Data.OpenAnswerScoreSurvey.submitStage;default:(0,h.AS)(e)}}}(t=e.Stage||(e.Stage={}))}(uo||(uo={}));class ho{constructor(e){this._params=e,this._subs=new T.y.Keeper,this._logger=this._params.logService.getLogger(ho.name),this._activeSurvey=g.s.create(s.none),this.activeSurvey=this._activeSurvey.view(),this._init()}dispose(){this._subs.dispose()}submitSurveyResult(e){(0,we.s)("submitSurveyResult",this._params.capiService.submit_survey_result({placement:e.placement,score:e.rating,stage:uo.Stage.toCAPIStage(e.stage),open_answer:s.getOrElse((()=>""))(e.openAnswer),detailed_placement:e.detailedPlacement,type:e.type}),this._logger,void 0,(()=>{this._params.logService.logEvent(fo({surveyType:e.type,surveyPlacement:e.placement,surveyDetailedPlacement:e.detailedPlacement}))}))}dismissSurvey(e){(0,we.s)("submitSurveyResult",this._params.capiService.submit_survey_result({placement:e.placement,score:"declined",stage:uo.Stage.toCAPIStage(e.stage),detailed_placement:e.detailedPlacement,type:e.type}),this._logger,void 0,(()=>{this._params.logService.logEvent(fo({surveyType:e.type,surveyPlacement:e.placement,surveyDetailedPlacement:e.detailedPlacement}))}))}_init(){this._subs.push(this._params.capiService.relevantInboundCAPIMessages.pipe(m.p(ee.Bw.ShowSurvey.is)).subscribe((e=>this._handleShowSurvey(e))))}_handleShowSurvey(e){(0,a.pipe)(e.survey,s.fromPredicate((e=>e.placement===mo.QB.Survey.Data.BaseSurvey.Placement.ggo)),s.chain((e=>"open_answer_score"===e.type?s.some(e):s.none)),s.chain((e=>{var t;return"string"==typeof e.detailed_placement&&2===(null===(t=e.detailed_placement)||void 0===t?void 0:t.split(":").length)?s.some({survey:e,detailedPlacement:e.detailed_placement}):s.none})),s.chain((({survey:e,detailedPlacement:t})=>{const[n,i]=t.split(":"),r=Math.abs(Number.parseInt(i,10));return Number.isNaN(r)?s.none:s.some({survey:e,detailedPlacement:t,sessionId:n,resultId:se.Q.Id.create(r)})})),s.fold((()=>{this._params.logService.logEvent(function(e){return{source:"userSurvey",kind:"warn",name:"unexpectedSurveyFormatReceived",data:e}}({surveyType:e.survey.type,surveyPlacement:e.survey.placement,surveyDetailedPlacement:e.survey.detailed_placement}))}),(({survey:e,detailedPlacement:t,resultId:n})=>{this._activeSurvey.modify((()=>s.some({placement:e.placement,title:e.title,detailedPlacement:t,type:mo.QB.Survey.Data.OpenAnswerScoreSurvey.type,resultId:n,maxScore:e.max_score,boxText:s.fromNullable(e.box_text),ratingLabels:e.score_labels,acknowledgmentTitle:s.fromNullable(e.acknowledgment_title),acknowledgment:s.fromNullable(e.acknowledgment),skipOpenAnswerFrom:e.skip_open_answer_from,openAnswer:s.fromNullable({placeholder:e.open_answer.placeholder,maxLen:e.open_answer.max_len,minLen:s.fromNullable(e.open_answer.min_len)})})))})))}}!function(e){e.empty={activeSurvey:s.none,stage:uo.Stage.Type.Rating,transitionStage:uo.Stage.Type.Rating,rating:s.none,errors:s.none,openAnswer:s.none}}(po||(po={}));class go{constructor(e){this._params=e,this._state=g.s.create(po.empty),this._subs=new c.y,this._stageTimeoutClear=void 0,this.state=this._state.view(),this._updateStageAfterTransition(),this._subscribeToActiveSurvey(),this._subs.add(this._params.assistantUIActions.subscribe((e=>{(0,U.Ub)(mt.t.isSurveyAction,mt.t.isSurveyImplicitDismissAction)(e)&&this._handleUIAction(e)})))}get _activeSurvey(){return this.state.get().activeSurvey}_subscribeToActiveSurvey(){this._subs.add(this._params.userSurveyService.activeSurvey.subscribe((e=>{(0,a.pipe)(e,s.map((e=>{(0,a.pipe)(this._activeSurvey,s.fold((()=>this._updateActiveSurvey(e)),(t=>{t.detailedPlacement!==e.detailedPlacement&&this._updateActiveSurvey(e)})))})))})))}_updateActiveSurvey(e){this._state.set(Object.assign(Object.assign({},po.empty),{activeSurvey:s.some(e)}))}_handleUIAction(e){switch(e.kind){case mt.t.Kind.surveySubmitButtonClick:case mt.t.Kind.surveyKeyPressShiftEnter:this._onSurveyCompleted();break;case mt.t.Kind.surveyCancelButtonClick:case mt.t.Kind.surveyCloseButtonClick:this._onDismissExplicitly();break;case mt.t.Kind.surveyOpenAnswerChange:this._onOpenAnswerChange(e.openAnswer);break;case mt.t.Kind.surveyRatingSelectionChange:this._onRatingSelectionChange(e.rating);break;case mt.t.Kind.promptSubmitButtonClick:case mt.t.Kind.actionBrickClick:case mt.t.Kind.resultCardInsertButtonClick:case mt.t.Kind.resultCardRephraseButtonClick:case mt.t.Kind.resultCardHeaderClick:case mt.t.Kind.resultCardDismissButtonClick:this._onDismissImplicitly();break;default:(0,h.AS)(e)}}_onRatingSelectionChange(e){(0,a.pipe)(this._activeSurvey,s.map((e=>e.skipOpenAnswerFrom)),s.map((t=>{e<t?this._state.modify((t=>Object.assign(Object.assign({},t),{rating:s.some(e),transitionStage:uo.Stage.Type.Feedback}))):this._state.modify((t=>Object.assign(Object.assign({},t),{rating:s.some(e),transitionStage:uo.Stage.Type.Completed}))),this._reportCompleting()})))}_onOpenAnswerChange(e){(0,a.pipe)(this._activeSurvey,s.chain((({openAnswer:e})=>e)),s.map((({maxLen:t})=>{e.length<=t&&this._state.modify((t=>Object.assign(Object.assign({},t),{openAnswer:s.some(e),errors:s.none})))})))}_onSurveyCompleted(){(0,a.pipe)(this._activeSurvey,s.chain((({openAnswer:e})=>e)),s.chain((({minLen:e})=>e)),s.fold((()=>this._complete()),(e=>{(0,a.pipe)(this._state.get().openAnswer,s.fold((()=>this._setOpenAnswerError("This field is required.")),(t=>{t.length<e?this._setOpenAnswerError(e>0?`Please enter at least ${e} characters.`:"This field is required."):this._complete()})))})))}_complete(){this._reportCompleting(),this._state.lens("transitionStage").set(uo.Stage.Type.Completed)}_reportCompleting(){(0,a.pipe)(this._activeSurvey,s.chain((e=>(0,a.pipe)(this._state.get().rating,s.map((t=>({survey:e,rating:t})))))),s.map((({survey:e,rating:t})=>this._params.userSurveyService.submitSurveyResult({rating:t,openAnswer:this._state.get().openAnswer,placement:e.placement,detailedPlacement:e.detailedPlacement,stage:this.state.get().stage,type:e.type}))))}_setOpenAnswerError(e){this._state.lens("errors").set(s.some({openAnswerError:s.some(e)}))}_onDismissExplicitly(){(0,a.pipe)(this._activeSurvey,s.map((e=>{const t=this.state.get().stage;t===uo.Stage.Type.Rating&&this._params.userSurveyService.dismissSurvey({placement:e.placement,detailedPlacement:e.detailedPlacement,type:e.type,stage:t})}))),this._state.lens("transitionStage").set(uo.Stage.Type.Closed)}_onDismissImplicitly(){this._state.lens("transitionStage").set(uo.Stage.Type.Closed)}_updateStageAfterTransition(){this._subs.add(this._state.subscribe((e=>{this._clearStageTimeout(),this._stageTimeoutClear=setTimeout((()=>{this._state.lens("stage").set(e.transitionStage)}),vo[e.transitionStage])})))}_clearStageTimeout(){void 0!==this._stageTimeoutClear&&(clearTimeout(this._stageTimeoutClear),this._stageTimeoutClear=void 0)}dispose(){this._subs.unsubscribe(),this._clearStageTimeout()}}const vo={[uo.Stage.Type.Rating]:0,[uo.Stage.Type.Feedback]:300,[uo.Stage.Type.Completed]:0,[uo.Stage.Type.Closed]:0};var bo;!function(e){e.set=function(e,t){return n=>Object.assign(Object.assign({},n),{[e]:t})}}(bo||(bo={}));class yo{constructor(e){this._params=e,this._subs=new c.y,this._logger=this._params.logService.getLogger(yo.name),this._state=g.s.create({stagingNewVoiceProfile:s.none,stagingVoiceProfile:s.none}),this.state=this._state.view(),this._subs.add(this._params.assistantUIActions.subscribe((e=>this._handleUIAction(e))))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case mt.t.Kind.headerGoBackButtonClick:return this._handleGoBack(e.goBackFrom);case mt.t.Kind.headerVoiceButtonClick:return this._openVoiceProfile("toolbar");case mt.t.Kind.setVoiceButtonClick:return this._openVoiceProfile("banner");case mt.t.Kind.voiceProfileCloseButtonClick:return this._closeVoiceProfile();case mt.t.Kind.voiceProfileUseVoiceButtonClick:return this._applyVoiceProfile();case mt.t.Kind.toneToggleClick:return this._toggleTone(e.id,e.selected);case mt.t.Kind.styleToggleClick:return this._selectStyle(e.id);case mt.t.Kind.roleTypeaheadSelectionChange:return this._selectRole((0,a.pipe)(e.role,s.map((e=>e.id))));case mt.t.Kind.dialectDropdownSelectionChange:return this._selectDialect(e.dialect.id);case mt.t.Kind.voiceProfileTabChange:return this._switchNewVoiceProfileTab(e.profileName);case mt.t.Kind.voiceTagPopoverRemoveButtonClick:return this._removeVoiceTag(e);case mt.t.Kind.voiceTagPopoverClose:return this._closeVoiceTagPopover();case mt.t.Kind.voiceTagPopoverKeepButtonClick:return this._keepVoiceTagPopover();case mt.t.Kind.voiceTagClick:return this._toggleVoiceTag(e);case mt.t.Kind.voiceDialectDropdownSelectionChange:return this._selectNewVoiceDialect(e.dialect.id);case mt.t.Kind.voiceRoleDropdownSelectionChange:return this._selectNewVoiceRole(e.role.id);case mt.t.Kind.voiceSelectionsSaveButtonClick:return this._saveNewVoiceSelections();case mt.t.Kind.voiceSelectionsCancelButtonClick:return this._cancelNewVoiceSelectionChanges();case mt.t.Kind.voiceSelectionsEditButtonClick:return this._editNewVoiceSelections();case mt.t.Kind.promptFieldKeyPressEscape:case mt.t.Kind.headerCloseButtonClick:return this._trySaveNewProfileIfChanged();default:return}}_handleGoBack(e){"voiceProfile"!==e.kind&&"legacyVoiceProfile"!==e.kind||(0,a.pipe)(this._params.genAISessionService.get(),s.chain((e=>re.toStarted(e.session.get()))),s.map((e=>{"newVoiceProfile"===e.voiceProfile.kind?(this._trySaveNewProfileIfChanged(),this._state.lens("stagingNewVoiceProfile").set(s.none)):"legacyVoiceProfile"===e.voiceProfile.kind&&this._state.lens("stagingVoiceProfile").set(s.none)})))}_createVoiceProfile(e){var t;return"newVoiceProfile"===e.kind?bo.set("stagingNewVoiceProfile",s.some({selectedRole:e.selectedRole,selectedDialect:e.selectedDialect,isEnabledByDefault:e.isEnabledByDefault,profiles:e.profiles,activeTagId:s.none,activeProfileName:s.fromNullable(null===(t=e.profiles.find((e=>e.selected)))||void 0===t?void 0:t.name),stagingSelections:s.none})):bo.set("stagingVoiceProfile",s.some({selectedStyle:e.selectedStyle,selectedTonesPerStyle:e.selectedTonesPerStyle,selectedRole:e.selectedRole,selectedDialect:e.selectedDialect,needsSetup:e.needsSetup}))}_openVoiceProfile(e){(0,a.pipe)(this._params.genAISessionService.get(),s.chain((e=>re.toStarted(e.session.get()))),s.map((t=>{this._params.userActionTrackingService.trackVoiceProfileOpen(e),this._params.routingViewModel.push({kind:"newVoiceProfile"===t.voiceProfile.kind?"voiceProfile":"legacyVoiceProfile"}),this._state.modify(this._createVoiceProfile(t.voiceProfile))})))}_closeVoiceProfile(){this._params.userActionTrackingService.trackVoiceProfileSkip(),this._params.routingViewModel.pop(),this._state.lens("stagingVoiceProfile").set(s.none)}_applyVoiceProfile(){const e=this._state.get().stagingVoiceProfile;this._params.routingViewModel.pop(),this._state.lens("stagingVoiceProfile").set(s.none),(0,a.pipe)(e,s.map((e=>{const t=s.toNullable(this._params.genAISessionService.get());t&&(0,we.s)("setVoiceProfile",t.setVoiceProfile(e),this._logger)})))}_toggleTone(e,t){this._state.lens("stagingVoiceProfile").modify(s.map((n=>{return Object.assign(Object.assign({},n),{selectedTonesPerStyle:(0,a.pipe)(n.selectedTonesPerStyle,t?(i=Ce.Style.Id.eq,(e,t)=>n=>(0,a.pipe)(n,Ae.qt(i)(e,(0,a.flow)(s.some,t)),s.getOrElse((()=>(0,a.pipe)(n,Ae.PT(i)(e,t(s.none)))))))(n.selectedStyle,s.fold((()=>new Set([e])),_.Yr(Ce.Tone.Id.eq)(e))):(0,a.flow)(Ae.qt(Ce.Style.Id.eq)(n.selectedStyle,_.TF(Ce.Tone.Id.eq)(e)),s.getOrElse((()=>n.selectedTonesPerStyle))))});var i})))}_selectStyle(e){this._state.lens("stagingVoiceProfile").modify(s.map((t=>Object.assign(Object.assign({},t),{selectedStyle:e}))))}_selectRole(e){this._state.lens("stagingVoiceProfile").modify(s.map((t=>Object.assign(Object.assign({},t),{selectedRole:e}))))}_selectDialect(e){this._state.lens("stagingVoiceProfile").modify(s.map((t=>Object.assign(Object.assign({},t),{selectedDialect:e}))))}_editNewVoiceSelections(){this._updateNewProfileStateIfAny((e=>Object.assign(Object.assign({},e),{stagingSelections:s.some({selectedDialect:e.selectedDialect,selectedRole:e.selectedRole})})))}_cancelNewVoiceSelectionChanges(){this._updateNewProfileStateIfAny((e=>Object.assign(Object.assign({},e),{stagingSelections:s.none})))}_saveNewVoiceSelections(){this._updateNewProfileStateIfAny((e=>Object.assign(Object.assign({},e),{selectedDialect:(0,a.pipe)(e.stagingSelections,s.fold((()=>e.selectedDialect),(e=>e.selectedDialect))),selectedRole:(0,a.pipe)(e.stagingSelections,s.fold((()=>e.selectedRole),(e=>e.selectedRole))),stagingSelections:s.none})))}_selectNewVoiceRole(e){this._updateNewProfileStateIfAny((t=>Object.assign(Object.assign({},t),{stagingSelections:(0,a.pipe)(t.stagingSelections,s.map((t=>Object.assign(Object.assign({},t),{selectedRole:s.some(e)}))))})))}_selectNewVoiceDialect(e){this._updateNewProfileStateIfAny((t=>Object.assign(Object.assign({},t),{stagingSelections:(0,a.pipe)(t.stagingSelections,s.map((t=>Object.assign(Object.assign({},t),{selectedDialect:e}))))})))}_updateNewProfileStateIfAny(e){this._state.lens("stagingNewVoiceProfile").modify(s.map(e))}_keepVoiceTagPopover(){this._params.userActionTrackingService.trackVoiceProfileKeepTag(),this._closeVoiceTagPopover()}_closeVoiceTagPopover(){this._updateNewProfileStateIfAny((e=>Object.assign(Object.assign({},e),{activeTagId:s.none})))}_toggleVoiceTag({tagName:e,sectionName:t,profileName:n}){this._updateNewProfileStateIfAny((i=>Object.assign(Object.assign({},i),{activeTagId:s.toNullable(i.activeTagId)===_e.createId({tagName:e,sectionName:t,profileName:n})?s.none:s.some(_e.createId({tagName:e,sectionName:t,profileName:n}))})))}_removeVoiceTag({tagName:e,profileName:t,sectionName:n}){this._params.userActionTrackingService.trackVoiceProfileRemoveTag(),this._updateNewProfileStateIfAny((i=>Object.assign(Object.assign({},i),{profiles:(0,a.pipe)(i.profiles,S.Tj((i=>i.name===t?Object.assign(Object.assign({},i),{sections:i.sections.map((t=>t.name===n?Object.assign(Object.assign({},t),{tags:t.tags.filter((t=>t.name!==e))}):t))}):i)))})))}_switchNewVoiceProfileTab(e){this._updateNewProfileStateIfAny((t=>Object.assign(Object.assign({},t),{activeProfileName:s.some(e)})))}_trySaveNewProfileIfChanged(){(0,a.pipe)(w.J(s.option)({editedVoiceProfile:this._state.view("stagingNewVoiceProfile").get(),sessionVoiceProfile:(0,a.pipe)(this._params.genAISessionService.get(),s.chain((e=>re.toStarted(e.session.get()))),s.map((e=>e.voiceProfile)),s.chain(Ce.toNewVoiceProfile))}),s.filter((({editedVoiceProfile:e,sessionVoiceProfile:t})=>!Ce.NewSelections.eqByRoleDialectProfileAndIsEnabledByDefault.equals(e,t))),s.map((({editedVoiceProfile:e})=>{const t=s.toNullable(this._params.genAISessionService.get());t&&(0,we.s)("setNewVoiceProfile",t.setNewVoiceProfile({selectedDialect:e.selectedDialect,selectedRole:e.selectedRole,isEnabledByDefault:e.isEnabledByDefault,profiles:e.profiles}),this._logger)})))}}var ko,wo=n(43308);!function(e){e.eq=E.getEq(L.kK,se.Q.Id.eq),e.card=function(e){return E.right(e)},e.uiItem=function(e){return E.left(e)},e.toCard=function(e){return s.fromEither(e)},e.toUIItem=function(e){return(0,a.pipe)(e,E.fold(s.some,(()=>s.none)))}}(ko||(ko={}));var Eo,So;!function(e){let t;!function(e){e.make=function(e){return{kind:"regularAction",action:e}}}(t=e.RegularAction||(e.RegularAction={}))}(Eo||(Eo={})),function(e){e.create=function(){return{textBox:"",selectedAction:s.none,promptAutofocusToken:0,cardsState:{hoveredCard:s.none,focusedCard:s.none},reportMenuVisible:s.none,referencesVisibility:new Map,detectedReferences:s.none,overrideCardVoice:new Map}}}(So||(So={}));class Co{constructor(e){this._params=e,this._subs=new c.y,this._logger=this._params.logService.getLogger(Co.name),this._state=g.s.create(So.create()),this._reportMenuVisibleDebounced=g.s.create(s.none),this._disposed=new l.B7,this._genAISession=g.s.create(s.none),this._genAIPromptsFulfilled=g.s.create(0),this._paramsStateDeps=g.s.combine(this._params.userService.user,this._params.genAIAvailability,this._genAISession,this._params.routingViewModel.activeView,((e,t,n,i)=>({user:e,genAIAvailability:t,genAISession:n,activeView:i}))),this.state=g.s.combine(this._state,this._paramsStateDeps,this._reportMenuVisibleDebounced,this._params.textIsEmpty,((e,t,n,i)=>{var{cardsState:r,reportMenuVisible:o,textBox:l}=e,c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["cardsState","reportMenuVisible","textBox"]),d=t.user,u=t.genAIAvailability,p=t.genAISession;return Object.assign(Object.assign({},c),{textBox:l,user:d,userCanSignIn:!pe(d)&&!!this._params.userService.signIn,genAIAvailability:u,genAISession:p,userPromptAction:(0,a.pipe)(p,s.chain(re.toStarted),s.chain((e=>e.activeContext.userPromptAction)),s.map((e=>Object.assign(Object.assign({},e),{arg:Object.assign(Object.assign({},e.arg),{kind:"string",label:(0,a.pipe)(i,s.fold((()=>""),(0,U.Sw)("Try “Write an ode to the em dash”","Tell us to...")))})})))),activeCards:new Set((0,a.pipe)([r.hoveredCard,(0,a.pipe)(r.focusedCard,s.alt((()=>(0,a.pipe)(n,s.chain(ko.toCard)))))],S.oE)),canScroll:s.isNone(o)})})),this._subs.add(this.state.subscribe((e=>this._logger.debug("Assistant view model state updated.",e)))),this._subs.add(this._params.genAISessionService.pipe(d.n(s.fold((()=>u.of(s.none)),(e=>e.session.view(s.some))))).subscribe(p.H9(this._genAISession))),this._params.hasRevision||this._subs.add(this._showErrorOnSessionStart().subscribe()),this._subs.add(this._updateGenAIPromptsFulfilled().subscribe(p.H9(this._genAIPromptsFulfilled))),this._subs.add(Nn.h(this._state.view("reportMenuVisible").pipe(B.oE,O.T(s.some)),this._state.view("reportMenuVisible").pipe(F.skipBy(s.getEq(ko.eq)),Lt.B(250),m.p(s.isNone))).subscribe(p.H9(this._reportMenuVisibleDebounced))),this._subs.add(this._params.routingViewModel.activeView.subscribe((()=>this._state.modify((0,a.flow)(bo.set("reportMenuVisible",s.none),bo.set("cardsState",{hoveredCard:s.none,focusedCard:s.none})))))),this._subs.add(this._params.assistantUIActions.subscribe((e=>{this._handleUIAction(e)}))),this._subs.add(this._params.userService.user.subscribe((e=>this._handleUserUpdate(e))))}focusPromptField(){this._state.lens("promptAutofocusToken").modify((e=>e+1))}getContextById(e){var t,n;return null!==(n=null===(t=s.toNullable(this._params.genAISessionService.get()))||void 0===t?void 0:t.getContextById(e))&&void 0!==n?n:s.none}dispose(){this._disposed.next(null),this._disposed.complete(),this._subs.unsubscribe()}_showErrorOnSessionStart(){return Nn.h(this._genAISession.view((0,a.flow)(s.chain(re.toStarting),s.chain((e=>e.error)),s.map((()=>this._params.routingViewModel.replace({kind:"error"}))))))}_updateGenAIPromptsFulfilled(){return Nn.h(this._genAISession.view((0,a.flow)(s.chain(re.toStarted),s.map((e=>e.results.length)))).pipe(B.oE,Zi.S(((e,t)=>({lastResultsCount:t,promptsFulfilled:e.promptsFulfilled+(t>e.lastResultsCount?1:0)})),{lastResultsCount:0,promptsFulfilled:0}),wo.E("promptsFulfilled")))}_handleUIAction(e){var t,n,i;switch(e.kind){case mt.t.Kind.headerCloseButtonClick:return void this._onClose(e);case mt.t.Kind.headerGoBackButtonClick:case mt.t.Kind.radioOptionsCancelButtonClick:return this._goBack();case mt.t.Kind.promptFieldTextChange:return this._updateTextBox(e.text);case mt.t.Kind.actionBrickClick:return this._trackActionClick(e),this._executeAction(e.action);case mt.t.Kind.actionBrickMount:return this._trackActionMount(e);case mt.t.Kind.actionBrickShow:return this._trackActionShow(e);case mt.t.Kind.promptSubmitButtonClick:return this._go(s.none);case mt.t.Kind.userPromptSubmit:return this._go(s.some(e.prompt));case mt.t.Kind.radioOptionsSubmitButtonClick:return this._submitSelectedAction({selectedRadioOption:e.selectedOption});case mt.t.Kind.generateStopButtonClick:return this._stop();case mt.t.Kind.resultCardInsertButtonClick:return this._insert(e.result,e.selectedVoice);case mt.t.Kind.resultCardCopyButtonClick:return this._copy(e.result,e.selectedVoice);case mt.t.Kind.resultCardCopyToClipboard:return null===(t=s.toNullable(this._params.genAISessionService.get()))||void 0===t?void 0:t.trackResultCopy(e.result.id,e.selectedVoice===se.Q.GeneratedTextVoice.user);case mt.t.Kind.resultCardRephraseButtonClick:return this._rephrase(e.result,e.selectedVoice);case mt.t.Kind.resultCardDismissButtonClick:return this._dismissResult(e.result);case mt.t.Kind.errorCardDismissButtonClick:return this._dismissError();case mt.t.Kind.reportOffensiveResultButtonClick:return this._reportOffensiveResult(e.result);case mt.t.Kind.reportOffensiveActionsButtonClick:return this._reportOffensiveActions();case mt.t.Kind.resultCardHeaderClick:return this._clickResultHeader(e.prompt);case mt.t.Kind.creditsInfoHover:return this._params.userActionTrackingService.trackUsageInfoHover();case mt.t.Kind.creditsInfoClick:return this._onCreditsInfoClick();case mt.t.Kind.resultCardHoverChange:return this._onCardHover(e.resultId,e.hovered);case mt.t.Kind.resultCardFocusChange:return this._onCardFocus(e.resultId,e.focused);case mt.t.Kind.resultCardToggleGenericVoiceButtonClick:return this._onToggleGenericVoice(e.resultId,e.voice);case mt.t.Kind.reportMenuVisibilityChange:return this._onCardReportMenuVisibilityChange(e.trigger,e.visible);case mt.t.Kind.referencesVisibilityChange:return this._onCardReferencesVisibilityChange(e.resultId,e.visible);case mt.t.Kind.regenerateWithoutReferenceButtonClick:return this._regenerateWithoutReference(e.result,e.referenceId,e.selectedVoice);case mt.t.Kind.mount:return this._handleMount(e);case mt.t.Kind.promptFieldKeyPressEscape:return this._onPromptFieldKeyPressEscape(e);case mt.t.Kind.promptFieldKeyPressEnter:return this._checkForGenAIUnavailableError(),"ready"!==e.fieldReadyState||v.y.isUnavailable(this.state.view("genAIAvailability").get())?void 0:e.text.trim().length>0?this._go(s.none):this._tryInsertLatestResult();case mt.t.Kind.restoreHistoryButtonClick:return this._handleHistoryButtonClick();case mt.t.Kind.removeSelectionContextClick:return this._onRemoveSelectionContextClick();case mt.t.Kind.selectionContextInteraction:return this._onSelectionContextInteraction(e);case mt.t.Kind.signInButtonClick:return null===(i=(n=this._params.userService).signIn)||void 0===i?void 0:i.call(n);case mt.t.Kind.actionsMount:return void(0,a.pipe)(this._genAISession.get(),s.map((e=>e.error)),s.map((e=>{const t=s.isNone(e);this._logger.debug("Actions mounted for the first time, notifying gen-ai interaction ready.",{success:t}),this._params.lifecycleViewModel.onInteractionReady({kind:"gen-ai",success:t})})));default:return}}_handleHistoryButtonClick(){(0,a.pipe)(this._genAISession.get(),s.chain(re.toStarted),s.map((e=>s.isSome(e.inProgressResult)||e.results.length>0)),s.map((e=>{var t;e?this._params.routingViewModel.push({kind:"thread"}):(null===(t=s.toNullable(this._params.genAISessionService.get()))||void 0===t||t.restoreHistory(),this._subs.add(this._genAISession.view(s.chain(re.toStarted)).pipe(B.oE,m.p((e=>void 0!==e.results.find(se.Q.isHistory))),f.s(1)).subscribe((()=>this._params.routingViewModel.push({kind:"thread"})))))})))}_handleMount(e){e.name===wt.e.creditsInfoButton?pe(this._params.userService.user.get())?this._subscribeToCommand((()=>this._params.uphookService.trackUphookShown({name:"grammarlyGoPrompts",slot:"grammarlyGo",variant:"premium"})),(e=>(0,oe.tg)({uphook:"grammarlyGoPrompts",reason:(0,ye.$)(e).message}))):this._logger.warn("grammarlyGoPrompts uphook shown to logged out user; this should not happen."):e.name===wt.e.historyButtonActive&&this._params.userActionTrackingService.trackHistoryButtonView()}_handleUserUpdate(e){me(e)?this._params.routingViewModel.replace({kind:"signedOut"}):pe(e)&&"signedOut"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.push({kind:"home"})}_onCardHover(e,t){this._state.lens("cardsState").lens("hoveredCard").modify(t?()=>s.some(e):s.filter((t=>t!==e)))}_onCardFocus(e,t){this._state.lens("cardsState").lens("focusedCard").modify(t?()=>s.some(e):s.filter((t=>t!==e)))}_onCardReportMenuVisibilityChange(e,t){this._state.modify((n=>Object.assign(Object.assign({},n),{reportMenuVisible:t?s.some(e):(0,a.pipe)(n.reportMenuVisible,s.filter((t=>!ko.eq.equals(t,e)))),cardsState:Object.assign(Object.assign({},n.cardsState),{hoveredCard:(0,a.pipe)(ko.toCard(e),s.fold((()=>n.cardsState.hoveredCard),(e=>t?n.cardsState.hoveredCard:(0,a.pipe)(n.cardsState.hoveredCard,s.filter((t=>t!==e))))))})})))}_onCardReferencesVisibilityChange(e,t){this._state.lens("referencesVisibility").modify((n=>new Map(n).set(e,t)))}_onToggleGenericVoice(e,t){this._state.lens("overrideCardVoice").modify((n=>{var i;const r=new Map(n),o=(null!==(i=n.get(e))&&void 0!==i?i:t)===se.Q.GeneratedTextVoice.generic?se.Q.GeneratedTextVoice.user:se.Q.GeneratedTextVoice.generic;return r.set(e,o),this._params.userActionTrackingService.trackMyVoiceCardToggle(o===se.Q.GeneratedTextVoice.user),r}))}_onRemoveSelectionContextClick(){var e;return this._params.tracking.selectionContextRemoveButtonClicked(),null===(e=s.toNullable(this._params.genAISessionService.get()))||void 0===e?void 0:e.dismissActiveBoundaryContext("thread"===this._params.routingViewModel.activeView.get().kind)}_onSelectionContextInteraction(e){switch(e.visibility){case"attention":this._params.tracking.selectionContextClicked();break;case"visible":this._params.tracking.selectionContextHovered();break;case"hidden":break;default:(0,h.AS)(e.visibility)}return this._params.textEditorService.setContextHighlight(e.range,e.visibility)}_onClose(e){mt.t.is(mt.t.Kind.headerCloseButtonClick)(e)&&this._params.userActionTrackingService.trackAssistantClose(),this._params.lifecycleViewModel.onClose()}_goBack(){"followUpPrompt"===this._params.routingViewModel.activeView.get().kind&&this._state.modify((e=>Object.assign(Object.assign({},e),{selectedAction:s.none,textBox:""}))),this._params.routingViewModel.pop()}_updateTextBox(e){this._state.lens("textBox").set(e),this._searchReferences(e)}_executeAction(e){var t;if("regularAction"===e.kind)if(e.action.disabled)(0,a.pipe)(e.action.notificationOnAttempt,s.map((e=>{this._params.notificationService.notify(be.create("information",e,void 0,void 0,5e3)),this._params.userActionTrackingService.trackContexNotification("action")})));else if(J.isFollowUpQuestionActionInput(e.action)){const t=e.action;this._state.modify((e=>Object.assign(Object.assign({},e),{textBox:"",selectedAction:s.some(t)}))),this._params.routingViewModel.push({kind:"followUpPrompt",inputType:q.match({radio:()=>"radio",string:()=>"string"})(e.action.args[0])})}else J.isQuickActionInput(e.action)?(this._state.modify((e=>Object.assign(Object.assign({},e),{selectedAction:s.none,textBox:""}))),null===(t=s.toNullable(this._params.genAISessionService.get()))||void 0===t||t.submitAction(e.action,s.toUndefined(this._lastResultSelectedVoice())),this._params.routingViewModel.push({kind:"thread"})):(0,U.Ub)(J.isSkillAction,J.isToneAction,J.isPlagiarismAction,J.isWritingExpertAction,J.isPerformanceScoreAction,J.isHumanWritingReportAction)(e.action)||(0,h.AS)(e.action);else"allResults"===e.kind?this._checkForGenAIUnavailableError():"go"===e.kind?this._go(s.none):(0,h.AS)(e)}_trackActionClick(e){"regularAction"===e.action.kind?this._params.tracking.actionButtonClicked(e.action.action.label,e.action.action.id,e.placement,e.position,this._genAIPromptsFulfilled.get()):"allResults"===e.action.kind?this._params.tracking.moreActionsButtonClicked(e.placement,e.position,this._genAIPromptsFulfilled.get()):"go"===e.action.kind||(0,h.AS)(e.action)}_trackActionMount(e){"regularAction"===e.action.kind?this._params.tracking.actionButtonRendered(e.action.action.label,e.action.action.id,e.placement,e.position,this._genAIPromptsFulfilled.get()):"allResults"===e.action.kind?this._params.tracking.actionButtonRendered("Show more","more",e.placement,e.position,this._genAIPromptsFulfilled.get()):"go"===e.action.kind||(0,h.AS)(e.action)}_trackActionShow(e){"regularAction"===e.action.kind?this._params.tracking.actionButtonShown(e.action.action.label,e.action.action.id,e.placement,e.position,this._genAIPromptsFulfilled.get()):"allResults"===e.action.kind?this._params.tracking.actionButtonShown("Show more","more",e.placement,e.position,this._genAIPromptsFulfilled.get()):"go"===e.action.kind||(0,h.AS)(e.action)}_handleAIUsageNotificationOnPromptSubmit(){(0,a.pipe)(this._genAISession.get(),s.chain(re.toStarted),s.chain((e=>e.activeContext.specialView)),s.filter((e=>"aiUsageAlert"===e.kind)),s.map((()=>this._params.userActionTrackingService.trackAINotificationDismiss("document"))))}_checkForGenAIUnavailableError(){(0,a.pipe)(this._params.genAISessionService.get(),s.map((e=>e.session.get())),s.chain((e=>e.error)),s.map((()=>{this._params.notificationService.notify(be.create("information","Generative AI features are temporarily unavailable."))})))}_go(e){var t;s.isSome(e)?(this._handleAIUsageNotificationOnPromptSubmit(),null===(t=s.toNullable(this._params.genAISessionService.get()))||void 0===t||t.submitAction(e.value,s.toUndefined(this._lastResultSelectedVoice())),this._params.routingViewModel.push({kind:"thread"})):s.isSome(this._state.get().selectedAction)?this._submitSelectedAction({textBox:this._state.get().textBox}):(this._handleAIUsageNotificationOnPromptSubmit(),this._submitUserPromptAction())}_stop(){var e,t,n,i,r,o;return n=this,i=void 0,o=function*(){yield null===(t=null===(e=s.toNullable(this._params.genAISessionService.get()))||void 0===e?void 0:e.stopInProgressResult())||void 0===t?void 0:t(),(0,a.pipe)(this._genAISession.get(),s.fold(a.constFalse,re.fold({starting:a.constFalse,contextless:a.constFalse,started:e=>0===e.results.length})))&&"thread"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.pop()},new((r=void 0)||(r=Promise))((function(e,t){function s(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,a)}l((o=o.apply(n,i||[])).next())}))}_insert(e,t){(0,we.s)("insertText",this._params.textEditorService.insertText((0,Me.xn)((0,a.pipe)(e.replacementDelta,E.fold(a.identity,(e=>t===se.Q.GeneratedTextVoice.user?e.user:e.generic))),"")),this._logger,(()=>{var n;return null===(n=s.toNullable(this._params.genAISessionService.get()))||void 0===n?void 0:n.trackResultInsert(e.id,t===se.Q.GeneratedTextVoice.user)}),(t=>{this._params.logService.logEvent((0,oe.gR)({resultId:e.id,reason:(0,ye.$)(t).message}))}))}_copy(e,t){this._subscribeToCommand((()=>this._params.textEditorService.copyText((0,Me.xn)((0,a.pipe)(e.replacementDelta,E.fold(a.identity,(e=>t===se.Q.GeneratedTextVoice.user?e.user:e.generic))),""))),(t=>(0,oe._0)({resultId:e.id,reason:(0,ye.$)(t).message})),(()=>{var n,i;return null===(i=null===(n=s.toNullable(this._params.genAISessionService.get()))||void 0===n?void 0:n.trackResultCopy)||void 0===i?void 0:i.call(n,e.id,t===se.Q.GeneratedTextVoice.user)}))}_subscribeToCommand(e,t,n=a.constVoid){try{(0,ke.b)(e()).pipe(f.s(1),Yn.Q(this._disposed)).subscribe(n,(e=>{this._params.logService.logEvent(t(e))}))}catch(e){this._params.logService.logEvent(t(e))}}_tryInsertLatestResult(){(0,a.pipe)(this._genAISession.get(),s.chain(re.toStarted),s.map((e=>e.results)),s.chain(S.d5),s.filter(se.Q.isStandardCompletedResult),s.map((e=>this._insert(e,(0,a.pipe)(this._lastResultSelectedVoice(),s.getOrElse((()=>se.Q.GeneratedTextVoice.generic)))))))}_onPromptFieldKeyPressEscape(e){e.menuOpened||(0,a.pipe)(this._genAISession.get(),s.chain(re.toStarted),s.chain((e=>e.inProgressResult)),s.fold((()=>this._onClose(e)),(()=>this._stop())))}_rephrase(e,t){var n;null===(n=s.toNullable(this._params.genAISessionService.get()))||void 0===n||n.regenerateResult(e.id,{omitReferenceIds:s.none},t)}_dismissResult(e){var t;null===(t=s.toNullable(this._params.genAISessionService.get()))||void 0===t||t.dismissResult(e.id),this._state.modify((t=>Object.assign(Object.assign({},t),{reportMenuVisible:(0,a.pipe)(t.reportMenuVisible,s.filter((t=>!ko.eq.equals(t,ko.card(e.id))))),cardsState:{hoveredCard:(0,a.pipe)(t.cardsState.hoveredCard,s.filter((t=>t!==e.id))),focusedCard:(0,a.pipe)(t.cardsState.hoveredCard,s.filter((t=>t!==e.id)))}}))),(0,a.pipe)(this._genAISession.get(),s.fold(a.constFalse,re.fold({starting:a.constFalse,contextless:a.constFalse,started:e=>0===e.results.length&&s.isNone(e.inProgressResult)})))&&"thread"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.pop()}_dismissError(){var e;null===(e=s.toNullable(this._params.genAISessionService.get()))||void 0===e||e.dismissError()}_reportOffensiveResult(e){var t;null===(t=s.toNullable(this._params.genAISessionService.get()))||void 0===t||t.trackResultOffensive(e.id)}_reportOffensiveActions(){var e;null===(e=s.toNullable(this._params.genAISessionService.get()))||void 0===e||e.trackActionsOffensive()}_clickResultHeader(e){this._state.modify((t=>Object.assign(Object.assign({},t),{textBox:e,promptAutofocusToken:t.promptAutofocusToken+1})))}_onCreditsInfoClick(){this._params.userActionTrackingService.trackUsageInfoClick(),pe(this._params.userService.user.get())?(this._subscribeToCommand((()=>this._params.uphookService.trackUphookClicked({name:"grammarlyGoPrompts",slot:"grammarlyGo",variant:"premium"})),(e=>(0,oe.Gt)({uphook:"grammarlyGoPrompts",reason:(0,ye.$)(e).message}))),this._subscribeToCommand((()=>this._params.uphookService.executeUphook({name:"grammarlyGoPrompts",slot:"grammarlyGo",variant:"premium"})),(e=>(0,oe.Fh)({uphook:"grammarlyGoPrompts",reason:(0,ye.$)(e).message})))):this._logger.warn("grammarlyGoPrompts uphook clicked by logged out user; this should not happen.")}_submitSelectedAction(e){(0,a.pipe)(this._state.get().selectedAction,s.chain((t=>(0,a.pipe)(t.args[0],q.match({string:()=>{var n;return(0,a.pipe)(s.fromNullable(null===(n=e.textBox)||void 0===n?void 0:n.trim()),s.filter((e=>e.length>0)),s.map((e=>J.FollowUpQuestionActionValue.fromTextInput(t,e))))},radio:()=>(0,a.pipe)(s.fromNullable(e.selectedRadioOption),s.map((e=>J.FollowUpQuestionActionValue.fromRadioInput(t,e))))})))),s.map((e=>{var t;this._state.modify((e=>Object.assign(Object.assign({},e),{selectedAction:s.none,textBox:""}))),null===(t=s.toNullable(this._params.genAISessionService.get()))||void 0===t||t.submitAction(e,s.toUndefined(this._lastResultSelectedVoice())),s.isSome(e.generatesTextType)&&(this._popFollowUpPromptViews(),"home"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.push({kind:"thread"}))})))}_lastResultSelectedVoice(){return(0,a.pipe)(this._genAISession.get(),s.chain(re.toStarted),s.map((e=>e.results)),s.chain(S.d5),s.chain((e=>s.fromNullable(this._state.lens("overrideCardVoice").view((t=>t.get(e.id))).get()))))}_submitUserPromptAction(){(0,a.pipe)(this._state.get().textBox.trim(),s.fromPredicate((e=>""!==e)),s.chain((e=>(0,a.pipe)(this._genAISession.get(),s.chain(re.toStarted),s.chain((t=>(0,a.pipe)(t.activeContext.userPromptAction,s.map((n=>({text:e,session:t,userPromptAction:n}))))))))),s.map((({text:e,session:t,userPromptAction:n})=>{var i;this._state.lens("textBox").set(""),null===(i=s.toNullable(this._params.genAISessionService.get()))||void 0===i||i.submitAction(J.UserPromptActionValue.fromInput(n,e,(0,a.pipe)(function(e,t){return(0,a.pipe)(re.toStarted(e),s.chain((e=>(0,a.pipe)(function(e){return(0,a.pipe)(e.split(/\s/).filter((e=>e.length>3&&e.includes("."))),C.ci)}(t),s.map(S.x1((t=>{var n;return null!==(n=e.detectedReferences.get(t))&&void 0!==n?n:s.none}))),s.chain(C._S)))))}(t,e),s.map(S.x1((e=>(0,a.pipe)(e.url,s.map((t=>({url:t,referenceId:e.id}))))))),s.chain(C.ci)),s.none),s.toUndefined(this._lastResultSelectedVoice())),this._popFollowUpPromptViews(),"home"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.push({kind:"thread"})})))}_popFollowUpPromptViews(){for(;"followUpPrompt"===this._params.routingViewModel.activeView.get().kind;)this._params.routingViewModel.pop()}_regenerateWithoutReference(e,t,n){var i;null===(i=s.toNullable(this._params.genAISessionService.get()))||void 0===i||i.regenerateResult(e.id,{omitReferenceIds:s.some([t])},n)}_searchReferences(e){(0,a.pipe)(function(e){return(0,a.pipe)(e.split(/\s/).filter((e=>e.length>3&&e.includes("."))),C.ci)}(e),s.map((e=>e.forEach((e=>{var t;return null===(t=s.toNullable(this._params.genAISessionService.get()))||void 0===t?void 0:t.searchReferences(e)})))))}}var _o=n(90720);var xo=n(55250),Ao=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class Io{constructor(e){this._params=e,this._sub=new c.y,this._isVisuallyReady=g.s.create(!1),this._heightBehavior=g.s.create({kind:"fitContent",maxHeight:676}),this._widthBehavior=g.s.create({kind:"fitContent",minWidth:432,maxWidth:432}),this._dragBehavior=g.s.create({kind:"notDraggable"}),this._size=g.s.create(null),this._focusState=g.s.create({isFocused:!0}),this._interactionReadyStateByFeature=new Map,this.isVisuallyReady=this._isVisuallyReady.view(),this.heightBehavior=this._heightBehavior.view(),this.widthBehavior=this._widthBehavior.view(),this.dragBehavior=this._dragBehavior.view(),this.size=this._size.view(),this._onStart(),this._sub.add(this._params.lifecycleService.sizeBehavior.subscribe((e=>{var t;this._heightBehavior.set("fitContent"===e.heightBehavior.kind?{kind:e.heightBehavior.kind,maxHeight:null!==(t=e.heightBehavior.maxHeight)&&void 0!==t?t:676,height:e.heightBehavior.height}:{kind:e.heightBehavior.kind}),this._widthBehavior.set(function(e){var t,n,i,r;return"fitContent"===e.widthBehavior.kind?{kind:e.widthBehavior.kind,minWidth:null!==(t=e.widthBehavior.minWidth)&&void 0!==t?t:(r=e.widthBehavior.maxWidth,null!==r&&r<432?r:432),maxWidth:null!==(n=e.widthBehavior.maxWidth)&&void 0!==n?n:(i=e.widthBehavior.minWidth,i&&i>432?i:432)}:{kind:e.widthBehavior.kind}}(e))}))),this._sub.add(this._params.lifecycleService.dragBehavior.subscribe(p.H9(this._dragBehavior))),this._sub.add(this._focusState.pipe(Lt.B(100),_o.w("isFocused")).subscribe((e=>{Se(this._params.lifecycleService.focusStateChanged(e)).catch((t=>{this._params.logService.logEvent((0,oe.Dq)({focusState:e,reason:(0,ye.$)(t).message}))}))})))}_onStart(){return Ao(this,void 0,void 0,(function*(){try{yield Se(this._params.lifecycleService.starting()),this._params.metricService.report({name:"assistant_lifecycle_starting",labels:void 0},{startMarks:[xo.F.assistantOpenAttempt]})}catch(e){this._params.logService.logEvent((0,oe.mD)({reason:(0,ye.$)(e).message}))}}))}onVisuallyReady(e){return Ao(this,void 0,void 0,(function*(){try{yield Se(this._params.lifecycleService.visuallyReady(e)),this._params.metricService.report({name:"assistant_lifecycle_visually_ready",labels:void 0},{startMarks:["assistant_lifecycle_starting"],durationBetweenMarks:[xo.F.assistantOpenAttempt,xo.F.preStartServicesReady,i.assistantGetStart,i.assistantGetEnd,i.assistantComponentStart,i.assistantViewModelsCreated,i.assistantComponentEnd,i.assistantContainerMounted]}),this._isVisuallyReady.set(!0)}catch(e){this._params.logService.logEvent((0,oe.Ie)({reason:(0,ye.$)(e).message}))}}))}onInteractionReady(e){return Ao(this,void 0,void 0,(function*(){if(!this._interactionReadyStateByFeature.has(e.kind))try{this._interactionReadyStateByFeature.set(e.kind,"pending"),yield Se(this._params.lifecycleService.interactionReady(e)),this._interactionReadyStateByFeature.set(e.kind,"fulfilled"),yield this._params.metricService.report(function(e){return{name:"assistant_lifecycle_interaction_ready",labels:{feature:"gen-ai"===e.kind?"gen_ai":"revision"===e.kind?`revision_${e.feedForm}_${e.feedName}`:"tone-detector"===e.kind?"tone_detector":(0,h.AS)(e),success:e.success?"true":"false"}}}(e),{startMarks:["assistant_lifecycle_starting","assistant_lifecycle_visually_ready",xo.F.assistantOpenAttempt]})}catch(t){"pending"===this._interactionReadyStateByFeature.get(e.kind)&&this._interactionReadyStateByFeature.delete(e.kind),this._params.logService.logEvent((0,oe.Jm)({interactionReadyInfo:e,reason:(0,ye.$)(t).message}))}}))}onReadyToDrag(e){return Ao(this,void 0,void 0,(function*(){if("draggable"===this._dragBehavior.get().kind)try{yield Se(this._params.lifecycleService.readyToDrag(e)),this._params.metricService.report({name:"assistant_lifecycle_ready_to_drag",labels:void 0},{startMarks:["assistant_lifecycle_starting",xo.F.assistantOpenAttempt]})}catch(e){this._params.logService.logEvent((0,oe.cX)({reason:(0,ye.$)(e).message}))}}))}onFocusStateChange(e){this._focusState.set(e)}onSizeChange(e){this._size.set({width:e.width,height:e.height})}onClose(){return Ao(this,void 0,void 0,(function*(){try{yield new Promise((e=>setTimeout(e))),yield this._params.lifecycleService.close()}catch(e){this._params.logService.logEvent((0,oe.sB)({reason:(0,ye.$)(e).message}))}}))}dispose(){this._sub.unsubscribe()}}class Ko{constructor(e,t){this._initialViewStack=e,this._viewEq=t,this._viewStack=g.s.create(this._initialViewStack),this.activeView=this._viewStack.view(C.d5)}push(e){this._viewStack.modify((t=>this._viewEq.equals(e,t[0])?t:C.qu(e,t)))}pop(){this._viewStack.modify((0,a.flow)(C.jE,(([e,t])=>(0,a.pipe)(C._S(t),s.getOrElse((()=>[e]))))))}popUntil(e){this._viewStack.modify((t=>{const n=t.findIndex(e);return(0,a.pipe)(n>=0?s.some(n):s.some(0),s.chain((e=>C._S(t.slice(e)))),s.getOrElse((()=>t)))}))}replace(e){this._viewStack.modify((t=>(0,a.pipe)(C.qu(e,C.RT(t)))))}has(e){return this._viewStack.view((t=>void 0!==t.find((t=>this._viewEq.equals(t,e)))))}}class To{constructor(e){this._subs=new c.y,this._state=g.s.create({hasBeenNonEmpty:s.none,textLength:s.none,wordCount:s.none}),this.state=this._state.view(),this._subs.add((0,ke.b)(e.textEditorService.trimmedTextLength).subscribe((e=>{const t=0===e;this._state.modify((n=>Object.assign(Object.assign({},n),{hasBeenNonEmpty:t?n.hasBeenNonEmpty:s.some(!0),textLength:s.some(e)})))}))),this._subs.add((0,ke.b)(e.textEditorService.wordCount).subscribe((e=>{this._state.lens("wordCount").set(s.some(e))})))}dispose(){this._subs.unsubscribe()}}var Oo=n(39455);class Mo{constructor(e){this._params=e,this.institutionInfo=this._params.userService.user.view((e=>pe(e)?e.institution:s.none)),this.isGrammarlyInstitutionMember=this._params.userService.user.view(ue),this.isPremium=this._params.userService.user.view(fe),this.isPlagiarismDisabled=this._params.userService.user.view((e=>{var t;return!pe(e)||!0===(null===(t=e.editorFeatures)||void 0===t?void 0:t.plagiarismDisabled)}))}}function Fo(e){var t,n,i;const r=new it({hostInfo:e.lifecycleService.hostInfo,user:e.userService.user.get(),experience:e.kind}),o=r.getLogger(Fo.name);o.debug("Creating assistant view models.");const w=e.capiService instanceof y.V?null===(t=e.capiService.logEvents)||void 0===t?void 0:t.subscribe((e=>{r.logEvent(e)})):void 0,E="revision"===e.kind?g.s.create({kind:v.y.Kind.disabled}).view():e.genAIAvailabilityService.availability,_=new c.y,x=new l.B7,I=new ot({lifecycleService:e.lifecycleService,experience:e.kind,logService:r}),K=new ut({capiService:e.capiService,genAIAvailability:E,logService:r}),T="revision"!==e.kind?g.s.create(s.some(new et(Object.assign(Object.assign({},e),{genAIStartSessionOptions:e.genAIStartSessionOptions,genAIAvailability:E,userActionTrackingService:K,selectionContextAvailability:null===(n=e.selectionContextAvailabilityService)||void 0===n?void 0:n.availability,metricService:I,logService:r})))):g.s.create(s.none),M=g.s.create(s.none);_.add(T.pipe(d.n(s.fold((()=>u.of(s.none)),(e=>e.session.view(s.some))))).subscribe(p.H9(M))),"revision"!==e.kind&&_.add(M.subscribe((t=>{var n;return null===(n=e.notifyGenAISessionStateChanged)||void 0===n?void 0:n.call(e,(0,a.pipe)(t,s.chain((e=>"contextless"===e.kind?s.none:s.some({kind:e.kind,mode:e.mode,resultCount:"started"===e.kind?e.results.length:0})))))})));const R=new at;_.add(T.view(s.map((e=>e.registerNotificationHandler((e=>R.notify(e)))))).subscribe());const P=new Io({lifecycleService:e.lifecycleService,metricService:I,logService:r}),D=new Ko(function(e,t){var n,i,r;const o=null===(r=null===(i=null===(n=null==e?void 0:e.session)||void 0===n?void 0:n.get)||void 0===i?void 0:i.call(n))||void 0===r?void 0:r.mode;return C.Kv(S.oE(["toneReport"===t?s.some({kind:"toneReport"}):s.none,"pushRewrite"===o||"quickRewrite"===o?s.some({kind:"thread"}):s.none]),{kind:"home"})}(s.toNullable(T.get()),function(e){if("revision"===e.kind||"genAIAndRevision"===e.kind)switch(e.initialView){case void 0:return;case"toneReport":return e.toneDetectorService?e.initialView:void 0;default:(0,h.AS)(e.initialView)}}(e)),At.eq),j=new Oo.y(null!==(i=e.theme)&&void 0!==i?i:g.s.create(b.z)),L=function(e){const t=(0,ke.b)(e.textUpdated).pipe(N.Z(500),lt.Z(null),d.n((()=>e.getText({start:0,end:Number.MAX_SAFE_INTEGER})())),O.T(s.fromEither),B.oE,O.T((e=>e.trim())),A.F(),F.shareReplay({bufferSize:1,refCount:!0}));return Object.assign(e,{trimmedTextLength:(e.trimmedTextLength?(0,ke.b)(e.trimmedTextLength):t.pipe(O.T((e=>e.length)))).pipe(A.F(),F.shareReplay({bufferSize:1,refCount:!0})),wordCount:(e.wordCount?(0,ke.b)(e.wordCount):t.pipe(O.T((e=>ct(e).length)))).pipe(A.F(),F.shareReplay({bufferSize:1,refCount:!0}))})}(e.textEditorService),U=new To({textEditorService:L}),$=new yo({assistantUIActions:x,userActionTrackingService:K,genAISessionService:T,routingViewModel:D,logService:r}),H=new bt({assistantUIActions:x,feedbackService:e.feedbackService,routingViewModel:D,logService:r}),V=s.fromNullable("revision"!==e.kind&&"genAIAndRevision"!==e.kind||!e.toneDetectorService?void 0:new ao({externalService:e.toneDetectorService,capiService:e.capiService,logService:r})),z=(0,a.pipe)(V,s.map((t=>new Nt({assistantUIActions:x,toneDetectorServiceInternal:t,userService:e.userService,trackingService:e.trackingService,uphookService:e.uphookService,routingViewModel:D,lifecycleViewModel:P,logService:r})))),W=new Mo({userService:e.userService}),Z=new k(e.deepLinkService),G=(0,a.pipe)(s.fromNullable("genAI"!==e.kind?Object.assign(Object.assign({},e),{performanceScoreOptions:"genAIAndWritingExpert"!==e.kind?e.performanceScoreOptions:void 0,isAllSuggestionsFeedEnabled:"genAIAndWritingExpert"!==e.kind,isPlagiarismEnabled:"genAIAndWritingExpert"!==e.kind&&e.isPlagiarismEnabled,isWritingExpertEnabled:"genAIAndWritingExpert"===e.kind||e.isWritingExpertEnabled,partialPageModeSettings:"genAIAndWritingExpert"!==e.kind?e.partialPageModeSettings:void 0,shortFormFeedMode:"genAIAndRevision"===e.kind?"compact":"standard"}):void 0),s.map((t=>io(Object.assign(Object.assign({},t),{routingViewModel:D,userViewModel:W,uphookService:e.uphookService,assistantUIActions:x,logService:r,lifecycleViewModel:P,deepLinkManager:Z,experimentService:e.experimentService,notificationService:R})))));_.add(P.isVisuallyReady.pipe(m.p(a.identity),f.s(1)).subscribe((()=>{var e;return null===(e=s.toNullable(G))||void 0===e?void 0:e.start()})));const Q=(0,a.pipe)(G,s.map((e=>e.viewModels))),q=new Co({assistantUIActions:x,lifecycleViewModel:P,routingViewModel:D,genAIAvailability:E,genAISessionService:T,textEditorService:L,userActionTrackingService:K,uphookService:e.uphookService,userService:e.userService,notificationService:R,logService:r,hasRevision:s.isSome(Q),textIsEmpty:U.state.view("textLength").view(s.map((e=>0===e))),tracking:e.trackingService}),J=new Pt({genAISession:M,activeView:D.activeView,genAIAvailability:E,toneDetectorViewModel:z,plagiarismViewModel:(0,a.pipe)(Q,s.map((e=>e.plagiarism))),writingExpertViewModel:(0,a.pipe)(Q,s.map((e=>e.writingExpert))),textEditorState:U.state,performanceScoreViewModel:(0,a.pipe)(Q,s.map((e=>e.performanceScore))),humanWritingReportViewModel:(0,a.pipe)(Q,s.map((e=>e.humanWritingReport)))}),Y=new Fn(x,J.state.view("contextualActions"),J.state.view("skillActions"),J.state.view("toneAction"),J.state.view("plagiarismAction"),J.state.view("writingExpertAction"),J.state.view("performanceScoreAction"),J.state.view("humanWritingReportAction"),K,(()=>s.isSome(q.state.get().selectedAction)),(()=>q.focusPromptField()),o),X=new yt(R,x,D.activeView),ee=new ho({capiService:e.capiService,logService:r}),te=new go({userSurveyService:ee,assistantUIActions:x}),ne=new oo({assistantUIActions:x,logService:r,routingViewModel:D,skillService:"revision"!==e.kind?e.skillService:void 0});"revision"!==e.kind&&e.selectionContextAvailabilityService&&e.selectionContextAvailabilityService.augment((e=>g.s.combine(e,D.activeView,((e,t)=>Ct(t)?e:{contextUpdatesClient:!1,contextUpdatesServer:!1}))));const ie=(0,a.pipe)(s.fromNullable("revision"===e.kind||"genAIAndRevision"===e.kind?e.settingsOptions:void 0),s.map((e=>new ro({assistantUIActions:x,routingViewModel:D,options:e})))),re=new St({assistantUIActions:x,onboardingService:s.fromNullable(e.onboardingService)}),oe=new vt({assistantUIActions:x,genAISessionService:T,logService:r,routingViewModel:D});return{experience:e.kind,lifecycle:P,assistant:q,textEditor:U,promptActions:J,promptMenu:Y,notifications:X,voiceProfile:$,feedbackForm:H,userSurvey:te,skill:ne,theme:j,settings:ie,revision:Q,toneDetector:z,onboarding:re,routing:D,user:W,logger:o,a11y:oe,notify:t=>{var n;null===(n=e.notifyAssistantUIAction)||void 0===n||n.call(e,t),x.next(t)},dispose:()=>{var t,n,i,r;o.debug("Disposing of assistant view models."),null==w||w.unsubscribe(),oe.dispose(),null===(t=e.dispose)||void 0===t||t.call(e),_.unsubscribe(),null===(n=s.toNullable(G))||void 0===n||n.dispose(),U.dispose(),q.dispose(),Y.dispose(),X.dispose(),null==$||$.dispose(),H.dispose(),te.dispose(),ne.dispose(),I.dispose(),re.dispose(),null===(i=s.toNullable(z))||void 0===i||i.dispose(),null===(r=s.toNullable(T.get()))||void 0===r||r.dispose(),Z.dispose()}}}(0,h.AS)(void 0);const Ro=o.UI.Node.make((({state:e})=>r.createElement(nn.F.div,{className:Bo,"data-testid":"a11y-notification","aria-live":"polite",role:"status"},e.pipe(O.T((({messageId:e,messageText:t})=>t?r.createElement("span",{key:e,"data-testid":"a11y-notification-text"},t):null)))))),Bo=Zt.Ks.style({position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0,0,0,0)",border:0});var No=n(35208);const Po=e=>r.createElement(sn.hh,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:Xt.Q.Background.Brand.Default},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM18.2071 9.20711C18.5976 8.81658 18.5976 8.18342 18.2071 7.79289C17.8166 7.40237 17.1834 7.40237 16.7929 7.79289L10 14.5858L8.20711 12.7929C7.81658 12.4024 7.18342 12.4024 6.79289 12.7929C6.40237 13.1834 6.40237 13.8166 6.79289 14.2071L10 17.4142L18.2071 9.20711Z",stroke:"none"}));var Do=n(91047);const jo=()=>r.createElement(Gt.I,{icon:Do.O,size:"large",accessibilityLabel:""}),Lo=e=>r.createElement(sn.hh,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0607 3.64286C9.5893 2.78571 8.4107 2.78571 7.93926 3.64286L3.16592 12.3214C2.69448 13.1786 3.28378 14.25 4.22667 14.25H13.7733C14.7162 14.25 15.3055 13.1786 14.8341 12.3214L10.0607 3.64286ZM8.25 6C8.25 5.58579 8.58579 5.25 9 5.25C9.41421 5.25 9.75 5.58579 9.75 6V9.75C9.75 10.1642 9.41421 10.5 9 10.5C8.58579 10.5 8.25 10.1642 8.25 9.75V6ZM9.75 12C9.75 12.4142 9.41421 12.75 9 12.75C8.58579 12.75 8.25 12.4142 8.25 12C8.25 11.5858 8.58579 11.25 9 11.25C9.41421 11.25 9.75 11.5858 9.75 12Z",stroke:"none"})),Uo=o.UI.Node.make((({state:e,notify:t})=>r.createElement(nn.F.div,{className:Ho,"data-id":e.pipe(O.T((({id:e})=>e))),onMouseOver:t({kind:"mouseOver"}),onMouseOut:t({kind:"mouseOut"})},e.pipe(O.T((e=>{switch(e.kind){case"feedbackSubmitted":return r.createElement(r.Fragment,null,r.createElement(Po,{className:Vo}),r.createElement("div",null,"Thanks for the feedback!"));case"voiceTagRemoved":return r.createElement(r.Fragment,null,r.createElement(Po,{className:Vo}),r.createElement("div",null,"Removed"));case"information":return r.createElement(r.Fragment,null,r.createElement(jo,null),r.createElement("div",null,e.text));case"warning":return r.createElement(r.Fragment,null,r.createElement(Lo,{className:zo}),r.createElement("div",null,e.text));default:return(0,h.AS)(e)}}))),e.pipe(O.T((({id:e})=>r.createElement(No.X,{name:"notificationClose",onClick:t({kind:"dismissNotification",id:e})}))))))),$o=Zt.Ks.keyframes({from:{transform:`translateY(${Zt.Ks.rem(.25)})`,opacity:0},to:{transform:"translateY(0)",opacity:1}}),Ho=Zt.Ks.style({background:tn.NeutralGray100,color:Xt.Q.Text.Base.Inverse,borderRadius:Zt.Ks.rem(en.KD+en.M6),display:"flex",flexDirection:"row",alignItems:"center",padding:`${Zt.Ks.rem(Yt.CN)} ${Zt.Ks.rem(Yt.CN)}`,gap:Zt.Ks.rem(Yt.CN),fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),animation:`${$o} 0.1s ease-in`}),Vo=Zt.Ks.style(Object.assign({},(0,gn.QD)(1.5))),zo=Zt.Ks.style({fill:"#FFC444"}),Wo=o.UI.List.make(S.QW,Uo),Zo=o.UI.Grid.make((({slots:e})=>r.createElement("div",{className:Qo},e.content))),Go=o.UI.Knot.make(Zo,{content:Wo}),Qo=Zt.Ks.style({display:"flex",flexDirection:"column",gap:Zt.Ks.rem(Yt.v$),transition:"top 0.1s ease-in"});var qo,Jo=n(53697);!function(e){e.interactOutside="interactOutside",e.closeButtonClick="closeButtonClick",e.unmount="unmount",e.other="other"}(qo||(qo={}));const Yo=o.UI.Node.make((({view:e,notify:t})=>r.createElement(nn.F.Fragment,null,e("step").pipe(O.T(s.fold(a.constNull,(e=>r.createElement(Jo.AM,{key:String(e.stepId),"data-testid":`onboarding-${String(e.stepId)}`,reference:e.reference,placement:e.placement,arrowAlignment:e.arrowAlignment,offset:e.offset,containerPadding:e.containerPadding,title:e.title,body:e.body,footer:e.footer,onClose:n=>t({kind:"onboardingStepUnmount",stepId:e.stepId,reason:n in qo?qo[n]:qo.other})(),onMount:t({kind:"onboardingStepMount",stepId:e.stepId})}))))))));var Xo=n(41548),es=n(88423),ts=n(39606),ns=n(91367);const is=r.createContext({notifyUnmount:a.constVoid}),rs=e=>r.createElement(sn.hh,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:vn.A.BrandGreen60},e),r.createElement("path",{d:"M17.1056 9.44721L0.992696 17.5037C0.607324 17.6963 0.174955 17.3439 0.285972 16.9276L1.83393 11.1228C1.93505 10.7436 2.24864 10.4586 2.63576 10.394L9.52041 9.2466C9.79894 9.20018 9.79894 8.79982 9.52041 8.7534L2.63576 7.60596C2.24864 7.54144 1.93505 7.25644 1.83393 6.87723L0.285971 1.07239C0.174955 0.656082 0.607322 0.303661 0.992694 0.496347L17.1056 8.55279C17.4741 8.73705 17.4741 9.26295 17.1056 9.44721Z",stroke:"none"})),os=e=>r.createElement(sn.hh,Object.assign({width:"32",height:"32",fill:Xt.Q.Text.Base.Subdued,viewBox:"0 0 32 32"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11-3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-4Z",stroke:"none"}));var ss=n(53493);const as="#161719",ls=Xt.Q.Background.Neutral.Default,cs=e=>{var{children:t,style:n,name:i}=e,o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children","style","name"]);const[a,l]=r.useState(null),c=r.useCallback((e=>{var t,n;let i=null;"contentDocument"in e.target&&(i=null!==(n=null===(t=e.target.contentDocument)||void 0===t?void 0:t.body)&&void 0!==n?n:null),l(i),i&&(i.style.margin="0",i.style.height="100vh",i.style.overflowY="hidden")}),[]),d=r.useContext(Xo.q.Context);return r.useEffect((()=>{const e=d.subscribe((e=>{a&&Xo.q.setRootCssVar(a,s.some(e))}));return()=>e.unsubscribe()}),[a]),r.createElement(r.Fragment,null,r.createElement("iframe",Object.assign({},o,{style:Object.assign({},n),onLoad:c,srcDoc:"<html><body></body></html>","data-testid":i})),a&&(0,ss.createPortal)(t,a))};function ds(e){return ps(e)&&0===e.selectionStart}function us(e){return ps(e)&&e.selectionStart===e.value.length}function ps(e){return e.selectionStart===e.selectionEnd}const ms=({fitContentHeight:e,text:t,ariaLabel:n,ariaControls:i,ariaHaspopup:o,ariaExpanded:s,onChange:a,placeholder:l,disabled:c,className:d,onFocus:u,onBlur:p,onKeyDownEnter:m,autofocus:f,onKeyDownArrowUp:h,onKeyDownArrowDown:g,onKeyDownShiftEnter:v,theme:b})=>{var y,k,w,E,S,C,_,x,A,I,K,T,O,M,F,R,B,N,P,D,j,L,U,$,H,V,z,W,Z,G,Q;const q=null!==(y=null==b?void 0:b.lineHeightRems)&&void 0!==y?y:1.375,J=q+(null!==(w=null===(k=null==b?void 0:b.paddingRems)||void 0===k?void 0:k.top)&&void 0!==w?w:0)+(null!==(S=null===(E=null==b?void 0:b.paddingRems)||void 0===E?void 0:E.bottom)&&void 0!==S?S:0),[Y,X]=r.useState({kind:"rem",value:J}),[ee,te]=r.useState(null);return r.useEffect((()=>{ee&&void 0!==f&&(ee.focus(),ee.selectionStart=t.length,ee.selectionEnd=t.length)}),[f,ee]),r.useLayoutEffect((()=>{if(""===t)X({kind:"rem",value:J});else{const e=null==ee?void 0:ee.scrollHeight;X(e?{kind:"px",value:e}:{kind:"rem",value:J})}}),[t,ee,l]),r.createElement(cs,{className:d,style:{height:e?"rem"===Y.kind?Zt.Ks.rem(Y.value):Zt.Ks.px(Y.value):void 0,maxHeight:(null==b?void 0:b.maxHeightRems)?Zt.Ks.rem(b.maxHeightRems):"none",minHeight:(null==b?void 0:b.minHeightRems)?Zt.Ks.rem(b.minHeightRems):"none"},title:`${n} container`,name:"textarea-iframe"},r.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .textarea {\n        box-sizing: border-box;\n        border-radius: ${Zt.Ks.rem(en.KD)};\n        overflow-y: auto;\n        padding: ${Zt.Ks.rem(null!==(_=null===(C=null==b?void 0:b.paddingRems)||void 0===C?void 0:C.top)&&void 0!==_?_:0)} ${Zt.Ks.rem(null!==(A=null===(x=null==b?void 0:b.paddingRems)||void 0===x?void 0:x.right)&&void 0!==A?A:0)} ${Zt.Ks.rem(null!==(K=null===(I=null==b?void 0:b.paddingRems)||void 0===I?void 0:I.bottom)&&void 0!==K?K:0)} ${Zt.Ks.rem(null!==(O=null===(T=null==b?void 0:b.paddingRems)||void 0===T?void 0:T.left)&&void 0!==O?O:0)};\n        width: 100%;\n        height: 100%;\n        border: none;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${null!==(M=null==b?void 0:b.fontSize)&&void 0!==M?M:Zt.Ks.rem(.875)};\n        font-weight: 400;\n        color: ${null!==(F=null==b?void 0:b.color)&&void 0!==F?F:as};\n      }\n      .textarea::placeholder {\n        color: ${ls};\n      }\n      .textarea:placeholder-shown {\n        padding: ${(null==b?void 0:b.placeholderPaddingRems)?`${Zt.Ks.rem(null!==(B=null===(R=b.placeholderPaddingRems)||void 0===R?void 0:R.top)&&void 0!==B?B:0)} ${Zt.Ks.rem(null!==(P=null===(N=b.placeholderPaddingRems)||void 0===N?void 0:N.right)&&void 0!==P?P:0)} ${Zt.Ks.rem(null!==(j=null===(D=b.placeholderPaddingRems)||void 0===D?void 0:D.bottom)&&void 0!==j?j:0)} ${Zt.Ks.rem(null!==(U=null===(L=b.placeholderPaddingRems)||void 0===L?void 0:L.left)&&void 0!==U?U:0)}`:`${Zt.Ks.rem(null!==(H=null===($=null==b?void 0:b.paddingRems)||void 0===$?void 0:$.top)&&void 0!==H?H:0)} ${Zt.Ks.rem(null!==(z=null===(V=null==b?void 0:b.paddingRems)||void 0===V?void 0:V.right)&&void 0!==z?z:0)} ${Zt.Ks.rem(null!==(Z=null===(W=null==b?void 0:b.paddingRems)||void 0===W?void 0:W.bottom)&&void 0!==Z?Z:0)} ${Zt.Ks.rem(null!==(Q=null===(G=null==b?void 0:b.paddingRems)||void 0===G?void 0:G.left)&&void 0!==Q?Q:0)}`};\n      }\n      .textarea:focus {\n        outline: none;\n      }\n      `.replace(/\s/g,"")}}),r.createElement("textarea",{"aria-label":n,"aria-controls":i,"aria-haspopup":o,"aria-expanded":s,spellCheck:"false",className:"textarea",style:{lineHeight:Zt.Ks.rem(q)},value:t,ref:te,onChange:e=>a(e.target.value),placeholder:l,disabled:c,onFocus:()=>null==u?void 0:u(),onBlur:()=>null==p?void 0:p(),onKeyDown:e=>{m&&"Enter"===e.key&&!e.shiftKey?(e.preventDefault(),e.stopPropagation(),m()):"ArrowUp"===e.key&&h&&ds(e.currentTarget)?(e.preventDefault(),e.stopPropagation(),h()):"ArrowDown"===e.key&&g&&us(e.currentTarget)?(e.preventDefault(),e.stopPropagation(),g()):"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),e.stopPropagation(),null==v||v())}}))};const fs=e=>{var{useIframeWrapper:t}=e,n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["useIframeWrapper"]);return t?r.createElement(ms,Object.assign({},n)):r.createElement(hs,Object.assign({},n))},hs=({fitContentHeight:e,text:t,ariaLabel:n,ariaControls:i,ariaHaspopup:o,ariaExpanded:s,onChange:a,placeholder:l,disabled:c,onFocus:d,onBlur:u,onKeyDownEnter:p,autofocus:m,onKeyDownArrowUp:f,onKeyDownArrowDown:h,onKeyDownShiftEnter:g,theme:v,className:b})=>{var y,k,w,E,S;const C=null!==(y=null==v?void 0:v.lineHeightRems)&&void 0!==y?y:1.375,_=C+(null!==(w=null===(k=null==v?void 0:v.paddingRems)||void 0===k?void 0:k.top)&&void 0!==w?w:0)+(null!==(S=null===(E=null==v?void 0:v.paddingRems)||void 0===E?void 0:E.bottom)&&void 0!==S?S:0),[x,A]=r.useState({kind:"rem",value:_}),[I,K]=r.useState(null);return r.useEffect((()=>{I&&void 0!==m&&(I.focus(),I.selectionStart=t.length,I.selectionEnd=t.length)}),[m,I]),r.useLayoutEffect((()=>{if(""===t)A({kind:"rem",value:_});else{const e=null==I?void 0:I.scrollHeight;A(e?{kind:"px",value:e}:{kind:"rem",value:_})}}),[t,I,l]),r.createElement("div",{className:b,style:{height:e?"rem"===x.kind?Zt.Ks.rem(x.value):Zt.Ks.px(x.value):void 0,maxHeight:(null==v?void 0:v.maxHeightRems)?Zt.Ks.rem(v.maxHeightRems):"none",minHeight:(null==v?void 0:v.minHeightRems)?Zt.Ks.rem(v.minHeightRems):"none"},title:`${n} container`},r.createElement("textarea",{"aria-label":n,"aria-controls":i,"aria-haspopup":o,"aria-expanded":s,spellCheck:"false",className:gs(v),style:{lineHeight:Zt.Ks.rem(C)},value:t,ref:K,onChange:e=>a(e.target.value),placeholder:l,disabled:c,onFocus:()=>null==d?void 0:d(),onBlur:()=>null==u?void 0:u(),onKeyDown:e=>{p&&"Enter"===e.key&&!e.shiftKey?(e.preventDefault(),e.stopPropagation(),p()):"ArrowUp"===e.key&&f&&ds(e.currentTarget)?(e.preventDefault(),e.stopPropagation(),f()):"ArrowDown"===e.key&&h&&us(e.currentTarget)?(e.preventDefault(),e.stopPropagation(),h()):"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),e.stopPropagation(),null==g||g())}}))},gs=e=>{var t,n,i,r,o,s,a,l,c,d,u,p,m,f,h,g,v,b,y,k,w,E,S,C,_,x;return Zt.Ks.style({boxSizing:"border-box",borderRadius:Zt.Ks.rem(en.KD),overflowY:"auto",padding:`${Zt.Ks.rem(null!==(n=null===(t=null==e?void 0:e.paddingRems)||void 0===t?void 0:t.top)&&void 0!==n?n:0)} ${Zt.Ks.rem(null!==(r=null===(i=null==e?void 0:e.paddingRems)||void 0===i?void 0:i.right)&&void 0!==r?r:0)} ${Zt.Ks.rem(null!==(s=null===(o=null==e?void 0:e.paddingRems)||void 0===o?void 0:o.bottom)&&void 0!==s?s:0)} ${Zt.Ks.rem(null!==(l=null===(a=null==e?void 0:e.paddingRems)||void 0===a?void 0:a.left)&&void 0!==l?l:0)}`,width:"100%",height:"100%",border:"none",background:"transparent",resize:"none",fontFamily:"Inter, sans-serif",fontSize:null!==(c=null==e?void 0:e.fontSize)&&void 0!==c?c:Zt.Ks.rem(.875),fontWeight:400,color:null!==(d=null==e?void 0:e.color)&&void 0!==d?d:vn.A.TextBaseDefault,$nest:{"&::placeholder":{color:vn.A.TextBaseSubduedColor},"&:placeholder-shown":{padding:(null==e?void 0:e.placeholderPaddingRems)?`${Zt.Ks.rem(null!==(p=null===(u=e.placeholderPaddingRems)||void 0===u?void 0:u.top)&&void 0!==p?p:0)} ${Zt.Ks.rem(null!==(f=null===(m=e.placeholderPaddingRems)||void 0===m?void 0:m.right)&&void 0!==f?f:0)} ${Zt.Ks.rem(null!==(g=null===(h=e.placeholderPaddingRems)||void 0===h?void 0:h.bottom)&&void 0!==g?g:0)} ${Zt.Ks.rem(null!==(b=null===(v=e.placeholderPaddingRems)||void 0===v?void 0:v.left)&&void 0!==b?b:0)}`:`${Zt.Ks.rem(null!==(k=null===(y=null==e?void 0:e.paddingRems)||void 0===y?void 0:y.top)&&void 0!==k?k:0)} ${Zt.Ks.rem(null!==(E=null===(w=null==e?void 0:e.paddingRems)||void 0===w?void 0:w.right)&&void 0!==E?E:0)} ${Zt.Ks.rem(null!==(C=null===(S=null==e?void 0:e.paddingRems)||void 0===S?void 0:S.bottom)&&void 0!==C?C:0)} ${Zt.Ks.rem(null!==(x=null===(_=null==e?void 0:e.paddingRems)||void 0===_?void 0:_.left)&&void 0!==x?x:0)}`},"&:focus":{outline:"none"}}})};var vs=n(93279);const bs="goBtn",ys="stopBtn",ks={top:Yt.v$,right:3.5*Yt.CN,bottom:Yt.v$,left:Yt.CN},ws={top:Yt.v$,right:Yt.CN,bottom:Yt.v$,left:Yt.CN},Es=Zt.Ks.style({display:"flex",position:"relative",alignItems:"flex-start",padding:0,gap:Zt.Ks.rem(Yt.or),justifyContent:"space-between"}),Ss=Zt.Ks.style({flexGrow:1,paddingTop:Zt.Ks.rem(Yt.or+Yt.vW)}),Cs=Zt.Ks.style({flexGrow:1,paddingTop:Zt.Ks.rem(Yt.or+Yt.vW),paddingBottom:Zt.Ks.rem(Yt.or+Yt.vW)}),_s=Zt.Ks.style({width:Zt.Ks.percent(100),border:"none"}),xs={position:"absolute",bottom:Zt.Ks.rem(Yt.v$),right:Zt.Ks.rem(Yt.CN)},As=(0,gn.T2)(xs,ys),Is=(0,gn.T2)(Object.assign(Object.assign({},xs),{$nest:{"&[data-disabled='true']":{opacity:1,$nest:{"& svg":{fill:tn.NeutralGray30}}}}}),bs),Ks=Zt.Ks.joinClasses([bs,Zt.Ks.style(Is)]),Ts=Zt.Ks.joinClasses([ys,Zt.Ks.style(As)]),Os=o.UI.Node.make((({state:e,notify:t})=>{const{notifyUnmount:n}=r.useContext(is),{onMount:i}=(0,ns.y)((0,a.flow)(P.M((e=>t({kind:mt.t.Kind.mount,name:wt.e.promptInput,element:e})())),es.j((()=>n({kind:mt.t.Kind.unmount,name:wt.e.promptInput}))))),o=r.useContext(vs.D);return r.createElement(nn.F.form,{className:Es,mount:i,"aria-label":"Find a prompt"},r.createElement(nn.F.div,{className:o.view((e=>e.useIframeTextfieldWrapper?Ss:Cs))},kt.zV([e,o]).pipe(O.T((([{placeholder:e,kind:n,text:i,autofocusToken:o,ariaControls:a,ariaExpanded:l},c])=>r.createElement(fs,{text:i,theme:{paddingRems:ks,placeholderPaddingRems:ws,maxHeightRems:20,minHeightRems:2},useIframeWrapper:c.useIframeTextfieldWrapper,ariaLabel:"Type a prompt, after typing your prompt press tab to review results, or enter to activate your prompt",ariaControls:a,ariaExpanded:l,ariaHaspopup:"listbox",className:_s,placeholder:"ready"===n?s.toUndefined(e):void 0,fitContentHeight:!0,autofocus:o,onChange:e=>t({kind:mt.t.Kind.promptFieldTextChange,text:e})(),onKeyDownEnter:t({kind:mt.t.Kind.promptFieldKeyPressEnter,text:i,fieldReadyState:n}),onFocus:t({kind:mt.t.Kind.promptFieldFocusChange,focused:!0}),onBlur:t({kind:mt.t.Kind.promptFieldFocusChange,focused:!1}),onKeyDownArrowUp:t({kind:mt.t.Kind.promptFieldKeyPressArrowUp}),onKeyDownArrowDown:t({kind:mt.t.Kind.promptFieldKeyPressArrowDown})}))))),e.pipe(O.T((({kind:e,text:n,genAIAvailability:i})=>v.y.isUnavailable(i)?null:"waitingForResult"===e?r.createElement(rn.$,{variant:"tertiary",className:Ts,onClick:t({kind:mt.t.Kind.generateStopButtonClick}),name:"generateStop",compact:!0,size:"large"},r.createElement(os,null)):"ready"===e&&""!==n.trim()?r.createElement(rn.$,{variant:"tertiary",className:Ks,onClick:t({kind:mt.t.Kind.promptSubmitButtonClick,text:n}),disabled:""===n.trim()||v.y.isUnavailable(i),name:"promptSend",compact:!0,size:"large"},r.createElement(rs,null)):null))))}));var Ms=n(74168),Fs=n(60946);function Rs(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!==e&&(e.current=t)}))}}const Bs=r.createContext({scrollableContainer:g.s.create(s.none),registerIntersectionObserver:()=>({dispose:a.constVoid}),scrolling:g.s.create(!1),isDefault:!0}),Ns=r.forwardRef((function(e,t){var{children:n,className:i,onScroll:o,style:a}=e,l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children","className","onScroll","style"]);const c=r.useMemo((()=>g.s.create(s.none)),[]),d=r.useMemo((()=>new Map),[]),u=r.useCallback((e=>{const t=Array.from(d.entries());for(const[n,{observers:i}]of t)d.set(n,{intersectionObserver:Ds(e,n,i),observers:i})}),[d]),m=r.useCallback(((e,t,n)=>{var i,r;const o=d.get(e),a=null!==(i=null==o?void 0:o.observers)&&void 0!==i?i:new Map;a.set(t,n);const l=null!==(r=null==o?void 0:o.intersectionObserver)&&void 0!==r?r:Ds(s.toNullable(c.get()),e,a);return d.set(e,{intersectionObserver:l,observers:a}),l.observe(t),{dispose:()=>{const n=d.get(e);n&&(n.intersectionObserver.unobserve(t),n.observers.delete(t),0===n.observers.size&&(n.intersectionObserver.disconnect(),d.delete(e)))}}}),[d]);r.useEffect((()=>()=>{d.forEach((e=>{Array.from(e.observers.keys()).forEach((t=>{e.intersectionObserver.unobserve(t)})),e.observers.clear(),e.intersectionObserver.disconnect()})),d.clear()}),[]);const f=r.useMemo((()=>g.s.create(0)),[]),h=r.useMemo((()=>g.s.create(!1)),[]),v=r.useMemo((()=>p.d9(f.pipe(R.i(1)),100,!0).pipe(lt.Z(!1),P.M(p.H9(h)))),[f,h]);Dt.R.useSubscriptionTo(v);const b=r.useMemo((()=>({scrollableContainer:c,registerIntersectionObserver:m,scrolling:h,isDefault:!1})),[c,m,h]),y=r.useMemo((()=>g.s.create(s.none)),[]),k=r.useMemo((()=>g.s.create(s.none)),[]),w=r.useMemo((()=>kt.zV([js(c,y),js(c,k)]).pipe(O.T((([e,t])=>({topOverflow:e,bottomOverflow:t}))),lt.Z({topOverflow:!1,bottomOverflow:!1}),F.skipBy(L.OW({topOverflow:L.zF,bottomOverflow:L.zF})))),[y,k,c]);return r.createElement(nn.F.div,Object.assign({},l,{className:Zt.Ks.joinClasses([Ps,i]),"data-role":"scroll",mount:Rs([t,e=>{u(e),c.set(s.fromNullable(e))}]),onScroll:e=>{var t,n;null==o||o(e),f.set(null!==(n=null===(t=s.toNullable(c.get()))||void 0===t?void 0:t.scrollTop)&&void 0!==n?n:0)},style:a,"data-overflow-top":w.pipe(O.T((e=>e.topOverflow))),"data-overflow-bottom":w.pipe(O.T((e=>e.bottomOverflow)))}),r.createElement("div",{style:{margin:0,display:"none"},ref:e=>y.set(s.fromNullable(e)),"aria-hidden":!0}),r.createElement(Bs.Provider,{value:b},n),r.createElement("div",{style:{margin:0,display:"none"},ref:e=>k.set(s.fromNullable(e)),"aria-hidden":!0}))})),Ps=Zt.Ks.style({position:"relative",overflowY:"auto"});function Ds(e,t,n){return new IntersectionObserver((e=>e.forEach((e=>{var t;return null===(t=n.get(e.target))||void 0===t?void 0:t(e)}))),{root:e,rootMargin:t})}function js(e,t){return g.s.combine(e,t,((e,t)=>(0,a.pipe)(w.C(s.option)(e,t),s.map((([e,t])=>function(e,t){const n={root:e,rootMargin:"0px",threshold:[0,1]};return Ms.ht(t,n).pipe(m.p(so.J_),O.T((e=>1!==e[0].intersectionRatio)),lt.Z(t.offsetHeight>e.offsetHeight))}(e,t)))))).pipe(B.oE,d.n(a.identity),Fs.g(u.of(!0)))}var Ls=n(67270);const Us=()=>{const{registerIntersectionObserver:e,isDefault:t}=r.useContext(Bs),n=r.useRef([]),i=r.useRef(new l.B7),o=r.useRef(i.current.pipe(N.Z(0),Rn.QE(Ls.X),P.M((()=>{n.current=n.current.reduce(((e,t)=>(t.ref.isConnected?e.push(t):t.disposable.dispose(),e)),[])}))).subscribe());return r.useEffect((()=>function(){o.current.unsubscribe(),n.current.forEach((({disposable:e})=>e.dispose()))}),[]),{refCallback:r.useCallback(((r,o)=>s=>{if(s)if(r(),t)o();else{const t=e("",s,(e=>{e.isIntersecting&&(o(),t.dispose())}));n.current.push({ref:s,disposable:t}),i.current.next()}}),[e,t])}},$s=()=>r.createElement("div",{role:"separator",className:Zt.Ks.style({position:"relative",width:"100%"})},r.createElement("div",{className:Zt.Ks.style({position:"absolute",bottom:0,left:Zt.Ks.rem(_n),right:Zt.Ks.rem(xn),borderBottom:`0.5px solid ${vn.A.BorderBaseSubduedColor}`})})),Hs=o.UI.Node.make((({view:e,notify:t})=>{const{refCallback:n}=Us();return r.createElement(nn.F.div,{className:Vs,"data-testid":"action-store",id:"prompt-studio-action-store",role:"listbox","aria-label":"Prompt ideas, press arrow keys to navigate options, press enter to trigger the focused option, and escape to close the popover"},e("actionGroups").pipe(O.T((e=>{let i=-1;return e.map((({label:e,actions:o})=>r.createElement(r.Fragment,{key:e},e.trim().length>0&&r.createElement("h3",{className:zs},e),o.map((({label:o,icon:a,action:l},c)=>{i++;const d="regularAction"===l.kind?s.toUndefined(l.action.badge):void 0,u="regularAction"===l.kind?l.action.isUphook:void 0,p=d?`${o} from ${e} group, ${d}`:`${o} from ${e} group`;return r.createElement(r.Fragment,{key:o},0!==c&&r.createElement($s,null),r.createElement(kn,{key:o,label:o,ariaLabel:p,icon:a,badge:d,isUphook:u,onClick:t({kind:mt.t.Kind.actionBrickClick,action:l,position:i,placement:"allActions"}),ref:n(t({kind:mt.t.Kind.actionBrickMount,action:l,position:i,placement:"allActions"}),t({kind:mt.t.Kind.actionBrickShow,action:l,position:i,placement:"allActions"}))}))})))))}))))})),Vs=Zt.Ks.style({padding:`${Zt.Ks.rem(2.25)} 0 ${Zt.Ks.rem(1)} 0`,display:"flex",flexDirection:"column"}),zs=Zt.Ks.style({margin:0,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),fontWeight:700,padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)}`,color:Xt.Q.Text.Base.Default});var Ws=n(74836);const Zs=o.UI.Node.make((()=>r.createElement("div",{className:Gs},r.createElement(Ws.E,{as:"span",variant:"text-small"},"No results found")))),Gs=Zt.Ks.style({padding:`${Zt.Ks.rem(9*Yt.vW)} ${Zt.Ks.rem(Yt.CN)}`});var Qs=n(19840);const qs=e=>r.createElement(sn.hh,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),r.createElement("path",{d:"M14 11.5H16.7929L8.92289 19.37L10.4851 13.1213L10.6404 12.5H10H7.20711L15.0771 4.62999L13.5149 10.8787L13.3596 11.5H14Z",stroke:Xt.Q.Text.Base.Subdued,strokeMiterlimit:"4.25735"})),Js="brick",Ys=(0,gn.T2)({padding:`0 ${Zt.Ks.rem(Yt.v$)} 0 ${Zt.Ks.rem(Yt.or)}`},Js),Xs={display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$)},ea=(0,gn.T2)({minHeight:Zt.Ks.rem(1.75),fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),color:tn.NeutralGray80},Js),ta=(0,gn.T2)({minHeight:Zt.Ks.rem(2),fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.375),color:Xt.Q.Text.Base.Default},Js),na=(0,gn.T2)({boxShadow:`inset 0 0 0 ${Zt.Ks.rem(.125)} ${vn.A.BrandGreen60}`},Js),ia=(0,gn.T2)({boxShadow:"none",color:tn.NeutralGray80,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{color:vn.A.NeutralGray80,boxShadow:`inset 0 0 0 1px ${vn.A.NeutralGray40}`,backgroundColor:vn.A.NeutralGray10}}},Js),ra={textAlign:"left",whiteSpace:"initial",lineHeight:Zt.Ks.rem(1.125),margin:`${Zt.Ks.rem(.25)} 0 ${Zt.Ks.rem(.25)} 0`},oa=(0,gn.QD)(1.5),sa=Zt.Ks.joinClasses([Js,Zt.Ks.style(Ys)]),aa=Zt.Ks.style(Xs),la=(Zt.Ks.style(ea),Zt.Ks.style(ta)),ca=Zt.Ks.style(na),da=(Zt.Ks.style(ia),Zt.Ks.style(ra)),ua=Zt.Ks.style(oa),pa=(0,Qs.yY)(rn.$),ma=r.forwardRef((function({action:e,label:t,icon:n,onClick:i},o){return r.createElement(pa,Object.assign({variant:"secondary",onClick:i,name:"actionBrick"},(0,Qs.Ly)("actionBrick",sa,"go"===e.kind?ca:null,la)),r.createElement("div",{className:aa,ref:o},(0,a.pipe)(n,E.fold((e=>{switch(e){case"go":return r.createElement(qs,{className:ua});case"plagiarism":case"plagiarismDetected":return r.createElement(pn,{className:ua});case"writingExpert":return r.createElement(mn,{className:ua});case"performanceScoreEmpty":return r.createElement(cn,{className:ua});case"performanceScoreSome":return r.createElement(ln,{className:ua});case"performanceScoreSuccess":return r.createElement(dn,{className:ua});case"humanWritingReport":return r.createElement(fn,null,r.createElement(Gt.I,{icon:qt,accessibilityLabel:""}));default:return(0,h.AS)(e)}}),(e=>r.createElement("img",{src:e,className:ha})))),r.createElement("span",Object.assign({className:da},G(t)))))})),fa=o.UI.Node.make((({notify:e,state:t})=>{const{refCallback:n}=Us();return r.createElement(nn.F.Fragment,null,t.pipe(O.T((({action:t,label:i,icon:o,position:s,placement:a})=>r.createElement(ma,{action:t,label:i,icon:o,onClick:e({kind:mt.t.Kind.actionBrickClick,action:t,position:s,placement:a}),ref:n(e({kind:mt.t.Kind.actionBrickMount,action:t,position:s,placement:a}),e({kind:mt.t.Kind.actionBrickShow,action:t,position:s,placement:a}))})))))})),ha=Zt.Ks.style({width:Zt.Ks.rem(1.25),height:Zt.Ks.rem(1.25)}),ga="prompt-studio-search-results",va=o.UI.Grid.make((({slots:e,state:t,view:n,notify:i})=>{const{refCallback:o}=Us(),{ref:a,onMount:l}=Dt.R.useElWatcher();return Dt.R.useSubscriptionTo(t.pipe(A.F(((e,t)=>e.query===t.query&&e.actions.length===t.actions.length)),Ot.E(a.pipe(B.oE,A.F())),Rn.QE(Bn.$),O.T((([{query:e,actions:t}])=>{i({kind:mt.t.Kind.promptSearchResultsUpdate,query:e,resultsCount:t.length})()})))),r.createElement("div",{className:ka,"data-testid":"search-results",id:ga,role:"listbox","aria-label":"Prompt ideas, press arrow keys to navigate options, press enter to trigger the focused option, and escape to close the popover",ref:l},e.goAction,r.createElement("div",{className:Ea,"aria-hidden":!0}),r.createElement(nn.F.Fragment,null,n("actions").pipe(O.T((e=>e.map((({label:e,icon:t,action:n},a)=>{const l="regularAction"===n.kind?s.toUndefined(n.action.badge):void 0,c="regularAction"===n.kind?n.action.isUphook:void 0,d=l?`${e}, ${l}`:e;return r.createElement(r.Fragment,{key:e},0!==a&&r.createElement($s,null),r.createElement(kn,{key:e,label:e,ariaLabel:d,badge:l,isUphook:c,icon:t,onClick:i({kind:mt.t.Kind.actionBrickClick,action:n,position:a,placement:"search"}),ref:o(i({kind:mt.t.Kind.actionBrickMount,action:n,position:a,placement:"search"}),i({kind:mt.t.Kind.actionBrickShow,action:n,position:a,placement:"search"}))}))})))))))})),ba=o.UI.Union.asOption(o.UI.Composite.make(o.UI.Grid.make((({slots:e})=>r.createElement("div",{className:wa,"aria-hidden":!0},e.action))),fa)),ya=o.UI.Knot.make(va,{goAction:ba}),ka=Zt.Ks.style({background:"transparent",display:"flex",flexDirection:"column",alignItems:"flex-start"}),wa=Zt.Ks.style({padding:`${Zt.Ks.rem(9*Yt.vW)} ${Zt.Ks.rem(Yt.CN)} 0 ${Zt.Ks.rem(Yt.CN)}`}),Ea=Zt.Ks.style({marginTop:Zt.Ks.rem(7*Yt.vW)});var Sa=n(15363);const Ca=o.UI.Node.make((({view:e,notify:t})=>{const{ref:n,onMount:i}=Dt.R.useElWatcher();return Dt.R.useSubscriptionTo(e("query").pipe(A.F(),Ot.E(n.pipe(B.oE,A.F())),Rn.QE(Bn.$),O.T((([e])=>{t({kind:mt.t.Kind.promptSearchResultsUpdate,query:e,resultsCount:0})()})))),r.createElement(Sa.s,null,r.createElement(nn.F.Fragment,null,e("query").pipe(O.T((e=>r.createElement("div",{"data-testid":"empty-search-results",id:ga,role:"listbox",ref:i},gt(0,e)))))))})),_a=o.UI.Union.make("kind",{none:o.UI.Node.empty,emptySearchResults:Zs,searchResults:ya,actionStore:Hs}),xa=o.UI.Knot.make(o.UI.Grid.make((({slots:e,notify:t})=>{const{onMount:n}=(0,ns.y)(P.M((e=>t({kind:mt.t.Kind.mount,name:wt.e.promptMenuContent,element:e})())));return r.createElement(r.Fragment,null,r.createElement(rn.$,{variant:"tertiary",compact:!0,style:Ta,onClick:t({kind:mt.t.Kind.collapsePromptMenuButtonClick}),name:"collapsePromptMenu",size:"small","aria-label":"Close popover",title:"Close popover"},r.createElement(sn.In.Arrow,{direction:sn.bO.down})),r.createElement(Ns,{className:Ka},r.createElement("div",{ref:n,onKeyDown:e=>{"ArrowDown"===e.key?t({kind:mt.t.Kind.promptMenuKeyPressArrowDown})():"ArrowUp"===e.key&&t({kind:mt.t.Kind.promptMenuKeyPressArrowUp})()}},e.content)))})),{content:_a}),Aa=o.UI.Union.make("kind",{none:o.UI.Node.empty,emptySearchResults:Ca,popup:xa}),Ia=o.UI.Union.asOption(Aa),Ka=Zt.Ks.style({$nest:{'&[data-role="scroll"]':{borderBottom:`0.5px solid ${Xt.Q.Border.Base.Subdued}`}}}),Ta={default:{position:"absolute",top:Zt.Ks.rem(Yt.v$),right:Zt.Ks.rem(Yt.v$),zIndex:1}},Oa=o.UI.Grid.make((({slots:e,view:t,notify:n})=>{const{onMount:i,rect:o}=Dt.R.useRectWatcher(),{notifyUnmount:l}=r.useContext(is),{ref:c,onMount:d}=(0,ns.y)((0,a.flow)(P.M((e=>n({kind:mt.t.Kind.mount,name:wt.e.promptInputAndMenuContainer,element:e})())),es.j((()=>l({kind:mt.t.Kind.unmount,name:wt.e.promptInputAndMenuContainer})))));return r.createElement(nn.F.div,{className:Ba,"data-testid":"prompt-container"},r.createElement(nn.F.div,{mount:d,className:Na,"data-expanded":t("menuExpanded"),onKeyUp:t("menuExpanded").pipe(O.T((e=>t=>{"Escape"===t.key&&n({kind:mt.t.Kind.promptFieldKeyPressEscape,menuOpened:e})()}))),onFocus:()=>{var e;return n({kind:mt.t.Kind.promptFieldAndMenuFocusChange,focused:(null===(e=s.toNullable(c.get()))||void 0===e?void 0:e.contains(z(document)))||!1})()},onBlur:()=>{var e;return n({kind:mt.t.Kind.promptFieldAndMenuFocusChange,focused:(null===(e=s.toNullable(c.get()))||void 0===e?void 0:e.contains(z(document)))||!1})()}},e.promptStudioMenu,r.createElement("div",{ref:i},e.promptField)),kt.zV([o,t("menuExpanded")]).pipe(O.T((([e,t])=>(0,a.pipe)(e,s.filter((()=>t)),s.fold(a.constNull,(({height:e})=>r.createElement("div",{className:Pa,style:{height:e},role:"presentation"}))))))))})),Ma=o.UI.Knot.make(Oa,{promptField:Os,promptStudioMenu:Ia}),Fa=o.UI.Union.asOption(Ma),Ra=Yt.Jj,Ba=Zt.Ks.style({position:"relative",margin:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)} ${Zt.Ks.rem(Ra)} ${Zt.Ks.rem(Yt.Jj)}`}),Na=Zt.Ks.style({background:Xt.Q.Background.Base.Default,boxShadow:ts.R$.boxShadow,border:ts.R$.border,borderRadius:Zt.Ks.rem(en.KD+en.M6),$nest:{"&[data-expanded='true']":{boxShadow:ts.$t.boxShadow,border:ts.$t.border,position:"absolute",bottom:0,width:"100%",display:"grid",gridTemplateRows:"1fr auto",zIndex:10}}}),Pa=Zt.Ks.style({opacity:0,pointerEvents:"none",visibility:"hidden"});const Da="data-card",ja=e=>{var{children:t,style:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children","style"]);return r.createElement(nn.F.article,Object.assign({[Da]:!0,className:(0,ke.b)(n).pipe(O.T((e=>Zt.Ks.style({display:"flex",flexDirection:"column",color:Xt.Q.Text.Base.Default,padding:Zt.Ks.rem(Yt.Jj),minWidth:0},e))))},i),t)};var La=n(34303),Ua=n(50581);function $a(e,t=!1){return r.useMemo((()=>e.pipe(d.n(s.fold((()=>u.of(s.none)),(e=>{return(t?(n=e,new ci.c((e=>{const t=new La.default((t=>{e.next(Ua.Rect.fromRectLike(t[0].contentRect))}));return t.observe(n),()=>t.disconnect()}))):Ms.sc(e)).pipe(lt.Z(e),O.T((()=>s.some(e.getBoundingClientRect()))));var n}))))),[e])}var Ha=n(31784);function Va(e,t){const n=r.useMemo((()=>kt.zV([t.pipe(B.oE,O.T((e=>s.fromNullable(V(e,3)))),B.oE),e.pipe(F.skipBy(s.getEq(L.w_)))]).pipe(N.Z(0),O.T(Ha.Es),P.M((e=>{e.scrollTop=e.scrollHeight-e.clientHeight})))),[t]);Dt.R.useSubscriptionTo(n)}const za=e=>{var{isActive:t,children:n,onHovered:i,onFocused:o,onCopy:s,style:a}=e,l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["isActive","children","onHovered","onFocused","onCopy","style"]);const c=r.useRef(null);return r.createElement(ja,Object.assign({},l,{mount:c,style:Object.assign(Object.assign({},Za),a),"data-active":t,onMouseEnter:()=>null==i?void 0:i(!0),onMouseLeave:()=>null==i?void 0:i(!1),onFocus:()=>{var e;return null==o?void 0:o((null===(e=c.current)||void 0===e?void 0:e.contains(z(document)))||!1)},onBlur:()=>{var e;return null==o?void 0:o((null===(e=c.current)||void 0===e?void 0:e.contains(z(document)))||!1)},onCopy:s}),n)},Wa={backgroundColor:Xt.Q.Background.Base.Default},Za={backgroundColor:"transparent",gap:Zt.Ks.rem(Yt.v$),padding:Zt.Ks.rem(Yt.Jj),$nest:{[`& ${(0,gn.xP)("primaryBtn",gn.GL)}`]:{fontSize:Zt.Ks.rem(.875)},[`& ${(0,gn.xP)("rephraseBtn",gn.GL)}`]:{fontSize:Zt.Ks.rem(.875)},"&:focus, &:hover":Object.assign({},Wa),"&[data-active='true']":Object.assign({},Wa)}};const Ga="prompt-result",Qa="data-card-type",qa=e=>{var{header:t,footer:n,isActive:i,onHovered:o,onFocused:s,onCopy:a,body:l,style:c}=e,d=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["header","footer","isActive","onHovered","onFocused","onCopy","body","style"]);return r.createElement(za,Object.assign({"aria-live":"polite"},d,{[Qa]:Ga,isActive:i,onHovered:o,onFocused:s,style:c,onCopy:a}),t,l,n)};var Ja=n(56962);const Ya=(0,Qs.yY)(Ns),Xa=e=>{var t;const n=r.useMemo((()=>{var t;return null!==(t=e.menuRef)&&void 0!==t?t:u.of(s.none)}),[e.menuRef]),o=r.useMemo((()=>{var t;return null!==(t=e.scrollContentToBottomToken)&&void 0!==t?t:u.of(s.none)}),[e.scrollContentToBottomToken]),{onMount:l,ref:c}=Dt.R.useElWatcher(),{onMount:d,ref:p}=Dt.R.useElWatcher();Va(o,p);const m=$a(c),f=$a(n),h=r.useMemo((()=>g.s.create(!1)),[]),v=r.useMemo((()=>p.pipe(O.T(s.fold((()=>{h.set(!1)}),(e=>{h.set(e.scrollTop>0)}))))),[p]),b=r.useMemo((()=>e.onRectChange?m.pipe(B.oE,O.T((t=>{var n;null===(n=e.onRectChange)||void 0===n||n.call(e,t)}))):D.w),[m]),y=r.useMemo((()=>{var t;return kt.zV([f,m,e.heightBehavior,null!==(t=e.menuVerticalMargin)&&void 0!==t?t:u.of(void 0)]).pipe(O.T((([e,t,n,i])=>(0,a.pipe)(e,s.fold((()=>({sentinelHeight:void 0,menuMaxHeight:void 0})),(e=>{if("fitContent"===n.kind){const t=e.height+(null!=i?i:0);return{sentinelHeight:Math.min(n.maxHeight,t),menuMaxHeight:n.maxHeight-(null!=i?i:0)}}return{sentinelHeight:void 0,menuMaxHeight:(0,a.pipe)(t,s.fold(a.constUndefined,(e=>Math.max(e.height-(null!=i?i:0),0))))}}))))),lt.Z({sentinelHeight:void 0,menuMaxHeight:void 0}))}),[f,m]),k=r.useMemo((()=>n.pipe(B.Kc((e=>y.pipe(P.M((({menuMaxHeight:t})=>{e.style.setProperty("max-height",`${t}px`)}))))))),[y,n]);return Dt.R.useSubscriptionTo(v),Dt.R.useSubscriptionTo(y),Dt.R.useSubscriptionTo(k),Dt.R.useSubscriptionTo(b),r.createElement(Ja.j.Provider,{value:{portalContainer:c}},r.createElement(nn.F.div,{dir:"ltr","data-testid":"assistant",role:"dialog","aria-label":"Grammarly Assistant","data-dragging":e.dragBehavior.pipe(O.T((e=>"draggable"===e.kind&&e.isDragging))),tabIndex:0,onFocus:e.onFocus,onBlur:e.onBlur,className:Zt.Ks.joinClasses([nl,e.containerClassName]),style:kt.zV([e.heightBehavior,e.widthBehavior]).pipe(O.T((([e,t])=>Object.assign(Object.assign({},"fitContainer"===e.kind?{height:"100%"}:{maxHeight:e.maxHeight,height:e.height}),"fitContainer"===t.kind?{width:"100%"}:{minWidth:t.minWidth,maxWidth:t.maxWidth})))),mount:t=>{var n;performance.mark(i.assistantContainerMounted),l(t),null===(n=e.onMountContainer)||void 0===n||n.call(e,t)}},e.a11yNotification,r.createElement(nn.F.header,{className:kt.zV([h,e.dragBehavior]).pipe(O.T((([e,t])=>rl(e,"draggable"===t.kind)))),"aria-label":"Grammarly Assistant Header",mount:e.onMountHeader},e.header),r.createElement("div",{className:sl,"data-testid":"notifications"},r.createElement(nn.F.div,{className:h.view((0,U.Sw)(cl,ll))},e.notifications)),r.createElement(Ya,{mount:d,className:Zt.Ks.joinClasses([ol,e.contentClassName]),onScroll:e=>h.set(e.currentTarget.scrollTop>0),style:(null!==(t=e.canScrollContent)&&void 0!==t?t:u.of(!0)).pipe(O.T((0,U.Sw)("auto","hidden")),O.T((e=>({overflowY:e})))),role:"main"},e.content),r.createElement("footer",{className:Zt.Ks.joinClasses([dl,e.footerClassName])},e.footer),r.createElement(nn.F.Fragment,null,y.pipe(O.T((({sentinelHeight:e})=>e?r.createElement("div",{key:"sentinel",className:ul,role:"presentation",style:{height:e}}):null)))),e.onboarding))},el="header",tl="content",nl=Zt.Ks.style({overflow:"hidden",fontFamily:"Inter, sans-serif",padding:0,margin:0,borderRadius:"inherit",display:"grid",gridTemplateColumns:"1fr 0",gridTemplateRows:"auto 0 1fr auto",gridTemplateAreas:'"header sentinel" "notifications sentinel" "content sentinel" "footer sentinel"',background:Xt.Q.Background.Base.Default,color:Xt.Q.Text.Base.Default,$nest:{[`&:has(.${el} [role=button][data-hovered=true])`]:{$nest:{[`.${el}`]:{background:"inherit"}}},"&[data-dragging='true']":{cursor:"grabbing",$nest:{[`.${tl}`]:{pointerEvents:"none"},[`.${el}`]:{pointerEvents:"none",background:vn.A.ButtonBackgroundTertiaryActive}}}}}),il={minWidth:0},rl=(e,t)=>Zt.Ks.joinClasses([el,Zt.Ks.style(Object.assign(Object.assign({},il),{gridArea:"header",display:"flex",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit",height:Zt.Ks.rem(3),gap:Zt.Ks.rem(Yt.v$),padding:`0 ${Zt.Ks.rem(Yt.v$)} 0 ${Zt.Ks.rem(Yt.Jj)}`,boxSizing:"border-box",clipPath:e?"inset(0 0 -5px 0)":void 0,boxShadow:e?ts.R$.boxShadow:void 0,borderBottom:e?ts.R$.border:`0.5px solid ${vn.A.BorderBaseSubduedColor}`,zIndex:e?1:void 0,cursor:t?"grab":void 0,position:"relative","--grammarly-app-region":"drag",$nest:{button:{"--grammarly-app-region":"no-drag"},"&:hover":{background:t?vn.A.ButtonBackgroundTertiaryHover:void 0}}}))]),ol=Zt.Ks.joinClasses([tl,Zt.Ks.style(Object.assign(Object.assign({},il),{gridArea:"content",$nest:{[`& [${Da}] + [${Da}]`]:{borderTop:`0.5px solid ${vn.A.BorderBaseSubduedColor}`},[`& [${Qa}="${Ga}"] + [${Qa}="${Ga}"]`]:{borderTop:0,position:"relative",$nest:{"&::before":{content:"''",position:"absolute",top:0,left:Zt.Ks.rem(1),right:Zt.Ks.rem(1),borderTop:`0.5px solid ${vn.A.BorderBaseSubduedColor}`}}}}}))]),sl=Zt.Ks.style({position:"relative",gridArea:"notifications"}),al={zIndex:1e3,position:"absolute",right:Zt.Ks.rem(Yt.v$),marginLeft:Zt.Ks.rem(Yt.v$)},ll=Zt.Ks.style(Object.assign(Object.assign({},al),{top:0})),cl=Zt.Ks.style(Object.assign(Object.assign({},al),{top:Zt.Ks.rem(Yt.or)})),dl=Zt.Ks.style(Object.assign(Object.assign({},il),{gridArea:"footer",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit"})),ul=Zt.Ks.style({gridArea:"sentinel",visibility:"hidden"});function pl(e){return"focus"===e.kind}function ml(e){return"mount"===e.kind}function fl(e){return"headerMount"===e.kind}function hl(e){return"rectChange"===e.kind}const gl=o.UI.Grid.make((({slots:e,notify:t,view:n})=>{const i=r.useContext(Xo.q.Context);return r.createElement(Xa,{key:"assistant-container",onFocus:t({kind:"focus",focused:!0}),onBlur:t({kind:"focus",focused:!1}),heightBehavior:n("heightBehavior"),widthBehavior:n("widthBehavior"),dragBehavior:n("dragBehavior"),menuRef:n("menuRef"),menuVerticalMargin:i.pipe(O.T((e=>(1+Ra)*e))),scrollContentToBottomToken:n("scrollContentToBottomToken"),canScrollContent:n("canScrollContent"),onMountContainer:e=>{e&&t({kind:"mount",element:e})()},onMountHeader:e=>{e&&t({kind:"headerMount",element:e})()},onRectChange:e=>{e&&t({kind:"rectChange",rect:e})()},header:e.header,content:e.content,footer:e.footer,notifications:e.notifications,onboarding:e.onboarding,a11yNotification:e.a11yNotification})}));var vl,bl=n(24871),yl=n(96675),kl=n(73921),wl=n(44451);!function(e){let t,n;!function(e){e.ok="ok",e.satisfied="satisfied",e.dissatisfied="dissatisfied"}(t=e.Mood||(e.Mood={})),function(e){e.resultCard="resultCard",e.quickReplyInitialActions="quickReplyInitialActions",e.intentCard="intentCard"}(n=e.Source||(e.Source={}))}(vl||(vl={}));const El=e=>r.createElement(sn.hh,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),r.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11023_disheartening_emoji)",stroke:"none"}),r.createElement("path",{d:"M8.97126 19.5491C10.9569 18.1193 14.0431 18.1193 16.0295 19.5491C16.3344 19.7674 16.5155 19.5315 16.4184 19.3455C14.4879 15.6555 10.5121 15.6555 8.58164 19.3455C8.48451 19.5315 8.66564 19.7674 8.97126 19.5491Z",fill:"#302C3B",stroke:"none"}),r.createElement("path",{d:"M19.895 12.8239C17.9806 13.5491 15.4865 12.8809 14.1909 11.2954C13.9925 11.0531 13.7945 11.2046 13.8328 11.376C14.5936 14.775 17.807 15.6364 20.1654 13.0721C20.2839 12.9435 20.1886 12.7133 19.895 12.8239Z",fill:"#302C3B",stroke:"none"}),r.createElement("path",{d:"M10.8091 11.2954C9.51351 12.8813 7.01976 13.5491 5.10501 12.8239C4.81176 12.7133 4.71614 12.9431 4.83464 13.0721C7.19301 15.6364 10.4064 14.775 11.1673 11.376C11.2059 11.2046 11.0079 11.0531 10.8091 11.2954Z",fill:"#302C3B",stroke:"none"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"paint0_linear_4506_11023_disheartening_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FFA027"}),r.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),r.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),r.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),Sl=e=>r.createElement(sn.hh,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),r.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11027_neutral_emoji)",stroke:"none"}),r.createElement("path",{d:"M17.3266 17.25H7.6726C6.7336 17.25 6.7336 15.75 7.6726 15.75H17.3266C18.2656 15.75 18.2656 17.25 17.3266 17.25Z",fill:"#302C3B",stroke:"none"}),r.createElement("path",{d:"M8.7496 12.1875C9.68158 12.1875 10.4371 11.1801 10.4371 9.9375C10.4371 8.69486 9.68158 7.6875 8.7496 7.6875C7.81762 7.6875 7.0621 8.69486 7.0621 9.9375C7.0621 11.1801 7.81762 12.1875 8.7496 12.1875Z",fill:"#302C3B",stroke:"none"}),r.createElement("path",{d:"M16.2496 12.1875C17.1816 12.1875 17.9371 11.1801 17.9371 9.9375C17.9371 8.69486 17.1816 7.6875 16.2496 7.6875C15.3176 7.6875 14.5621 8.69486 14.5621 9.9375C14.5621 11.1801 15.3176 12.1875 16.2496 12.1875Z",fill:"#302C3B",stroke:"none"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"paint0_linear_4506_11027_neutral_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FFA027"}),r.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),r.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),r.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),Cl=e=>r.createElement(sn.hh,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),r.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_11994_841_smiling_emoji)",stroke:"none"}),r.createElement("path",{d:"M5.82085 15.8453C7.89191 15.8453 9.57085 14.1663 9.57085 12.0953C9.57085 10.0242 7.89191 8.34528 5.82085 8.34528C3.74978 8.34528 2.07085 10.0242 2.07085 12.0953C2.07085 14.1663 3.74978 15.8453 5.82085 15.8453Z",fill:"url(#paint1_radial_11994_841_smiling_emoji)",stroke:"none"}),r.createElement("path",{d:"M19.1792 15.75C21.2502 15.75 22.9292 14.0711 22.9292 12C22.9292 9.92893 21.2502 8.25 19.1792 8.25C17.1081 8.25 15.4292 9.92893 15.4292 12C15.4292 14.0711 17.1081 15.75 19.1792 15.75Z",fill:"url(#paint2_radial_11994_841_smiling_emoji)",stroke:"none"}),r.createElement("path",{d:"M14.0844 9.3015C15.5 7.72425 17.7012 7.7235 19.1176 9.3015C19.3344 9.543 19.4634 9.282 19.3944 9.07725C18.0181 5.0055 15.1831 5.0055 13.8069 9.07725C13.7379 9.282 13.8669 9.54262 14.0844 9.3015Z",fill:"#302C3B",stroke:"none"}),r.createElement("path",{d:"M5.88312 9.3015C7.29949 7.72425 9.49999 7.7235 10.9164 9.3015C11.1331 9.543 11.2629 9.282 11.1931 9.07725C9.81687 5.0055 6.98187 5.0055 5.60562 9.07725C5.53699 9.282 5.66562 9.54262 5.88312 9.3015Z",fill:"#302C3B",stroke:"none"}),r.createElement("path",{d:"M17.1961 13.647C14.3352 15.7061 10.6614 15.705 7.802 13.647C7.397 13.356 7.15512 13.6706 7.28487 13.9178C9.4805 18.1151 15.5187 18.1144 17.7147 13.9178C17.8437 13.6703 17.6026 13.3556 17.1961 13.647Z",fill:"#302C3B",stroke:"none"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"paint0_linear_11994_841_smiling_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FFA027"}),r.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),r.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),r.createElement("stop",{offset:"1",stopColor:"#FFE261"})),r.createElement("radialGradient",{id:"paint1_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82103 12.0952) scale(3.75 3.75)"},r.createElement("stop",{stopColor:"#F18D84"}),r.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),r.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),r.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),r.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})),r.createElement("radialGradient",{id:"paint2_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.179 12) scale(3.75)"},r.createElement("stop",{stopColor:"#F18D84"}),r.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),r.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),r.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),r.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})))),_l="submitBtn",xl={padding:Zt.Ks.rem(Yt.Jj),gap:Zt.Ks.rem(Yt.Jj)},Al={color:Xt.Q.Text.Base.Default,fontWeight:700,fontSize:Zt.Ks.rem(1.25),lineHeight:Zt.Ks.rem(1.5),margin:0},Il={border:`${Zt.Ks.px(1)} solid ${tn.NeutralGray20}`,borderRadius:Zt.Ks.rem(en.KD),padding:`${Zt.Ks.rem(Yt.v$+Yt.sp)} ${Zt.Ks.rem(Yt.v$)}`,height:Zt.Ks.rem(8)},Kl={display:"flex",alignItems:"flex-start",$nest:{"& input[type='checkbox']":{margin:`${Zt.Ks.rem(Yt.vW)} ${Zt.Ks.rem(Yt.v$)} 0 0`,minWidth:Zt.Ks.rem(1),minHeight:Zt.Ks.rem(1)},"& label":{color:Xt.Q.Text.Base.Default,fontWeight:400,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125)}}},Tl=Object.assign({width:Zt.Ks.percent(100)},(0,gn.T2)({fontSize:Zt.Ks.rem(.875)},_l)),Ol={display:"flex",flexDirection:"column",gap:Zt.Ks.rem(Yt.v$)},Ml=xl,Fl=Zt.Ks.style(Al),Rl=Zt.Ks.style(Il),Bl=Zt.Ks.style(Kl),Nl=(Zt.Ks.style({fontWeight:700}),Zt.Ks.joinClasses([_l,Zt.Ks.style(Tl)])),Pl=Zt.Ks.style(Ol),Dl=r.createContext(null),jl=e=>{const{children:t,label:n}=e,i=(0,wl.Z)(e),{radioGroupProps:o,labelProps:s}=(0,bl.m)(Object.assign(Object.assign({},e),{orientation:"horizontal"}),i);return r.createElement("div",Object.assign({className:Ul},o),r.createElement("h1",Object.assign({className:Fl},s),n),r.createElement(Dl.Provider,{value:i},r.createElement("div",{className:$l},t)))},Ll=e=>{const{icon:t,label:n,value:i}=e,o=r.useContext(Dl);if(!o)return console.error("Score should be a child of ScoreGroup"),null;const s=r.useRef(null),{inputProps:a}=(0,bl.z)(e,o,s),{focusProps:l,isFocusVisible:c}=(0,yl.og)(),d=o.selectedValue===i,u=(0,kl.Bi)();return r.createElement("label",Object.assign({},(0,Qs.Ly)(Hl,d&&Vl,c&&zl)),r.createElement(Sa.s,null,r.createElement("input",Object.assign({},(0,kl.v6)(a,l),{ref:s,"aria-labelledby":u}))),t,r.createElement(Ws.E,{id:u,as:"span",variant:"text-small"},n))},Ul=Zt.Ks.style({display:"flex",flexDirection:"column",gap:Zt.Ks.rem(Yt.Jj)}),$l=Zt.Ks.style({display:"flex",flexDirection:"row",justifyContent:"space-between",paddingLeft:Zt.Ks.rem(Yt.Jj),paddingRight:Zt.Ks.rem(Yt.Jj)}),Hl=Zt.Ks.style({width:Zt.Ks.rem(5),height:Zt.Ks.rem(5),cursor:"pointer",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",gap:Zt.Ks.rem(Yt.v$),borderRadius:Zt.Ks.rem(en.KY),fontWeight:400,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),$nest:{"&:hover":{backgroundColor:Xt.Q.Background.Base.Subdued}}}),Vl=Zt.Ks.style({backgroundColor:tn.Blue10,$nest:{"&:hover":{backgroundColor:tn.Blue10}}}),zl=Zt.Ks.style({boxShadow:"0 0 0 2px rgb(2, 126, 111)"}),Wl=Zt.Ks.style(Object.assign({},(0,gn.QD)(1.5))),Zl=(0,Qs.yY)((({selectedScore:e,onSelectScore:t})=>r.createElement(jl,{label:"How do you like Grammarly?",value:e,onChange:t},r.createElement(Ll,{value:vl.Mood.dissatisfied,label:"I dislike it",icon:r.createElement(El,{className:Wl})}),r.createElement(Ll,{value:vl.Mood.ok,label:"It's OK",icon:r.createElement(Sl,{className:Wl})}),r.createElement(Ll,{value:vl.Mood.satisfied,label:"I like it!",icon:r.createElement(Cl,{className:Wl})})))),Gl=(0,Qs.yY)(fs),Ql=o.UI.Node.make((({state:e,view:t,notify:n})=>{const i=r.useContext(vs.D),o="domainCheckbox"+pt.G7(5);return r.createElement(ja,{style:Ml},r.createElement(Zl,{selectedScore:t("formData").pipe(O.T((e=>e.mood))),onSelectScore:e=>n({kind:mt.t.Kind.feedbackFormChange,feedbackData:{mood:e}})()}),r.createElement(Gl,{ariaLabel:"tell us why",className:Rl,placeholder:"How can we improve?",fitContentHeight:!1,text:t("formData").pipe(O.T((({message:e})=>null!=e?e:""))),onChange:e=>n({kind:mt.t.Kind.feedbackFormChange,feedbackData:{message:e}})(),useIframeWrapper:i.view((e=>e.useIframeTextfieldWrapper))}),e.pipe(O.T((({formData:e,domain:t,source:i})=>r.createElement("div",{className:Pl},(0,a.pipe)(t,s.fold(a.constNull,(t=>r.createElement("div",{className:Bl},r.createElement("input",{type:"checkbox",id:o,checked:void 0!==e.domain,onChange:n({kind:mt.t.Kind.feedbackFormChange,feedbackData:{domain:void 0!==e.domain?void 0:t}})}),r.createElement("label",{htmlFor:o},"Include the domain ",r.createElement("b",null,t)," with my feedback to help improve Grammarly."))))),(0,a.pipe)(s.fromNullable(void 0!==e.mood?Object.assign(Object.assign({},e),{mood:e.mood,source:i}):null),s.fold((()=>r.createElement(rn.$,{disabled:!0,className:Nl,onClick:a.constVoid},"Submit")),(e=>r.createElement(rn.$,{disabled:!1,className:Nl,onClick:n({kind:mt.t.Kind.feedbackFormSubmitButtonClick,feedbackData:e})},"Submit")))))))))})),ql=e=>r.createElement(sn.hh,{className:e.className,viewBox:"0 0 20 20",width:20,height:20},r.createElement("path",{d:"M8.58541 3.37143C9.36646 2.59038 10.6328 2.59038 11.4138 3.37143L16.6283 8.5859C17.4094 9.36695 17.4094 10.6333 16.6283 11.4143L11.4138 16.6288C10.6328 17.4098 9.36646 17.4098 8.58541 16.6288L3.37094 11.4143C2.58989 10.6333 2.58989 9.36695 3.37094 8.5859L8.58541 3.37143ZM11.4371 6.25011C11.4371 5.4562 10.7935 4.81261 9.99962 4.81261C9.20571 4.81261 8.56212 5.4562 8.56212 6.25011V10.6251C8.56212 11.3163 9.04996 11.8936 9.70011 12.0314C9.04996 12.1692 8.56212 12.7464 8.56212 13.4376C8.56212 14.2315 9.20571 14.8751 9.99962 14.8751C10.7935 14.8751 11.4371 14.2315 11.4371 13.4376C11.4371 12.7464 10.9493 12.1692 10.2991 12.0314C10.9493 11.8936 11.4371 11.3163 11.4371 10.6251V6.25011Z",fill:"#D31332",stroke:"#D31332"})),Jl=({options:e,onSubmit:t,onCancel:n})=>{const[i,o]=r.useState(s.none),[l,c]=r.useState(!1);return r.createElement(nn.F.form,{id:"radioOptionsForm",onSubmit:e=>{(0,a.pipe)(i,s.fold((()=>c(!0)),t)),e.preventDefault()},className:Zt.Ks.style(Yl)},r.createElement("fieldset",{className:ic,style:{borderColor:l?tn.Red60:"transparent"}},(0,a.pipe)(e,S.Tj((e=>r.createElement("span",{key:e,className:Xl},r.createElement("input",{type:"radio",id:e,value:e,name:e,checked:(0,a.pipe)(i,s.filter((t=>t===e)),s.isSome),onChange:()=>{c(!1),o(s.some(e))},style:{margin:`0 ${Zt.Ks.rem(.5)} 0 0`}}),r.createElement("label",{htmlFor:e},e)))))),l&&r.createElement("div",{className:nc},r.createElement(ql,{className:tc})," Make a selection"),r.createElement("div",{className:ec},r.createElement(rn.$,{type:"submit",form:"radioOptionsForm",name:"submitSelectedRadioOption",style:{default:Yl}},"Submit"),"  ",r.createElement(rn.$,{variant:"tertiary",onClick:n,name:"cancelRadioOptionSelection",style:{default:Yl}},"Cancel")))},Yl={fontSize:Zt.Ks.rem(.875)},Xl=Zt.Ks.style({display:"inline-flex",alignItems:"center"}),ec=Zt.Ks.style({paddingTop:Zt.Ks.rem(.5)}),tc=Zt.Ks.style({minWidth:"unset",minHeight:"unset"}),nc=Zt.Ks.style({color:tn.Red60,lineHeight:Zt.Ks.rem(1.5)}),ic=Zt.Ks.style({marginLeft:`calc(-1 * ${Zt.Ks.rem(.25)})`,padding:Zt.Ks.rem(.25),display:"flex",flexDirection:"column",gap:Zt.Ks.rem(.5),width:"fit-content",border:"1px solid transparent",borderRadius:Zt.Ks.rem(.25),margin:0}),rc=o.UI.Node.make((({view:e,notify:t})=>r.createElement(ja,{style:sc,"data-testid":"follow-up-prompt"},r.createElement(nn.F.div,{className:ac},r.createElement(nn.F.img,{src:e("iconUrl"),style:{width:Zt.Ks.rem(1.25),height:Zt.Ks.rem(1.25)}}),r.createElement(nn.F.span,Object.assign({},G(e("header"))))),r.createElement(nn.F.div,null,e("hintsHeader")),e("hintsItems").pipe(O.T((0,a.flow)(S.Tj((e=>r.createElement("li",{key:e},e))),C._S,s.fold(a.constNull,(e=>r.createElement("ul",{key:"action-followup-radio-list",className:lc},e)))))),e("radioOptions").pipe(O.T(s.fold(a.constNull,(e=>r.createElement(Jl,{key:"radioOptions",options:e,onSubmit:e=>t({kind:mt.t.Kind.radioOptionsSubmitButtonClick,selectedOption:e})(),onCancel:t({kind:mt.t.Kind.radioOptionsCancelButtonClick})})))))))),oc=o.UI.Union.asOption(rc),sc={fontWeight:400,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),padding:`${Zt.Ks.rem(Yt.CN)} ${Zt.Ks.rem(Yt.Jj)} ${Zt.Ks.rem(1.5)} ${Zt.Ks.rem(Yt.Jj)}`,borderBottom:`0.5px solid ${vn.A.BorderBaseSubduedColor}`},ac=Zt.Ks.style({display:"flex",alignItems:"start",gap:Zt.Ks.rem(Yt.v$),color:Xt.Q.Text.Base.Subdued,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),padding:`${Zt.Ks.rem(Yt.v$)} 0`}),lc=Zt.Ks.style({padding:`0 0 0 ${Zt.Ks.rem(Yt.v5+Yt.sp)}`,margin:0}),cc=(0,Qt.w)("nocolor",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#FFC8D2",fillRule:"evenodd",d:"m6.75 6.926 5.113-1.676 5.113 1.676v3.45a8.64 8.64 0 0 1-3.164 6.684l-1.949 1.597-1.95-1.597a8.64 8.64 0 0 1-3.163-6.683z",clipRule:"evenodd"}),r.createElement("g",{filter:"url(#tnessa)"},r.createElement("path",{fill:"#EE445F",fillRule:"evenodd",d:"M11.863 5.25v13.407l-1.95-1.597a8.64 8.64 0 0 1-3.163-6.683V6.926z",clipRule:"evenodd"})),r.createElement("defs",null,r.createElement("filter",{id:"tnessa",width:15.113,height:23.407,x:1.75,y:.25,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:2.5}),r.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5231_1810"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5231_1810",result:"shape"})))))),dc=(0,Qt.w)("nocolor",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#B3D1FF",fillRule:"evenodd",d:"M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12",clipRule:"evenodd",opacity:.6}),r.createElement("g",{filter:"url(#aritya)"},r.createElement("path",{fill:"#548AFF",d:"M18 12a6 6 0 1 1-11.723-1.806 4.456 4.456 0 0 1 5.315 1.103 4.265 4.265 0 0 0 6.001.46c.022-.019.17-.164.376-.367q.03.3.031.61"})),r.createElement("defs",null,r.createElement("filter",{id:"aritya",width:22,height:18.25,x:1,y:4.75,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:2.5}),r.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5231_1804"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5231_1804",result:"shape"})))))),uc=(0,Qt.w)("nocolor",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#B9F9EA",fillRule:"evenodd",d:"M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12",clipRule:"evenodd"}),r.createElement("g",{filter:"url(#ementa)"},r.createElement("path",{fill:"#0FDCAC",fillRule:"evenodd",d:"M12 13.5A3.75 3.75 0 1 0 12 6a3.75 3.75 0 0 0 0 7.5m0 4.5a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5",clipRule:"evenodd"})),r.createElement("path",{fill:"#C0F9EC",fillRule:"evenodd",d:"M15 12a3.74 3.74 0 0 1-3 1.5A3.74 3.74 0 0 1 9 12a3.74 3.74 0 0 1 3-1.5c1.227 0 2.316.59 3 1.5",clipRule:"evenodd"}),r.createElement("defs",null,r.createElement("filter",{id:"ementa",width:17.5,height:22,x:3.25,y:1,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:2.5}),r.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5231_1822"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5231_1822",result:"shape"})))))),pc=(0,Qt.w)("nocolor",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#E8C7FF",fillRule:"evenodd",d:"M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12",clipRule:"evenodd"}),r.createElement("g",{filter:"url(#iverya)"},r.createElement("path",{fill:"#D29CFA",fillRule:"evenodd",d:"M12 18a4.494 4.494 0 0 0 4.488-4.5c0-2.485-2.01-4.5-4.488-4.5a4.494 4.494 0 0 0-4.487 4.5c0 2.485 2.009 4.5 4.487 4.5",clipRule:"evenodd"})),r.createElement("g",{filter:"url(#iveryb)"},r.createElement("path",{fill:"#BC78ED",fillRule:"evenodd",d:"M12 18a3 3 0 1 0 0-6 3 3 0 0 0 0 6",clipRule:"evenodd"})),r.createElement("defs",null,r.createElement("filter",{id:"iverya",width:18.975,height:19,x:2.513,y:4,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:2.5}),r.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.934441 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5231_1816"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5231_1816",result:"shape"})),r.createElement("filter",{id:"iveryb",width:16,height:16,x:4,y:7,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:2.5}),r.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5231_1816"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5231_1816",result:"shape"})))))),mc=(0,Qt.w)("nocolor",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"url(#oldera)",fillRule:"evenodd",d:"M11.537 11.537q-2.712.392-4.145-1.04-1.43-1.431-1.04-4.145 2.714-.39 4.145 1.04c.955.955 1.318 2.447 1.04 4.145",clipRule:"evenodd"}),r.createElement("path",{fill:"url(#olderb)",fillRule:"evenodd",d:"M17.648 6.352q.39 2.713-1.04 4.145-1.433 1.432-4.145 1.04-.393-2.713 1.04-4.145c.954-.954 2.446-1.317 4.145-1.04",clipRule:"evenodd"}),r.createElement("path",{fill:"url(#olderc)",fillRule:"evenodd",d:"M12.463 12.463q2.712-.392 4.145 1.04 1.43 1.431 1.04 4.145-2.714.39-4.145-1.04c-.955-.955-1.318-2.447-1.04-4.145",clipRule:"evenodd"}),r.createElement("path",{fill:"url(#olderd)",fillRule:"evenodd",d:"M6.353 17.648q-.393-2.713 1.04-4.145 1.431-1.432 4.145-1.04.39 2.713-1.04 4.145c-.955.954-2.447 1.317-4.145 1.04",clipRule:"evenodd"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"oldera",x1:11.64,x2:6.24,y1:9.84,y2:9.84,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#D2E3FF"}),r.createElement("stop",{offset:1,stopColor:"#548AFF"})),r.createElement("linearGradient",{id:"olderb",x1:12.36,x2:17.76,y1:8.04,y2:8.04,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FFD0D8"}),r.createElement("stop",{offset:1,stopColor:"#EE445F"})),r.createElement("linearGradient",{id:"olderc",x1:12.36,x2:17.76,y1:14.16,y2:14.16,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#ECD1FF"}),r.createElement("stop",{offset:1,stopColor:"#BC78ED"})),r.createElement("linearGradient",{id:"olderd",x1:12,x2:6.6,y1:15.96,y2:15.96,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:.196,stopColor:"#CAFAEF"}),r.createElement("stop",{offset:1,stopColor:"#0FDCAC"}))))));var fc=n(88793);const hc=({icon:e,categoryLabel:t,scoreSubtitle:n,progressValue:i,progressBarColor:o,trackColor:s,showOkIcon:l})=>{const c=(0,kl.Bi)(),d=(0,kl.Bi)(),u=(0,kl.Bi)();return r.createElement("li",{"aria-labelledby":`${c} ${d} ${u}`,className:gc},(0,a.pipe)(e,E.fold((e=>r.createElement(fn,{className:bc,"aria-hidden":!0},r.createElement(Gt.I,{icon:e,accessibilityLabel:"",size:"large"}))),(e=>r.createElement("img",{src:e,className:Sc,"aria-hidden":!0})))),r.createElement(Ws.E,{as:"span",variant:"text-small",marginRight:4,id:c},t),r.createElement("span",{hidden:!0,id:d},null!==i?`${Math.round(100*i)}%`:""),r.createElement("div",{className:wc,style:{backgroundColor:o,borderColor:s},"aria-hidden":!0},r.createElement("div",{className:Ec,style:{width:i?`${Math.round(100*i)}%`:0,backgroundColor:s}})),r.createElement("div",{className:kc},l&&r.createElement(fn,{className:yc,"aria-hidden":!0},r.createElement(Gt.I,{icon:fc.k,accessibilityLabel:"",variant:"deletion"})),r.createElement(Ws.E,{as:"span",variant:"text-small",color:"base-subdued",className:vc,id:u},n)))},gc=Zt.Ks.style({display:"contents"}),vc=Zt.Ks.style({whiteSpace:"nowrap"}),bc=Zt.Ks.style({marginRight:Zt.Ks.rem(Yt.v$)}),yc=Zt.Ks.style({marginRight:Zt.Ks.rem(Yt.v$)}),kc=Zt.Ks.style({marginLeft:Zt.Ks.rem(Yt.Jj),display:"flex",alignItems:"center"}),wc=Zt.Ks.style({height:Zt.Ks.rem(Yt.or),width:"100%",position:"relative",borderRadius:Zt.Ks.rem(en.KD),borderStyle:"solid",borderWidth:"1px",boxSizing:"border-box"}),Ec=Zt.Ks.style({position:"absolute",left:0,bottom:0,height:"100%"}),Sc=Zt.Ks.style({width:Zt.Ks.rem(1.5),height:Zt.Ks.rem(1.5)}),Cc={correctness:"Looking good",clarity:"Very clear",engagement:"Very engaging",delivery:"Just right",styleGuide:"All good"},_c={correctness:"No alerts",clarity:"So far so good",engagement:"Nothing yet",delivery:"Nothing yet",styleGuide:"Nothing yet"};const xc=o.UI.Node.make((({state:e})=>{const t=(0,kl.Bi)();return r.createElement(nn.F.Fragment,null,e.pipe(O.T((({score:e,isTextEmpty:n,styleGuideEnabled:i,institutionLogoUrl:o})=>{const s=function(e,t){return n=>{if(t||"loading"===e.status||"tooSmall"===e.status)return _c[n];{switch(n){case"clarity":return function({score:e,alerts:t}){return 0===t?Cc.clarity:0===e?`${t} ${pt.td(t,"alert","alerts")}`:e<.2?"Unclear":e<.7?"A bit unclear":e<.85?"Mostly clear":e<.95?"Clear":Cc.clarity}(e.outcomeScores.clarity);case"engagement":return function({score:e,alerts:t}){return 0===t?Cc.engagement:0===e?`${t} ${pt.td(t,"alert","alerts")}`:e<.2?"Bland":e<.8?"A bit bland":e<.95?"Engaging":Cc.engagement}(e.outcomeScores.engagement);case"delivery":return function({score:e,alerts:t}){return 0===t?Cc.delivery:0===e?`${t} ${pt.td(t,"alert","alerts")}`:e<.2?"Serious issues":e<.8?"Very off":e<.95?"Slightly off":Cc.delivery}(e.outcomeScores.delivery)}const t=e.outcomeScores[n].alerts;return t>0?`${t} ${pt.td(t,"alert","alerts")}`:Cc[n]}}}(e,n),l=function(e,t){return n=>{if(t)return null;switch(e.status){case"loading":case"tooSmall":return null;case"ok":return 0===e.outcomeScores[n].alerts?1:e.outcomeScores[n].score;default:(0,h.AS)(e)}}}(e,n),c=function(e,t){return n=>{if(t)return!0;switch(e.status){case"loading":case"tooSmall":return!0;case"ok":return 0===e.outcomeScores[n].alerts;default:(0,h.AS)(e)}}}(e,n);return r.createElement("ul",{className:Ac,key:"outcomes-grid","aria-labelledby":t},r.createElement("span",{hidden:!0,id:t},"Outcome scores"),r.createElement(hc,{categoryLabel:"Correctness",icon:E.left(cc),scoreSubtitle:s("correctness"),progressValue:l("correctness"),showOkIcon:c("correctness"),progressBarColor:Xt.Q.Background.Correctness.Subdued,trackColor:Xt.Q.Background.Correctness.Default}),r.createElement(hc,{categoryLabel:"Clarity",icon:E.left(dc),scoreSubtitle:s("clarity"),progressValue:l("clarity"),showOkIcon:c("clarity"),progressBarColor:Xt.Q.Background.Clarity.Subdued,trackColor:Xt.Q.Background.Clarity.Default}),r.createElement(hc,{categoryLabel:"Engagement",icon:E.left(uc),scoreSubtitle:s("engagement"),progressValue:l("engagement"),showOkIcon:c("engagement"),progressBarColor:Xt.Q.Background.Engagement.Subdued,trackColor:Xt.Q.Background.Engagement.Default}),r.createElement(hc,{categoryLabel:"Delivery",icon:E.left(pc),scoreSubtitle:s("delivery"),progressValue:l("delivery"),showOkIcon:c("delivery"),progressBarColor:Xt.Q.Background.Delivery.Subdued,trackColor:Xt.Q.Background.Delivery.Default}),i&&r.createElement(hc,{categoryLabel:"Style guide",icon:(0,a.pipe)(o,E.fromOption((()=>mc))),scoreSubtitle:s("styleGuide"),progressValue:l("styleGuide"),showOkIcon:c("styleGuide"),progressBarColor:Xt.Q.Background.Business.Subdued,trackColor:Xt.Q.Background.Business.Default}))}))))})),Ac=Zt.Ks.style({display:"grid",gridTemplateColumns:`min-content min-content minmax(${Zt.Ks.rem(2)}, ${Zt.Ks.rem(6)}) min-content`,gridTemplateRows:"auto",rowGap:Zt.Ks.rem(Yt.v$),alignItems:"center",padding:`${Zt.Ks.rem(Yt.or)} 0`});var Ic=n(61229),Kc=n(80764);const Tc=({score:e,className:t})=>r.createElement(Ic.s,{direction:"column",align:"center",className:t},r.createElement(Ws.E,{as:"strong",variant:"heading-large"},e),r.createElement(Ws.E,{as:"span",align:"center",variant:"text-small",color:"base-subdued",className:Oc},"of 100")),Oc=Zt.Ks.style({whiteSpace:"nowrap"}),Mc=e=>r.createElement(sn.hh,Object.assign({width:"64",height:"64",viewBox:"0 0 64 64"},e,{fill:"none"}),r.createElement("circle",{cx:"32",cy:"32",r:"19",stroke:"#C6CBDE",strokeWidth:"2"}),r.createElement("path",{d:"M25 33L30 38L49.5 18.5",stroke:"white",strokeWidth:"8",strokeLinecap:"round"}),r.createElement("path",{d:"M25 33L30 38L49.5 18.5",stroke:"#15C39A",strokeWidth:"3",strokeLinecap:"round"})),Fc=(0,Qs.yY)(Ic.s),Rc=(0,Qs.yY)(Ws.E),Bc=o.UI.Node.make((({state:e})=>r.createElement(Fc,{direction:"row",gap:4,align:"center"},e.pipe(O.T(Zn({loading:()=>r.createElement(Mc,{className:Pc}),tooSmall:()=>r.createElement(Mc,{className:Pc}),ok:e=>100===e.generalScore?r.createElement(Mc,{className:Pc}):r.createElement(Tc,{score:e.generalScore,className:Nc})}))),r.createElement(Ic.s,{direction:"column"},r.createElement(Kc.D,{as:"h2",variant:"heading-xsmall"},"Overall score"),r.createElement(Rc,{as:"p",variant:"text-small",color:"base-subdued"},e.pipe(O.T(Zn({loading:()=>"Grammarly needs at least 30 words to calculate a score.",tooSmall:()=>"Grammarly needs at least 30 words to calculate a score.",ok:e=>100===e.generalScore?"Great! This text scores 100 out of 100.":"The score represents the quality of this text. Increase it by addressing issues."})))))))),Nc=Zt.Ks.style({width:Zt.Ks.rem(4),height:Zt.Ks.rem(4),minWidth:Zt.Ks.rem(4),minHeight:Zt.Ks.rem(4),boxSizing:"border-box",padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(Yt.sp)} ${Zt.Ks.rem(Yt.or)}`}),Pc=Zt.Ks.style({minWidth:Zt.Ks.rem(4),minHeight:Zt.Ks.rem(4)}),Dc=o.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{onMount:i}=(0,ns.y)((0,a.flow)(Ot.E(t),P.M((([e,t])=>n({kind:"performanceScoreMountAction",score:t})()))));return r.createElement(ja,{"data-testid":"performance-score",mount:i},e.overallScore,r.createElement("div",{className:Uc,"aria-hidden":!0}),e.outcomeScores)})),jc=o.UI.Knot.make(Dc,{overallScore:Bc,outcomeScores:xc}),Lc=o.UI.Union.asOption(jc),Uc=Zt.Ks.style({borderTop:`1px solid ${Xt.Q.Border.Base.Subdued}`,margin:`${Zt.Ks.rem(Yt.v$)} 0`}),$c=({children:e,style:t})=>r.createElement(nn.F.h1,{className:(0,ke.b)(t).pipe(O.T((e=>Zt.Ks.style({color:Xt.Q.Text.Base.Default,margin:0,padding:`0 0 ${Zt.Ks.rem(Yt.v$)} 0`,fontWeight:700,fontSize:Zt.Ks.rem(1),lineHeight:Zt.Ks.rem(1.5),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},e))))},e);var Hc=n(31488),Vc=n(78044);const zc=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#646B81",stroke:"#646B81",strokeWidth:2,d:"m7 7 1 1.333L9 7z"}))));var Wc=n(70378);const Zc={border:`1px solid ${Xt.Q.Background.Neutral.Default}`,borderRadius:Zt.Ks.rem(en.KD),width:Zt.Ks.rem(15),height:Zt.Ks.rem(2),boxSizing:"border-box",position:"relative"},Gc={padding:`${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(Yt.CN)}`,width:"100%",height:"100%",border:"none",background:"transparent",position:"relative",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",gap:Zt.Ks.rem(Yt.or)},Qc={fontWeight:400,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.375),color:Xt.Q.Text.Base.Default},qc={padding:Zt.Ks.rem(Yt.or),background:"white",boxShadow:ts.R$.boxShadow,border:ts.R$.border,borderRadius:Zt.Ks.rem(en.KD),width:Zt.Ks.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:Zt.Ks.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},Jc={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.375),color:Xt.Q.Text.Base.Default,padding:`${Zt.Ks.rem(.1875)} ${Zt.Ks.rem(Yt.CN)}`,borderRadius:Zt.Ks.rem(en.KD),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{color:Xt.Q.Text.Base.Inverse,background:tn.NeutralGray40}}},Yc=Zt.Ks.style(Zc),Xc=Zt.Ks.style(Gc),ed=Zt.Ks.style(Qc),td=Zt.Ks.style(qc),nd=Zt.Ks.style(Jc),id=new Vc.C(999999);function rd({label:e,selection:t,className:n,menuClassName:i,placeholder:o,options:s,optionsGroupLabel:a,onSelectionChange:c,onOptionsExpanded:d,renderOption:u,disabled:p=!1}){const[f,h]=r.useState(!1),g=r.useRef(id.newId().toString()),v=r.useRef(id.newId().toString()),b=r.useRef(null),[y,k]=r.useState(null),[w,E]=r.useState(null),{styles:S,attributes:C}=(0,Hc.E)(y,w,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),_=r.useMemo((()=>new l.B7),[]),x=r.useMemo((()=>_.pipe(Lt.B(100),m.p((e=>!e)),P.M((()=>{h(!1)})))),[_,h]);return Dt.R.useSubscriptionTo(x),r.createElement("div",Object.assign({},(0,Qs.Ly)(Yc,n,p?sd:void 0),{ref:k}),r.createElement("button",{ref:b,disabled:p,"aria-disabled":p,className:Xc,onClick:()=>{var e;f?h(!1):(h(!0),_.next(!0),null==d||d(t),null===(e=b.current)||void 0===e||e.focus())},onFocus:()=>{_.next(!0)},onBlur:()=>_.next(!1),type:"button","aria-haspopup":"listbox","aria-owns":g.current,"aria-expanded":f,"aria-labelledby":v.current},r.createElement("div",{id:v.current,className:ed},t?u?u(t):e(t):o),r.createElement(zc,null)),f&&r.createElement("div",Object.assign({ref:E,style:S.popper},C.popper,{className:Zt.Ks.joinClasses([td,i]),onFocus:()=>_.next(!0),onBlur:()=>_.next(!1)}),r.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:g.current},a?r.createElement("header",{className:od,role:"presentation"},a):null,s.map(((t,n)=>{const i=e(t);return r.createElement("li",{key:n,"aria-label":i,role:"option"},r.createElement("button",{className:nd,onClick:(0,Wc.e)((()=>{c(t),h(!1)}))},u?u(t):e(t)))})))))}const od=Zt.Ks.style({padding:Zt.Ks.rem(Yt.v$),paddingRight:Zt.Ks.rem(Yt.Jj),fontSize:Zt.Ks.rem(.75),lineHeight:"1.5em",color:Xt.Q.Text.Base.Subdued}),sd=Zt.Ks.style({opacity:.4}),ad=({pageRange:e,onPageRangeHeaderMount:t})=>{const{onMount:n}=(0,ns.y)(P.M(t));return r.createElement(nn.F.div,{className:ld,mount:n},"Pages ",e.startPage,"-",e.endPage)},ld=Zt.Ks.style({fontSize:Zt.Ks.rem(.75),fontWeight:400});var cd=n(74728),dd=n(14342),ud=n(89754);const pd=r.forwardRef((function(e,t){var{defaultHeight:n,initialVisible:i=!1,resetHeightToDefault:o=D.w,visibleOffset:s=500,children:a}=e,l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["defaultHeight","initialVisible","resetHeightToDefault","visibleOffset","children"]);const[c,d]=r.useState(i),[u,p]=r.useState(n),m=r.useRef(null),{registerIntersectionObserver:f}=r.useContext(Bs);return r.useEffect((()=>{const e=o.subscribe((()=>p(n)));return()=>e.unsubscribe()}),[n]),r.useEffect((()=>{const e=m.current;if(e){const t=f(`${s}px 0px ${s}px 0px`,e,(t=>{t.isIntersecting||p(e.offsetHeight),d(t.isIntersecting)}));return()=>t.dispose()}return()=>{}}),[m]),r.createElement("div",Object.assign({},l,{ref:Rs([m,t])}),c?a:r.createElement("div",{style:{height:u}}))})),md=({item:e,kind:t,notify:n})=>(i,r,o)=>{if(n({kind:t,item:e,sourceId:i,actions:r,scope:o})(),!r.some((e=>"notify"===e.type&&e.userAction===Ki.nm.Click)))return;const s=(e=>{if(!e)return;const t=e.lastIndexOf(":");return t<0?void 0:e.slice(t+1)})(i);switch(s){case"accept":return void n({kind:mt.t.Kind.suggestionAcceptClick})();case"actions-menu-incorrect-report":return void n({kind:mt.t.Kind.actionsMenuReportIncorrectClick})();case"actions-menu-mute":return void n({kind:mt.t.Kind.actionsMenuMuteClick})();case"actions-menu-offensive-report":return void n({kind:mt.t.Kind.actionsMenuReportOffensiveClick})();case"dict":return void n({kind:mt.t.Kind.addToDictionaryClick})();case"dismiss":return void n({kind:mt.t.Kind.suggestionDismissClick})();default:return}};var fd=n(19377);const hd=e=>{const t=r.useRef(null),n=function(e,t){switch(e){case"behavior:animation:fadeIn":return{className:Zt.Ks.style(vd(bd,kd(t))),direction:"in"};case"behavior:animation:fadeOut":return{className:Zt.Ks.style(vd(yd,kd(t))),direction:"out"};default:(0,h.xb)(e)}}(e.type,e.timeCurve),[i,o]=r.useState("in"===n.direction?n.className:void 0);return r.useEffect((()=>()=>{var e,i;t.current&&!(null!==(i=null===(e=t.current.shadowRoot)||void 0===e?void 0:e.ownerDocument.defaultView)&&void 0!==i?i:window).matchMedia("(prefers-reduced-motion: reduce)").matches&&function(e,t){(0,a.pipe)((0,a.tuple)((0,a.pipe)(t,s.fromPredicate((e=>"out"===e.direction))),gd(e)),(0,a.tupled)(w.C(s.option)),j.Mi((([t,n])=>{var i,r;const o=null!==(r=null===(i=e.shadowRoot)||void 0===i?void 0:i.ownerDocument)&&void 0!==r?r:document,l=e.getBoundingClientRect(),c=e.cloneNode(!0);c.classList.add(t.className),c.style.position="absolute",c.style.top=`${l.top}px`,c.style.left=`${l.left}px`,c.style.width=`${l.width}px`,c.style.height=`${l.height}px`,requestAnimationFrame((()=>{(0,a.pipe)(n.find((e=>o.contains(e))),s.fromNullable,j.Mi((e=>{c.addEventListener("animationend",(()=>{o.contains(c)&&c.remove()})),e.appendChild(c)})))}))})))}(t.current,n)}),[n]),r.createElement("div",{"data-testid":"behavior-animation-wrapper","data-animation":e.type,ref:t,className:i,onAnimationEnd:()=>o(void 0)},e.children)};function gd(e,t=[]){return(0,a.pipe)(e.parentElement,s.fromNullable,s.chain((e=>gd(e,[...t,e]))),s.alt((()=>C.ci(t))))}const vd=(e,t)=>({$nest:{"@media (prefers-reduced-motion: no-preference)":{animation:`${e} ${Zt.Ks.seconds(.3)} ${t}`}}}),bd=Zt.Ks.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),yd=Zt.Ks.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}});function kd(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}var wd=n(14737),Ed=n(86460);const Sd=Zt.Ks.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),Cd=Zt.Ks.style({animation:`${Sd} 1s linear infinite`,width:Zt.Ks.rem(1),height:Zt.Ks.rem(1),minWidth:Zt.Ks.rem(1),minHeight:Zt.Ks.rem(1)}),_d=e=>{const{className:t}=e,n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["className"]);return r.createElement(sn.hh,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,Qs.Ly)(Cd,t),n),r.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#C2C6D4",strokeWidth:"2"}),r.createElement("path",{d:"M13 8C13 8.76694 12.8236 9.5236 12.4844 10.2114C12.1452 10.8993 11.6523 11.4999 11.0438 11.9668C10.4354 12.4336 9.72765 12.7543 8.97545 12.9039C8.22325 13.0535 7.44671 13.0281 6.7059 12.8296",stroke:"#05735A",strokeWidth:"2",strokeLinecap:"round"}))};function xd(e,t){return!e||void 0===t||void 0===t.cardPosition||t.cardPosition.isFirst&&t.cardPosition.isLast?null:t.cardPosition.isLast?r.createElement(Sa.s,null," and open previous suggestion"):r.createElement(Sa.s,null," and open next suggestion")}function Ad(e){return Object.assign(Object.assign({},(0,Ed.$R)()),{ggoPrimary:t=>{const n=xd(t.name===Ki.A7.ButtonAccept.toString(),e);return r.createElement(rn.$,Object.assign({},Od(t),{variant:"primary",style:[t.verticalAlign===Ki.G4.Middle?Id:void 0,Td(t.horizontalAlign)]}),t.text,n)},primary:t=>{const n=t.name===Ki.A7.ButtonAccept.toString(),i=xd(n,e),o=n&&(null==e?void 0:e.acceptButtonsLoading),s=Od(t);return r.createElement(rn.$,Object.assign({},Od(t),{variant:"primary",style:[t.verticalAlign===Ki.G4.Middle?Id:void 0,Td(t.horizontalAlign)],onClick:o?void 0:s.onClick,"aria-label":o?"Loading":s["aria-label"],"aria-disabled":!!o||t["aria-disabled"],animationMode:o?wd.g.None:void 0,"data-testid":`primary-button-${t.id}`}),o?r.createElement(r.Fragment,null,t.text,i,r.createElement(_d,null)):r.createElement(r.Fragment,null,t.text,i))},secondary:t=>{const n=xd(t.name===Ki.A7.ButtonDismiss.toString(),e);return r.createElement(rn.$,Object.assign({},Od(t),{variant:"tertiary",style:[t.verticalAlign===Ki.G4.Middle?Id:void 0,Td(t.horizontalAlign)]}),t.text,n)},toggle:e=>{const t=(e,t=1)=>`inset 0 0 0 ${t}px ${e}`,n=(e,n=1)=>`${t(e,n)}, 0 0 0 2px ${Xt.Q.Text.Base.Inverse}, 0 0 0 4px ${vn.A.BorderBrandDefault}`;return r.createElement(rn.$,Object.assign({},Od(e),{variant:"secondary",size:"small",style:[e.verticalAlign===Ki.G4.Middle?Id:void 0,Td(e.horizontalAlign),{default:{boxShadow:t(Xt.Q.Border.Base.Subdued),$nest:Object.assign(Object.assign({},(0,on.Ek)(n(Xt.Q.Border.Base.Subdued))),{"& > div > span, & > div, & > *":{color:Zt.Ks.important(Xt.Q.Text.Base.Default)}})},hovered:{backgroundColor:vn.A.ButtonBackgroundSecondaryHover,boxShadow:t(vn.A.BorderBrandDefault),$nest:Object.assign(Object.assign({},(0,on.Ek)(n(vn.A.BorderBrandDefault))),{"& > div > span, & > div, & > *":{color:Zt.Ks.important(vn.A.ButtonTextSecondaryHover)}})},active:{backgroundColor:vn.A.ButtonBackgroundSecondaryActive,boxShadow:t(vn.A.BorderBrandDefault),$nest:Object.assign(Object.assign({},(0,on.Ek)(n(vn.A.BorderBrandDefault))),{"& > div > span, & > div, & > *":{color:Zt.Ks.important(vn.A.ButtonTextSecondaryActive)}})},selected:{backgroundColor:"transparent",boxShadow:t(vn.A.BorderBrandDefault,1.5),$nest:Object.assign(Object.assign({},(0,on.Ek)(n(vn.A.BorderBrandDefault,1.5))),{"& > div > span, & > div, & > *":{color:Zt.Ks.important(vn.A.ColorBrandDefault),fontWeight:Zt.Ks.important("bold")}})}}]}),e.text)}})}const Id={default:{$nest:{"& span":{verticalAlign:"initial"}}}},Kd={[Ki.wq.Left]:{default:{textAlign:"left"}},[Ki.wq.Center]:{default:{textAlign:"center"}},[Ki.wq.Right]:{default:{textAlign:"end"}}};function Td(e){return void 0!==e?Kd[e]:Kd[Ki.wq.Left]}function Od(e){return Object.assign({name:e.name,onClick:e.onClick,"aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],title:void 0!==e.tooltip&&e.state!==Ki.w.Disabled?(0,Ed.Nv)(e.tooltip):void 0},function(e){switch(e){case Ki.w.Enabled:return{disabled:!1};case Ki.w.Disabled:return{disabled:!0};case Ki.w.Selected:return{disabled:!1,active:!0};case Ki.w.Deselected:return{disabled:!1,active:!1};case Ki.w.Hidden:return{hidden:!0};default:return(0,h.AS)(e)}}(e.state))}var Md=n(34050),Fd=n(23625);const Rd=e=>{const t=r.useRef(null),n=`${e.id}-collapsed-content`,[i,o]=r.useState(!1),s=r.useCallback((t=>{o(t),e.onHoverChanged(t)}),[]),{hoverProps:a}=(0,Md.Mk)({onHoverChange:s}),{focusWithinProps:l}=(0,Md.Rb)({onFocusWithinChange:s}),{buttonProps:c}=(0,Fd.s)({onPress:t=>e.onPress(t.target.getBoundingClientRect()),elementType:"button"},t);return r.createElement("button",Object.assign({},c,a,l,{className:Bd.button}),r.createElement("div",{id:n,className:Bd.content},e.child,r.createElement(Sa.s,null,"Open suggestion card"),r.createElement("div",{role:"tooltip",style:{opacity:i?1:0}},e.quickActions)))},Bd=Zt.Ks.stylesheet({button:[{position:"relative",minHeight:Zt.Ks.rem(3.5),display:"flex",textAlign:"start",alignItems:"center",width:"100%",background:"transparent",cursor:"pointer",border:0}],content:[{display:"flex",alignItems:"center",$nest:{"& > div:first-of-type":{flexGrow:1}}}]});var Nd=n(53326),Pd=n(8071),Dd=n(24243),jd=n(92186);function Ld({item:e,state:t,className:n,name:i,ariaLabel:o}){const s=r.useMemo((()=>i?`${i}-item`:"menu-item"),[i]),a=r.useRef(null),{menuItemProps:l,isDisabled:c,isSelected:d}=(0,Nd.Os)({key:e.key},t,a);return Dt.R.useEffectOnDidMount((()=>{if(null!==a.current)try{const e=a.current.focus.bind(a.current);a.current.focus=t=>{var n;(null===(n=a.current)||void 0===n?void 0:n.matches(":hover"))||e(t)}}catch(e){}})),r.createElement("li",Object.assign({"data-testid":s},l,{ref:a,className:Zt.Ks.joinClasses([$d(c,d),n]),"aria-label":o}),r.createElement("span",{className:Ud},e.rendered))}const Ud=Zt.Ks.style({display:"flex",alignItems:"center",fontFamily:"Inter",fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),fontWeight:400,color:vn.A.TextBaseDefault}),$d=(e,t)=>Zt.Ks.style(Object.assign(Object.assign({display:"flex",alignItems:"center",minHeight:Zt.Ks.rem(2),padding:`${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(Yt.v5)} ${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(Yt.CN)}`,borderRadius:Zt.Ks.rem(en.KD),opacity:e?.4:void 0,cursor:"pointer"},t&&!e?{background:vn.A.MenuBackgroundSelected,boxShadow:`inset  0 0 0 1px ${vn.A.MenuBorderDefault}`}:{}),{$nest:{"&:hover":e?{}:{background:vn.A.MenuBackgroundHover,boxShadow:`inset  0 0 0 1px ${vn.A.MenuBorderDefault}`,$nest:{"& i":{stroke:vn.A.MenuIconHover,fill:vn.A.MenuIconHover}}},"&:focus, &:focus-visible":e?{}:{boxShadow:`0 0 0 1px ${Xt.Q.Background.Base.Default}, 0 0 0 3px ${vn.A.BorderBrandDefault}`,outline:"none",background:vn.A.MenuBackgroundSelected,$nest:{"& i":{stroke:vn.A.MenuIconSelected,fill:vn.A.MenuIconSelected}}},"& i":{marginLeft:Zt.Ks.rem(-Yt.or),marginRight:Zt.Ks.rem(Yt.v$),minWidth:Zt.Ks.rem(1.5),minHeight:Zt.Ks.rem(1.5)},"& span":{fontWeight:t?700:void 0}}}));var Hd=n(33931);function Vd({name:e,section:t,state:n,onAction:i,theme:o={}}){const s=r.useMemo((()=>e?`${e}-section`:"dropdown-menu-section"),[e]),{itemProps:a,headingProps:l,groupProps:c}=(0,Nd.y7)({heading:t.rendered,"aria-label":t["aria-label"]}),{separatorProps:d}=(0,Hd.r)({elementType:"li"});return r.createElement(r.Fragment,null,t.key!==n.collection.getFirstKey()&&r.createElement("li",Object.assign({},d,{className:Zd})),r.createElement("li",Object.assign({"data-testid":s},a,{className:Zt.Ks.joinClasses([zd,o.section])}),Boolean(t.rendered)&&r.createElement("h5",Object.assign({},l,{className:Wd}),t.rendered),r.createElement("ul",Object.assign({},c,{className:Gd}),Array.from(t.childNodes).map((t=>r.createElement(Ld,{key:t.key,item:t,state:n,onAction:i,className:o.item,name:e}))))))}const zd=Zt.Ks.style({padding:0}),Wd=Zt.Ks.style({margin:0,fontSize:Zt.Ks.rem(.75),fontWeight:400,lineHeight:Zt.Ks.rem(1.125),color:Xt.Q.Text.Base.Subdued,padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.v5)} ${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.CN)}`}),Zd=Zt.Ks.style({borderTop:`1px solid ${Xt.Q.Border.Base.Subdued}`,margin:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(-Yt.Jj)}`}),Gd=Zt.Ks.style({listStyle:"none",margin:0,padding:0,outline:Zt.Ks.important("none")});var Qd=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function qd(e){var{name:t,className:n,theme:i={},onMouseOver:o,onMouseLeave:s}=e,a=Qd(e,["name","className","theme","onMouseOver","onMouseLeave"]);const l=r.useMemo((()=>t?`${t}-list`:"menu-list"),[t]),c=(0,jd.p)(a),d=r.useRef(null),{menuProps:u}=(0,Nd.b)(a,c,d),p=(0,kl.v6)(u,{onMouseOver:o,onMouseLeave:s});return r.createElement("ul",Object.assign({"data-testid":l},p,{ref:d,className:Zt.Ks.joinClasses([Jd,i.list,n])}),Array.from(c.collection).map((e=>"section"===e.type?r.createElement(Vd,{key:e.key,section:e,state:c,theme:i}):r.createElement(Ld,{key:e.key,name:t,item:e,state:c,className:i.item,ariaLabel:e["aria-label"]}))))}const Jd=Zt.Ks.style({listStyle:"none",margin:0,outline:Zt.Ks.important("none"),padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)}`});var Yd=n(93669),Xd=n(33797);const eu=e=>{var t,{children:n,className:i,state:o,offset:s=4,onTransitionEnd:a,portalContainer:l}=e,c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children","className","state","offset","onTransitionEnd","portalContainer"]);const d=r.useRef(null),{popoverProps:u}=function(e,t){const{triggerRef:n,popoverRef:i,isNonModal:r,isKeyboardDismissDisabled:o}=e,s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["triggerRef","popoverRef","isNonModal","isKeyboardDismissDisabled"]),{overlayProps:a,underlayProps:l}=(0,Xd.e)({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!1!==r,isKeyboardDismissDisabled:o,shouldCloseOnInteractOutside:(e,t)=>{const n=null==t?void 0:t.composedPath();return!n||!n.some((e=>{var t;return e instanceof Node&&(null===(t=i.current)||void 0===t?void 0:t.contains(e))}))}},i),{overlayProps:c,arrowProps:d,placement:u}=(0,Yd.v8)(Object.assign(Object.assign({},s),{targetRef:n,overlayRef:i,isOpen:t.isOpen,onClose:void 0}));return(0,Yd.H_)({isDisabled:r}),(0,kl.Nf)((()=>t.isOpen&&!r&&i.current?(0,Yd.hD)([i.current]):()=>{}),[r,t.isOpen,i]),{popoverProps:(0,kl.v6)(a,c),arrowProps:d,underlayProps:l,placement:u}}(Object.assign(Object.assign({},c),{isNonModal:!0,offset:s,popoverRef:d}),o);return r.createElement(Yd.hJ,{portalContainer:l},r.createElement("div",Object.assign({},u,{style:Object.assign(Object.assign({},u.style),{minWidth:null===(t=c.triggerRef.current)||void 0===t?void 0:t.clientWidth}),ref:d,className:Zt.Ks.joinClasses([nu,i]),onTransitionEnd:e=>{if(e.target===d.current)return null==a?void 0:a()}}),r.createElement(Yd.Rz,{onDismiss:o.close}),r.createElement("div",{className:tu},n),r.createElement(Yd.Rz,{onDismiss:o.close})))},tu=Zt.Ks.style({width:Zt.Ks.percent(100)}),nu=Zt.Ks.style({display:"flex",flexDirection:"column",alignItems:"flex-start",background:Xt.Q.Background.Base.Default,boxShadow:ts.R$.boxShadow,border:ts.R$.border,borderRadius:Zt.Ks.rem(en.KD)});var iu=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function ru(e){var{placement:t="bottom start",theme:n={},name:i,portalContainer:o,title:s}=e,a=iu(e,["placement","theme","name","portalContainer","title"]);const l=r.useMemo((()=>i?`${i}-trigger`:"menu-trigger"),[i]),c=r.useRef(null),d=(0,Pd.I)(a),u=(0,Nd.Vi)(Object.assign(Object.assign({},a),{type:"menu"}),d,c),p=u.menuTriggerProps,{onPress:m,onPressStart:f}=p,h=iu(p,["onPress","onPressStart"]),{menuProps:g}=u;return r.createElement(r.Fragment,null,r.createElement(rn.$,Object.assign({},h,{variant:"tertiary",name:l,onClick:()=>d.open(),mount:e=>c.current=e,active:d.isOpen,"aria-label":a["aria-label"],title:null!=s?s:a["aria-label"],className:n.button,style:n.buttonStyle}),a.label),r.createElement(Dd.A,{in:d.isOpen},((e,s)=>r.createElement(eu,{state:d,triggerRef:c,placement:t,portalContainer:o,className:e,onTransitionEnd:s},r.createElement(qd,Object.assign({},a,g,{name:i,theme:n,onAction:e=>{var t;return null===(t=a.onAction)||void 0===t?void 0:t.call(a,e)}}))))))}var ou=n(66836);const su=e=>{const t=t=>"known"===t.source.kind?r.createElement(e.designSystem.icon[t.source.name],{key:t.source.name,backgroundColor:t.backgroundColor}):r.createElement(e.designSystem.image,Object.assign({key:t.source.name,backgroundColor:t.backgroundColor},t.source));return r.createElement(Ja.j.Consumer,null,(({portalContainer:n})=>r.createElement(nn.F.Fragment,null,n.view(s.fold(a.constNull,(n=>r.createElement(ru,{label:t(e.icon),portalContainer:n,placement:"bottom right",theme:{button:au,item:lu},"aria-label":e.menu.meta.label,onAction:t=>(0,a.pipe)(e.menu.sections,S.cy((e=>e.items)),S.i8((e=>e.id===String(t))),j.Mi((t=>e.onClick(t.onClickActions,t.id)()))),title:e.menu.meta.label},e.menu.sections.map(((e,n)=>r.createElement(ou.wn,{key:n,title:e.title},e.items.map((e=>r.createElement(ou.q7,{key:e.id,textValue:e.id},e.icon&&t(e.icon),e.text)))))))))))))},au=Zt.Ks.style({flexShrink:0,alignItems:"center",justifyContent:"center",height:Zt.Ks.rem(2),width:Zt.Ks.rem(2)}),lu=Zt.Ks.style({$nest:{"& i":{height:Zt.Ks.rem(2),width:Zt.Ks.rem(2)}}});var cu=n(25225);const du={width:Zt.Ks.rem(1.5),height:Zt.Ks.rem(1.5),minWidth:Zt.Ks.rem(1.5),minHeight:Zt.Ks.rem(1.5)},uu=Zt.Ks.style(du);function pu(e){return Object.assign(Object.assign({},fd.J),{animation:hd,button:Ad(null==e?void 0:e.buttonDesignSystemParams),icon:Object.assign(Object.assign({},cu.s),{[Ki.yg.More]:e=>r.createElement(sn.In.EllipsisSmall,{className:uu})}),text:e=>fd.J.text(function(e){var t,n;return e.format.includes(Ki.lk.Bold)&&(null===(t=e.meta.label)||void 0===t?void 0:t.startsWith("insert"))&&e.textColor.startsWith("CoreBlue")?Object.assign(Object.assign({},e),{textColor:Ki.Q1.CoreNeutral90,outlineColor:e.format.includes(Ki.lk.Outline)?Ki.Q1.CoreNeutral90:e.outlineColor}):e.format.includes(Ki.lk.Bold)&&(null===(n=e.meta.label)||void 0===n?void 0:n.startsWith("delete"))?Object.assign(Object.assign({},e),{textColor:Ki.Q1.CoreNeutral50,outlineColor:e.format.includes(Ki.lk.Outline)?Ki.Q1.CoreNeutral50:e.outlineColor}):e}(e)),dropDownMenuButton:su,collapsedCard:Rd,nativeExperimentalGBConsistencyUpsellFooter:fd.J.nativeExperimentalGBConsistencyUpsellFooter})}const mu=L.OW({item:Un.W.Item.eq,isFocused:L.zF,isFirst:L.zF,isLast:L.zF,isWaitingForAlertsToBeApplied:L.zF,prevFocusedItemPosition:s.getEq(cd.$k)}),fu=o.UI.Node.make((({state:e,notify:t})=>{const{scrolling:n}=r.useContext(Bs);return r.createElement(nn.F.Fragment,null,Nn.h(e.pipe(f.s(1)),e.pipe(N.Z(50))).pipe(O.T((({item:e,isFocused:i,isFirst:o,isLast:l,isWaitingForAlertsToBeApplied:c})=>r.createElement(r.Fragment,null,o?null:r.createElement(Ku,null),r.createElement("div",{className:i?vu:gu},r.createElement(ud.R,{key:`${e.id}-${i?"expanded":"collapsed"}`,sduiRootId:e.id,content:e.content,designSystem:pu({buttonDesignSystemParams:{acceptButtonsLoading:c,cardPosition:{isFirst:o,isLast:l}}}),notify:(i,r,o)=>{const s=n.get()?r.filter((e=>"hoverStateChanged"!==e.type)):r;s.length>0&&md({item:e,kind:"longFormCardSduiNotify",notify:t})(i,s,o)},transitions:[],prevContent:s.none,onAnimationEnd:a.constVoid,onMount:t({isFocused:i,kind:"longFormCardMount",item:e}),longFormCardState:{viewKind:i?"focused":"collapsed"}})))))))})),hu=e=>({padding:`${Zt.Ks.rem(Yt.or)} 0`,borderRadius:"inherit",$nest:{"&:hover":{backgroundColor:e?void 0:Xt.Q.Background.Base.Subdued}}}),gu=Zt.Ks.style(hu(!1)),vu=Zt.Ks.style(hu(!0)),bu=Zt.Ks.keyframes({from:{transform:"scaleY(1)",opacity:1},to:{transform:"scaleY(0.75)",opacity:0}}),yu={animation:`${Zt.Ks.keyframes({from:{transform:"scaleY(0.75)",opacity:0},to:{transform:"scaleY(1)",opacity:1}})} 200ms ease-in-out`},ku={animation:`${bu} 200ms ease-in-out`,position:"absolute",width:"100%"},wu=Zt.Ks.style(Object.assign(Object.assign({},yu),{transformOrigin:"bottom"})),Eu=Zt.Ks.style(Object.assign(Object.assign({},yu),{transformOrigin:"top"})),Su=Zt.Ks.style(Object.assign(Object.assign({},ku),{transformOrigin:"bottom"})),Cu=Zt.Ks.style(Object.assign(Object.assign({},ku),{transformOrigin:"top"})),_u=o.UI.Transition.make({collapseForward:Su,collapseBackward:Cu},{expandForward:wu,expandBackward:Eu}),xu=Zt.Ks.style({position:"relative"}),Au=L.OW({isFocused:L.zF,itemId:L.kK}),Iu=o.UI.Knot.make(o.UI.Grid.make((({slots:e,view:t})=>{const n=r.useContext(Xo.q.Context),{ref:i,onMount:o}=Dt.R.useElWatcher(),s=r.useMemo((()=>t("isFocused").pipe(Ut.J(),m.p((([e,t])=>e&&!t)),st.u(null))),[]),{scrollableContainer:a}=r.useContext(Bs),l=r.useMemo((()=>t("isFocused").pipe(lt.Z(!1),Ut.J(),m.p((([e,t])=>!e&&t)),d.n((()=>i.pipe(B.oE,f.s(1)))),Ot.E(a.pipe(B.oE)),dd.c(200),P.M((([e,t])=>{e.offsetTop<t.scrollTop?t.scroll({top:e.offsetTop,left:0,behavior:"smooth"}):e.offsetTop+e.offsetHeight>t.scrollTop+t.offsetHeight?t.scroll({top:e.offsetTop-t.offsetHeight/2,left:0,behavior:"smooth"}):e.scrollIntoView({behavior:"smooth",block:"nearest"})})))),[i]);return Dt.R.useSubscriptionTo(l),r.createElement(nn.F.Fragment,null,kt.zV([n,t("itemId")]).pipe(O.T((([t,n])=>r.createElement(pd,{visibleOffset:500,defaultHeight:4*t,resetHeightToDefault:s,"data-testid":n,className:xu,ref:o,role:"listitem"},e.content)))))})),{content:o.UI.Animated.make(_u,fu)}),Ku=()=>r.createElement("div",{className:Tu}),Tu=Zt.Ks.style({margin:`0 ${Zt.Ks.rem(Yt.Jj)}`,borderBottom:`1px solid ${Xt.Q.Border.Base.Subdued}`}),Ou=o.UI.List.make(S.QW,Iu),Mu=()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",clipPath:"url(#EmptyH_a)"},r.createElement("path",{fill:"#FCE5E5",strokeMiterlimit:"10",d:"M62.4 11.2H23.24C22.16 28.28 3.64 40.4 7.8 62.4h39.16C43.6 35.2 61.32 28.28 62.4 11.2Z"}),r.createElement("path",{fill:"#FCE5E5",strokeMiterlimit:"10",d:"M59.2 8H20.04C18.96 25.08.44 37.2 4.6 59.2h39.16C40.8 32.8 58.13 25.08 59.2 8Z"}),r.createElement("path",{fill:"#FEFAE9",strokeMiterlimit:"10",d:"M56 4.8H17.4C16.35 21.88-1.91 34 2.2 56H40C36.67 34 54.93 21.88 56 4.8Z"}),r.createElement("path",{d:"M24 13.6h20M20 22.4h20M14.4 32h20M9.6 42.8H24"}),r.createElement("path",{fill:"#F8E485",strokeMiterlimit:"10",d:"M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l16.3 28.24-7.43 4.3L.55 10.11Z"}),r.createElement("path",{fill:"#79A8F2",strokeMiterlimit:"10",d:"M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l3.21 5.58-7.43 4.29-3.21-5.57Z"}),r.createElement("path",{fill:"#F8C6DA",strokeMiterlimit:"10",d:"M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l.64 1.12-7.43 4.29-.64-1.11Z"}),r.createElement("path",{fill:"#FEFAE9",strokeMiterlimit:"10",d:"m16.85 38.35 7.43-4.29-.07 8.47-7.36-4.18Z"}),r.createElement("path",{fill:"#0E101A",strokeMiterlimit:"10",d:"m20.2 39.88 3.72-2.14.3 4.79-4.01-2.65Z"})),r.createElement("defs",null,r.createElement("clipPath",{id:"EmptyH_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),Fu=o.UI.Node.make((({notify:e})=>r.createElement(ja,{"aria-busy":"true","aria-live":"polite","data-testid":"plagiarism-empty",style:Bu,mount:e({kind:"plagiarismFeedSuccessMountAction"})},r.createElement(nn.F.div,{className:Nu},r.createElement($c,{style:Ru},"No plagiarism detected"),r.createElement("p",{className:Pu},"We compared your document to billions of web pages and academic papers and found no duplicate text."),r.createElement(rn.$,{variant:"secondary",style:ju,onClick:e({kind:"seeAllSuggestions"})},"See all suggestions")),r.createElement(nn.F.div,{className:Du},r.createElement(Mu,null))))),Ru={whiteSpace:"normal"},Bu={padding:`${Zt.Ks.rem(Yt.Jj)}`,display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center",gap:`${Zt.Ks.rem(Yt.Jj)}`,height:"100%",boxSizing:"border-box"},Nu=Zt.Ks.style({textAlign:"center",padding:`${Zt.Ks.rem(Yt.Jj)} ${Zt.Ks.rem(Yt.Jj)} 0 ${Zt.Ks.rem(Yt.Jj)}`}),Pu=Zt.Ks.style({margin:0,color:vn.A.TextBaseSubduedColor,fontSize:Zt.Ks.rem(.875),lineHeight:"1.5em",fontWeight:400}),Du=Zt.Ks.style({width:Zt.Ks.rem(6),height:Zt.Ks.rem(6),minWidth:Zt.Ks.rem(6),minHeight:Zt.Ks.rem(6)}),ju={default:{marginTop:Zt.Ks.rem(Yt.v$),alignSelf:"flex-start"}},Lu=e=>r.createElement(sn.hh,Object.assign({width:"36",height:"36",viewBox:"0 0 36 36"},e),r.createElement("rect",{width:"36",height:"36",rx:"18",fill:"#09646C",stroke:"none"}),r.createElement("path",{d:"M19.4062 21.6132C21.1214 21.2406 22.0558 20.2882 22.5 18.8303C20.636 18.8303 19.125 17.3433 19.125 15.5089C19.125 13.6745 20.636 12.1875 22.5 12.1875C24.364 12.1875 25.875 13.5803 25.875 15.5089C25.875 17.4375 25.5 22.3125 19.4062 23.8125V21.6132Z",fill:"white",stroke:"none"}),r.createElement("path",{d:"M10.4062 21.6132C12.1214 21.2406 13.0558 20.2882 13.5 18.8303C11.636 18.8303 10.125 17.3433 10.125 15.5089C10.125 13.6745 11.636 12.1875 13.5 12.1875C15.364 12.1875 16.875 13.5803 16.875 15.5089C16.875 17.4375 16.5 22.3125 10.4062 23.8125V21.6132Z",fill:"white",stroke:"none"}));function Uu(e){if(Number.isFinite(e)){if(0===e)return 100;if(1===e)return 0;{const t=e<.01?.01:e>.99?.99:e;return Math.round(100*(1-t))}}return 0}const $u=o.UI.Node.make((({view:e})=>r.createElement("footer",{className:Hu},r.createElement(Lu,null),r.createElement(nn.F.span,{className:Vu},r.createElement(nn.F.b,null,e("originality").pipe(O.T(Uu)),"% of your document")," ","matches text",e("sourceCount").pipe(O.T(s.fold((()=>" "),(e=>` in ${e} sources `)))),"on the web or in academic databases.")))),Hu=Zt.Ks.style({padding:`${Zt.Ks.rem(1.0625)} ${Zt.Ks.rem(1.1875)}`,backgroundColor:vn.A.BackgroundBaseSubdued,borderTop:`0.5px solid ${vn.A.BorderBaseSubduedColor}`,boxSizing:"border-box",display:"flex",alignItems:"center",flexDirection:"row",gap:Zt.Ks.rem(Yt.Jj)}),Vu=Zt.Ks.style({fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),color:Xt.Q.Text.Base.Subdued}),zu=Zt.Ks.keyframes({"0%":{transform:"translateX(-300px)"},"85%, 100%":{transform:"translateX(calc(100%))"}}),Wu=Zt.Ks.style({overflow:"hidden",position:"absolute",top:0,right:0,bottom:0,left:0}),Zu=e=>{var t,n,i;const r=Zt.Ks.color(null!==(t=e.overlayGradientCenterColor)&&void 0!==t?t:"rgba(0, 0, 0, 1)"),o=Zt.Ks.color(null!==(n=e.overlayGradientEndColor)&&void 0!==n?n:"rgba(255, 255, 255, 0)"),s=`rgba(${r.red()}, ${r.green()}, ${r.blue()}, ${r.alpha()})`,a=`rgba(${o.red()}, ${o.green()}, ${o.blue()}, ${o.alpha()})`;return Zt.Ks.style({width:"100%",height:"100%",pointerEvents:"none",mixBlendMode:null!==(i=e.overlayBlendMode)&&void 0!==i?i:"overlay",background:`linear-gradient(90deg,${a} 0px,${s} 120px,${s} 180px,${a} 300px)`,backgroundRepeat:"no-repeat",animationDelay:"300ms",animationDuration:"1.5s",animationName:zu,animationTimingFunction:"linear",animationIterationCount:"infinite"})},Gu=e=>r.createElement("div",{className:Wu},r.createElement("div",{className:Zu(e)})),Qu=()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#EmptyC_a)"},r.createElement("path",{fill:"#F9C7C7",stroke:"#0E101A",strokeMiterlimit:"10",d:"m29.48 18.98-3.27 21.53-22.38-9.64L18.9 14.03a6.1 6.1 0 0 1 10.58 4.95Z"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeMiterlimit:"10",d:"M13.54 51.78c7.04 0 12.75-5.68 12.75-12.69 0-7-5.7-12.69-12.75-12.69A12.72 12.72 0 0 0 .8 39.09c0 7 5.7 12.7 12.74 12.7Z"}),r.createElement("path",{fill:"#8ECBDE",stroke:"#0E101A",d:"M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"}),r.createElement("path",{stroke:"#0E101A",d:"M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"}),r.createElement("path",{fill:"#DDEFF5",d:"M20.7 45.37a9.51 9.51 0 0 1-5.1 3l-9.88-14.7a9.57 9.57 0 0 1 4.72-3.56L20.7 45.37Z"}),r.createElement("path",{stroke:"#0E101A",strokeMiterlimit:"10",d:"M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"}),r.createElement("path",{fill:"#F9C7C7",stroke:"#0E101A",strokeMiterlimit:"10",d:"m34.52 18.98 3.27 21.53 22.38-9.64L45.1 14.03a6.1 6.1 0 0 0-10.58 4.95Z"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeMiterlimit:"10",d:"M50.46 51.78c7.03 0 12.74-5.68 12.74-12.69 0-7-5.7-12.69-12.74-12.69A12.72 12.72 0 0 0 37.7 39.09c0 7 5.7 12.7 12.75 12.7Z"}),r.createElement("path",{fill:"#8ECBDE",stroke:"#0E101A",d:"M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"}),r.createElement("path",{stroke:"#0E101A",d:"M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"}),r.createElement("path",{fill:"#DDEFF5",d:"M57.61 45.37a9.51 9.51 0 0 1-5.1 3l-9.88-14.7a9.57 9.57 0 0 1 4.72-3.56l10.26 15.26Z"}),r.createElement("path",{stroke:"#0E101A",strokeMiterlimit:"10",d:"M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"}),r.createElement("path",{fill:"#F9C7C7",stroke:"#0E101A",strokeMiterlimit:"10",d:"M36.4 31.35h-8.8l1.25-8.24a3.17 3.17 0 0 1 3.15-2.7 3.2 3.2 0 0 1 3.15 2.7l1.25 8.24Z"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeMiterlimit:"10",d:"M32 36.18a4.57 4.57 0 1 0 .02-9.13 4.57 4.57 0 0 0-.02 9.13Z"}),r.createElement("path",{fill:"#0E101A",stroke:"#0E101A",strokeMiterlimit:"10",d:"M32 33.22a1.6 1.6 0 1 0 0-3.2 1.6 1.6 0 0 0 0 3.2Z"}),r.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"M61.64 2.7c-2.8.62-9.61 2.33-7.74 11.68 2.8.3 11.21-2.34 7.74-11.69Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M56.7 10.64 63.2.4"}),r.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"M6.44 10.94c-1.9 5.36-.2 10.75 12.3 9.39 0-2.26-3.44-10.28-12.3-9.39Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M15.3 17.14 2.9 8.72"}),r.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"M36.58 61.7c-.65-4.37-3.42-8.63-12.94-9.48.38 4.98 2.53 12.23 12.94 9.48Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"m27.5 55.34 12.16 8.22"})),r.createElement("defs",null,r.createElement("clipPath",{id:"EmptyC_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),qu=o.UI.Node.make((()=>r.createElement(ja,{"aria-busy":"true","aria-live":"polite",style:Ju,"data-testid":"plagiarism-loading"},r.createElement("div",{className:op},r.createElement("div",{className:sp},r.createElement($c,{style:Yu},"Checking for plagiarism..."),r.createElement("p",{className:ap},"We’re comparing your document to billions of web pages and academic papers.")),r.createElement("div",{className:lp},r.createElement(Qu,null))),r.createElement("div",{className:Xu},r.createElement("div",{className:ep},r.createElement(Gu,null),r.createElement("div",{className:tp}),r.createElement("div",{className:np}),r.createElement("div",{className:ip})),r.createElement("div",{className:rp}),r.createElement("div",{className:ep},r.createElement(Gu,null),r.createElement("div",{className:tp}),r.createElement("div",{className:np}),r.createElement("div",{className:ip})),r.createElement("div",{className:rp}),r.createElement("div",{className:ep},r.createElement(Gu,null),r.createElement("div",{className:tp}),r.createElement("div",{className:np}),r.createElement("div",{className:ip})),r.createElement("div",{className:rp}),r.createElement("div",{className:ep},r.createElement(Gu,null),r.createElement("div",{className:tp}),r.createElement("div",{className:np}),r.createElement("div",{className:ip})))))),Ju={padding:0},Yu={whiteSpace:"normal"},Xu=Zt.Ks.style({display:"flex",flexDirection:"column",margin:Zt.Ks.rem(1)}),ep=Zt.Ks.style({display:"flex",alignItems:"center",position:"relative",height:Zt.Ks.rem(2.25)}),tp=Zt.Ks.style({height:Zt.Ks.rem(.5),width:Zt.Ks.rem(.5),borderRadius:"50%",background:tn.NeutralGray10,marginRight:Zt.Ks.rem(1.25)}),np=Zt.Ks.style({height:Zt.Ks.rem(.5),width:Zt.Ks.rem(3.875),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10,marginRight:Zt.Ks.rem(Yt.Jj)}),ip=Zt.Ks.style({height:Zt.Ks.rem(.5),width:Zt.Ks.rem(7.875),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10}),rp=Zt.Ks.style({margin:`${Zt.Ks.rem(.5)} ${Zt.Ks.rem(1)}`,borderBottom:`1px solid ${Xt.Q.Border.Base.Subdued}`}),op=Zt.Ks.style({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:Zt.Ks.rem(Yt.Jj)}),sp=Zt.Ks.style({display:"flex",flexDirection:"column",marginRight:Zt.Ks.rem(2),justifyContent:"center"}),ap=Zt.Ks.style({margin:0,color:vn.A.TextBaseSubduedColor,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),fontWeight:400}),lp=Zt.Ks.style({width:Zt.Ks.rem(4),height:Zt.Ks.rem(4),minWidth:Zt.Ks.rem(4),minHeight:Zt.Ks.rem(4)}),cp=()=>r.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("circle",{cx:"32",cy:"32.5",r:"32",fill:"#F9EA9E"}),r.createElement("path",{d:"M48.3961 29.2909L39.2608 19.4111C38.9744 19.1247 38.6308 18.9529 38.2299 18.9529H26.775H15.3487C14.9191 18.9529 14.5182 19.1533 14.2605 19.497L6.32793 29.3482C5.8411 29.9496 5.8411 30.8946 6.35657 31.4674L25.744 53.8617C25.8586 54.0049 26.0304 54.1195 26.1736 54.2054C26.2022 54.2054 26.2022 54.234 26.2308 54.234C26.2881 54.2627 26.374 54.2913 26.4313 54.3199C26.4599 54.3199 26.4599 54.3486 26.4886 54.3486C26.5459 54.3772 26.6318 54.3772 26.689 54.3772C26.7177 54.3772 26.7463 54.3772 26.775 54.3772C26.8609 54.3772 26.9181 54.3772 27.0041 54.3486C27.0327 54.3486 27.0327 54.3486 27.0613 54.3486C27.1186 54.3486 27.2045 54.3199 27.2618 54.2913C27.2904 54.2913 27.3191 54.2913 27.3477 54.2627C27.405 54.234 27.4336 54.2054 27.4909 54.1767C27.5195 54.1481 27.5768 54.1481 27.6054 54.1195L27.6341 54.0908C27.6913 54.0336 27.7773 53.9763 27.8345 53.919L48.3961 31.5819C48.9688 30.9233 48.9688 29.8923 48.3961 29.2909Z",fill:"#303A68"}),r.createElement("path",{d:"M54.4671 27.4294L45.3318 17.5495C45.0454 17.2631 44.7018 17.0913 44.3008 17.0913H32.8459H21.4483C21.0187 17.0913 20.6178 17.2918 20.3601 17.6354L12.4275 27.4866C11.9407 28.088 11.9407 29.0331 12.4562 29.6058L31.8436 52.0002C32.13 52.3152 32.5023 52.487 32.8746 52.487C33.2469 52.487 33.6478 52.3438 33.9341 52.0288L54.4957 29.6917C55.0398 29.0617 55.0398 28.0594 54.4671 27.4294Z",fill:"url(#paint0_linear_4597_20798)"}),r.createElement("path",{d:"M45.3318 17.5495C45.0454 17.2631 44.7018 17.0913 44.3008 17.0913H32.8459H21.4483C21.0187 17.0913 20.6178 17.2918 20.3601 17.6354L12.4275 27.4866C11.9407 28.088 11.9407 29.0331 12.4562 29.6058L31.8436 52.0002C32.4164 52.6588 33.3614 52.6588 33.9341 52.0288L54.4957 29.6917C55.0685 29.0617 55.0685 28.0594 54.4957 27.458L45.3318 17.5495Z",stroke:"#303A68",strokeMiterlimit:"10"}),r.createElement("path",{d:"M28.6648 17.0913L24.3405 27.9735C24.1974 28.3458 24.1687 28.7753 24.3119 29.1762L32.8745 52.487",stroke:"#303A68",strokeMiterlimit:"10"}),r.createElement("path",{d:"M37.0554 17.0913L41.3796 27.9735C41.5228 28.3458 41.5514 28.7753 41.4083 29.1762L32.8457 52.487",stroke:"#303A68",strokeMiterlimit:"10"}),r.createElement("path",{d:"M54.8966 28.5461H12.0552",stroke:"#303A68",strokeMiterlimit:"10"}),r.createElement("path",{d:"M45.217 19.4683L44.8447 18.1796C44.8161 18.0937 44.7588 18.0364 44.6729 18.0078L43.3842 17.6355C43.1551 17.5782 43.1551 17.2346 43.3842 17.1487L44.6729 16.7764C44.7588 16.7477 44.8161 16.6905 44.8447 16.6045L45.217 15.3159C45.2743 15.0868 45.6179 15.0868 45.7039 15.3159L46.0761 16.6045C46.1048 16.6905 46.1621 16.7477 46.248 16.7764L47.5366 17.1487C47.7657 17.2059 47.7657 17.5496 47.5366 17.6355L46.248 18.0078C46.1621 18.0364 46.1048 18.0937 46.0761 18.1796L45.7039 19.4683C45.6179 19.726 45.2743 19.726 45.217 19.4683Z",fill:"white"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"paint0_linear_4597_20798",x1:"20.8994",y1:"41.0591",x2:"44.8759",y2:"17.0825",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#979DFF"}),r.createElement("stop",{offset:"0.9971",stopColor:"#FFCEDD"}))));var dp=n(20294),up=n(30451);const pp=e=>r.createElement(sn.hh,{className:e.className,fill:"none",viewBox:"0 0 20 20",width:20,height:20},r.createElement("path",{d:"M3 8.06034L6.15789 3.75H9.31579M3 8.06034L10.5 16.25M3 8.06034H7.34211M18 8.06034L14.8421 3.75H11.6842M18 8.06034L10.5 16.25M18 8.06034H13.2632M10.5 16.25L7.34211 8.06034M10.5 16.25L13.2632 8.06034M7.34211 8.06034H13.2632M7.34211 8.06034L9.31579 3.75M13.2632 8.06034L11.6842 3.75M11.6842 3.75H9.31579",stroke:"#7A3500",strokeLinecap:"round",strokeLinejoin:"round"}));const mp=e=>{var{children:t,style:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children","style"]);return r.createElement(rn.$,Object.assign({style:Object.assign(Object.assign({},n),{default:{backgroundColor:dp.Q1.Background.Premium.Default,color:dp.Q1.Text.Premium.Default},active:{backgroundColor:up.B7,color:dp.Q1.Text.Premium.Default},hovered:{backgroundColor:up.B7,color:dp.Q1.Text.Premium.Default}})},i),r.createElement(pp,null),null!=t?t:"Go Premium")},fp=o.UI.Node.make((({notify:e,state:t})=>{const{onMount:n}=(0,ns.y)(P.M((()=>e({kind:"plagiarismUphookShow"})())));return r.createElement(nn.F.Fragment,null,t.pipe(O.T((({isEligibleForFreeTrial:t,isGrammarlyPro:i})=>r.createElement(ja,{"aria-busy":"true","aria-live":"polite","data-testid":"plagiarism-uphook",style:hp},r.createElement(cp,null),r.createElement("div",{className:gp},r.createElement($c,{style:vp},"Plagiarism"),r.createElement("p",{className:bp},"Grammarly compares billions of web pages to your document and alerts you to passages that may need citations."),r.createElement("div",{className:yp},r.createElement(mp,{onClick:e({kind:"plagiarismUphookClick"}),mount:n,"data-testid":"plagiarism-uphook-button"},t.get()?"Try for Free":i.get()?"Get Pro":"Go Premium"),r.createElement(rn.$,{variant:"tertiary",onClick:e({kind:"plagiarismUphookDismiss"})},"Maybe later"))))))))})),hp={padding:Zt.Ks.rem(Wt.Jj),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:Zt.Ks.rem(Wt.v5),height:"100%",boxSizing:"border-box"},gp=Zt.Ks.style({textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingLeft:Zt.Ks.rem(Wt.Jj),paddingRight:Zt.Ks.rem(Wt.Jj),gap:Zt.Ks.rem(Wt.v$)}),vp={whiteSpace:"normal",padding:0},bp=Zt.Ks.style({margin:0,color:vn.A.TextBaseSubduedColor,fontSize:Zt.Ks.rem(.875),lineHeight:"1.5em",fontWeight:400}),yp=Zt.Ks.style({display:"flex",alignItems:"center",justifyContent:"center",gap:Zt.Ks.rem(.5)}),kp=e=>r.createElement(sn.hh,Object.assign({width:"76",height:"76",viewBox:"0 0 76 76"},e),r.createElement("rect",{width:"76",height:"76",rx:"38",fill:"#FFBF47",stroke:"none"}),r.createElement("path",{d:"M40.9687 45.6279C44.5895 44.8414 46.5622 42.8307 47.5 39.753C43.565 39.753 40.375 36.6137 40.375 32.7411C40.375 28.8686 43.565 25.7292 47.5 25.7292C51.435 25.7292 54.625 28.6697 54.625 32.7411C54.625 36.8126 53.8333 47.1042 40.9687 50.2709V45.6279Z",fill:"#7A3500",stroke:"none"}),r.createElement("path",{d:"M21.9687 45.6279C25.5895 44.8414 27.5622 42.8307 28.5 39.753C24.565 39.753 21.375 36.6137 21.375 32.7411C21.375 28.8686 24.565 25.7292 28.5 25.7292C32.435 25.7292 35.625 28.6697 35.625 32.7411C35.625 36.8126 34.8333 47.1042 21.9687 50.2709V45.6279Z",fill:"#7A3500",stroke:"none"})),wp=o.UI.Node.make((({notify:e,state:t})=>{const{onMount:n}=(0,ns.y)(P.M((()=>e({kind:"plagiarismUphookShow"})())));return r.createElement(nn.F.div,{className:Ep},t.pipe(O.T((({promptText:t,isEligibleForFreeTrial:i,isGrammarlyPro:o})=>r.createElement(r.Fragment,null,r.createElement(Ws.E,{as:"p"},r.createElement("span",null,t)),r.createElement(mp,{className:Sp,onClick:e({kind:"plagiarismUphookClick"}),mount:n,"data-testid":"plagiarism-uphook-button"},i.get()?"Try for Free":o.get()?"Get Pro":"Go Premium"),r.createElement(rn.$,{variant:"tertiary",onClick:e({kind:"plagiarismUphookDismiss"})},"Maybe later"))))))})),Ep=Zt.Ks.style({marginTop:Zt.Ks.rem(3),backgroundColor:Xt.Q.Background.Base.Subdued,textAlign:"center",borderRadius:Zt.Ks.rem(en.Dk),padding:Zt.Ks.rem(1),fontSize:Zt.Ks.rem(1),lineHeight:Zt.Ks.rem(1.5),display:"flex",alignItems:"center",flexDirection:"column"}),Sp=Zt.Ks.style({marginTop:Zt.Ks.rem(1),marginBottom:Zt.Ks.rem(.5),width:`calc(100% - ${Zt.Ks.rem(1)})`}),Cp=o.UI.Grid.make((({slots:e,view:t,notify:n})=>{const{onMount:i}=(0,ns.y)((0,a.flow)(P.M(n({kind:"plagiarismFeedMount"})),es.j(Yr.notifyFeedUnmount)));return r.createElement(ja,{"data-testid":"plagiarism-smart-uphook",style:xp,mount:i,"aria-live":"polite"},r.createElement(nn.F.div,{className:Ip},r.createElement($c,{style:Ap},"Plagiarism detected"),t("citationDropdown").pipe(O.T(s.fold(a.constNull,(e=>r.createElement(rd,{disabled:!0,className:Op,menuClassName:Mp,placeholder:e.placeholder,options:e.select.items,optionsGroupLabel:"Citation style",selection:e.select.items.find((t=>t.id===e.selectedItem)),onSelectionChange:()=>{},onOptionsExpanded:()=>{},label:e=>e.label,renderOption:e=>e.label})))))),r.createElement(Ns,{className:Kp},e.cardList),r.createElement("div",{className:Tp},r.createElement(kp,null),r.createElement(Kc.D,{as:"h2",variant:"heading-xsmall",marginTop:4},"Plagiarism detected"),r.createElement(Ws.E,{as:"p",marginTop:1},r.createElement(nn.F.b,null,t("originality").pipe(O.T(Uu)),"%"),r.createElement(nn.F.span,null," ","of your document matches text",t("sourceCount").pipe(O.T(s.fold((()=>" on the web or in academic databases."),(e=>` in ${e} sources`)))))),e.uphookPrompt))})),_p=o.UI.Knot.make(Cp,{cardList:Ou,uphookPrompt:wp}),xp={padding:0,display:"grid",gridTemplateRows:"auto 1fr auto",height:"100%"},Ap={whiteSpace:"normal",padding:0,color:Xt.Q.Text.Base.Subdued},Ip=Zt.Ks.style({display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)}`,paddingTop:Zt.Ks.rem(Yt.Jj)}),Kp=Zt.Ks.style({filter:"blur(4px)",pointerEvents:"none",userSelect:"none",$nest:{'&[data-overflow-top="true"]':{borderTop:`0.5px solid ${Xt.Q.Border.Base.Subdued}`}}}),Tp=Zt.Ks.style({padding:`${Zt.Ks.rem(Yt.Oj)} ${Zt.Ks.rem(Yt.Jj)} ${Zt.Ks.rem(Yt.Jj)} ${Zt.Ks.rem(Yt.Jj)}`,backgroundColor:Xt.Q.Background.Base.Default,borderTop:`1px solid ${Xt.Q.Border.Base.Subdued}`,boxSizing:"border-box",display:"flex",alignItems:"center",flexDirection:"column",gap:0,boxShadow:"0px -6px 31px 0px rgba(0, 0, 0, 0.25)",textAlign:"center"}),Op=Zt.Ks.style({width:"min-content",height:Zt.Ks.rem(1.5),$nest:{"& > button":{padding:`${Zt.Ks.rem(3*Yt.vW)} ${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(3*Yt.vW)} ${Zt.Ks.rem(Yt.v$)}`}}}),Mp=Zt.Ks.style({width:Zt.Ks.rem(9.75)}),Fp=e=>r.createElement(sn.hh,Object.assign({width:"88",height:"88",viewBox:"0 0 88 88",stroke:"none"},e),r.createElement("rect",{width:"88",height:"88",rx:"44",fill:"#EAFAF9",stroke:"none"}),r.createElement("path",{d:"M29 45.1111L38.2308 54L59 34",stroke:"#016A5E",strokeWidth:"6",strokeLinecap:"square",fill:"#EAFAF9"})),Rp=o.UI.Grid.make((({slots:e,notify:t})=>r.createElement(ja,{"aria-busy":"true","aria-live":"polite","data-testid":"plagiarism-smart-uphook-empty",mount:t({kind:"plagiarismFeedSuccessMountAction"}),style:Np},r.createElement("div",{className:Pp},r.createElement(Fp,null),r.createElement(Kc.D,{as:"h2",variant:"heading-xsmall",marginTop:4},"Nice job!"),r.createElement(Ws.E,{as:"p",marginTop:2},"No plagiarism was detected in your text.")),e.uphookPrompt))),Bp=o.UI.Knot.make(Rp,{uphookPrompt:wp}),Np={height:"100%",boxSizing:"border-box",textAlign:"center"},Pp=Zt.Ks.style({display:"flex",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center"}),Dp=o.UI.Grid.make((({slots:e,view:t,notify:n})=>{const{onMount:i}=(0,ns.y)((0,a.flow)(P.M(n({kind:"plagiarismFeedMount"})),es.j(Yr.notifyFeedUnmount)));return r.createElement(ja,{"data-testid":"plagiarism-non-empty",style:$p,mount:i,"aria-live":"polite"},r.createElement(nn.F.div,{className:Vp},r.createElement($c,{style:Hp},"Plagiarism detected",t("pageRange").pipe(O.T(s.fold(a.constNull,(e=>r.createElement(ad,{pageRange:e,onPageRangeHeaderMount:a.constVoid})))))),t("citationDropdown").pipe(O.T(s.fold(a.constNull,(e=>r.createElement(rd,{className:zp,menuClassName:Wp,placeholder:e.placeholder,options:e.select.items,optionsGroupLabel:"Citation style",selection:e.select.items.find((t=>t.id===e.selectedItem)),onSelectionChange:e=>n({kind:"sduiCitationDropdownSelect",actions:e.onClickActions,sourceId:e.id})(),onOptionsExpanded:e=>n({kind:"sduiCitationDropdownOpen",currentSourceId:null==e?void 0:e.id})(),label:e=>e.label,renderOption:e=>e.label})))))),r.createElement(Ns,{className:Up},e.cardList),e.footer)})),jp=o.UI.Knot.make(Dp,{cardList:Ou,footer:o.UI.Union.asOption($u)}),Lp=o.UI.Union.make("kind",{loadingState:qu,emptyState:Fu,nonEmptyState:jp,uphookState:fp,smartUphookState:_p,smartUphookEmptyState:Bp}),Up=Zt.Ks.style({$nest:{'&[data-overflow-top="true"]':{borderTop:`0.5px solid ${vn.A.BorderBaseSubduedColor}`}}}),$p={padding:0,display:"grid",gridTemplateRows:"auto 1fr auto",height:"100%"},Hp={whiteSpace:"normal",padding:0},Vp=Zt.Ks.style({display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)}`,paddingTop:Zt.Ks.rem(Yt.Jj)}),zp=Zt.Ks.style({width:"min-content",height:Zt.Ks.rem(1.5),$nest:{"& > button":{padding:`${Zt.Ks.rem(3*Yt.vW)} ${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(3*Yt.vW)} ${Zt.Ks.rem(Yt.v$)}`}}}),Wp=Zt.Ks.style({width:Zt.Ks.rem(9.75)}),Zp=o.UI.Node.make((({view:e})=>r.createElement(ja,{"data-testid":"settings"},e("content"))));var Gp=n(60918);const Qp=o.UI.Grid.make((({slots:e})=>r.createElement("div",{className:Xp},r.createElement("h2",{className:em},"Looks like you got signed out"),e.content,e.signIn))),qp=o.UI.Union.make("kind",{free:o.UI.Node.make((()=>r.createElement("p",{className:tm},"Sign back in to use personalized features and generative AI."))),premium:o.UI.Node.make((()=>r.createElement(r.Fragment,null,r.createElement("p",{className:tm},"You’re missing out on your Premium features. Sign back in to:"),r.createElement("ul",{className:nm},r.createElement("li",null,r.createElement(Gp.l,{className:im}),"Rewrite full sentences"),r.createElement("li",null,r.createElement(Gp.l,{className:im}),"Strike the right tone"),r.createElement("li",null,r.createElement(Gp.l,{className:im}),"Use generative AI"))))),business:o.UI.Node.make((()=>r.createElement(r.Fragment,null,r.createElement("p",{className:tm},"You’re missing out on your Grammarly Business features. Sign back in to:"),r.createElement("ul",{className:nm},r.createElement("li",null,r.createElement(Gp.l,{className:im}),"Rewrite full sentences"),r.createElement("li",null,r.createElement(Gp.l,{className:im}),"Strike the right tone"),r.createElement("li",null,r.createElement(Gp.l,{className:im}),"Access time-saving snippets"),r.createElement("li",null,r.createElement(Gp.l,{className:im}),"Maintain your brand voice"),r.createElement("li",null,r.createElement(Gp.l,{className:im}),"Use generative AI")))))}),Jp=o.UI.Union.asOption(o.UI.Node.make((({notify:e})=>r.createElement(rn.$,{name:"signBackIn",onClick:e({kind:mt.t.Kind.signInButtonClick})},"Sign in")))),Yp=o.UI.Knot.make(Qp,{content:qp,signIn:Jp}),Xp=Zt.Ks.style({padding:Zt.Ks.rem(Yt.Jj)}),em=Zt.Ks.style({fontSize:Zt.Ks.rem(1),lineHeight:"1.5em",margin:0}),tm=Zt.Ks.style({fontSize:Zt.Ks.rem(.875),lineHeight:"1.5em",margin:`0 0 ${Zt.Ks.rem(Yt.Jj)} 0`,color:Xt.Q.Text.Base.Subdued}),nm=Zt.Ks.style({fontSize:Zt.Ks.rem(.875),margin:`${Zt.Ks.rem(Yt.Jj)} 0`,paddingInlineStart:Zt.Ks.rem(2),listStyle:"none",position:"relative",$nest:{"& > li":{margin:`${Zt.Ks.rem(Yt.v$)} 0`}}}),im=Zt.Ks.style({width:Zt.Ks.rem(1.5),height:Zt.Ks.rem(1.5),position:"absolute",left:0,marginTop:Zt.Ks.rem(-.25)}),rm={padding:0,height:Zt.Ks.rem(14.625),overflow:"hidden",boxSizing:"border-box",maxHeight:"inherit",display:"flex",justifyContent:"center",alignItems:"center",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit"},om={height:"100%",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit"},sm=Zt.Ks.style(Object.assign(Object.assign({},om),{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"})),am=Zt.Ks.style(Object.assign(Object.assign({},om),{border:"none",margin:"0",width:"100%"})),lm=Zt.Ks.style({color:Xt.Q.Text.Base.Subdued,fontSize:Zt.Ks.rem(.75),fontFamily:"Inter",fontWeight:700,lineHeight:Zt.Ks.rem(1.125)}),cm=Zt.Ks.style({color:Xt.Q.Text.Base.Subdued,fontSize:Zt.Ks.rem(.75),fontFamily:"Inter",lineHeight:Zt.Ks.rem(1.125)}),dm=Zt.Ks.style({visibility:"hidden",position:"absolute"}),um=o.UI.Node.make((({state:e,view:t,notify:n})=>{const{notifyUnmount:i}=r.useContext(is),{ref:o,onMount:s}=(0,ns.y)((0,a.flow)(P.M((e=>n({kind:mt.t.Kind.mount,name:wt.e.skill,element:e})())),es.j((()=>i({kind:mt.t.Kind.unmount,name:wt.e.skill}))))),l=r.useMemo((()=>t("status").pipe(Ut.J(),m.p((([e,t])=>"loading"===e&&"ready"===t)),d.n((()=>o.pipe(B.oE,P.M((e=>e.focus()))))))),[o]);return Dt.R.useSubscriptionTo(l),r.createElement(ja,{"data-testid":"skill",style:t("size").pipe(O.T((e=>Object.assign(Object.assign({},rm),{height:e.height}))))},e.pipe(O.T((({status:e,srcUrl:t})=>"loading"===e||"ready"===e?r.createElement(r.Fragment,null,"loading"===e&&r.createElement("div",{className:sm},r.createElement(_d,null),r.createElement("span",{className:cm},"Loading...")),r.createElement("iframe",{"aria-busy":"loading"===e,key:t,src:t,ref:s,allow:`clipboard-write ${t}`,className:Zt.Ks.joinClasses([am,"loading"===e?dm:void 0])})):"error"===e?r.createElement("div",{className:sm},r.createElement(Lo,null),r.createElement("span",{className:lm},"Something went wrong"),r.createElement("span",{className:cm},"Please try again.")):(0,h.AS)(e)))))})),pm=o.UI.Union.asOption(um),mm=()=>r.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none","aria-hidden":!0,focusable:!1},r.createElement("g",{filter:"url(#filter0_d_8024_21772)"},r.createElement("path",{d:"M55.8852 31.8162C55.8852 45.1944 45.0401 56.0395 31.6619 56.0395C18.2837 56.0395 7.43851 45.1944 7.43851 31.8162C7.43851 18.438 18.2837 7.59281 31.6619 7.59281C45.0401 7.59281 55.8852 18.438 55.8852 31.8162Z",fill:"#F8E485",stroke:"#0E101A",strokeWidth:"0.923895"}),r.createElement("path",{d:"M21.7978 23.7215C22.8908 23.928 23.9428 23.2174 24.1473 22.1344C24.3519 21.0514 23.6317 20.0061 22.5387 19.7996C21.4456 19.5932 20.3937 20.3037 20.1892 21.3867C19.9846 22.4697 20.7048 23.515 21.7978 23.7215Z",fill:"#0E101A"}),r.createElement("path",{d:"M41.4843 27.4402C42.5774 27.6467 43.6293 26.9362 43.8339 25.8532C44.0384 24.7702 43.3182 23.7249 42.2252 23.5184C41.1322 23.3119 40.0803 24.0225 39.8757 25.1055C39.6711 26.1885 40.3913 27.2338 41.4843 27.4402Z",fill:"#0E101A"}),r.createElement("path",{d:"M24.2816 34.395C24.2816 34.395 29.559 33.4257 32.7662 37.1937L24.2816 34.395Z",fill:"#F8E485"}),r.createElement("path",{d:"M24.2816 34.395C24.2816 34.395 29.559 33.4257 32.7662 37.1937",stroke:"black",strokeWidth:"0.923895",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("mask",{id:"path-6-outside-1_8024_21772",maskUnits:"userSpaceOnUse",x:"8.96191",y:"33.5461",width:"27",height:"25",fill:"black"},r.createElement("rect",{fill:"white",x:"8.96191",y:"33.5461",width:"27",height:"25"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.6191 56.9757L22.7965 55.6378C14.6478 59.7692 7.64857 53.1582 10.6855 43.2215C11.3435 41.0674 11.0422 39.168 10.8093 37.6995C10.5628 36.1455 10.3928 35.0741 11.5172 34.6942C14.0431 33.8393 15.4863 36.7255 15.2158 42.3628C18.0521 41.5103 19.8629 40.6726 21.2853 40.0146C22.7461 39.3389 23.7971 38.8527 25.1283 38.7347C26.0211 38.6556 27.1853 39.1115 28.5046 39.6282C29.906 40.1771 31.4825 40.7945 33.0945 40.912C35.6349 41.0955 34.3174 45.1814 31.2708 44.3961C30.8221 44.2809 30.3668 44.0484 29.8691 43.7942C29.0231 43.3622 28.0546 42.8677 26.7878 42.7801C29.4925 44.3034 30.3464 45.5253 28.8772 48.4425C28.8772 48.4425 28.1305 47.4427 26.0982 46.98C29.0752 48.9892 29.2384 50.4874 27.7364 52.796C27.2302 52.3594 26.1822 51.7586 24.7362 51.689C29.8615 53.7446 26.4662 59.3702 21.6191 56.9757Z"})),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.6191 56.9757L22.7965 55.6378C14.6478 59.7692 7.64857 53.1582 10.6855 43.2215C11.3435 41.0674 11.0422 39.168 10.8093 37.6995C10.5628 36.1455 10.3928 35.0741 11.5172 34.6942C14.0431 33.8393 15.4863 36.7255 15.2158 42.3628C18.0521 41.5103 19.8629 40.6726 21.2853 40.0146C22.7461 39.3389 23.7971 38.8527 25.1283 38.7347C26.0211 38.6556 27.1853 39.1115 28.5046 39.6282C29.906 40.1771 31.4825 40.7945 33.0945 40.912C35.6349 41.0955 34.3174 45.1814 31.2708 44.3961C30.8221 44.2809 30.3668 44.0484 29.8691 43.7942C29.0231 43.3622 28.0546 42.8677 26.7878 42.7801C29.4925 44.3034 30.3464 45.5253 28.8772 48.4425C28.8772 48.4425 28.1305 47.4427 26.0982 46.98C29.0752 48.9892 29.2384 50.4874 27.7364 52.796C27.2302 52.3594 26.1822 51.7586 24.7362 51.689C29.8615 53.7446 26.4662 59.3702 21.6191 56.9757Z",fill:"#F9EA9E"}),r.createElement("path",{d:"M22.7965 55.6378L23.4901 56.2482L22.3788 54.8138L22.7965 55.6378ZM21.6191 56.9757L20.9255 56.3652L20.1291 57.2701L21.2098 57.804L21.6191 56.9757ZM10.6855 43.2215L11.5691 43.4916L11.5691 43.4914L10.6855 43.2215ZM10.8093 37.6995L9.89676 37.8442L10.8093 37.6995ZM11.5172 34.6942L11.8129 35.5694L11.8134 35.5693L11.5172 34.6942ZM15.2158 42.3628L14.293 42.3185L14.2303 43.6237L15.4817 43.2476L15.2158 42.3628ZM21.2853 40.0146L21.6732 40.8532L21.2853 40.0146ZM25.1283 38.7347L25.2099 39.655L25.2099 39.655L25.1283 38.7347ZM28.5046 39.6282L28.1677 40.4885L28.5046 39.6282ZM33.0945 40.912L33.0274 41.8334L33.0279 41.8335L33.0945 40.912ZM31.2708 44.3961L31.5014 43.5015L31.5006 43.5013L31.2708 44.3961ZM29.8691 43.7942L29.4489 44.6171L29.8691 43.7942ZM26.7878 42.7801L26.8516 41.8584L26.3345 43.5851L26.7878 42.7801ZM28.8772 48.4425L28.137 48.9953L29.0306 50.1918L29.7023 48.8581L28.8772 48.4425ZM26.0982 46.98L26.3032 46.0792L25.5813 47.7458L26.0982 46.98ZM27.7364 52.796L27.1329 53.4956L27.9339 54.1865L28.5108 53.2999L27.7364 52.796ZM24.7362 51.689L24.7806 50.7662L24.3923 52.5465L24.7362 51.689ZM22.103 55.0274L20.9255 56.3652L22.3126 57.5861L23.4901 56.2482L22.103 55.0274ZM9.80196 42.9515C8.21218 48.1532 9.20062 52.6777 11.8945 55.3599C14.6148 58.0683 18.8498 58.6746 23.2143 56.4619L22.3788 54.8138C18.5946 56.7323 15.2556 56.0989 13.1983 54.0505C11.1146 51.9759 10.1219 48.2266 11.5691 43.4916L9.80196 42.9515ZM9.89676 37.8442C10.1299 39.3143 10.3914 41.0217 9.80191 42.9516L11.5691 43.4914C12.2956 41.1131 11.9544 39.0216 11.7217 37.5547L9.89676 37.8442ZM11.2214 33.8189C10.8038 33.96 10.4382 34.1906 10.1678 34.5389C9.90133 34.8821 9.78146 35.2699 9.73319 35.6357C9.6443 36.3092 9.78198 37.1206 9.89676 37.8442L11.7217 37.5547C11.59 36.7243 11.5195 36.2231 11.5651 35.8774C11.5841 35.7336 11.6171 35.6852 11.6273 35.6721C11.6336 35.6641 11.6684 35.6183 11.8129 35.5694L11.2214 33.8189ZM16.1386 42.4071C16.2762 39.5396 15.9913 37.2198 15.2457 35.6893C14.8668 34.9115 14.3335 34.2665 13.6055 33.9095C12.8591 33.5435 12.0364 33.5431 11.221 33.819L11.8134 35.5693C12.2609 35.4178 12.5659 35.4576 12.792 35.5685C13.0365 35.6884 13.3207 35.957 13.5846 36.4985C14.1244 37.6068 14.4259 39.5487 14.293 42.3185L16.1386 42.4071ZM20.8974 39.1761C19.4867 39.8287 17.7228 40.6445 14.9499 41.478L15.4817 43.2476C18.3813 42.3761 20.2392 41.5165 21.6732 40.8532L20.8974 39.1761ZM25.0468 37.8144C23.5293 37.9489 22.3342 38.5115 20.8974 39.1761L21.6732 40.8532C23.1581 40.1662 24.065 39.7564 25.2099 39.655L25.0468 37.8144ZM28.8416 38.768C28.1917 38.5135 27.5321 38.2544 26.9197 38.0724C26.3145 37.8925 25.6671 37.7594 25.0467 37.8144L25.2099 39.655C25.4824 39.6308 25.8634 39.6861 26.3933 39.8436C26.9161 39.999 27.4982 40.2263 28.1677 40.4885L28.8416 38.768ZM33.1616 39.9905C31.7128 39.885 30.2669 39.3262 28.8416 38.768L28.1677 40.4885C29.5452 41.028 31.2521 41.7041 33.0274 41.8334L33.1616 39.9905ZM31.0402 45.2908C33.0568 45.8106 34.5818 44.6954 35.1311 43.3715C35.3991 42.7257 35.4703 41.9426 35.1461 41.2517C34.7967 40.5072 34.0764 40.0566 33.1611 39.9905L33.0279 41.8335C33.3828 41.8591 33.4505 41.9881 33.4734 42.0367C33.5214 42.139 33.5491 42.3628 33.4244 42.6633C33.1885 43.2319 32.5314 43.767 31.5014 43.5015L31.0402 45.2908ZM29.4489 44.6171C29.9222 44.8588 30.4736 45.1453 31.041 45.291L31.5006 43.5013C31.1706 43.4165 30.8114 43.2381 30.2892 42.9714L29.4489 44.6171ZM26.7241 43.7018C27.7815 43.7749 28.5974 44.1822 29.4489 44.6171L30.2892 42.9714C29.4488 42.5423 28.3277 41.9605 26.8516 41.8584L26.7241 43.7018ZM29.7023 48.8581C30.476 47.322 30.7784 45.9677 30.2472 44.7254C29.7453 43.5513 28.5923 42.7361 27.2412 41.9751L26.3345 43.5851C27.688 44.3475 28.3143 44.9048 28.5482 45.4518C28.7529 45.9305 28.7476 46.6458 28.052 48.0269L29.7023 48.8581ZM25.8931 47.8809C26.7894 48.0849 27.3747 48.4005 27.7208 48.6422C27.895 48.7639 28.0114 48.8688 28.078 48.9349C28.1114 48.968 28.1324 48.9914 28.1419 49.0024C28.1466 49.008 28.1485 49.0103 28.1476 49.0093C28.1472 49.0087 28.1461 49.0073 28.1443 49.005C28.1434 49.0039 28.1424 49.0025 28.1411 49.0009C28.1405 49.0001 28.1399 48.9992 28.1392 48.9983C28.1388 48.9978 28.1385 48.9973 28.1381 48.9969C28.1379 48.9966 28.1376 48.9962 28.1375 48.9961C28.1372 48.9957 28.137 48.9953 28.8772 48.4425C29.6174 47.8896 29.6171 47.8892 29.6168 47.8888C29.6167 47.8887 29.6164 47.8883 29.6162 47.888C29.6158 47.8875 29.6154 47.8869 29.6149 47.8863C29.614 47.8851 29.6131 47.8839 29.6121 47.8826C29.6102 47.88 29.608 47.8772 29.6056 47.8742C29.6009 47.868 29.5953 47.861 29.589 47.853C29.5762 47.8371 29.56 47.8175 29.5404 47.7948C29.5011 47.7493 29.4479 47.691 29.3795 47.6232C29.2426 47.4874 29.0453 47.3134 28.7788 47.1273C28.2435 46.7535 27.4393 46.3378 26.3032 46.0792L25.8931 47.8809ZM28.5108 53.2999C29.2971 52.0914 29.8145 50.856 29.494 49.5548C29.1821 48.2882 28.1416 47.2445 26.615 46.2142L25.5813 47.7458C27.0317 48.7247 27.5614 49.4347 27.6999 49.9967C27.8297 50.524 27.6778 51.192 26.962 52.2922L28.5108 53.2999ZM24.6918 52.6119C25.9073 52.6703 26.7634 53.1768 27.1329 53.4956L28.3399 52.0964C27.6971 51.5419 26.457 50.8468 24.7806 50.7662L24.6918 52.6119ZM21.2098 57.804C23.9894 59.1771 26.6084 58.3216 27.7106 56.4746C28.256 55.5607 28.3939 54.4321 27.945 53.3617C27.4985 52.297 26.5256 51.4112 25.0801 50.8315L24.3923 52.5465C25.5094 52.9946 26.0341 53.5828 26.241 54.0763C26.4455 54.564 26.3926 55.0775 26.1239 55.5277C25.5981 56.4088 24.0959 57.1688 22.0283 56.1473L21.2098 57.804Z",fill:"black",mask:"url(#path-6-outside-1_8024_21772)"})),r.createElement("defs",null,r.createElement("filter",{id:"filter0_d_8024_21772",x:"0.331055",y:"5.4856",width:"57.6621",height:"57.9946",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dx:"-5",dy:"5"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.776471 0 0 0 0 0.796078 0 0 0 0 0.870588 0 0 0 1 0"}),r.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_8024_21772"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_8024_21772",result:"shape"})))),fm=o.UI.Node.make((({notify:e})=>{const{onMount:t}=(0,ns.y)(P.M(e({kind:mt.t.Kind.toneReportLoadedEmptyMount})));return r.createElement(ja,{mount:t,key:"tone-report-empty","data-testid":"tone-report-empty",style:hm},r.createElement(mm,null),r.createElement($c,{style:gm},"We couldn't detect a tone"),r.createElement("p",{className:vm},"To see an analysis of your tone, write more and check again."),r.createElement(rn.$,{variant:"secondary",onClick:e({kind:mt.t.Kind.toneReportBackToSuggestionsButtonClick})},"See all suggestions"))})),hm={padding:`${Zt.Ks.rem(Yt.Jj)}`,display:"flex",justifyContent:"center",alignItems:"center",gap:`${Zt.Ks.rem(Yt.Jj)}`,boxSizing:"border-box"},gm={whiteSpace:"normal",padding:0},vm=Zt.Ks.style({margin:0,color:vn.A.TextBaseSubduedColor,fontSize:Zt.Ks.rem(.875),lineHeight:"1.5em",fontWeight:400,textAlign:"center"});var bm=n(37099);const ym=({onUphookMount:e,onUphookClick:t,uphookTitle:n,uphookEmojiId:i})=>{const{onMount:o}=(0,ns.y)(P.M((t=>e(t))));return r.createElement(nn.F.div,{className:km,mount:o,key:"tone-report-footer"},r.createElement(nn.F.div,{className:wm},(0,a.pipe)(i,s.map((e=>r.createElement(bm.UV,{id:e,className:Em,key:"uphookEmoji"}))),s.getOrElse((()=>r.createElement(r.Fragment,null)))),r.createElement("div",{className:Sm},n)),r.createElement(mp,{onClick:t,"data-testid":"tone-report-tone-suggestion-info-cta"},"Unlock Premium"))},km=Zt.Ks.style({borderTop:`1px solid ${vn.A.FooterBorder}`,marginTop:Zt.Ks.rem(.5),paddingTop:Zt.Ks.rem(.75),display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center"}),wm=Zt.Ks.style({display:"flex",alignItems:"center",flexBasis:Zt.Ks.percent(45)}),Em=Zt.Ks.style({padding:Zt.Ks.rem(Yt.sp),marginRight:Zt.Ks.rem(Yt.CN),width:Zt.Ks.rem(Yt.C2),height:Zt.Ks.rem(Yt.C2)}),Sm=Zt.Ks.style({paddingTop:Zt.Ks.rem(Yt.sp),marginRight:Zt.Ks.rem(Yt.sp),fontSize:Zt.Ks.rem(.875)});var Cm=n(40046);const _m=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#646B81",d:"M9.2 8a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0M9.2 12.8a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0M9.2 3.2a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0"})))),xm=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",d:"M13.5 8.635q-.001.137-.047.265l-1.797 3.607-.008.016-.007.017c-.116.284-.371.46-.641.46H6.4c-.362 0-.7-.316-.7-.77V7.578c0-.218.086-.417.215-.553l3.589-3.796.264.279c.08.09.128.202.132.321l-.012.143-.523 2.663-.117.597H13.2c.138 0 .3.13.3.346zM3.6 7.23c.14 0 .3.128.3.346v5.077c0 .218-.16.346-.3.346h-.8c-.14 0-.3-.128-.3-.346V7.577c0-.218.16-.346.3-.346z"})))),Am=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",d:"M2.5 7.865c0-.09.017-.181.047-.265l1.797-3.607.008-.016.007-.017c.116-.283.371-.46.641-.46h4.6c.362 0 .7.316.7.77v4.653a.8.8 0 0 1-.215.553l-3.589 3.796-.264-.279a.5.5 0 0 1-.132-.322l.012-.142.523-2.663.117-.597H2.8c-.138 0-.3-.13-.3-.346zm9.9 1.404c-.14 0-.3-.128-.3-.346V3.846c0-.218.16-.346.3-.346h.8c.14 0 .3.128.3.346v5.077c0 .218-.16.346-.3.346z"}))));function Im(e){var{children:t,onOpenChange:n,title:i,placement:o="bottom end"}=e,l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children","onOpenChange","title","placement"]);return r.createElement(Ja.j.Consumer,null,(({portalContainer:e})=>r.createElement(nn.F.Fragment,null,e.view(s.fold(a.constNull,(e=>r.createElement(ru,Object.assign({},l,{portalContainer:e,placement:o,title:i,onOpenChange:e=>null==n?void 0:n(e)}),t)))))))}const Km=({status:e,description:t})=>{const[n,i]=e===Kt.On?[Om,Rm]:e===Kt.Off?[Mm,Bm]:(0,h.AS)(e),o=(0,a.pipe)(t,s.fold((()=>r.createElement(sn.In.Info,{className:i})),(e=>r.createElement(Cm.m_,{title:r.createElement("div",{className:Pm},e)},r.createElement(sn.In.Info,{className:i})))));return r.createElement("div",{className:n},r.createElement("div",{className:Nm},e,"-BRAND ",o))},Tm={display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:Zt.Ks.rem(Yt.or),paddingRight:Zt.Ks.rem(Yt.or),paddingLeft:Zt.Ks.rem(Yt.or),textTransform:"uppercase",letterSpacing:"0.04em",fontSize:Zt.Ks.rem(Yt.v$+Yt.sp),lineHeight:Zt.Ks.rem(Yt.Jj)},Om=Zt.Ks.style(Tm,{background:vn.A.OnBrandBadge,color:vn.A.OnBrandBadgeLabel}),Mm=Zt.Ks.style(Tm,{background:vn.A.OffBrandBadge,color:vn.A.OffBrandBadgeLabel}),Fm={width:Zt.Ks.rem(Yt.v$+Yt.sp),minWidth:"unset",minHeight:"unset",paddingLeft:Zt.Ks.rem(Yt.v$)},Rm=Zt.Ks.style(Fm,{stroke:vn.A.OnBrandBadgeIcon,fill:vn.A.OnBrandBadgeIcon}),Bm=Zt.Ks.style(Fm,{stroke:vn.A.OffBrandBadgeIcon,fill:vn.A.OffBrandBadgeIcon}),Nm=Zt.Ks.style({display:"flex",justifyContent:"center",whiteSpace:"nowrap"}),Pm=Zt.Ks.style({maxWidth:Zt.Ks.rem(65*Yt.or),textAlign:"left",whiteSpace:"normal",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"}),Dm=({tone:e,index:t,onReportPositiveFeedback:n,onReportNegativeFeedback:i})=>{const o=(0,a.pipe)(e.brandToneInfo,s.fold((()=>r.createElement(Cm.m_,{title:`${e.prevalence} intensity`},r.createElement("div",{className:zm},[0,1,2,3,4].map((t=>{const n=t/5<=e.confidence;return r.createElement("div",{key:`${e.name}-intensity-${t}`,className:n?Zm:Wm})}))))),(({status:e,description:t})=>r.createElement(Km,{status:e,description:t}))));return r.createElement("div",{"data-testid":"tone-report-tone","data-tone-report-tone-name":e.name,role:`tone-${t}-${e.name}`,className:Lm},r.createElement("div",{className:Um},r.createElement(bm.UV,{id:e.emojiId,className:$m}),r.createElement("span",{className:Hm},e.name)),r.createElement("div",{className:Vm},o),r.createElement(Im,{"aria-label":`${e.name} Tone Actions Menu`,placement:"left",label:r.createElement(_m,{className:Gm}),onAction:e=>{switch(e){case"likeTone":return n();case"dislikeTone":return i();default:return}}},r.createElement(ou.wn,{title:"Help us improve"},r.createElement(ou.q7,{key:"likeTone",textValue:"likeTone"},r.createElement(xm,{className:Qm}),"Tone seems correct"),r.createElement(ou.q7,{key:"dislikeTone",textValue:"dislikeTone"},r.createElement(Am,{className:Qm}),"Tone seems incorrect"))))},jm={height:Zt.Ks.rem(5*Yt.vW),width:Zt.Ks.rem(5*Yt.vW),borderRadius:Zt.Ks.percent(50),marginRight:Zt.Ks.rem(3*Yt.vW)},Lm=Zt.Ks.style({display:"grid",alignItems:"center",gridTemplateColumns:"0.6fr 0.5fr auto",height:Zt.Ks.rem(2.5)}),Um=Zt.Ks.style({display:"flex",alignItems:"center",flexBasis:Zt.Ks.percent(45)}),$m=Zt.Ks.style({padding:Zt.Ks.rem(Yt.sp),marginRight:Zt.Ks.rem(Yt.CN),width:Zt.Ks.rem(Yt.C2),height:Zt.Ks.rem(Yt.C2)}),Hm=Zt.Ks.style({textTransform:"capitalize",fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125)}),Vm=Zt.Ks.style({display:"inline-flex"}),zm=Zt.Ks.style({display:"flex"}),Wm=Zt.Ks.style(jm,{backgroundColor:vn.A.IndicatorDotDefault,borderStyle:"solid",borderColor:vn.A.Blue40,borderWidth:"1px"}),Zm=Zt.Ks.style(jm,{backgroundColor:vn.A.IndicatorDotActive,borderStyle:"solid",borderColor:vn.A.IndicatorDotActive,borderWidth:"1px"}),Gm=Zt.Ks.style({padding:Zt.Ks.rem(Yt.or)}),Qm=Zt.Ks.style({marginRight:Zt.Ks.rem(Yt.v$)}),qm=o.UI.Node.make((({state:e,view:t,notify:n})=>{const{onMount:i}=(0,ns.y)(P.M((()=>n({kind:mt.t.Kind.toneReportLoadedNonEmptyMount})())));return r.createElement(ja,{mount:i,key:"tone-report","data-testid":"tone-report"},r.createElement("div",{className:Jm},r.createElement(nn.F.div,{className:Ym},e.pipe(O.T((e=>function({tones:e,onBrandTitleEnabled:t}){const n=(0,a.pipe)(e,C.pb((e=>s.isSome(e.brandToneInfo)&&e.brandToneInfo.value.status===Kt.Off)),s.map(C.Tj((e=>e.confidence))),s.map(C.TS(0,H.max(H.ordNumber)))),i=e.filter((e=>s.isSome(e.brandToneInfo)&&e.brandToneInfo.value.status===Kt.On)).length;return s.isSome(n)&&n.value>.75?"Your tone may sound off to readers":s.isSome(n)?"Something sounds slightly off...":i>0&&t?"You're on-brand! Great job!":i>0?"Your writing sounds clear and aligned. Great job!":"How this may sound to readers:"}(e)))))),r.createElement(nn.F.div,{className:Xm,"data-testid":"tone-report-items"},t("tones").pipe(O.T((e=>e.map(((e,t)=>r.createElement(Dm,{key:e.name,index:t,tone:e,onReportPositiveFeedback:n({kind:mt.t.Kind.toneReportToneLikeButtonClick,toneName:e.name}),onReportNegativeFeedback:n({kind:mt.t.Kind.toneReportToneDislikeButtonClick,toneName:e.name})}))))))),t("uphookInfo").pipe(O.T(s.fold((()=>null),(({title:e,emojiId:t})=>r.createElement(ym,{key:"tone-report-footer",uphookTitle:e,uphookEmojiId:t,onUphookMount:n({kind:mt.t.Kind.toneReportFooterUphookPremiumButtonShow}),onUphookClick:n({kind:mt.t.Kind.toneReportFooterUphookPremiumButtonClick})}))))))})),Jm=Zt.Ks.style({display:"flex",alignItems:"flex-start"}),Ym=Zt.Ks.style({flexGrow:1,fontStyle:"normal",fontWeight:"bold",fontSize:Zt.Ks.rem(1),lineHeight:Zt.Ks.rem(1.5)}),Xm=Zt.Ks.style({marginTop:Zt.Ks.rem(.5)}),ef=o.UI.Node.make((()=>r.createElement(ja,{style:tf},r.createElement(_d,null),r.createElement("span",{className:nf},"Loading...")))),tf={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:Zt.Ks.rem(9.5)},nf=Zt.Ks.style({color:Xt.Q.Text.Base.Subdued,fontSize:Zt.Ks.rem(.75),fontFamily:"Inter",lineHeight:Zt.Ks.rem(1.125)}),rf=o.UI.Union.make("kind",{loading:ef,loadedEmpty:fm,loadedNonEmpty:qm}),of=1.375;const sf=e=>{var{text:t,onChange:n,placeholder:i,disabled:o,className:s,onFocus:a,onBlur:l,autofocus:c,onKeyUpEscape:d}=e,u=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["text","onChange","placeholder","disabled","className","onFocus","onBlur","autofocus","onKeyUpEscape"]);const[p,m]=r.useState(null);return r.useEffect((()=>{p&&void 0!==c&&p.focus()}),[c,p]),r.createElement(cs,{className:s,style:{height:Zt.Ks.rem(of)},name:"text-input-iframe"},r.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .textBox {\n        box-sizing: border-box;\n        border-radius: ${Zt.Ks.rem(en.KD)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${Zt.Ks.rem(.875)};\n        font-weight: 400;\n        color: ${as};\n      }\n      .textBox::placeholder {\n        color: ${ls};\n      }\n      .textBox:focus {\n        outline: none;\n      }\n      `.replace(/\s/g,"")}}),r.createElement("input",Object.assign({},u,{className:"textBox",style:{lineHeight:Zt.Ks.rem(of)},value:t,ref:m,onChange:e=>n(e.target.value),placeholder:i,disabled:o,onFocus:()=>null==a?void 0:a(),onBlur:()=>null==l?void 0:l(),onKeyUp:e=>{d&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),d())}})))};var af=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const lf=e=>{var{text:t,onChange:n,placeholder:i,disabled:o,className:s,onFocus:a,onBlur:l,autofocus:c,onKeyUpEscape:d}=e,u=af(e,["text","onChange","placeholder","disabled","className","onFocus","onBlur","autofocus","onKeyUpEscape"]);const[p,m]=r.useState(null);return r.useEffect((()=>{p&&void 0!==c&&p.focus()}),[c,p]),r.createElement("div",{className:s,style:{height:Zt.Ks.rem(of)}},r.createElement("input",Object.assign({},u,{className:cf,style:{lineHeight:Zt.Ks.rem(of)},value:t,ref:m,onChange:e=>n(e.target.value),placeholder:i,disabled:o,onFocus:()=>null==a?void 0:a(),onBlur:()=>null==l?void 0:l(),onKeyUp:e=>{d&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),d())}})))},cf=Zt.Ks.style({boxSizing:"border-box",borderRadius:Zt.Ks.rem(en.KD),overflowY:"auto",width:"100%",height:"100%",border:"none",padding:0,background:"transparent",resize:"none",fontFamily:"Inter, sans-serif",fontSize:Zt.Ks.rem(.875),fontWeight:400,color:vn.A.TextBaseDefault,$nest:{"&::placeholder":{color:vn.A.TextBaseSubduedColor},"&:focus":{outline:"none"}}}),df={padding:`${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(Yt.or+Yt.Oh)} ${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(Yt.CN)}`,border:`1px solid ${Xt.Q.Background.Neutral.Default}`,borderRadius:Zt.Ks.rem(en.KD),width:Zt.Ks.rem(15),height:Zt.Ks.rem(2),boxSizing:"border-box",position:"relative"},uf={position:"absolute",right:Zt.Ks.rem(Yt.v$),top:Zt.Ks.rem(.1875),border:"none",background:"transparent",display:"flex",alignItems:"center",cursor:"pointer",width:Zt.Ks.rem(1.5),height:Zt.Ks.rem(1.5),padding:0},pf=Object.assign(Object.assign({},(0,gn.QD)(1.5)),{$nest:{"& svg":{stroke:Xt.Q.Text.Base.Subdued}}}),mf={padding:Zt.Ks.rem(Yt.or),background:"white",boxShadow:ts.R$.boxShadow,border:ts.R$.border,borderRadius:Zt.Ks.rem(en.KD),width:Zt.Ks.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:Zt.Ks.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},ff={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.375),color:Xt.Q.Text.Base.Default,padding:`${Zt.Ks.rem(.1875)} ${Zt.Ks.rem(Yt.CN)}`,borderRadius:Zt.Ks.rem(en.KD),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{color:Xt.Q.Text.Base.Inverse,background:tn.NeutralGray40},"& mark":{backgroundColor:"unset",fontWeight:"bold"},"&:hover > mark":{color:Xt.Q.Text.Base.Inverse}}},hf={width:Zt.Ks.percent(100),border:"none"},gf=Zt.Ks.style(df),vf=Zt.Ks.style(uf),bf=Zt.Ks.style(pf),yf=Zt.Ks.style(mf),kf=Zt.Ks.style(ff),wf=Zt.Ks.style({whiteSpace:"pre"}),Ef=Zt.Ks.style(hf),Sf=(0,Qs.yY)((e=>{var{useIframeWrapper:t}=e,n=af(e,["useIframeWrapper"]);return t?r.createElement(sf,Object.assign({},n)):r.createElement(lf,Object.assign({},n))})),Cf=new Vc.C(999999);function _f({text:e,placeholder:t,clearButton:n,selectOnBlur:i,label:o,options:s,className:a,filterBy:c=((e,t)=>o(e).toLowerCase().includes(t.toLowerCase())),onInputChange:d,onSelectionChange:u}){const[p,f]=r.useState(!1),h=r.useRef(Cf.newId().toString()),[g,v]=r.useState(null),[b,y]=r.useState(null),{styles:k,attributes:w}=(0,Hc.E)(g,b,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),E=s.filter((t=>c(t,e.trim()))),S=p&&E.length>0,C=r.useMemo((()=>new l.B7),[]);Dt.R.useSubscriptionTo(C.pipe(Lt.B(50),m.p((e=>!e)),P.M((()=>{f(!1),i&&""!==e.trim()&&u(E.length>0?E[0]:null)}))));const _=r.useContext(vs.D);return r.createElement("div",Object.assign({},(0,Qs.Ly)(gf,a),{ref:v}),r.createElement(Sf,{className:Ef,placeholder:t,onChange:d,text:e,onFocus:()=>{f(!0),C.next(!0)},onBlur:()=>C.next(!1),role:"combobox","aria-haspopup":"listbox","aria-owns":h.current,"aria-expanded":S,useIframeWrapper:_.view((e=>e.useIframeTextfieldWrapper))}),""!==e.trim()&&!!n&&r.createElement("button",{onClick:(0,Wc.e)((()=>u(null))),className:vf,"aria-label":"Clear",type:"button"},r.createElement(sn.In.Close,{className:bf})),S&&r.createElement("div",Object.assign({ref:y,style:k.popper},w.popper,{className:yf,onFocus:()=>C.next(!0),onBlur:()=>C.next(!1)}),r.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:h.current},E.map((t=>{const n=o(t);return r.createElement("li",{key:n,"aria-label":n,role:"option"},r.createElement("button",{className:kf,onClick:(0,Wc.e)((()=>{u(t),f(!1)}))},r.createElement(xf,{label:n,pattern:e})))})))))}const xf=({label:e,pattern:t})=>{if(""===t.trim())return r.createElement(r.Fragment,null,e);const n=t.trim(),i=e.split(new RegExp(n,"i")),o=(0,a.pipe)(i.map(((e,t)=>({token:e,mark:!1,end:t*n.length+i.slice(0,t).join("").length+e.length}))),S.ft({token:"",mark:!0,end:0})).map(((t,i,r)=>t.mark&&i>0?{token:e.slice(r[i-1].end,r[i-1].end+n.length),mark:!0}:{token:t.token,mark:!1})).filter((e=>e.token.length>0));return r.createElement(r.Fragment,null,o.map(((e,t)=>e.mark?r.createElement("mark",{key:t,className:wf},e.token):r.createElement("span",{key:t,className:wf},e.token))))},Af=e=>r.createElement(sn.hh,Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},e),r.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:".857",d:"m4 4 2 2m2 2L6 6m0 0 2-2M6 6 4 8"})),If=({kind:e,label:t,description:n,iconUrl:i,isUnselectable:o,onToggle:s})=>r.createElement(Cm.m_,{title:n},r.createElement("button",{disabled:"disabled"===e,className:Kf,"data-kind":e,"data-unselectable":o,onClick:(0,Wc.e)((()=>{"disabled"!==e&&s("selected"!==e&&("unselected"===e||(0,h.AS)(e)))}))},i?r.createElement("img",{src:i,className:Of}):null,r.createElement("span",null,t),o&&"selected"===e?r.createElement(Af,{className:Tf}):null)),Kf=Zt.Ks.style({display:"flex",alignItems:"center",justifyContent:"center",gap:Zt.Ks.rem(Yt.v$),padding:`${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(.625)} ${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(Yt.v$)}`,background:Xt.Q.Background.Base.Default,color:Xt.Q.Text.Base.Default,border:`${Zt.Ks.px(1)} solid transparent`,borderRadius:Zt.Ks.rem(1.875),fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.375),boxSizing:"border-box",$nest:{"&[data-kind='unselected']":{border:`${Zt.Ks.px(1)} solid ${tn.NeutralGray10}`,color:Xt.Q.Text.Base.Default,cursor:"pointer"},"&[data-kind='disabled']":{border:`${Zt.Ks.px(1)} solid ${tn.NeutralGray10}`,color:tn.NeutralGray40,cursor:"default"},"&[data-kind='selected']":{border:`${Zt.Ks.px(2)} solid ${vn.A.BrandGreen60}`,padding:`${Zt.Ks.rem(.1875)} ${Zt.Ks.rem(.5625)} ${Zt.Ks.rem(.1875)} ${Zt.Ks.rem(.4375)}`,position:"relative",$nest:{"&[data-unselectable='true']":{cursor:"pointer"}}}}}),Tf=Zt.Ks.style(Object.assign(Object.assign({position:"absolute",top:Zt.Ks.rem(-(Yt.or+Yt.vW)),right:Zt.Ks.rem(-(Yt.or+Yt.vW)),boxSizing:"content-box"},(0,gn.QD)(.75)),{border:`${Zt.Ks.rem(.125)} solid white`,borderRadius:"50%",background:vn.A.BrandGreen60,display:"flex",alignItems:"center",justifyContent:"center"})),Of=Zt.Ks.style({width:Zt.Ks.rem(1.25),height:Zt.Ks.rem(1.25)}),Mf=({chips:e,className:t,onToggle:n})=>r.createElement(nn.F.div,Object.assign({},(0,Qs.Ly)(Ff,t)),e.pipe(O.T(S.Tj((e=>r.createElement(If,Object.assign({},e,{onToggle:t=>n(e,t),key:e.label}))))))),Ff=Zt.Ks.style({display:"flex",flexWrap:"wrap",gap:Zt.Ks.rem(Yt.or),$nest:{div:{marginTop:Zt.Ks.rem(Yt.or)}}}),Rf={margin:0,padding:Zt.Ks.rem(Yt.Jj),gap:Zt.Ks.rem(Yt.Jj),boxSizing:"border-box",minHeight:"100%"},Bf={color:Xt.Q.Text.Base.Default,fontWeight:700,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.375),margin:0},Nf={color:Xt.Q.Text.Base.Subdued,fontWeight:400,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125)},Pf={marginTop:Zt.Ks.rem(Yt.v$)},Df={color:tn.NeutralGray60,fontWeight:400,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125)},jf={display:"flex",justifyContent:"flex-end",gap:Zt.Ks.rem(Yt.v$),flexGrow:1,alignItems:"flex-end"},Lf={fontSize:Zt.Ks.important(Zt.Ks.rem(.875))},Uf={marginTop:Zt.Ks.rem(Yt.v$)},$f={marginTop:Zt.Ks.rem(Yt.v$)},Hf={display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$)},Vf={width:Zt.Ks.rem(1.5),height:Zt.Ks.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center"},zf=Zt.Ks.style({display:"grid",minHeight:"100%",gridTemplateRows:"minmax(min-content, auto)"}),Wf=Rf,Zf=Zt.Ks.style(Bf),Gf=Zt.Ks.style(Pf),Qf=Zt.Ks.style(Nf),qf=Zt.Ks.style(Df),Jf=Zt.Ks.style(jf),Yf=Zt.Ks.style(Lf),Xf=Zt.Ks.style(Lf),eh=Zt.Ks.style(Uf),th=Zt.Ks.style($f),nh=Zt.Ks.style(Hf),ih=Zt.Ks.style(Vf),rh=o.UI.Node.make((({view:e,state:t,notify:n})=>r.createElement("div",{className:zf},r.createElement(ja,{style:Wf,"data-testid":"voice-profile"},r.createElement("section",null,r.createElement("h2",{className:Zf},"Formality"),r.createElement(Mf,{className:Gf,chips:e("styles").pipe(O.T(S.Tj((e=>Object.assign(Object.assign({},e),{isUnselectable:!1}))))),onToggle:e=>n({kind:mt.t.Kind.styleToggleClick,id:e.id})()})),r.createElement("section",null,r.createElement("h2",{className:Zf},"Tone"),r.createElement(nn.F.div,{className:Qf},"Select up to"," ",e("maxSelectableTones").pipe(O.T((e=>{return t=e,Number.isInteger(t)&&t>=0&&t<10?function(e){return["zero","one","two","three","four","five","six","seven","eight","nine"][e]}(e):`${e}`;var t})))),r.createElement(Mf,{className:Gf,chips:e("tones").pipe(O.T(S.Tj((e=>Object.assign(Object.assign({},e),{isUnselectable:!0}))))),onToggle:(e,t)=>n({kind:mt.t.Kind.toneToggleClick,selected:t,id:e.id})()})),t.pipe(O.T((e=>(0,a.pipe)(e.roles,C._S,s.fold(a.constNull,(t=>r.createElement("section",null,r.createElement("h2",{className:Zf},"Your profession"),r.createElement(_f,{className:eh,placeholder:"Product designer",text:e.roleTypeaheadText,onInputChange:e=>n({kind:"updateRoleTypeaheadText",text:e})(),onSelectionChange:e=>n({kind:mt.t.Kind.roleTypeaheadSelectionChange,role:s.fromNullable(e)})(),options:t,label:e=>e.label,clearButton:!0,selectOnBlur:!0})))))))),r.createElement("section",null,r.createElement("h2",{className:Zf},"I write in"),r.createElement(nn.F.Fragment,null,t.pipe(O.T((({dialects:e,selectedDialect:t})=>r.createElement(rd,{className:th,options:e.filter((e=>!Ce.Dialect.Id.eq.equals(e.id,t.id))),selection:t,onSelectionChange:e=>n({kind:mt.t.Kind.dialectDropdownSelectionChange,dialect:e})(),label:e=>e.label,renderOption:e=>r.createElement("div",{className:nh},r.createElement("div",{className:ih},r.createElement("img",{src:e.iconUrl,style:{width:Zt.Ks.rem(1),height:Zt.Ks.rem(1)}})),e.label)})))))),e("description").pipe(O.T((e=>""!==e.trim()?r.createElement("div",{className:qf},e):null))),r.createElement(nn.F.div,{className:Jf},r.createElement(rn.$,{variant:"tertiary",className:Xf,onClick:n({kind:mt.t.Kind.voiceProfileCloseButtonClick}),name:"closeVoiceProfile"},"Close"),e("applyButtonEnabled").pipe(O.T((e=>r.createElement(rn.$,{className:Yf,onClick:n({kind:mt.t.Kind.voiceProfileUseVoiceButtonClick}),disabled:!e,name:"applyVoiceProfile"},"Use this voice"))))))))),oh=({className:e})=>r.createElement("div",Object.assign({role:"separator"},(0,Qs.Ly)(sh,e))),sh=Zt.Ks.style({position:"relative",width:"100%",borderBottom:`0.5px solid ${tn.NeutralGray10}`});var ah;!function(e){let t;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={}))}(ah||(ah={}));const lh=({tabs:e,activeTabId:t,onActiveTabChange:n,children:i})=>r.createElement(r.Fragment,null,r.createElement("div",{className:dh,role:"tablist"},e.map((e=>r.createElement("button",{key:e.id,onClick:()=>n(e.id),tabIndex:0,className:uh,id:`tab-${e.id}`,"aria-label":`${e.label} ${e.id===t?"Selected.":""}`,"aria-controls":`tabpanel-${e.id}`,"aria-selected":t===e.id,role:"tab",type:"button"},e.label)))),i),ch=e=>{var{id:t,isActive:n,children:i,className:o,style:s}=e,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["id","isActive","children","className","style"]);return r.createElement("div",Object.assign({role:"tabpanel",id:`tabpanel-${t}`,"aria-labelledby":`tab-${t}`,hidden:!n,style:n?s:void 0,className:n?o:void 0},a),i)},dh=Zt.Ks.style({display:"flex",alignContent:"flex-start",gap:Zt.Ks.rem(Yt.v$)}),uh=Zt.Ks.style({cursor:"pointer",border:"none",display:"flex",alignItems:"center",background:"transparent",borderBottom:`${Zt.Ks.rem(Yt.sp)} solid transparent`,fontWeight:400,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),height:Zt.Ks.rem(1.5),color:vn.A.TextBaseSubduedColor,$nest:{'&[aria-selected="true"]':{borderBottomColor:vn.A.TextBaseSubduedColor,fontWeight:700},'&[aria-selected="false"]:hover':{borderBottomColor:tn.NeutralGray10}}}),ph=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinejoin:"round",d:"M5.727 6.615H3V14h10V6.615h-2.727m-4.546 0V4.273a2.273 2.273 0 1 1 4.545 0v2.342m-4.545 0h4.546"})))),mh="editBtn",fh={default:{backgroundColor:vn.A.NeutralGray0}},hh={gap:0,backgroundImage:"url(https://assets.grammarly.com/cheetah/v1/voice-profile/cheetah-my-voice-bg.svg)",backgroundPosition:"right",backgroundRepeat:"no-repeat",backgroundSize:"auto 100%",padding:`${Zt.Ks.rem(Yt.CN)} ${Zt.Ks.rem(Yt.Jj)}`,$nest:{[`.${mh}`]:{opacity:0,pointerEvents:"none",$nest:{"&:focus":{opacity:1,pointerEvents:"auto"}}},[`&:hover .${mh}, &:focus .${mh}`]:{opacity:1,pointerEvents:"auto"}}},gh=e=>Zt.Ks.style({display:"flex",justifyContent:"space-between",marginBottom:e?Zt.Ks.rem(Yt.v$):Zt.Ks.rem(Yt.sp+Yt.or)}),vh=Zt.Ks.style({margin:0,fontSize:Zt.Ks.rem(1.25),lineHeight:Zt.Ks.rem(1.5),fontWeight:700}),bh=Zt.Ks.style({display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between",gap:Zt.Ks.rem(Yt.v$)}),yh=Zt.Ks.style({display:"flex",flexDirection:"column",gap:Zt.Ks.rem(Yt.v$),flexGrow:1}),kh=Zt.Ks.style({display:"flex",flexDirection:"column",gap:Zt.Ks.rem(Yt.or)}),wh=Zt.Ks.style({color:vn.A.TextBaseSubduedColor,fontWeight:400,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),margin:0}),Eh=Zt.Ks.style({display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$)}),Sh=Zt.Ks.style({width:Zt.Ks.rem(1.5),height:Zt.Ks.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center",$nest:{"& img":{width:Zt.Ks.rem(1),height:Zt.Ks.rem(1)}}}),Ch=Zt.Ks.style({width:Zt.Ks.rem(1.5),height:Zt.Ks.rem(1.5)}),_h=Zt.Ks.style({display:"flex",flexDirection:"column",gap:Zt.Ks.rem(Yt.or)}),xh=Zt.Ks.style({display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.or),height:Zt.Ks.rem(1.5),color:vn.A.TextBaseSubduedColor,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),fontWeight:500}),Ah=Zt.Ks.style({display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$)}),Ih=Zt.Ks.style({maxWidth:Zt.Ks.rem(15),width:"100%"});const Kh=e=>{var{children:t,active:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children","active"]);const o=r.useRef(null);return r.createElement(r.Fragment,null,o.current&&n?r.createElement(Jo.AM,Object.assign({},i,{reference:o.current})):null,r.cloneElement(t,{ref:o}))},Th=r.forwardRef((function({name:e,active:t,onClick:n},i){return r.createElement("button",{tabIndex:0,"aria-label":e,"aria-pressed":t,"data-active":t,onClick:n,ref:i,className:Oh},e)})),Oh=Zt.Ks.style({display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",height:Zt.Ks.rem(2),borderRadius:Zt.Ks.rem(en.KD),border:`${Zt.Ks.rem(Yt.sp)} solid transparent`,padding:`${Zt.Ks.rem(Yt.sp+Yt.or)} ${Zt.Ks.rem(Yt.v$)}`,backgroundColor:vn.A.Green0,color:vn.A.Green90,lineHeight:Zt.Ks.rem(1.3125),fontSize:Zt.Ks.rem(.875),$nest:{"&:hover":{backgroundColor:Zt.Ks.color(vn.A.Green10).mix(Zt.Ks.color(vn.A.NeutralGray10)).toRGBA().toString(),color:vn.A.Green80},'&[data-active="true"]':{outline:`${Zt.Ks.rem(Yt.sp)} solid ${vn.A.Green80}`}}}),Mh=({profileName:e,sectionName:t,tagName:n,activeTagId:i,onVoiceTagPopoverClose:o,onKeepClick:l,onRemoveClick:c,onVoiceTagClick:d})=>r.createElement(Kh,{active:(0,a.pipe)(i,s.exists((i=>i===_e.createId({tagName:n,sectionName:t,profileName:e})))),onClose:i=>{"keep"===i?l():"remove"===i?c(n,e,t):o()},title:r.createElement("h1",{className:Fh},"Does this sound like you?"),footer:r.createElement(Jo.HR.Consumer,null,(({closePopover:e})=>r.createElement(r.Fragment,null,r.createElement(rn.$,{onClick:()=>e("keep"),style:Rh,textPosition:"everywhere"},r.createElement(xm,null),"Yes, keep it"),r.createElement(rn.$,{onClick:()=>e("remove"),style:Rh,textPosition:"everywhere"},r.createElement(Am,null),"No, remove it"))))},r.createElement(Th,{name:n,active:(0,a.pipe)(i,s.exists((i=>i===_e.createId({tagName:n,sectionName:t,profileName:e})))),onClick:()=>d(n,e,t)})),Fh=Zt.Ks.style({fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.375),fontWeight:700,margin:0}),Rh={default:{gap:Zt.Ks.rem(Yt.or),padding:`0 ${Zt.Ks.rem(Yt.v$)} 0 ${Zt.Ks.rem(Yt.or)}`,color:vn.A.TextBaseDefault,backgroundColor:Xt.Q.Background.Base.Default},hovered:{color:vn.A.TextBaseDefault,backgroundColor:vn.A.NeutralGray10},active:{color:vn.A.TextBaseDefault,backgroundColor:vn.A.NeutralGray10}},Bh=({profile:e,activeProfileName:t,activeTagId:n,onVoiceTagPopoverClose:i,onKeepClick:o,onRemoveClick:a,onVoiceTagClick:l})=>r.createElement(ch,{id:ah.Id.create(e.name),isActive:e.name===s.toNullable(t),className:Nh},e.summary,r.createElement("div",{className:Dh},e.sections.map((t=>r.createElement("div",{key:t.name},t.name,r.createElement("div",{className:jh},0===t.tags.length?r.createElement("div",{className:Ph},"Detected qualities will appear here"):t.tags.map((s=>r.createElement(Mh,{key:s.name,tagName:s.name,sectionName:t.name,profileName:e.name,activeTagId:n,onVoiceTagPopoverClose:i,onKeepClick:o,onRemoveClick:a,onVoiceTagClick:l}))))))))),Nh=Zt.Ks.style({fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),display:"flex",flexDirection:"column",gap:Zt.Ks.rem(Yt.CN),paddingTop:Zt.Ks.rem(Yt.v$)}),Ph=Zt.Ks.style({padding:`0 ${Zt.Ks.rem(Yt.v$)}`,background:vn.A.NeutralGray0,color:vn.A.TextBaseSubduedColor,borderRadius:Zt.Ks.rem(en.KD),height:Zt.Ks.rem(2),fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),display:"flex",justifyContent:"center",alignItems:"center"}),Dh=Zt.Ks.style({display:"flex",flexDirection:"column",gap:Zt.Ks.rem(Yt.CN)}),jh=Zt.Ks.style({marginTop:Zt.Ks.rem(Yt.v$),display:"flex",flexWrap:"wrap",gap:Zt.Ks.rem(Yt.or)}),Lh=(0,Qs.yY)((({onEditButtonClick:e,onSaveButtonClick:t,onCancelButtonClick:n,onDialectDropdownChange:i,onRoleDropdownChange:o,userName:l,isEditing:c,selectedRole:d,roles:u,dialects:p,selectedDialect:m})=>r.createElement(ja,{style:hh},r.createElement("div",{className:gh(c)},r.createElement("h1",{className:vh},l),c?null:r.createElement(rn.$,{variant:"secondary",onClick:e,className:mh,style:fh,size:"small"},"Edit")),c?r.createElement("div",{className:bh},r.createElement("div",{className:yh},0!==u.length&&r.createElement("div",{className:kh},r.createElement("h2",{className:wh},"My role"),r.createElement(rd,{placeholder:"Select a role...",options:u,selection:s.toUndefined(d),onSelectionChange:o,label:e=>e.id,renderOption:e=>e.id,menuClassName:Ih,className:Ih})),r.createElement("div",{className:kh},r.createElement("h2",{className:wh},"I write in"),r.createElement(rd,{options:p,selection:m,onSelectionChange:i,label:e=>e.label,menuClassName:Ih,className:Ih,renderOption:e=>r.createElement("div",{className:Eh},r.createElement("div",{className:Sh},r.createElement("img",{src:e.iconUrl,alt:""})),e.label)}))),r.createElement("div",{className:Ah},r.createElement(rn.$,{variant:"tertiary",onClick:n},"Cancel"),r.createElement(rn.$,{onClick:t},"Save"))):r.createElement("div",{className:_h},(0,a.pipe)(d,s.fold(a.constNull,(e=>r.createElement("div",{className:xh},r.createElement(fn,{className:Ch},r.createElement(Gt.I,{icon:ph,accessibilityLabel:"Role"})),r.createElement("span",null,e.label))))),r.createElement("div",{className:xh},r.createElement("div",{className:Sh},r.createElement("img",{src:m.iconUrl,alt:""})),r.createElement("span",null,m.label)))))),Uh=o.UI.Node.make((({view:e,state:t,notify:n})=>r.createElement(nn.F.div,{className:$h},r.createElement(Lh,{onEditButtonClick:n({kind:mt.t.Kind.voiceSelectionsEditButtonClick}),onDialectDropdownChange:e=>n({kind:mt.t.Kind.voiceDialectDropdownSelectionChange,dialect:e})(),onRoleDropdownChange:e=>n({kind:mt.t.Kind.voiceRoleDropdownSelectionChange,role:e})(),onSaveButtonClick:n({kind:mt.t.Kind.voiceSelectionsSaveButtonClick}),onCancelButtonClick:n({kind:mt.t.Kind.voiceSelectionsCancelButtonClick}),userName:e("userName"),isEditing:e("isEditing"),selectedRole:e("selectedRole"),selectedDialect:e("selectedDialect"),roles:e("roles"),dialects:e("dialects")}),r.createElement(ja,{style:Hh},r.createElement(nn.F.div,null,t.pipe(O.T((e=>r.createElement(r.Fragment,null,r.createElement("div",{className:Vh},r.createElement("div",null,r.createElement("h1",{className:zh},e.title),r.createElement("h2",{className:Wh},e.subTitle)),r.createElement(lh,{key:"Tabs",tabs:e.profiles.map((e=>({id:ah.Id.create(e.name),label:e.name}))),activeTabId:ah.Id.create(s.toNullable(e.activeProfileName)||""),onActiveTabChange:e=>n({kind:mt.t.Kind.voiceProfileTabChange,profileName:e})()})),e.profiles.map((t=>r.createElement(Bh,{key:t.name,profile:t,activeProfileName:e.activeProfileName,activeTagId:e.activeTagId,onVoiceTagPopoverClose:n({kind:mt.t.Kind.voiceTagPopoverClose}),onKeepClick:n({kind:mt.t.Kind.voiceTagPopoverKeepButtonClick}),onRemoveClick:(e,t,i)=>n({kind:mt.t.Kind.voiceTagPopoverRemoveButtonClick,tagName:e,profileName:t,sectionName:i})(),onVoiceTagClick:(e,t,i)=>n({kind:mt.t.Kind.voiceTagClick,tagName:e,profileName:t,sectionName:i})()})))))))),r.createElement(oh,null),r.createElement("p",{className:Zh},"You can prompt Grammarly to rewrite text in your voice."))))),$h=Zt.Ks.style({display:"flex",flexDirection:"column"}),Hh={gap:Zt.Ks.rem(Yt.Jj),padding:`${Zt.Ks.rem(Yt.CN)} ${Zt.Ks.rem(Yt.Jj)} ${Zt.Ks.rem(Yt.Jj)} ${Zt.Ks.rem(Yt.Jj)}`},Vh=Zt.Ks.style({display:"flex",justifyContent:"space-between",alignItems:"flex-start"}),zh=Zt.Ks.style({fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),fontWeight:700,margin:0}),Wh=Zt.Ks.style({color:vn.A.TextBaseSubduedColor,fontWeight:400,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),margin:0}),Zh=Zt.Ks.style({margin:0,padding:0,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.25),fontStyle:"italic",color:Xt.Q.Text.Base.Subdued}),Gh=Zt.Ks.style({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between"}),Qh=Zt.Ks.style({position:"relative",height:Zt.Ks.rem(1),borderRadius:Zt.Ks.rem(.25),overflow:"hidden"}),qh=e=>`linear-gradient(90deg, ${e[0]} 0%, ${e[1]} 100%)`,Jh=({lineColorGradient:e=["#F5F5F5","#D9D9D9"],gapInRem:t=.6,lineWidthPercents:n=[95,85,75],overlayGradient:i=[]})=>{const o={background:qh(e)},s={gap:Zt.Ks.rem(t)},a=r.createElement(Gu,{overlayBlendMode:"soft-light",overlayGradientCenterColor:i[0],overlayGradientEndColor:i[1]});return r.createElement("div",{className:Gh,style:s},r.createElement("div",{className:Qh,style:Object.assign(Object.assign({},o),{width:Zt.Ks.percent(n[0])})},a),r.createElement("div",{className:Qh,style:Object.assign(Object.assign({},o),{width:Zt.Ks.percent(n[1])})},a),r.createElement("div",{className:Qh,style:Object.assign(Object.assign({},o),{width:Zt.Ks.percent(n[2])})},a))},Yh=Zt.Ks.style({display:"flex",flexDirection:"column",flex:1,gap:Zt.Ks.rem(.125),borderRadius:`${Zt.Ks.rem(2)} ${Zt.Ks.rem(2)} ${Zt.Ks.rem(2)} 0`,padding:`${Zt.Ks.rem(Yt.C2)}`,background:`linear-gradient(265.79deg, ${tn.Green90} 0%, ${tn.Green100} 101.29%)`}),Xh=(0,U.Ub)(Fi.isLoadingEvaluationAndSuggestions,Fi.isNonEmptyLoadingEvaluation),eg=({state:e})=>r.createElement(nn.F.Fragment,null,e.pipe(O.T((e=>Xh(e)?r.createElement("div",{className:Yh,key:"evaluationResult","aria-busy":"true"},r.createElement(Kc.D,{variant:"heading-xsmall",as:"h4",color:"base-inverse"},"Reviewing your text…"),r.createElement(Jh,{lineColorGradient:["rgba(55, 85,\t81)","rgba(47, 102,\t96)"],overlayGradient:["rgba(0, 0, 0, 0.15)","rgba(255, 255, 255, 0)"],gapInRem:.375,lineWidthPercents:[100,98,96]})):r.createElement("div",{className:Yh,key:"evaluationResult","aria-busy":"false","aria-live":"polite"},r.createElement(Kc.D,{variant:"heading-xsmall",as:"h4",color:"base-inverse"},e.evaluationResult.title),r.createElement(Ws.E,{variant:"text-small",as:"span",color:"base-inverse"},e.evaluationResult.subTitle)))))),tg=()=>r.createElement("svg",{width:"36",height:"37",viewBox:"0 0 36 37",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{filter:"url(#filter0_i_3099_29594)"},r.createElement("path",{d:"M0 18.8572C0 8.91605 8.05888 0.857178 18 0.857178C27.9411 0.857178 36 8.91605 36 18.8572C36 28.7983 27.9411 36.8572 18 36.8572H0V18.8572Z",fill:"#FFFFFF",className:ig}),r.createElement("path",{opacity:"0.5",d:"M11.9998 21.1906L20.3331 12.8572L18.6665 19.5239H21.9998L13.6665 27.8572L15.3331 21.1906H11.9998Z",fill:"black",fillOpacity:"0.5"})),r.createElement("defs",null,r.createElement("filter",{id:"filter0_i_3099_29594",x:"0",y:"0.857178",width:"37.5",height:"39",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dx:"1.5",dy:"3"}),r.createElement("feGaussianBlur",{stdDeviation:"1.5"}),r.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.571383 0 0 0 0 0.684049 0 0 0 0 0 0 0 0 0.15 0"}),r.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_3099_29594"})))),ng=Zt.Ks.keyframes({"0%":{fill:vn.A.LightGreen},"33%":{fill:vn.A.YellowGreen},"66%":{fill:vn.A.Teal40},"100%":{fill:vn.A.LightGreen}}),ig=Zt.Ks.style({animation:`${ng} 15s infinite`}),rg=o.UI.Node.make((({state:e})=>r.createElement(ja,{"aria-live":"polite","data-testid":"writing-expert-loading",style:sg},r.createElement(hg,null,r.createElement(eg,{state:e}),e.pipe(m.p(Fi.isEvaluationFinishedLoadingSuggestions),st.u(r.createElement("div",{className:ag,key:"headerLoading","aria-busy":"true"},r.createElement(Kc.D,{variant:"heading-xsmall",as:"h4",color:"base-default"},"Coming up with suggestions…"),r.createElement(tg,null))),lt.Z(null))),r.createElement(nn.F.div,{"aria-busy":"true",className:lg,style:{visibility:e.pipe(O.T((e=>Fi.isEvaluationFinishedLoadingSuggestions(e)?"visible":"hidden")))}},[1,2,3,4].map((e=>r.createElement("div",{key:e,className:cg},r.createElement("div",{className:og}),r.createElement("div",{style:{flex:1}},r.createElement(Jh,null))))))))),og=Zt.Ks.style({height:Zt.Ks.rem(Yt.Jj),width:Zt.Ks.rem(Yt.Jj),content:'" "',borderRadius:"50%",background:tn.NeutralGray0}),sg={padding:0,paddingBottom:Zt.Ks.rem(Yt.Jj)},ag=Zt.Ks.style({display:"flex",justifyContent:"space-between",alignItems:"center"}),lg=Zt.Ks.style({padding:`0 ${Zt.Ks.rem(1)}`,display:"flex",flexDirection:"column",gap:Zt.Ks.rem(1.75)}),cg=Zt.Ks.style({display:"flex",gap:Zt.Ks.rem(Yt.v$),flexDirection:"row"}),dg=o.UI.Node.make((({state:e,notify:t})=>r.createElement(ja,{"aria-busy":"false","aria-live":"assertive","data-testid":"writing-expert-empty",style:pg},r.createElement(nn.F.div,{className:ug},e.pipe(O.T((({sduiItem:e})=>r.createElement("div",{className:ug,key:`writing-expert-feed-state-${e.id}`},r.createElement(ud.R,{sduiRootId:e.id,content:e.content.content,designSystem:pu(),notify:md({item:e,kind:"longFormCardSduiNotify",notify:t}),transitions:[],prevContent:s.none,onAnimationEnd:U.Yi,onMount:U.Yi}))))))))),ug=Zt.Ks.style({textAlign:"center",padding:`${Zt.Ks.rem(Wt.Jj)} ${Zt.Ks.rem(Wt.Jj)} 0 ${Zt.Ks.rem(Wt.Jj)}`}),pg={padding:`${Zt.Ks.rem(Wt.Jj)}`,display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center",gap:`${Zt.Ks.rem(Wt.Jj)}`,height:"100%",boxSizing:"border-box"},mg=o.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{onMount:i}=(0,ns.y)((0,a.flow)(P.M(n({kind:"writingExpertFeedMount"})),es.j(Yr.notifyFeedUnmount)));return r.createElement(ja,{"data-testid":"writing-expert-non-empty",style:vg,mount:i,"aria-live":"polite"},r.createElement(hg,null,r.createElement(eg,{state:t})),r.createElement(Ns,{className:bg},e.cardList))})),fg=o.UI.Knot.make(mg,{cardList:Ou}),hg=({children:e})=>r.createElement(nn.F.div,{style:{display:"flex",flexDirection:"column",padding:Zt.Ks.rem(Yt.Jj),gap:Zt.Ks.rem(Yt.CN)}},e),gg=o.UI.Union.make("kind",{[Fi.Kind.loadingEvaluationAndSuggestions]:rg,[Fi.Kind.evaluationFinishedLoadingSuggestions]:rg,[Fi.Kind.empty]:dg,[Fi.Kind.error]:dg,[Fi.Kind.nonEmpty]:fg,[Fi.Kind.nonEmptyLoadingEvaluation]:fg}),vg={padding:0,display:"grid",gridTemplateRows:"auto 1fr auto",height:"100%"},bg=Zt.Ks.style({$nest:{'&[data-overflow-top="true"]':{borderTop:`0.5px solid ${vn.A.BorderBaseSubduedColor}`}}});var yg=n(2617);const kg=o.UI.Node.make((({view:e,notify:t})=>{const n=e=>{e&&e.focus()};return r.createElement(ja,{style:wg,"data-testid":e("error").pipe(O.T((e=>`error-${e.reason}`))),role:"alert"},r.createElement(nn.F.div,{className:Sg},e("error").pipe(O.T((e=>r.createElement(r.Fragment,null,r.createElement(Lo,{className:xg,width:24,height:24}),r.createElement("span",{className:Cg},e.header)))))),r.createElement(nn.F.div,{className:_g},e("error").pipe(O.T((e=>e.text)))),r.createElement(nn.F.Fragment,null,e("showDismissButton").pipe(O.T((e=>e?r.createElement(rn.$,{"aria-label":"Dismiss error",className:Ag,mount:n,name:"dismissButton",onClick:t({kind:mt.t.Kind.errorCardDismissButtonClick}),size:"small",variant:"tertiary"},r.createElement(yg.C,{width:16})):null)))))})),wg={gap:Zt.Ks.rem(Yt.v$),padding:`${Zt.Ks.rem(Yt.CN)} ${Zt.Ks.rem(Yt.Jj)}`},Eg=o.UI.Union.asOption(kg),Sg=Zt.Ks.style({display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$),marginTop:Zt.Ks.rem(Yt.or),marginBottom:Zt.Ks.rem(Yt.or)}),Cg=Zt.Ks.style({fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.375),fontWeight:700,color:Xt.Q.Text.Base.Default}),_g=Zt.Ks.style({fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),color:Xt.Q.Text.Base.Subdued,whiteSpace:"break-spaces",overflowWrap:"anywhere"}),xg=Zt.Ks.style((0,gn.QD)(1.5)),Ag=Zt.Ks.style({alignSelf:"flex-end",marginTop:Zt.Ks.rem(Yt.v$),marginBottom:Zt.Ks.rem(Yt.v$)}),Ig=o.UI.Node.make((({view:e})=>r.createElement(ja,{style:Og,"data-testid":"document-overview"},r.createElement($c,{style:Tg},"This document"),r.createElement(nn.F.div,{className:Mg},e("title")),r.createElement(nn.F.div,{className:Fg},e("summary"))))),Kg=o.UI.Union.asOption(Ig),Tg={userSelect:"none",padding:0},Og={position:"relative",padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)}`,gap:Zt.Ks.rem(Yt.v$),fontSize:Zt.Ks.rem(Yt.CN),lineHeight:Zt.Ks.rem(Yt.Jj+Yt.sp)},Mg=Zt.Ks.style({fontSize:Zt.Ks.rem(Yt.CN+Yt.sp),color:Xt.Q.Text.Base.Subdued,fontWeight:600}),Fg=Zt.Ks.style({color:Xt.Q.Text.Base.Default}),Rg=e=>r.createElement(sn.hh,Object.assign({width:"20",height:"20",viewBox:"0 0 20 20"},e),r.createElement("path",{d:"M5.31255 7.11538H14.6876M5.31255 10H14.6876M5.00006 13.6951V16.25L8.33339 13.6951C10.5282 13.6951 14.2996 13.6951 16.2502 13.6951C16.9406 13.6951 17.5001 13.1354 17.5001 12.4451V5C17.5001 4.30964 16.9404 3.75 16.2501 3.75H3.75001C3.05965 3.75 2.5 4.30965 2.50001 5.00001L2.50005 12.4451C2.50005 13.1354 3.05969 13.6951 3.75005 13.6951H5.00006Z",fill:"none"})),Bg=e=>r.createElement(sn.hh,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.5C0.776142 0.5 1 0.723858 1 1V2H11.5C11.7022 2 11.8845 2.12182 11.9619 2.30866C12.0393 2.4955 11.9966 2.71055 11.8536 2.85355L8.70711 6L11.8536 9.14645C11.9966 9.28945 12.0393 9.5045 11.9619 9.69134C11.8845 9.87818 11.7022 10 11.5 10H1V14.5C1 14.7761 0.776142 15 0.5 15C0.223858 15 0 14.7761 0 14.5V1C0 0.723858 0.223858 0.5 0.5 0.5ZM1 9H10.2929L7.64645 6.35355C7.45118 6.15829 7.45118 5.84171 7.64645 5.64645L10.2929 3H1V9Z",stroke:"none"})),Ng="reportMenuBtnIcon",Pg=(0,gn.T2)((0,gn.QD)(1.5),Ng),Dg=({title:e,name:t,label:n,buttonClass:i,onAction:o,onOpenChange:s,children:a})=>{const l={minWidth:Zt.Ks.rem(2),minHeight:Zt.Ks.rem(2),lineHeight:Zt.Ks.rem(2)};return r.createElement(Im,{"aria-label":e,title:e,name:t,label:n,theme:{button:i,buttonStyle:{default:Object.assign({padding:0},l),icon:l}},onAction:o,onOpenChange:s},a)},jg=({reportMenuButtonClassName:e,onClickReportOffensive:t,onClickProvideFeedback:n,onOpenChange:i})=>r.createElement(Dg,{title:"Provide feedback",name:"reportMenu",label:r.createElement(Bg,{className:Zt.Ks.joinClasses([Ng,Zt.Ks.style(Pg)])}),buttonClass:e,onAction:e=>{switch(e){case"provideFeedback":return n();case"reportOffensive":return t()}},onOpenChange:i},r.createElement(ou.q7,{key:"provideFeedback",textValue:"provideFeedback"},r.createElement(Rg,null),"Share your thoughts"),r.createElement(ou.q7,{key:"reportOffensive",textValue:"reportOffensive"},r.createElement(sn.In.Report,null),"Report as offensive")),Lg=o.UI.Node.make((({view:e})=>r.createElement(ja,{"aria-busy":"true","data-testid":"intent-loading"},r.createElement($c,null,e("header")),r.createElement("div",{className:Ug},r.createElement(Gu,null))))),Ug=Zt.Ks.style({height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(Yt.vW),background:tn.NeutralGray10,flexGrow:1,maxWidth:Zt.Ks.rem(22.5),position:"relative",marginBottom:Zt.Ks.rem(Yt.or)}),$g=o.UI.Node.make((({view:e,notify:t})=>r.createElement(ja,{style:zg,"data-testid":"intent"},r.createElement($c,null,e("header")),r.createElement(jg,{reportMenuButtonClassName:Zg,onClickProvideFeedback:t({kind:mt.t.Kind.openFeedbackFormButtonClick,source:vl.Source.intentCard}),onClickReportOffensive:t({kind:mt.t.Kind.reportOffensiveActionsButtonClick}),onOpenChange:e=>t({kind:mt.t.Kind.reportMenuVisibilityChange,trigger:ko.uiItem(wt.e.intentCard),visible:e})()}),r.createElement(nn.F.div,Object.assign({className:Wg},G(e("text"),[...Z,"person"])))))),Hg=o.UI.Union.make("kind",{loading:Lg,loaded:$g}),Vg=o.UI.Union.asOption(Hg),zg={position:"relative",gap:Zt.Ks.rem(Yt.sp)},Wg=Zt.Ks.style({color:Xt.Q.Text.Base.Default,fontStyle:"normal",fontWeight:400,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),fontFeatureSettings:"'ss01' on",$nest:{"& person":{fontWeight:700,$nest:{"&::before":{content:"''",display:"inline-block",width:Zt.Ks.rem(1.25),height:Zt.Ks.rem(1.25),marginRight:Zt.Ks.rem(Yt.sp),backgroundSize:"cover",verticalAlign:"text-bottom",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,${encodeURIComponent(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.95768 3.00512C8.95983 3.00512 9.7855 3.83575 9.7855 4.8769V6.01259C9.7855 7.05374 8.95983 7.88437 7.95768 7.88437C6.95553 7.88437 6.12986 7.05374 6.12986 6.01259V4.8769C6.12986 3.83575 6.95553 3.00512 7.95768 3.00512ZM10.5847 4.8769C10.5847 3.40916 9.41586 2.20593 7.95768 2.20593C6.4995 2.20593 5.33067 3.40916 5.33067 4.8769V6.01259C5.33067 7.48032 6.4995 8.68355 7.95768 8.68355C8.20909 8.68355 8.45189 8.64779 8.68159 8.58107C8.68635 8.65317 8.69342 8.72016 8.70392 8.78578C8.81061 9.45248 9.17662 10.0499 9.72211 10.4478C9.88673 10.5679 10.0776 10.6652 10.3757 10.8171L11.2702 11.2732C11.6108 11.4469 11.7408 11.5145 11.8477 11.5924C12.2227 11.866 12.4743 12.2767 12.5477 12.7351C12.5589 12.8055 12.5645 12.8807 12.5672 12.995H9.90666C9.68597 12.995 9.50707 13.1739 9.50707 13.3946C9.50707 13.6152 9.68597 13.7941 9.90666 13.7941H12.9694C13.19 13.7941 13.3689 13.6152 13.3689 13.3946L13.369 13.3588C13.369 13.0242 13.369 12.81 13.3368 12.6088C13.2301 11.9421 12.8641 11.3446 12.3186 10.9468C12.154 10.8267 11.9632 10.7294 11.665 10.5775C11.6546 10.5721 11.644 10.5667 11.6332 10.5612L10.7705 10.1214C10.43 9.94773 10.2999 9.88006 10.1931 9.80215C9.81805 9.52861 9.56642 9.11785 9.49307 8.65949C9.4762 8.55408 9.47217 8.43819 9.47124 8.19619C10.1462 7.71137 10.5847 6.9116 10.5847 6.01259V4.8769Z" fill="${tn.NeutralGray60}"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.91127 3.00512C6.90913 3.00512 6.08346 3.83575 6.08346 4.8769V6.01259C6.08346 7.05374 6.90913 7.88437 7.91127 7.88437C8.91342 7.88437 9.73909 7.05374 9.73909 6.01259V4.8769C9.73909 3.83575 8.91342 3.00512 7.91127 3.00512ZM5.28427 4.8769C5.28427 3.40916 6.45309 2.20593 7.91127 2.20593C9.36946 2.20593 10.5383 3.40916 10.5383 4.8769V6.01259C10.5383 7.48032 9.36946 8.68355 7.91127 8.68355C7.65987 8.68355 7.41706 8.64779 7.18737 8.58107C7.1826 8.65317 7.17553 8.72016 7.16503 8.78578C7.05834 9.45248 6.69233 10.0499 6.14684 10.4478C5.98222 10.5679 5.7914 10.6652 5.49326 10.8171L4.59875 11.2732C4.25818 11.4469 4.12811 11.5145 4.02129 11.5924C3.64626 11.866 3.39463 12.2767 3.32128 12.7351C3.31001 12.8055 3.30447 12.8807 3.30176 12.995H10.2779C10.4986 12.995 10.6775 13.1739 10.6775 13.3946C10.6775 13.6152 10.4986 13.7941 10.2779 13.7941H2.8996C2.67891 13.7941 2.50001 13.6152 2.50001 13.3946L2.5 13.3588C2.49996 13.0242 2.49994 12.81 2.53214 12.6088C2.63883 11.9421 3.00484 11.3446 3.55033 10.9468C3.71494 10.8267 3.90577 10.7294 4.2039 10.5775C4.21438 10.5721 4.22499 10.5667 4.23574 10.5612L5.09841 10.1214C5.43899 9.94773 5.56906 9.88006 5.67588 9.80215C6.0509 9.52861 6.30254 9.11785 6.37589 8.65949C6.39276 8.55408 6.39678 8.43819 6.39771 8.19619C5.72278 7.71137 5.28427 6.9116 5.28427 6.01259V4.8769Z" fill="${tn.NeutralGray60}"/></svg>`)}')`}}}}}),Zg=Zt.Ks.style({position:"absolute",top:Zt.Ks.rem(Yt.CN),right:Zt.Ks.rem(Yt.CN)});var Gg=n(87565);function Qg(e,t){var n,i;const[o,s]=(0,r.useState)(void 0);return(0,r.useEffect)((()=>{e.current&&e.current.scrollWidth>e.current.clientWidth&&s(t)}),[null===(n=e.current)||void 0===n?void 0:n.scrollWidth,null===(i=e.current)||void 0===i?void 0:i.clientWidth,t]),o}const qg=({title:e,url:t})=>{const n=r.useRef(null),i=Qg(n,e);return(0,a.pipe)(t,s.fold((()=>r.createElement("span",{className:Jg,title:i,ref:n},e)),(t=>r.createElement(Gg.G,{className:Jg,title:i,ref:n,href:t},e))))},Jg=Zt.Ks.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",$nest:{"&:visited":{color:"inherit"}}}),Yg=o.UI.Node.make((({view:e})=>r.createElement(ja,{style:ev,"data-testid":"detected-references"},r.createElement("span",{className:tv},"Detected references"),r.createElement(nn.F.ul,{className:nv},e("detectedReferences").pipe(O.T((e=>e.map((({title:e,iconUrl:t,url:n},i)=>r.createElement("li",{key:i,className:iv},r.createElement("img",{src:t,className:rv,alt:""}),r.createElement(qg,{title:e,url:n}))))))))))),Xg=o.UI.Union.asOption(Yg),ev={position:"relative",padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)}`,gap:0},tv=Zt.Ks.style({fontSize:Zt.Ks.rem(Yt.CN),lineHeight:Zt.Ks.rem(Yt.Jj+Yt.sp),color:Xt.Q.Text.Base.Subdued,userSelect:"none"}),nv=Zt.Ks.style({fontSize:Zt.Ks.rem(Yt.CN),lineHeight:Zt.Ks.rem(Yt.Jj+Yt.sp),color:Xt.Q.Text.Base.Default,margin:0,padding:0}),iv=Zt.Ks.style({height:Zt.Ks.rem(Yt.v5),display:"flex",alignItems:"center",borderRadius:Zt.Ks.rem(en.KD)}),rv=Zt.Ks.style({minWidth:Zt.Ks.rem(Yt.Jj),height:Zt.Ks.rem(Yt.Jj),marginRight:Zt.Ks.rem(Yt.v$)}),ov=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"M4 5.375 8 2l4 3.375m-8 5.25L8 14l4-3.375"})))),sv=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"m5 2 3 3.176L11 2M5 14l3-3.177L11 14"})))),av=({children:e,style:t})=>r.createElement("i",{className:Zt.Ks.style(lv,t),"aria-hidden":"true"},e),lv={display:"inline-flex",alignItems:"center",justifyContent:"center",width:Zt.Ks.rem(1),height:Zt.Ks.rem(1),$nest:{"& > svg":{transform:"scale(calc(var(--rem)/16))"}}},cv=({feedForm:e,onClick:t})=>r.createElement(rn.$,{variant:"tertiary",size:"small",style:dv,onClick:t},"shortForm"===e?r.createElement(r.Fragment,null,r.createElement("span",{className:uv},"Show more"),r.createElement(av,null,r.createElement(ov,null))):"longForm"===e?r.createElement(r.Fragment,null,r.createElement("span",{className:uv},"Show less"),r.createElement(av,null,r.createElement(sv,null))):(0,h.AS)(e)),dv={default:{gap:Zt.Ks.rem(Yt.or),padding:Zt.Ks.rem(Yt.or),paddingLeft:Zt.Ks.rem(Yt.v$)},icon:{minHeight:Zt.Ks.rem(1),minWidth:Zt.Ks.rem(1)}},uv=Zt.Ks.style({fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125)}),pv=e=>{const t=pt.td(e.count,"suggestion","suggestions");return r.createElement("div",null,r.createElement("div",{className:fv},r.createElement("h2",{className:hv,"aria-label":`${e.count} ${t}`,tabIndex:0},"Review ",t),r.createElement("div",{"aria-hidden":"true",className:mv},e.count)),(0,a.pipe)(e.pageRange,s.fold(a.constNull,(t=>r.createElement(ad,{pageRange:t,onPageRangeHeaderMount:e.onPageRangeHeaderMount})))))},mv=Zt.Ks.style({display:"flex",alignItems:"center",justifyContent:"center",fontSize:Zt.Ks.rem(.75),fontStyle:"normal",fontWeight:700,lineHeight:Zt.Ks.rem(1.125),color:Xt.Q.Text.Base.Inverse,padding:`0 ${Zt.Ks.rem(Yt.or)}`,background:vn.A.BackgroundNeutralDefault,borderRadius:Zt.Ks.rem(en.KY),border:`1px solid ${Xt.Q.Text.Base.Inverse}`}),fv=Zt.Ks.style({display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$)}),hv=Zt.Ks.style({fontWeight:700,fontSize:Zt.Ks.rem(1),lineHeight:Zt.Ks.rem(1.5),margin:0}),gv=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"M11 2 5 8l6 6"}))));var vv=n(15753);const bv=Zt.Ks.style({position:"relative"}),yv=Zt.Ks.style({overscrollBehavior:"contain",overflowX:"auto",scrollSnapType:"x mandatory",position:"relative",width:0,minWidth:"100%"}),kv=(Zt.Ks.style({scrollSnapAlign:"start"}),Zt.Ks.style({display:"flex",flexDirection:"row",flexWrap:"nowrap"}),{position:"absolute",top:"50%",zIndex:1,$nest:{"&.override":{transform:"translate(0,-50%)"}}}),wv=Zt.Ks.style({left:Zt.Ks.rem(Yt.v$)}),Ev=Zt.Ks.style({right:Zt.Ks.rem(Yt.v$)}),Sv=Zt.Ks.style({scrollbarWidth:"none","-ms-overflow-style":"none",$nest:{"&::-webkit-scrollbar":{width:0,height:0}}}),Cv=({count:e=1,hideScrollbar:t=!1,children:n})=>{const{onMount:i,rect:o}=Dt.R.useRectWatcher(),{ref:l,onMount:c}=Dt.R.useElWatcher(),d=r.useMemo((()=>g.s.create({scroll:0,width:0,scrollWidth:0,itemAverageWidth:0})),[]);Dt.R.useSubscriptionTo(r.useMemo((()=>kt.zV([l.pipe(B.oE,A.F()),o.pipe(B.oE,A.F())]).pipe(N.Z(100),P.M((([t])=>{const n=t.clientWidth,i=t.scrollWidth;d.set({scroll:t.scrollLeft,width:n,scrollWidth:i,itemAverageWidth:Math.min(n,i/e)})})))),[e,l,o]));const u=r.useCallback(((e=!1)=>{(0,a.pipe)(l.get(),s.map((t=>{const{scroll:n,itemAverageWidth:i}=d.get();t.scroll({top:0,left:n+(e?1:-1)*i,behavior:"smooth"})})))}),[l]);return r.createElement("div",{className:bv,ref:i},r.createElement("div",{ref:c,className:Zt.Ks.joinClasses([yv,t?Sv:void 0]),onScroll:e=>{e.target instanceof HTMLDivElement&&d.lens("scroll").set(e.target.scrollLeft)},"data-role":"scroll"},n),r.createElement(nn.F.Fragment,null,d.pipe(O.T((({scroll:e,width:t,scrollWidth:n})=>r.createElement(r.Fragment,null,e>0?r.createElement(rn.$,{name:"scroll_left",title:"Scroll left","aria-label":"Scroll left",variant:"round",className:Zt.Ks.joinClasses([Zt.Ks.style(kv),wv,"override"]),onClick:()=>u(),"aria-hidden":!0,tabIndex:-1},r.createElement(gv,null)):null,n-t-e>0?r.createElement(rn.$,{name:"scroll_right",title:"Scroll right","aria-label":"Scroll right",variant:"round",className:Zt.Ks.joinClasses([Zt.Ks.style(kv),Ev,"override"]),onClick:()=>u(!0),"aria-hidden":!0,tabIndex:-1},r.createElement(vv.E,null)):null))))))},_v=({percent:e,lensId:t})=>r.createElement("div",{className:xv(t),"aria-hidden":"true"},r.createElement("div",{className:Av(t),style:{transform:`scaleX(${e})`}})),xv=e=>Zt.Ks.style({border:`1px solid ${Iv[e]}`,width:Zt.Ks.rem(2.5),height:Zt.Ks.rem(.25),boxSizing:"border-box",borderRadius:Zt.Ks.rem(Yt.sp)}),Av=e=>Zt.Ks.style({backgroundColor:Iv[e],border:0,width:"100%",height:"100%",transformOrigin:"left",transition:"transform 0.2s linear"}),Iv={[Ln.lensAllSuggestionFeedShortForm]:Xt.Q.Background.Neutral.Default,[Ln.lensAllSuggestionFeed]:Xt.Q.Background.Neutral.Default,[Ln.lensCorrectnessFeed]:Xt.Q.Background.Correctness.Default,[Ln.lensClarityFeed]:Xt.Q.Background.Clarity.Default,[Ln.lensDeliveryFeed]:Xt.Q.Background.Delivery.Default,[Ln.lensEngagementFeed]:Xt.Q.Background.Engagement.Default,[Ln.lensStyleGuideFeed]:Xt.Q.Background.Neutral.Default,[Ln.lensPremiumFeed]:Xt.Q.Background.Premium.Default,[Ln.plagiarismFeed]:Xt.Q.Background.Plagiarism.Default,[Ln.writingExpertFeed]:Xt.Q.Background.Brand.Default};var Kv=n(12174);const Tv={backgroundColor:Xt.Q.Background.Neutral.Default},Ov={neutral:{backgroundColor:Tv.backgroundColor},business:{backgroundColor:Xt.Q.Background.Business.Default},addition:{backgroundColor:Xt.Q.Background.Addition.Default},clarity:{backgroundColor:Xt.Q.Background.Clarity.Default},correctness:{backgroundColor:Xt.Q.Background.Correctness.Default},critical:{backgroundColor:Xt.Q.Background.Critical.Default},deletion:{backgroundColor:Xt.Q.Background.Deletion.Default},delivery:{backgroundColor:Xt.Q.Background.Delivery.Default},engagement:{backgroundColor:Xt.Q.Background.Engagement.Default},plagiarism:{backgroundColor:Xt.Q.Background.Plagiarism.Default},premium:{backgroundColor:Xt.Q.Background.Premium.Default,color:Xt.Q.Text.Premium.Default},pro:{backgroundColor:Xt.Q.Background.Pro.Default,color:Xt.Q.Text.Pro.Default},success:{backgroundColor:Xt.Q.Background.Success.Default},warning:{backgroundColor:Xt.Q.Background.Warning.Default}},Mv=r.forwardRef((function(e,t){const{className:n,as:i="span",...o}=e;return r.createElement(i,{ref:t,className:(0,Kv.$)("gds-sr-only",n),...o})})),Fv={width:"auto",height:"auto",transform:"scaleX(0.3)"},Rv=r.forwardRef((function(e,t){const{screenReaderText:n,style:i,displayText:o,...s}=(e=>{const{count:t,getAriaLabelText:n,specialCharBefore:i,specialCharAfter:r,style:o,variant:s,...a}=e,l=null!=i||null!=r,c=l?`${null!=i?i:""}${t}${null!=r?r:""}`:(d=t)<=99?d.toString():d>99&&d<1e3?"99+":"1K+";var d;const u=null==n?void 0:n(l?t:c,i,r),p=Object.assign((e=>{var t;return null==e?Tv:null!=(t=Ov[e])?t:Tv})(s),o);return{displayText:c,screenReaderText:u,style:p,...a}})(e);return r.createElement(Ws.E,{ref:t,as:"span",variant:"text-xsmall",weight:"bold",className:(0,Kv.$)("gds-badge",e.className),style:i,...s},r.createElement("span",{"aria-hidden":!0},o),r.createElement(Mv,{style:Fv},n))})),Bv=({counter:e})=>r.createElement("span",{className:Nv},r.createElement(Rv,{variant:"premium",count:e,getAriaLabelText:e=>e+" suggestions",className:Pv})),Nv=Zt.Ks.style({width:Zt.Ks.rem(2.5),height:Zt.Ks.rem(.25),boxSizing:"border-box",position:"relative",fontSize:Zt.Ks.rem(.75)}),Pv=Zt.Ks.style({left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"absolute"}),Dv=o.UI.Node.make((({view:e,notify:t})=>r.createElement(nn.F.Fragment,null,e("lenses").pipe(O.T((n=>{const i=n.some(Gr);return n.length>0?r.createElement("section",{className:Lv,"aria-label":"Filter suggestions"},r.createElement(Cv,{count:n.length,hideScrollbar:!0},r.createElement("div",{className:jv(n.length)},n.map(((n,o)=>r.createElement(r.Fragment,{key:n.lensId},o>0?r.createElement("div",{className:Uv}):null,r.createElement(rn.$,{variant:"tertiary",contained:!0,size:"small",name:`${n.label}-button`,style:$v(i),active:e("activeLensId").pipe(O.T((e=>n.lensId===e))),onClick:t({kind:"lensesHeaderToggle",lensId:n.lensId}),onFocus:t({kind:"lensesHeaderFocus",lensId:n.lensId}),onBlur:t({kind:"lensesHeaderBlur"}),"aria-label":kt.zV([e("focusedLensId"),e("focusedLensSuggestionCount")]).pipe(O.T((([e,t])=>(0,a.pipe)(e,s.filter((e=>e===n.lensId)),s.fold((()=>{}),(()=>`${n.label}, ${t} ${pt.td(t,"suggestion","suggestions")}`))))))},Gr(n)?r.createElement(Bv,{counter:n.suggestionCount}):r.createElement(_v,{percent:n.percent,lensId:n.lensId}),r.createElement("span",null,n.label)))))))):null})))))),jv=e=>Zt.Ks.style({display:"grid",gridTemplateColumns:Array.from({length:e}).map(((e,t)=>t>0?"1px minmax(min-content, 1fr)":"minmax(min-content, 1fr)")).join(" "),alignItems:"center"}),Lv=Zt.Ks.style({borderTop:`1px solid ${Xt.Q.Border.Base.Subdued}`,borderBottom:`1px solid ${Xt.Q.Border.Base.Subdued}`,margin:`${Zt.Ks.rem(Yt.v$)} 0`}),Uv=Zt.Ks.style({height:"100%",borderLeft:`1px solid ${Xt.Q.Border.Base.Subdued}`}),$v=e=>({default:{display:"flex",flexDirection:"column",gap:Zt.Ks.rem(e?Yt.v$:Yt.or),padding:`${Zt.Ks.rem(e?1:.75)} ${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(.5)} ${Zt.Ks.rem(Yt.v$)}`,borderRadius:0,color:Xt.Q.Text.Base.Subdued,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),scrollSnapAlign:"start"},hovered:{boxShadow:"none"},active:{boxShadow:"none"},selected:{boxShadow:"none",fontWeight:"bold",backgroundColor:Xt.Q.Background.Base.Subdued}}),Hv=o.UI.Node.make((({state:e,notify:t})=>{const{onMount:n}=(0,ns.y)(P.M(t({kind:"longFormFeedEmptyMount"})));return r.createElement(ja,{style:Wv,"data-testid":"long-form-feed-empty","aria-live":"polite",mount:n},e.pipe(O.T((({content:e})=>r.createElement(r.Fragment,null,r.createElement("div",{className:Zv},r.createElement("p",{className:Gv},e.title),r.createElement("p",{className:Qv},e.description)),r.createElement("div",{className:qv},e.illustration))))))})),Vv=o.UI.Node.make((({state:e,notify:t})=>{const{onMount:n}=(0,ns.y)(P.M(t({kind:"longFormFeedSuccessMount"})));return r.createElement(ja,{style:Wv,"data-testid":"long-form-feed-success","aria-live":"polite",mount:n},e.pipe(O.T((({content:e,goBackFrom:n})=>r.createElement(r.Fragment,null,r.createElement("div",{className:Zv},r.createElement("p",{className:Gv},e.title),r.createElement("p",{className:Qv},e.description),(0,a.pipe)(n,s.fold(a.constNull,(e=>r.createElement(rn.$,{variant:"secondary",style:zv,onClick:t({kind:"goBack",goBackFrom:e})},"See all suggestions"))))),r.createElement("div",{className:qv},e.illustration))))))})),zv={default:{marginTop:Zt.Ks.rem(Yt.v$),alignSelf:"flex-start"}},Wv={padding:`${Zt.Ks.rem(Yt.Jj)}`,display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center",gap:`${Zt.Ks.rem(Yt.Jj)}`,height:"100%",boxSizing:"border-box"},Zv=Zt.Ks.style({textAlign:"center",padding:`${Zt.Ks.rem(Yt.Jj)} ${Zt.Ks.rem(Yt.Jj)} 0 ${Zt.Ks.rem(Yt.Jj)}`}),Gv=Zt.Ks.style({margin:0,color:vn.A.TextBaseDefault,fontSize:Zt.Ks.rem(1),lineHeight:"1.5em",fontWeight:700}),Qv=Zt.Ks.style({margin:0,color:vn.A.TextBaseSubduedColor,fontSize:Zt.Ks.rem(.875),lineHeight:"1.5em",fontWeight:400}),qv=Zt.Ks.style({width:Zt.Ks.rem(6),height:Zt.Ks.rem(6),minWidth:Zt.Ks.rem(6),minHeight:Zt.Ks.rem(6)}),Jv=o.UI.Node.make((({view:e})=>r.createElement(ja,{"aria-busy":"true",style:Yv,"data-testid":"long-form-feed-loading"},r.createElement("div",{className:Xv},r.createElement(Gu,null),r.createElement(nn.F.div,{className:sb},r.createElement("div",{className:ab}),e("supportsShortForm").pipe(O.T((0,U.Sw)(r.createElement("div",{className:lb}),null)))),r.createElement("div",{className:cb},r.createElement("div",{className:db}),r.createElement("div",{className:db}),r.createElement("div",{className:db}),r.createElement("div",{className:db})),r.createElement("div",{className:ub},r.createElement("div",{className:pb}),r.createElement("div",{className:mb})),r.createElement("div",{className:fb(!0)}),r.createElement("div",{className:fb(!1)}),r.createElement("div",{className:hb},r.createElement("div",{className:gb}),r.createElement("div",{className:vb}))),r.createElement("div",{className:eb},r.createElement("div",{className:tb},r.createElement(Gu,null),r.createElement("div",{className:nb}),r.createElement("div",{className:ib}),r.createElement("div",{className:rb})),r.createElement("div",{className:ob}),r.createElement("div",{className:tb},r.createElement(Gu,null),r.createElement("div",{className:nb}),r.createElement("div",{className:ib}),r.createElement("div",{className:rb})),r.createElement("div",{className:ob}),r.createElement("div",{className:tb},r.createElement(Gu,null),r.createElement("div",{className:nb}),r.createElement("div",{className:ib}),r.createElement("div",{className:rb})),r.createElement("div",{className:ob}),r.createElement("div",{className:tb},r.createElement(Gu,null),r.createElement("div",{className:nb}),r.createElement("div",{className:ib}),r.createElement("div",{className:rb})))))),Yv={padding:0},Xv=Zt.Ks.style({display:"flex",flexDirection:"column",position:"relative",padding:`${Zt.Ks.rem(Yt.Jj)}`,borderBottom:`1px solid ${Xt.Q.Border.Base.Subdued}`}),eb=Zt.Ks.style({display:"flex",flexDirection:"column",margin:Zt.Ks.rem(1)}),tb=Zt.Ks.style({display:"flex",alignItems:"center",position:"relative",height:Zt.Ks.rem(2.25)}),nb=Zt.Ks.style({height:Zt.Ks.rem(.5),width:Zt.Ks.rem(.5),borderRadius:"50%",background:tn.NeutralGray10,marginRight:Zt.Ks.rem(1.25)}),ib=Zt.Ks.style({height:Zt.Ks.rem(.5),width:Zt.Ks.rem(3.875),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10,marginRight:Zt.Ks.rem(Yt.Jj)}),rb=Zt.Ks.style({height:Zt.Ks.rem(.5),width:Zt.Ks.rem(7.875),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10}),ob=Zt.Ks.style({margin:`${Zt.Ks.rem(.5)} ${Zt.Ks.rem(1)}`,borderBottom:`1px solid ${Xt.Q.Border.Base.Subdued}`}),sb=Zt.Ks.style({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:Zt.Ks.rem(Yt.v$),alignItems:"center"}),ab=Zt.Ks.style({width:Zt.Ks.rem(11.875),height:Zt.Ks.rem(1),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10}),lb=Zt.Ks.style({flex:1,maxWidth:Zt.Ks.rem(3.5),height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10}),cb=Zt.Ks.style({display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:Zt.Ks.rem(11.5*Yt.or)}),db=Zt.Ks.style({width:Zt.Ks.rem(3.5625),height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10,margin:`0 ${Zt.Ks.rem(9.5*Yt.vW)}`}),ub=Zt.Ks.style({display:"flex",flexDirection:"row",gap:Zt.Ks.rem(Yt.or),alignItems:"center",marginTop:Zt.Ks.rem(8.5*Yt.or)}),pb=Zt.Ks.style({width:Zt.Ks.rem(1.25),height:Zt.Ks.rem(1.25),borderRadius:"50%",background:tn.NeutralGray10}),mb=Zt.Ks.style({flex:1,height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10}),fb=e=>Zt.Ks.style({height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10,marginTop:Zt.Ks.rem(e?2.5*Yt.or:Yt.Jj)}),hb=Zt.Ks.style({display:"flex",flexDirection:"row",gap:Zt.Ks.rem(Yt.Jj),alignItems:"center",marginTop:Zt.Ks.rem(Yt.Jj+Yt.sp)}),gb=Zt.Ks.style({width:Zt.Ks.rem(4.125),height:Zt.Ks.rem(2),borderRadius:Zt.Ks.rem(en.KD),background:tn.NeutralGray10}),vb=Zt.Ks.style({width:Zt.Ks.rem(3.125),height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10}),bb=(0,Qs.yY)(pv),yb=o.UI.Grid.make((({slots:e,view:t,notify:n})=>{const{onMount:i}=(0,ns.y)((0,a.flow)(P.M(n({kind:"longFormFeedMount"})),es.j(Yr.notifyFeedUnmount)));return r.createElement(ja,{"data-testid":"long-form-feed",style:{padding:0,display:"grid",gridTemplateRows:"auto auto 1fr",height:"100%"},mount:i},r.createElement($c,{style:Object.assign(Object.assign({},kb),{padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)}`,paddingTop:Zt.Ks.rem(Yt.Jj)})},r.createElement(bb,{count:t("suggestionCount"),pageRange:t("pageRange"),onPageRangeHeaderMount:n({kind:"partialPageRangeHeaderMount"})}),t("canCollapseToShortForm").pipe(O.T((0,U.Sw)(r.createElement(cv,{feedForm:"longForm",onClick:n({kind:"toggleShortFormFeed"})}),null)))),e.lensesHeader,r.createElement(Ns,{role:"list","aria-label":"Suggestions","aria-live":"polite"},e.lensView))})),kb={display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$),justifyContent:"space-between"},wb=o.UI.Group.make({cardList:Ou}),Eb=o.UI.Union.make("kind",{successState:Vv,cardList:wb}),Sb=o.UI.Knot.make(yb,{lensesHeader:Dv,lensView:Eb}),Cb=o.UI.Union.make("kind",{loadingState:Jv,emptyState:Hv,successState:Vv,nonEmptyState:Sb});const _b=e=>{var{style:t}=e,n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["style"]);return r.createElement(ja,Object.assign({},n,{style:t?(0,ke.b)(t).pipe(O.T((e=>Object.assign(Object.assign({},e),xb)))):xb}),n.children)},xb={height:Zt.Ks.rem(10.25),minHeight:Zt.Ks.rem(10.25),boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-around"};function Ab(e){return o.UI.Node.make((({state:t,notify:n})=>{const{onMount:i}=(0,ns.y)(P.M(n({kind:"shortFormFeedEmptyMount"})));return r.createElement(nn.F.Fragment,null,t.pipe(O.T((({emptyStateContent:t,useVerticalLayout:n})=>{const o=t[e?"successState":"emptyState"],s=e?"short-form-feed-success":"short-form-feed-empty";return n?r.createElement(_b,{style:Ib,"data-testid":s,"aria-live":"polite",mount:i},r.createElement("div",{className:Rb},o.illustration),r.createElement("div",{className:Tb},r.createElement("p",{className:Mb},o.title),r.createElement("p",{className:Fb},o.description))):r.createElement(ja,{style:Kb,"data-testid":s,"aria-live":"polite",mount:i},r.createElement("div",{className:Ob},r.createElement("p",{className:Mb},o.title),r.createElement("p",{className:Fb},o.description)),r.createElement("div",{className:Rb},o.illustration))}))))}))}const Ib={padding:`${Zt.Ks.rem(Yt.Jj)}`,alignItems:"center"},Kb={padding:`${Zt.Ks.rem(Yt.Jj)}`,display:"flex",flexDirection:"row",justifyContent:"space-between"},Tb=Zt.Ks.style({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),Ob=Zt.Ks.style({display:"flex",flexDirection:"column",marginRight:Zt.Ks.rem(2),justifyContent:"center"}),Mb=Zt.Ks.style({margin:0,color:vn.A.TextBaseDefault,fontSize:Zt.Ks.rem(1),lineHeight:Zt.Ks.rem(1.5),fontWeight:700}),Fb=Zt.Ks.style({margin:0,color:vn.A.TextBaseSubduedColor,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),fontWeight:400}),Rb=Zt.Ks.style({width:Zt.Ks.rem(4),height:Zt.Ks.rem(4),minWidth:Zt.Ks.rem(4),minHeight:Zt.Ks.rem(4)}),Bb=o.UI.Node.make((()=>r.createElement(_b,{"aria-busy":"true",style:Nb,"data-testid":"short-form-feed-loading"},r.createElement(Gu,null),r.createElement("div",{className:Pb},r.createElement("div",{className:Db}),r.createElement("div",{className:jb})),r.createElement("div",{className:Lb},r.createElement("div",{className:Ub}),r.createElement("div",{className:$b})),r.createElement("div",{className:Hb(!0)}),r.createElement("div",{className:Vb},r.createElement("div",{className:zb}),r.createElement("div",{className:Wb}))))),Nb={padding:`${Zt.Ks.rem(Yt.Jj)}`,position:"relative"},Pb=Zt.Ks.style({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:Zt.Ks.rem(Yt.v$),alignItems:"center"}),Db=Zt.Ks.style({width:Zt.Ks.rem(11.875),height:Zt.Ks.rem(1),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10}),jb=Zt.Ks.style({flex:1,maxWidth:Zt.Ks.rem(3.5),height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10}),Lb=Zt.Ks.style({display:"flex",flexDirection:"row",gap:Zt.Ks.rem(Yt.or),alignItems:"center",marginTop:Zt.Ks.rem(6.5*Yt.or)}),Ub=Zt.Ks.style({width:Zt.Ks.rem(1.25),height:Zt.Ks.rem(1.25),borderRadius:"50%",background:tn.NeutralGray10}),$b=Zt.Ks.style({flex:1,height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10}),Hb=e=>Zt.Ks.style({height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10,marginTop:Zt.Ks.rem(e?2.5*Yt.or:Yt.Jj)}),Vb=Zt.Ks.style({display:"flex",flexDirection:"row",gap:Zt.Ks.rem(Yt.Jj),alignItems:"center",marginTop:Zt.Ks.rem(Yt.Jj+Yt.sp)}),zb=Zt.Ks.style({width:Zt.Ks.rem(4.125),height:Zt.Ks.rem(2),borderRadius:Zt.Ks.rem(en.KD),background:tn.NeutralGray10}),Wb=Zt.Ks.style({width:Zt.Ks.rem(3.125),height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(en.M6),background:tn.NeutralGray10}),Zb=(0,Qs.yY)(pv),Gb=o.UI.Node.make((({state:e,view:t,notify:n})=>{const{onMount:i}=(0,ns.y)((0,a.flow)(P.M(n({kind:"shortFormFeedMount"})),es.j(Yr.notifyFeedUnmount))),{onMount:o}=function(e,t){const{onMount:n,ref:i}=Dt.R.useElWatcher();return Dt.R.useSubscriptionTo(kt.zV([i,t]).pipe(O.T((([e,t])=>(0,a.pipe)(e,j.Mi((e=>e.style.setProperty("--cardWidth",t)))))))),{onMount:n}}(0,u.of("400"));return r.createElement(ja,{"data-testid":"short-form-feed",style:{padding:`${Zt.Ks.rem(Yt.v$)} 0 0 0`},mount:e=>{i(e),o(e)},"aria-live":"polite"},r.createElement($c,{style:Object.assign(Object.assign({},Qb),{padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)}`})},r.createElement(Zb,{count:t("suggestionCount"),pageRange:t("pageRange"),onPageRangeHeaderMount:a.constVoid}),t("canExpandToLongForm").pipe(O.T((0,U.Sw)(r.createElement(cv,{feedForm:"shortForm",onClick:n({kind:"toggleLongFormFeed"})}),null)))),Nn.h(e.pipe(f.s(1)),e.pipe(N.Z(50))).pipe(O.T((({item:e,isFirst:t,isLast:i,prevItem:o,transitions:l,isWaitingForAlertsToBeApplied:c})=>r.createElement(ud.R,{key:e.id,sduiRootId:e.id,content:e.content,designSystem:pu({buttonDesignSystemParams:{acceptButtonsLoading:c,cardPosition:{isFirst:t,isLast:i}}}),notify:md({item:e,kind:"shortFormCardSduiNotify",notify:n}),transitions:Array.from(l),prevContent:(0,a.pipe)(o,s.map((e=>e.content))),onAnimationEnd:n({kind:"shortFormFeedAnimationEnd"}),onMount:n({kind:"shortFormCardMount",item:e}),longFormCardState:{viewKind:"focused"}})))))})),Qb={display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$),justifyContent:"space-between"},qb=o.UI.Union.make("kind",{loadingState:Bb,emptyState:Ab(!1),successState:Ab(!0),nonEmptyState:Gb}),Jb=o.UI.Group.make({feed:qb}),Yb=o.UI.Group.make({feed:Cb}),Xb=o.UI.Union.make("kind",{none:o.UI.Node.empty,shortFormFeed:Jb,longFormFeed:Yb}),ey=e=>r.createElement(sn.hh,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),r.createElement("path",{d:"M12 7L12 17",strokeLinecap:"round"}),r.createElement("path",{d:"M9 9L9 15",strokeLinecap:"round"}),r.createElement("path",{d:"M15 9L15 15",strokeLinecap:"round"}),r.createElement("path",{d:"M18 11L18 13",strokeLinecap:"round"}),r.createElement("path",{d:"M6 11L6 13",strokeLinecap:"round"})),ty=o.UI.Node.make((({notify:e})=>r.createElement(ja,{style:iy,"data-testid":"voice-banner"},r.createElement($c,null,"Set your voice"),r.createElement("div",{className:ry},"Choose how you want your generated text to sound."),r.createElement(rn.$,{style:sy,onClick:e({kind:mt.t.Kind.setVoiceButtonClick}),name:"bannerVoiceProfile",size:"small"},r.createElement(ey,{className:oy}),"Set voice")))),ny=o.UI.Union.asOption(ty),iy={gap:0,backgroundColor:"#D8F2EC",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundImage:"url('https://d201kpdrh73vuz.cloudfront.net/text-generation/voice-banner.png')"},ry=Zt.Ks.style({fontWeight:400,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),color:Xt.Q.Text.Base.Subdued}),oy=Zt.Ks.style({stroke:"white"}),sy={default:{alignSelf:"flex-start",marginTop:Zt.Ks.rem(Yt.v$),padding:`0 ${Zt.Ks.rem(Yt.v$)} 0 ${Zt.Ks.rem(Yt.or)}`,lineHeight:Zt.Ks.rem(1.125),gap:Zt.Ks.rem(Yt.or)},icon:Object.assign({marginLeft:0},(0,gn.QD)(1.5))},ay=o.UI.Grid.make((({slots:e})=>r.createElement(r.Fragment,null,e.suggestions,e.voiceBanner,e.documentOverview,e.intent,e.detectedReferences))),ly=o.UI.Knot.make(ay,{suggestions:Xb,voiceBanner:ny,documentOverview:Kg,intent:Vg,detectedReferences:Xg});var cy=n(36735);function dy(e,t=0){const n=function(e){return e.trim().replace(/\s+/g," ")}(e).split(" ").reduce(((e,n,i,r)=>Object.assign(Object.assign({},e),{head:i<r.length-t?e.head.concat(n):e.head,tail:i>=r.length-t?e.tail.concat(n):e.tail})),{head:[],tail:[]});return{head:n.head.join(" "),tail:n.tail.join(" ")}}const uy=({children:e,maxTailWordsCount:t=0})=>{const n=dy(e,t);return r.createElement("div",{className:my},r.createElement("span",{className:fy},n.head,n.head.length&&n.tail.length?" ":null),n.tail.length?n.tail:null)},py=({children:e,maxTailWordsCount:t=0})=>{const[n,i]=r.useState(t),{onMount:o,rect:s}=Dt.R.useRectWatcher(),a=r.useRef(null),c=r.useMemo((()=>dy(e,n)),[n,e]),d=r.useMemo((()=>new l.B7),[]);Dt.R.useSubscriptionTo(r.useMemo((()=>d.pipe(cy.c(100),A.F(),P.M((e=>{i(e)})))),[]));const u=r.useMemo((()=>{return e=a.current,parseInt((null===(i=null===(n=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView)||void 0===n?void 0:n.getComputedStyle(e))||void 0===i?void 0:i.fontSize)||(null===(o=null===(r=null==e?void 0:e.ownerDocument)||void 0===r?void 0:r.defaultView)||void 0===o?void 0:o.getComputedStyle(e.ownerDocument.body).fontSize)||hy,10);var e,t,n,i,r,o}),[a.current]);return Dt.R.useSubscriptionTo(r.useMemo((()=>s.pipe(B.oE,A.F(),m.p((e=>Boolean(e.width&&e.height))),P.M((e=>{if(e.width<9*u)d.next(0);else if(a.current&&a.current.clientWidth<a.current.scrollWidth){const i=a.current.clientWidth/(e.width||1/0);n&&i<.4?d.next(n-1):i>.6&&n<t&&d.next(n+1)}})))),[s])),r.createElement("div",{className:my,ref:o},r.createElement("span",{className:fy,ref:a},c.head,c.head.length&&c.tail.length?" ":null),c.tail.length?c.tail:null)},my=Zt.Ks.style({display:"flex",flexDirection:"row",whiteSpace:"nowrap",maxWidth:"100%",minWidth:0}),fy=Zt.Ks.style({display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",flexShrink:10}),hy="16px",gy=(0,Qs.yY)((({dynamic:e=!1,maxTailWordsCount:t=0,children:n})=>e?r.createElement(py,{maxTailWordsCount:t},n):r.createElement(uy,{maxTailWordsCount:t},n))),vy=({active:e,className:t,prefix:n,style:i,children:o})=>r.createElement("h1",{id:"actions-panel-context",className:Zt.Ks.joinClasses([ky(void 0!==n,i),t])},e?r.createElement("svg",{viewBox:"0 0 16 16",fill:"none",className:yy,"aria-hidden":"true"},r.createElement("rect",{width:"16",height:"16",rx:"5",fill:"#018374"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 13.5C9.5 13.7761 9.72386 14 10 14H11C12.6569 14 14 12.6569 14 11V10C14 9.72386 13.7761 9.5 13.5 9.5C13.2239 9.5 13 9.72386 13 10V11C13 12.1046 12.1046 13 11 13H10C9.72386 13 9.5 13.2239 9.5 13.5ZM9.5 2.5C9.5 2.77614 9.72386 3 10 3H11C12.1046 3 13 3.89543 13 5V6C13 6.27614 13.2239 6.5 13.5 6.5C13.7761 6.5 14 6.27614 14 6V5C14 3.34315 12.6569 2 11 2H10C9.72386 2 9.5 2.22386 9.5 2.5ZM6 2C6.27614 2 6.5 2.22386 6.5 2.5C6.5 2.77614 6.27614 3 6 3H5C3.89543 3 3 3.89543 3 5V6C3 6.27614 2.77614 6.5 2.5 6.5C2.22386 6.5 2 6.27614 2 6V5C2 3.34315 3.34315 2 5 2H6ZM6 13C6.27614 13 6.5 13.2239 6.5 13.5C6.5 13.7761 6.27614 14 6 14H5C3.34315 14 2 12.6569 2 11V10C2 9.72386 2.22386 9.5 2.5 9.5C2.77614 9.5 3 9.72386 3 10V11C3 12.1046 3.89543 13 5 13H6ZM5.5 6.5C5.5 6.22386 5.72386 6 6 6H10C10.2761 6 10.5 6.22386 10.5 6.5C10.5 6.77614 10.2761 7 10 7H6C5.72386 7 5.5 6.77614 5.5 6.5ZM6 9C5.72386 9 5.5 9.22386 5.5 9.5C5.5 9.77614 5.72386 10 6 10H8.5C8.77614 10 9 9.77614 9 9.5C9 9.22386 8.77614 9 8.5 9H6Z",fill:"white"})):r.createElement("svg",{viewBox:"0 0 16 16",fill:"none",className:yy,"aria-hidden":"true"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 13.5C9.5 13.7761 9.72386 14 10 14H11C12.6569 14 14 12.6569 14 11V10C14 9.72386 13.7761 9.5 13.5 9.5C13.2239 9.5 13 9.72386 13 10V11C13 12.1046 12.1046 13 11 13H10C9.72386 13 9.5 13.2239 9.5 13.5ZM9.5 2.5C9.5 2.77614 9.72386 3 10 3H11C12.1046 3 13 3.89543 13 5V6C13 6.27614 13.2239 6.5 13.5 6.5C13.7761 6.5 14 6.27614 14 6V5C14 3.34315 12.6569 2 11 2H10C9.72386 2 9.5 2.22386 9.5 2.5ZM6 2C6.27614 2 6.5 2.22386 6.5 2.5C6.5 2.77614 6.27614 3 6 3H5C3.89543 3 3 3.89543 3 5V6C3 6.27614 2.77614 6.5 2.5 6.5C2.22386 6.5 2 6.27614 2 6V5C2 3.34315 3.34315 2 5 2H6ZM6 13C6.27614 13 6.5 13.2239 6.5 13.5C6.5 13.7761 6.27614 14 6 14H5C3.34315 14 2 12.6569 2 11V10C2 9.72386 2.22386 9.5 2.5 9.5C2.77614 9.5 3 9.72386 3 10V11C3 12.1046 3.89543 13 5 13H6ZM5.5 6.5C5.5 6.22386 5.72386 6 6 6H10C10.2761 6 10.5 6.22386 10.5 6.5C10.5 6.77614 10.2761 7 10 7H6C5.72386 7 5.5 6.77614 5.5 6.5ZM6 9C5.72386 9 5.5 9.22386 5.5 9.5C5.5 9.77614 5.72386 10 6 10H8.5C8.77614 10 9 9.77614 9 9.5C9 9.22386 8.77614 9 8.5 9H6Z",fill:"#646B81"})),n&&r.createElement("span",{className:by},n),r.createElement(gy,{dynamic:!0,maxTailWordsCount:3},o)),by=Zt.Ks.style({fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),color:vn.A.BrandGreen60}),yy=Zt.Ks.style({width:Zt.Ks.rem(1),height:Zt.Ks.rem(1)}),ky=(e,t)=>Zt.Ks.style(Object.assign({display:"grid",gridTemplateColumns:`${Zt.Ks.rem(1)} ${e?"min-content ":""}auto`,justifyItems:"start",alignItems:"center",gap:Zt.Ks.rem(Yt.v$),color:Xt.Q.Text.Base.Subdued,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"normal",margin:0,height:Zt.Ks.rem(1.5)},t)),wy=o.UI.Node.make((({state:e,notify:t})=>r.createElement(nn.F.Fragment,null,e.pipe(O.T((({selectedRange:e,selectedText:n})=>e?r.createElement(rn.$,{"aria-label":"Show the text used for this response.","aria-describedby":"actions-panel-context",variant:"tertiary",title:"Show the text used for this response.",style:Sy,onClick:t({kind:mt.t.Kind.selectionContextInteraction,range:e,visibility:"attention"}),onMouseEnter:t({kind:mt.t.Kind.selectionContextInteraction,range:e,visibility:"visible"}),onMouseLeave:t({kind:mt.t.Kind.selectionContextInteraction,range:e,visibility:"hidden"}),name:"resultContextHeaderButton"},r.createElement(vy,null,n)):r.createElement("div",{className:Cy,"data-testid":"result-context-header"},r.createElement(vy,null,n)))))))),Ey=o.UI.Union.asOption(wy),Sy={default:{justifyContent:"flex-start",padding:`0 ${Zt.Ks.rem(Yt.v$)}`,margin:`0 ${Zt.Ks.rem(-Yt.v$)}`,height:Zt.Ks.rem(2.5)}},Cy=Zt.Ks.style({display:"flex",alignItems:"center",height:Zt.Ks.rem(2.5)}),_y=e=>r.createElement(sn.hh,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),r.createElement("rect",{width:"16",height:"16",rx:"2"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7072 5.41421L6.50008 12.6213L2.29297 8.41421L3.70718 7L6.50008 9.79289L12.293 4L13.7072 5.41421Z",fill:"white"})),xy=({isMyVoice:e,isAnimated:t=!1,isBadge:n=!1,label:i="Use my style",inactiveLabel:o=i,onClick:s})=>r.createElement(rn.$,{variant:"tertiary",name:"toggleVoice",onClick:s,size:"small",role:"checkbox","aria-checked":e,compact:!0,style:Ay(e,t,n)},r.createElement(_y,Object.assign({width:16,height:16},(0,Qs.Ly)(Iy,e?Ky:Ty))),e?i:o);function Ay(e,t,n){return{default:{display:"flex",alignItems:"center",height:Zt.Ks.rem(1.25),lineHeight:Zt.Ks.rem(1.125),fontSize:Zt.Ks.rem(.75),color:e?tn.Green80:tn.NeutralGray60,backgroundColor:e?tn.Green0:tn.NeutralGray0,transition:t?Zt.Ks.seconds(.25):void 0,transitionProperty:t?"color, background-color":void 0},textPosRight:{padding:`0 ${Zt.Ks.rem(Yt.or)}`},icon:{marginRight:Zt.Ks.rem(Yt.v$),minWidth:Zt.Ks.rem(1),minHeight:Zt.Ks.rem(1)},hovered:{backgroundColor:e?Zt.Ks.color(vn.A.Green10).mix(Zt.Ks.color(vn.A.NeutralGray10)).toRGBA().toString():tn.NeutralGray10,color:e?tn.Green80:tn.NeutralGray60},active:{backgroundColor:e?Zt.Ks.color(vn.A.Green10).mix(Zt.Ks.color(vn.A.NeutralGray10)).toRGBA().toString():tn.NeutralGray10,color:e?tn.Green80:tn.NeutralGray60},disabled:n?{opacity:1,cursor:"default"}:void 0}}const Iy=Zt.Ks.style({marginRight:Zt.Ks.rem(Yt.v$),minWidth:Zt.Ks.rem(1),minHeight:Zt.Ks.rem(1),borderWidth:Zt.Ks.px(1),borderStyle:"solid",borderColor:Xt.Q.Text.Base.Subdued,borderRadius:Zt.Ks.rem(en.KD),overflow:"hidden",transitionProperty:"background border-color",transitionDuration:Zt.Ks.seconds(.25),$nest:{svg:{stroke:"none"}}}),Ky=Zt.Ks.style({background:tn.Green60,borderColor:tn.Green60,$nest:{path:{fill:tn.White}}}),Ty=Zt.Ks.style({background:tn.White,borderColor:Xt.Q.Text.Base.Subdued,$nest:{path:{fill:"transparent"}}}),Oy=Zt.Ks.style({whiteSpace:"break-spaces",overflowWrap:"anywhere",fontStyle:"normal",fontWeight:"normal",fontSize:Zt.Ks.rem(.875),fontFeatureSettings:"'ss03' on",lineHeight:Zt.Ks.rem(1.3125),color:Xt.Q.Text.Base.Default}),My=({children:e})=>r.createElement("div",{className:Oy},e),Fy=({text:e})=>""!==e.trim()?r.createElement(My,null,e):null,Ry=(0,Qs.yY)(rn.$),By=({header:e,onClick:t,disabled:n})=>r.createElement(Ry,{variant:"tertiary",compact:!0,disabled:n,onClick:t,className:Uy,name:"editResultPrompt",size:"small",style:{hovered:{boxShadow:"none",backgroundColor:vn.A.ButtonBackgroundTertiaryHover},active:{boxShadow:"none",backgroundColor:vn.A.ButtonBackgroundTertiaryHover}}},r.createElement(Cm.m_,{title:"Edit"},r.createElement("div",{className:$y},r.createElement("div",Object.assign({className:Vy},G(e))))));var Ny;!function(e){e.FadeIn="FadeIn",e.FadeOut="FadeOut"}(Ny||(Ny={}));const Py=({iconUrl:e,loading:t,header:n})=>{const[i,o]=r.useState({text:n,animationState:Ny.FadeIn});return r.useEffect((()=>{o((e=>Object.assign(Object.assign({},e),{animationState:e.text!==n?Ny.FadeOut:e.animationState})));const e=setTimeout((()=>o({text:n,animationState:Ny.FadeIn})),250);return()=>clearTimeout(e)}),[n]),r.createElement("div",{className:Ly},t?r.createElement(_d,{className:Hy}):(0,a.pipe)(e,s.fold(a.constNull,(e=>r.createElement("img",{src:e,style:{width:Zt.Ks.rem(1.3125),height:Zt.Ks.rem(1.3125)}})))),r.createElement("span",Object.assign({"aria-live":"assertive",className:Zt.Ks.joinClasses([Vy,i.animationState===Ny.FadeIn&&zy,i.animationState===Ny.FadeOut&&Wy])},G(i.text))))},Dy="headerBtn",jy=(0,gn.T2)({height:Zt.Ks.rem(1.5),lineHeight:Zt.Ks.rem(1.125),padding:`0 ${Zt.Ks.rem(Yt.or)}`,margin:`0 ${Zt.Ks.rem(-Yt.or)}`,overflow:"hidden"},Dy),Ly=Zt.Ks.style({display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$+Yt.sp),height:Zt.Ks.rem(1.5),fontWeight:400,fontSize:Zt.Ks.rem(.875),lineHeight:Zt.Ks.rem(1.3125),color:tn.NeutralGray60,overflow:"hidden"}),Uy=Zt.Ks.joinClasses([Dy,Zt.Ks.style(jy)]),$y=Zt.Ks.style({display:"flex",justifyContent:"space-between",width:"100%",gap:Zt.Ks.rem(Yt.or)}),Hy=Zt.Ks.style({marginBottom:`-${Zt.Ks.rem(Yt.sp)}`,display:"inline-flex",alignItems:"center",justifyContent:"center"}),Vy=Zt.Ks.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",transitionProperty:"opacity",transitionDuration:Zt.Ks.seconds(.25)}),zy=Zt.Ks.style({opacity:1}),Wy=Zt.Ks.style({opacity:0}),Zy=o.UI.Grid.make((({slots:e,state:t})=>r.createElement(nn.F.Fragment,null,t.pipe(O.T((({resultText:t,statusText:n,isMyVoiceStatus:i,sourceLabel:o,sourceIconUrl:a})=>r.createElement(qa,{"data-testid":"my-voice-in-progress-result",header:r.createElement(r.Fragment,null,e.header,r.createElement(Gy,null,r.createElement(Py,{header:t.length>0?o:n,iconUrl:t.length>0?a:s.none,loading:0===t.length}),r.createElement(xy,{isBadge:!0,isAnimated:!0,isMyVoice:i,label:"Use my style"}))),body:t.length>0?r.createElement(r.Fragment,null,r.createElement(Fy,{text:t}),r.createElement(qy,null)):null,isActive:!0}))))))),Gy=({children:e})=>r.createElement("div",{className:Qy},e),Qy=Zt.Ks.style({display:"grid",gridTemplateColumns:"1fr auto"}),qy=()=>r.createElement("div",{className:Zt.Ks.style({position:"relative",overflow:"hidden",height:Zt.Ks.rem(.5),borderRadius:Zt.Ks.rem(en.KD),background:tn.NeutralGray10,flexGrow:1})},r.createElement(Gu,null)),Jy=(0,Qs.yY)(Fy),Yy=o.UI.Grid.make((({slots:e,view:t})=>r.createElement(qa,{"aria-busy":"true","data-testid":"in-progress-result",body:r.createElement(Jy,{text:t("text")}),header:r.createElement(r.Fragment,null,e.header,r.createElement(Py,{header:"Working on it...",iconUrl:s.none,loading:!0})),isActive:!0}))),Xy=(o.UI.Knot.make(Zy,{header:Ey}),o.UI.Knot.make(Yy,{header:Ey})),ek=o.UI.Union.asOption(Xy),tk=(0,Qs.yY)(fs),nk=({placeholder:e,error:t,openAnswer:n,onOpenAnswerChange:i,onSubmitButtonClick:o,onCancelButtonClick:l,onKeypressShiftEnter:c})=>{const d=r.useContext(vs.D);return r.createElement("form",{className:rk,onSubmit:e=>e.preventDefault()},r.createElement(tk,{className:ak,placeholder:null!=e?e:void 0,text:n,onChange:i,ariaLabel:"Open ended answer",fitContentHeight:!0,theme:{fontSize:Zt.Ks.rem(.75),lineHeightRems:1.125},useIframeWrapper:d.view((e=>e.useIframeTextfieldWrapper)),onKeyDownShiftEnter:c}),(0,a.pipe)(t,s.fold((()=>null),(e=>r.createElement("div",{className:lk},e)))),r.createElement("div",{className:ik},r.createElement("input",{type:"submit",value:"Submit",hidden:!0}),r.createElement(rn.$,{variant:"secondary",style:ok,onClick:o},"Submit"),r.createElement(rn.$,{variant:"tertiary",style:sk,onClick:l},"Dismiss")))},ik=Zt.Ks.style({display:"flex",justifyContent:"flex-start",alignItems:"center"}),rk=Zt.Ks.style({width:Zt.Ks.percent(100),display:"flex",flexDirection:"column",gap:Zt.Ks.rem(Yt.v$)}),ok={default:{fontSize:Zt.Ks.rem(.75),fontWeight:"bold",marginRight:Zt.Ks.rem(Yt.v$),minHeight:Zt.Ks.rem(Yt.v5),lineHeight:Zt.Ks.rem(Yt.v5)}},sk={default:{fontSize:Zt.Ks.rem(.75),minHeight:Zt.Ks.rem(Yt.v5),lineHeight:Zt.Ks.rem(Yt.v5)}},ak=Zt.Ks.style({border:`1px solid ${tn.NeutralGray10}`,minHeight:Zt.Ks.rem(7.5*Yt.or),backgroundColor:tn.White,borderRadius:Zt.Ks.rem(Yt.v$),width:Zt.Ks.percent(100),padding:`${Zt.Ks.rem(1.25*Yt.or)} ${Zt.Ks.rem(Yt.v$)}`,boxSizing:"border-box"}),lk=Zt.Ks.style({color:Xt.Q.Background.Critical.Default,fontSize:Zt.Ks.rem(.75),marginBottom:Zt.Ks.rem(Yt.or)});var ck=n(90883);const dk=e=>r.createElement(sn.hh,Object.assign({width:"18",height:"17",viewBox:"0 0 18 17",fill:"none"},e),r.createElement("path",{d:"M9 1L11.069 6.15226L16.6085 6.52786L12.3477 10.0877L13.7023 15.4721L9 12.52L4.29772 15.4721L5.65228 10.0877L1.39155 6.52786L6.931 6.15226L9 1Z",fill:"transparent",stroke:tn.NeutralGray40,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),uk=({rating:e,ratingLabels:t,maxScore:n})=>(0,a.pipe)(e,s.fold((()=>t.length>=n&&n>1?r.createElement("div",{className:fk},r.createElement("span",{className:mk},t[0]),r.createElement("span",{className:mk},t[n-1])):null),(e=>e-1>=0&&t.length>=e?r.createElement("div",{className:pk},r.createElement("span",null,t[e-1])):null))),pk=Zt.Ks.style({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",fontWeight:"bold",fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(.875)}),mk=Zt.Ks.style({color:tn.NeutralGray40}),fk=Zt.Ks.style({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(.875)});const hk=({disabled:e,rating:t,ratingLabels:n,maxScore:i,onSelectionChange:o})=>{const[l,c]=r.useState(s.none),d=r.useMemo((()=>[]),[]),u=t=>{e||o(t+1)},p=t=>{e||c(s.some(t+1))},m=()=>{e||c(s.none)};return r.createElement(r.Fragment,null,r.createElement("div",{className:gk,style:{gridTemplateColumns:`repeat(${i}, minmax(${Zt.Ks.rem(Yt.OE)}, ${Zt.Ks.rem(Yt.Ai)}))`},role:"slider","aria-valuemin":0,"aria-valuenow":(0,a.pipe)(t,s.getOrElse((()=>0))),"aria-valuemax":5,"aria-valuetext":(0,a.pipe)(t,s.fold((()=>"Not yet rated"),(e=>n[e-1])))},Array.from({length:i}).map(((o,c)=>r.createElement(vk,{key:c,onClick:()=>u(c),isFilled:(0,a.pipe)(t,s.fold((()=>!1),(e=>c<e)))||(0,a.pipe)(l,s.fold((()=>!1),(e=>c<e))),onMouseEnter:()=>p(c),onMouseLeave:m,onFocus:()=>p(c),onBlur:m,isSelected:(0,a.pipe)(t,s.fold((()=>!1),(e=>c+1===e))),isFocusable:(0,a.pipe)(t,s.fold((()=>0===c),(e=>c+1===e))),ariaLabel:`Rate this generated output as ${n[c]}`,ref:e=>d.push(e),onKeyDown:t=>((t,n)=>{var r,o,c,p;e||("ArrowRight"!==t.key&&"ArrowUp"!==t.key||((0,a.pipe)(l,s.fold((()=>!1),(e=>e<i)))?null===(r=d[n+1])||void 0===r||r.focus():null===(o=d[0])||void 0===o||o.focus()),"ArrowLeft"!==t.key&&"ArrowDown"!==t.key||((0,a.pipe)(l,s.fold((()=>!1),(e=>e>1)))?null===(c=d[n-1])||void 0===c||c.focus():null===(p=d[4])||void 0===p||p.focus()),"Enter"!==t.key&&" "!==t.key||u(n))})(t,c),disabled:e})))),r.createElement(uk,{rating:(0,a.pipe)(t,s.fold((0,a.constant)(l),(0,a.constant)(t))),ratingLabels:n,maxScore:i}),r.createElement(ck.h,{small:!0}))},gk=Zt.Ks.style({display:"grid",width:Zt.Ks.percent(100),justifyContent:"center"}),vk=r.forwardRef(((e,t)=>{var{isFilled:n,ariaLabel:i,disabled:o,isSelected:s,isFocusable:a}=e,l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["isFilled","ariaLabel","disabled","isSelected","isFocusable"]);return r.createElement("button",Object.assign({className:bk,role:"radio","aria-label":i,disabled:o,"aria-checked":s,tabIndex:a?0:-1,ref:t},l),r.createElement(dk,{className:n?yk:""}))}));vk.displayName="StarButton";const bk=Zt.Ks.style({border:"none",background:"none",cursor:"pointer",padding:0,borderRadius:Zt.Ks.rem(Yt.or),$nest:{"&:focus-visible":{outlineStyle:"none",boxShadow:`0 0 0 2px ${Xt.Q.Text.Base.Subdued}`}}}),yk=Zt.Ks.style({$nest:{"& path":{fill:tn.Gold40,stroke:tn.Gold40}}}),kk=(0,Qt.w)("nocolor",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",viewBox:"0 0 32 32","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#1C1C1C",d:"M0 16C0 7.163 7.162 0 16.001 0s16 7.163 16 16c0 7.732-5.482 14.183-12.773 15.676-1.042.213-2.121.324-3.222.324H0z"}),r.createElement("path",{fill:"#fff",d:"m19.876 14.484-1.788 2.94h6.02c-.93 5.116-6.62 8.599-12.304 5.653a6.7 6.7 0 0 1-2.861-2.834c-3.27-6.226 1.197-12.49 7.093-12.49a8.19 8.19 0 0 1 6.2 2.839l1.58-2.6a11.08 11.08 0 0 0-8.566-3.148c-5.562.384-10.071 4.994-10.342 10.56-.309 6.393 4.8 11.688 11.124 11.688s11.14-4.999 11.14-11.14c0-.5-.038-.989-.1-1.468z"}))));var wk=n(43919);const Ek=({stage:e,rating:t,initialTitle:n,acknowledgment:i,acknowledgmentTitle:o,onCloseButtonClick:s,className:a})=>r.createElement("div",{className:Zt.Ks.joinClasses([Sk,a])},r.createElement(kk,{className:_k}),r.createElement(xk,{stage:e,rating:t,initialTitle:n,acknowledgment:i,acknowledgmentTitle:o}),r.createElement(rn.$,{variant:"tertiary","aria-label":"Close survey",style:{default:{marginLeft:"auto",padding:0,minWidth:Zt.Ks.rem(Yt.v5),minHeight:Zt.Ks.rem(Yt.v5)},hovered:{backgroundColor:tn.NeutralGray10},active:{backgroundColor:tn.NeutralGray10}},onClick:s},r.createElement(wk.A,null))),Sk=Zt.Ks.style({display:"flex",alignItems:"center"}),Ck=Zt.Ks.style({fontSize:Zt.Ks.rem(.75)}),_k=Zt.Ks.style({width:Zt.Ks.rem(1.25),height:Zt.Ks.rem(1.25),marginRight:Zt.Ks.rem(Yt.CN)}),xk=({stage:e,rating:t,initialTitle:n,acknowledgmentTitle:i,acknowledgment:o})=>{switch(e){case uo.Stage.Type.Rating:return r.createElement("span",{className:Ck},n);case uo.Stage.Type.Feedback:return r.createElement("span",{className:Ck},"Your rating:"," ",Array.from({length:t}).map((()=>"⭐")).join(" "));case uo.Stage.Type.Completed:return r.createElement("span",{className:Ck},(0,a.pipe)(i,s.fold((()=>r.createElement("b",null,"Thank you!")),(e=>r.createElement("b",null,e))))," ",(0,a.pipe)(o,s.fold((()=>"Your feedback helps us improve."),(e=>e))));case uo.Stage.Type.Closed:return null;default:return(0,h.AS)(e)}},Ak=o.UI.Union.asOption(o.UI.Node.make((({notify:e,state:t})=>r.createElement(nn.F.Fragment,null,t.pipe(O.T((t=>r.createElement(Ik,Object.assign({},t,{onRatingSelectionChange:t=>{e({kind:mt.t.Kind.surveyRatingSelectionChange,rating:t})()},onOpenAnswerChange:t=>e({kind:mt.t.Kind.surveyOpenAnswerChange,openAnswer:t})(),onSubmitButtonClick:e({kind:mt.t.Kind.surveySubmitButtonClick}),onKeypressShiftEnter:e({kind:mt.t.Kind.surveyKeyPressShiftEnter}),onCancelButtonClick:e({kind:mt.t.Kind.surveyCancelButtonClick}),onCloseButtonClick:e({kind:mt.t.Kind.surveyCloseButtonClick})}))))))))),Ik=({survey:e,stage:t,transitionStage:n,rating:i,errors:o,openAnswer:l,onOpenAnswerChange:c,onRatingSelectionChange:d,onCloseButtonClick:u,onCancelButtonClick:p,onSubmitButtonClick:m,onKeypressShiftEnter:f})=>r.createElement(ja,{style:Kk,"data-testid":`survey-${e.resultId}`},r.createElement(Ek,{className:Zt.Ks.joinClasses([n===uo.Stage.Type.Feedback?Mk:void 0,t===uo.Stage.Type.Feedback?Fk:void 0]),stage:t,rating:(0,a.pipe)(i,s.getOrElse((0,a.constant)(1))),initialTitle:e.title,acknowledgment:e.acknowledgment,acknowledgmentTitle:e.acknowledgmentTitle,onCloseButtonClick:u}),t!==uo.Stage.Type.Completed&&r.createElement(r.Fragment,null,r.createElement("div",{className:Zt.Ks.joinClasses([Rk,n===uo.Stage.Type.Feedback?Mk:void 0,t===uo.Stage.Type.Feedback?Fk:void 0])},r.createElement("div",{className:Nk,hidden:t!==uo.Stage.Type.Rating},r.createElement(hk,{onSelectionChange:d,rating:i,disabled:s.isSome(i),maxScore:e.maxScore,ratingLabels:e.ratingLabels})),(0,a.pipe)(e.openAnswer,s.fold((0,a.constant)("(Optional) Please share your feedback to help us improve."),(e=>e.placeholder)),(e=>r.createElement("div",{className:Bk,hidden:t!==uo.Stage.Type.Feedback},r.createElement(nk,{placeholder:e,onSubmitButtonClick:m,onKeypressShiftEnter:f,onCancelButtonClick:p,onOpenAnswerChange:c,openAnswer:l,error:(0,a.pipe)(o,s.chain((e=>e.openAnswerError)))}))))))),Kk={backgroundColor:tn.NeutralGray0,padding:`${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)}`},Tk=Zt.Ks.keyframes({from:{opacity:1},to:{opacity:.3}}),Ok=Zt.Ks.keyframes({from:{opacity:.3},to:{opacity:1}}),Mk=Zt.Ks.style({animation:`${Tk} 0.3s ease-in-out`}),Fk=Zt.Ks.style({animation:`${Ok} 0.3s ease-in-out`}),Rk=Zt.Ks.style({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:Zt.Ks.rem(Yt.sp)}),Bk=Zt.Ks.style({width:Zt.Ks.percent(100)}),Nk=Zt.Ks.style({maxWidth:Zt.Ks.percent(100),width:"fit-content",paddingTop:Zt.Ks.rem(Yt.or)}),Pk=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.053 10.842v1.908c0 .69.56 1.25 1.25 1.25h4.447c.69 0 1.25-.56 1.25-1.25V8.303c0-.69-.56-1.25-1.25-1.25h-1.908M8.947 3.25v4.447c0 .69-.56 1.25-1.25 1.25H3.25c-.69 0-1.25-.56-1.25-1.25V3.25C2 2.56 2.56 2 3.25 2h4.447c.69 0 1.25.56 1.25 1.25"}))));var Dk=n(90718);const jk=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",d:"M4.25 5.692h7.5M4.25 8h7.5M4 10.956V13l2.667-2.044h6.084c.69 0 1.249-.56 1.249-1.25V4.25C14 3.56 13.44 3 12.75 3h-9.5C2.56 3 2 3.56 2 4.25v5.456c0 .69.56 1.25 1.25 1.25z"})))),Lk=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round",d:"M3 2v1.161M3 14V9.355m0 0h10l-2.963-3.097L13 3.161H3m0 6.194V3.16"})))),Uk=({reportMenuButtonClassName:e,onClickReportOffensive:t,onClickProvideFeedback:n,onOpenChange:i,onDismiss:o,promptResultLabel:s})=>r.createElement(Dg,{title:"Open more response options",name:"dismissReportMenu",label:r.createElement(fn,null,r.createElement(Gt.I,{icon:Dk.$,accessibilityLabel:""})),buttonClass:e,onAction:e=>{switch(e){case"provideFeedback":return n();case"reportOffensive":return t();case"dismissResult":return o()}},onOpenChange:i},r.createElement(ou.q7,{key:"dismissResult","aria-label":`Delete ${s} output`,textValue:"dismissResult"},r.createElement(fn,{className:$k},r.createElement(Gt.I,{icon:yg.C,accessibilityLabel:""})),r.createElement(Ws.E,{as:"span",variant:"text-small"},"Delete")),r.createElement(ou.q7,{key:"provideFeedback","aria-label":`Give feedback on ${s} output`,textValue:"provideFeedback"},r.createElement(fn,{className:$k},r.createElement(Gt.I,{icon:jk,accessibilityLabel:""})),r.createElement(Ws.E,{as:"span",variant:"text-small"},"Give feedback")),r.createElement(ou.q7,{key:"reportOffensive","aria-label":`Report offensive content for ${s} output`,textValue:"reportOffensive"},r.createElement(fn,{className:$k},r.createElement(Gt.I,{icon:Lk,accessibilityLabel:""})),r.createElement(Ws.E,{as:"span",variant:"text-small"},"Report offensive content"))),$k=Zt.Ks.style({height:Zt.Ks.rem(1.5),width:Zt.Ks.rem(1.5),margin:`0 ${Zt.Ks.rem(Yt.v$)} 0 ${Zt.Ks.rem(-Yt.or)}`}),Hk=({onInsert:e,onRephrase:t,onDismiss:n,onCopy:i,onProvideFeedback:o,onReportOffensive:l,onReportMenuVisibilityChange:c,disabled:d,isActive:u,resultLabel:p})=>{const m=s.isSome(t)||s.isSome(e),f=r.createElement(Uk,{reportMenuButtonClassName:Gk,onClickProvideFeedback:o,onClickReportOffensive:l,onOpenChange:c,onDismiss:n,promptResultLabel:p});return r.createElement("div",{className:Vk},r.createElement("div",{className:Wk},(0,a.pipe)(e,s.map((e=>r.createElement(rn.$,{"aria-label":`Insert ${p} output into your document`,name:"insertResult",onClick:e,size:"large",key:"insert",variant:u?"primary":"secondary",textPosition:"everywhere"},r.createElement("div",{className:Zt.Ks.style({position:"relative"})},r.createElement("div",{className:Zt.Ks.style({fontWeight:"bold",visibility:"hidden"})},"Insert"),r.createElement("div",{className:Zt.Ks.style({position:"absolute",top:0,left:0,right:0})},"Insert"))))),s.toNullable),(0,a.pipe)(t,s.map((e=>r.createElement(rn.$,{"aria-label":`Retry ${p}`,variant:"tertiary",name:"rephraseResult",onClick:e,disabled:d,size:"large",key:"rephrase"},"Retry"))),s.toNullable),r.createElement(nn.F.Fragment,null,m?f:null)),r.createElement(nn.F.div,{className:Zk},m?null:f,(0,a.pipe)(i,s.map((e=>r.createElement(rn.$,{"aria-label":`Copy ${p} output`,name:"copyResult",onClick:e,size:"large",variant:"tertiary",title:"Copy result"},r.createElement("div",{className:Zt.Ks.style({height:Zt.Ks.rem(1),width:Zt.Ks.rem(1),display:"flex",justifyContent:"center",alignItems:"center"})},r.createElement(Pk,{width:"1rem",height:"1rem"}))))),s.toNullable)))},Vk=Zt.Ks.style({gap:Zt.Ks.rem(Yt.v$),display:"flex",alignItems:"center",justifyContent:"space-between"}),zk={display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$)},Wk=Zt.Ks.style(zk),Zk=Zt.Ks.style(zk),Gk="reportBtn",Qk=o.UI.Grid.make((({state:e,notify:t,slots:n})=>r.createElement(nn.F.Fragment,null,e.pipe(O.T((({disabled:e,result:i,originalAction:o})=>r.createElement(qa,{"data-testid":`ai-notification-${i.id}`,body:r.createElement(r.Fragment,null,r.createElement("div",{className:Zt.Ks.style({borderBottom:`0.5px solid ${tn.NeutralGray10}`})},r.createElement(Fy,{text:i.text}),r.createElement("div",{className:Zt.Ks.style({display:"flex",flexDirection:"row",flexWrap:"wrap",gap:Zt.Ks.rem(.5),marginTop:Zt.Ks.rem(.5),marginBottom:Zt.Ks.rem(.75)})},n.actions)),(0,a.pipe)(o,s.map((n=>r.createElement("div",null,r.createElement(Fy,{text:"Continue with your original prompt:"}),r.createElement("div",{className:Zt.Ks.style({paddingTop:Zt.Ks.rem(.125)})},r.createElement(qk,{disabled:e,action:n,onClick:t({kind:mt.t.Kind.userPromptSubmit,prompt:n})}))))),s.toNullable)),header:r.createElement("h2",{className:Zt.Ks.style({fontSize:Zt.Ks.rem(1),marginBottom:Zt.Ks.rem(.2),marginTop:0,lineHeight:Zt.Ks.rem(1.5)})},"Review your AI use"),isActive:!0,footer:r.createElement(Hk,{isActive:!1,onRephrase:s.none,onInsert:s.none,onCopy:s.none,onDismiss:t({kind:mt.t.Kind.resultCardDismissButtonClick,result:i}),onProvideFeedback:t({kind:mt.t.Kind.openFeedbackFormButtonClick,source:vl.Source.resultCard}),onReportOffensive:t({kind:mt.t.Kind.reportOffensiveResultButtonClick,result:i}),onReportMenuVisibilityChange:e=>t({kind:mt.t.Kind.reportMenuVisibilityChange,trigger:ko.card(i.id),visible:e})(),disabled:e,resultLabel:i.header.label}),style:{borderColor:tn.Gold40,borderTopWidth:Zt.Ks.rem(.375)}}))))))),qk=({action:e,onClick:t,disabled:n})=>r.createElement("button",{onClick:t,disabled:n,className:Zt.Ks.style({textDecoration:"underline",color:tn.NeutralGray60,background:Zt.Ks.important("none"),border:"none",cursor:"pointer",lineHeight:Zt.Ks.rem(1.375),fontSize:Zt.Ks.rem(.875),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",textAlign:"left"})},'"',e.arg.value,'"'),Jk=o.UI.List.make(S.QW,fa),Yk=o.UI.Knot.make(Qk,{actions:Jk}),Xk=({title:e,url:t,contextText:n})=>{const i=r.useRef(null),o=Qg(i,e),l=(0,a.pipe)(n,s.getOrElse((()=>o)));return(0,a.pipe)(t,s.fold((()=>r.createElement(nw,{tooltip:l},r.createElement("span",{className:ew,ref:i},e))),(t=>r.createElement(nw,{tooltip:l},r.createElement("div",{className:tw},r.createElement(Gg.G,{href:t,className:ew,ref:i},e))))))},ew=Zt.Ks.style({display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",maxWidth:"100%",$nest:{"&:visited":{color:"inherit"}}}),tw=Zt.Ks.style({display:"flex",alignItems:"center",width:"100%",overflow:"hidden"}),nw=({children:e,tooltip:t})=>t?r.createElement(Cm.m_,{align:"topCenter",title:r.createElement("div",{className:iw},t)},e):r.createElement(r.Fragment,null,e),iw=Zt.Ks.style({maxWidth:Zt.Ks.rem(80*Yt.or),textAlign:"left",whiteSpace:"normal",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"}),rw=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",d:"M5.818 2.429A5.92 5.92 0 0 0 2 8a6 6 0 0 0 3.857 5.606m4.286-11.177C12.398 3.29 14 5.44 14 8a5.97 5.97 0 0 1-3.824 5.606M2.546 2h3.272v3.273M13.455 14h-3.273v-3.273"})))),ow={minWidth:Zt.Ks.rem(1.5),minHeight:Zt.Ks.rem(1.5),lineHeight:Zt.Ks.rem(1.5)},sw=({onRegenerateWithoutReference:e})=>r.createElement(Im,{name:"referenceMenu",title:"Reference menu","aria-label":"Reference menu",label:r.createElement(Dk.$,null),theme:{buttonStyle:{default:Object.assign({padding:0},ow),icon:ow}},onAction:t=>{if("regenerateWithoutReference"===t)return e()}},r.createElement(ou.q7,{key:"regenerateWithoutReference",textValue:"regenerateWithoutReference"},r.createElement(rw,{className:aw}),"Regenerate without this reference")),aw=Zt.Ks.style({marginRight:Zt.Ks.rem(Yt.v$)}),lw=({label:e,variant:t})=>r.createElement(Jt.v,{variant:t,label:e}),cw=({privacyLevel:e})=>{switch(e.kind){case"public":return r.createElement(dw,null);case"restricted":return r.createElement(uw,null);default:return(0,a.absurd)(e)}},dw=()=>r.createElement(r.Fragment,null),uw=()=>r.createElement(Cm.m_,{align:"topLeft",title:r.createElement("div",{className:pw},"This item has restricted access and is only visible to those added to the file")},r.createElement(lw,{variant:"neutral",label:"Private"})),pw=Zt.Ks.style({width:Zt.Ks.rem(9),overflowWrap:"normal",whiteSpace:"normal",textAlign:"left"}),mw=(0,Qs.yY)(rn.$),fw=({className:e,isOpen:t,references:n,onOpenChange:i,onRegenerateWithoutReference:o,onReferencesMount:s,onReferencesUnmount:l})=>{const{onMount:c}=(0,ns.y)((0,a.flow)(P.M(s),es.j(l)));return r.createElement(nn.F.div,{className:e,mount:c},r.createElement(mw,{variant:"tertiary",style:hw,onClick:()=>i(!t),name:"collapseReferencesList",size:"small"},r.createElement("span",{className:vw},n.length," ",pt.td(n.length,"reference","references")),r.createElement(av,null,t?r.createElement(sv,null):r.createElement(ov,null))),r.createElement("ul",{className:bw,hidden:!t,"aria-hidden":!t},n.map((({id:e,privacyLevel:t,title:n,iconUrl:i,url:s,contextText:a},l)=>r.createElement("li",{key:l,className:yw},r.createElement("img",{src:i,className:kw,alt:""}),r.createElement(Xk,{title:n,url:s,contextText:a}),r.createElement("div",{className:ww},r.createElement(cw,{privacyLevel:t}),void 0!==o?r.createElement(sw,{onRegenerateWithoutReference:()=>o(e)}):null))))))},hw={default:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:Zt.Ks.rem(Yt.v$),paddingRight:Zt.Ks.rem(Yt.v$)}},gw={fontSize:Zt.Ks.rem(Yt.CN),lineHeight:Zt.Ks.rem(Yt.Jj+Yt.sp),color:Xt.Q.Text.Base.Subdued,userSelect:"none"},vw=Zt.Ks.style(gw),bw=Zt.Ks.style({fontSize:Zt.Ks.rem(Yt.CN),lineHeight:Zt.Ks.rem(Yt.Jj+Yt.sp),color:Xt.Q.Text.Base.Default,margin:0,padding:0}),yw=Zt.Ks.style({height:Zt.Ks.rem(Yt.v5),display:"flex",alignItems:"center",borderRadius:Zt.Ks.rem(en.KD)}),kw=Zt.Ks.style({minWidth:Zt.Ks.rem(Yt.Jj),height:Zt.Ks.rem(Yt.Jj),marginRight:Zt.Ks.rem(Yt.v$)}),ww=Zt.Ks.style({display:"flex",alignItems:"center",justifyContent:"space-between",marginLeft:"auto"});var Ew,Sw=n(88105);!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm",e.none="none"}(Ew||(Ew={}));const Cw=({insertOp:e})=>{const t=_w(e.attributes),n=xw(e.attributes);switch(t){case Ew.generatedText:return r.createElement(Ow,{style:n},e.insert);case Ew.knowledgeHubTerm:return r.createElement(Mw,{style:n},e.insert);case Ew.none:return Tw(e.attributes)?r.createElement(Rw,{style:n,href:e.attributes.link},e.insert):r.createElement(Fw,{style:n},e.insert);default:return(0,a.absurd)(t)}},_w=e=>{switch(!0){case null==e?void 0:e[Pw.knowledgeHubTerm]:return Ew.knowledgeHubTerm;case null==e?void 0:e[Pw.generatedText]:return Ew.generatedText;default:return Ew.none}},xw=e=>{const t={};return Aw(e)&&(t.fontWeight="bold"),Iw(e)&&(t.fontStyle="italic"),Kw(e)&&(t.textDecoration="underline"),Tw(e)&&(t.color=tn.Blue60),t},Aw=e=>!0===(null==e?void 0:e.bold),Iw=e=>!0===(null==e?void 0:e.italic),Kw=e=>!0===(null==e?void 0:e.underline),Tw=e=>"string"==typeof(null==e?void 0:e.link),Ow=({children:e,style:t})=>r.createElement("span",{className:Bw,style:t},e),Mw=({children:e,style:t})=>r.createElement(Cm.m_,{title:"from Knowledge Share"},r.createElement("span",{className:Nw,style:t},e)),Fw=({children:e,style:t})=>r.createElement("span",{style:t},e),Rw=({children:e,style:t,href:n})=>r.createElement("a",{style:t,href:n,target:"_blank",rel:"noreferrer"},e),Bw=Zt.Ks.style({backgroundColor:tn.Green0,borderRadius:Zt.Ks.rem(en.M6)}),Nw=Zt.Ks.style({backgroundColor:tn.Blue0,borderRadius:Zt.Ks.rem(en.M6)});var Pw;!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm"}(Pw||(Pw={}));const Dw=({replacementDelta:e})=>r.createElement(My,null,e.map(((e,t)=>Sw.E.isInsert(e)?r.createElement(Cw,{key:t,insertOp:e}):null))),jw=({className:e,title:t,description:n})=>r.createElement("div",{className:Zt.Ks.joinClasses([Lw,e])},r.createElement("div",{className:Uw},r.createElement("span",{className:zw},t)),r.createElement("ul",{className:$w},n.map(((e,t)=>r.createElement("li",{className:Hw,key:t},r.createElement(Gp.l,{className:Vw}),r.createElement("span",{className:Ww},e)))))),Lw=Zt.Ks.style({display:"flex",flexDirection:"column"}),Uw=Zt.Ks.style({display:"flex"}),$w=Zt.Ks.style({display:"flex",flexDirection:"column",listStyle:"none",margin:0,padding:0,$nest:{"& li":{marginTop:Zt.Ks.rem(Yt.or)}}}),Hw=Zt.Ks.style({display:"flex",alignItems:"center"}),Vw=Zt.Ks.style({marginRight:Zt.Ks.rem(Yt.v$),width:Zt.Ks.rem(Yt.Jj),maxHeight:Zt.Ks.rem(Yt.Jj+Yt.sp),$nest:{"& path:first-of-type":{stroke:tn.Green60}}}),zw=Zt.Ks.style({fontSize:Zt.Ks.rem(Yt.CN),lineHeight:Zt.Ks.rem(Yt.Jj+Yt.sp),fontWeight:700,color:Xt.Q.Text.Base.Subdued}),Ww=Zt.Ks.style({fontSize:Zt.Ks.rem(Yt.CN),lineHeight:Zt.Ks.rem(Yt.Jj+Yt.sp),color:Xt.Q.Text.Base.Subdued,flex:1});var Zw;!function(e){e.searchLabel="searchLabel",e.clickableSearchLabel="clickableSearchLabel",e.knowledgeHub="knowledgeHub"}(Zw||(Zw={})),o.UI.Union.asOption(o.UI.Node.make((({notify:e,state:t})=>r.createElement(nn.F.Fragment,null,t.pipe(O.T((t=>r.createElement(xy,{key:"voiceButton",isMyVoice:t.selectedVoice===se.Q.GeneratedTextVoice.user,onClick:e({kind:mt.t.Kind.resultCardToggleGenericVoiceButtonClick,resultId:t.resultId,voice:t.selectedVoice})}))))))));const Gw=o.UI.Node.make((({notify:e,state:t})=>r.createElement(nn.F.div,{className:Qw},t.pipe(O.T((t=>{switch(t.kind){case Zw.clickableSearchLabel:return r.createElement(By,{header:t.label,disabled:t.disabled,onClick:e({kind:mt.t.Kind.resultCardHeaderClick,prompt:t.copiablePrompt})});case Zw.searchLabel:return r.createElement(Py,{header:t.label,iconUrl:t.iconUrl,loading:!1});case Zw.knowledgeHub:return r.createElement(Py,{header:"Knowledge Share content was used.",iconUrl:s.none,loading:!1});default:return(0,h.AS)(t)}})))))),Qw=Zt.Ks.style({display:"grid",gridTemplateColumns:"1fr auto",gap:Zt.Ks.rem(Yt.v$)}),qw=o.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{notifyUnmount:i}=r.useContext(is);return r.createElement(nn.F.Fragment,null,t.pipe(O.T((({result:t,disabled:o,isActive:l,isReferencesOpen:c,isMyVoice:d})=>r.createElement(qa,{"data-testid":`result-${t.id}`,body:r.createElement(Dw,{replacementDelta:(0,a.pipe)(t.replacementDelta,E.fold(a.identity,(e=>d?e.user:e.generic)))}),header:r.createElement(r.Fragment,null,e.contextHeader,e.header),footer:r.createElement(r.Fragment,null,r.createElement(Hk,{isActive:l,onRephrase:(0,a.pipe)(t,s.fromPredicate(se.Q.isComplete),s.filter((e=>e.supportedActions.has(se.Q.SupportedAction.rephrase))),s.map((e=>n({kind:mt.t.Kind.resultCardRephraseButtonClick,result:e,selectedVoice:d?se.Q.GeneratedTextVoice.user:se.Q.GeneratedTextVoice.generic})))),onInsert:(0,a.pipe)(s.some(n({kind:mt.t.Kind.resultCardInsertButtonClick,result:t,selectedVoice:d?se.Q.GeneratedTextVoice.user:se.Q.GeneratedTextVoice.generic})),s.filter((()=>t.supportedActions.has(se.Q.SupportedAction.insert)))),onCopy:(0,a.pipe)(s.some(n({kind:mt.t.Kind.resultCardCopyButtonClick,result:t,selectedVoice:d?se.Q.GeneratedTextVoice.user:se.Q.GeneratedTextVoice.generic})),s.filter((()=>t.supportedActions.has(se.Q.SupportedAction.copy)))),onDismiss:n({kind:mt.t.Kind.resultCardDismissButtonClick,result:t}),onProvideFeedback:n({kind:mt.t.Kind.openFeedbackFormButtonClick,source:vl.Source.resultCard}),onReportOffensive:n({kind:mt.t.Kind.reportOffensiveResultButtonClick,result:t}),onReportMenuVisibilityChange:e=>n({kind:mt.t.Kind.reportMenuVisibilityChange,trigger:ko.card(t.id),visible:e})(),disabled:o,resultLabel:t.header.label}),(0,a.pipe)(t.references,s.filter((e=>e.length>0)),s.map((e=>r.createElement(fw,{className:Xw,isOpen:c,references:e,onOpenChange:e=>n({kind:mt.t.Kind.referencesVisibilityChange,visible:e,resultId:t.id})(),onRegenerateWithoutReference:se.Q.isComplete(t)?e=>n({kind:mt.t.Kind.regenerateWithoutReferenceButtonClick,result:t,referenceId:e,selectedVoice:d?se.Q.GeneratedTextVoice.user:se.Q.GeneratedTextVoice.generic})():void 0,onReferencesMount:e=>n({kind:mt.t.Kind.mount,name:wt.e.referencesList,element:e})(),onReferencesUnmount:()=>i({kind:mt.t.Kind.unmount,name:wt.e.referencesList})}))),s.toNullable),(0,a.pipe)(se.Q.isComplete(t)?t.changesSummary:s.none,s.map((e=>r.createElement(jw,{title:e.title,description:e.description,className:Yw}))),s.toNullable)),isActive:l,onHovered:e=>n({kind:mt.t.Kind.resultCardHoverChange,hovered:e,resultId:t.id})(),onFocused:e=>n({kind:mt.t.Kind.resultCardFocusChange,focused:e,resultId:t.id})(),onCopy:n({kind:mt.t.Kind.resultCardCopyToClipboard,result:t,selectedVoice:d?se.Q.GeneratedTextVoice.user:se.Q.GeneratedTextVoice.generic})})))))})),Jw=o.UI.Knot.make(qw,{header:Gw,contextHeader:Ey}),Yw=Zt.Ks.style({marginBottom:Zt.Ks.rem(Yt.or)}),Xw=Zt.Ks.style({marginTop:Zt.Ks.rem(Yt.v$)}),eE=o.UI.Union.make("kind",{promptResultComplete:Jw,aiUsageNotification:Yk}),tE=o.UI.List.make(S.QW,eE),nE=o.UI.Group.make({results:tE}),iE=o.UI.Union.make("kind",{none:o.UI.Node.empty,loading:o.UI.Knot.make(Yy,{header:o.UI.Node.empty}),loaded:nE}),rE=Zt.Ks.style({display:"grid",height:"100%",alignItems:"end"}),oE=o.UI.Grid.make((({slots:e})=>r.createElement("div",{className:rE},e.documentOverview,e.intent,e.resultList,e.lastResultSurvey,e.inProgressResult,e.generationError,e.detectedReferences))),sE=o.UI.Knot.make(oE,{documentOverview:Kg,intent:Vg,resultList:iE,lastResultSurvey:Ak,inProgressResult:ek,generationError:Eg,detectedReferences:Xg}),aE=o.UI.Group.make({toneReport:rf}),lE=o.UI.Union.asOption(Lp),cE=o.UI.Union.asOption(gg),dE=o.UI.Union.make("kind",{home:ly,thread:sE,error:Eg,followUpPrompt:oc,legacyVoiceProfile:rh,voiceProfile:Uh,feedbackForm:Ql,skill:pm,settings:Zp,toneReport:aE,plagiarism:lE,writingExpert:cE,performanceScore:Lc,signedOut:Yp}),uE=e=>r.createElement(sn.hh,Object.assign({width:"17",height:"16",viewBox:"0 0 17 16"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 8C2.5 4.41015 5.41015 1.5 9 1.5C12.5899 1.5 15.5 4.41015 15.5 8C15.5 11.5899 12.5899 14.5 9 14.5C7.85901 14.5 6.73812 14.1997 5.75 13.6292C5.51085 13.4911 5.42892 13.1853 5.56699 12.9462C5.70506 12.707 6.01085 12.6251 6.25 12.7631C7.08611 13.2459 8.03455 13.5 9 13.5C9.96545 13.5 10.9139 13.2459 11.75 12.7631C12.5861 12.2804 13.2804 11.5861 13.7631 10.75C14.2459 9.91389 14.5 8.96545 14.5 8C14.5 4.96243 12.0376 2.5 9 2.5C5.96243 2.5 3.5 4.96243 3.5 8V8.29289L4.64645 7.14645C4.84171 6.95118 5.15829 6.95118 5.35355 7.14645C5.54882 7.34171 5.54882 7.65829 5.35355 7.85355L3.35355 9.85355L3 10.2071L2.64645 9.85355L0.646447 7.85355C0.451184 7.65829 0.451184 7.34171 0.646447 7.14645C0.841709 6.95118 1.15829 6.95118 1.35355 7.14645L2.5 8.29289V8ZM9 4C9.27614 4 9.5 4.22386 9.5 4.5V7.5H11.5C11.7761 7.5 12 7.72386 12 8C12 8.27614 11.7761 8.5 11.5 8.5H9H8.5V8V4.5C8.5 4.22386 8.72386 4 9 4Z",stroke:"none"})),pE=o.UI.Node.make((({state:e,view:t,notify:n})=>{const{notifyUnmount:i}=r.useContext(is),{onMount:o}=(0,ns.y)((0,a.flow)(P.M((e=>n({kind:mt.t.Kind.mount,name:wt.e.historyButton,element:e})())),d.n((e=>t("state").pipe(O.T((e=>"enabled"===e)),lt.Z(!1),A.F(),Ut.J(),P.M((([t,i])=>{!t&&i?n({kind:mt.t.Kind.mount,name:wt.e.historyButtonActive,element:e})():t&&!i&&n({kind:mt.t.Kind.unmount,name:wt.e.historyButtonActive})()}))))),es.j((()=>{i({kind:mt.t.Kind.unmount,name:wt.e.historyButton}),i({kind:mt.t.Kind.unmount,name:wt.e.historyButtonActive})}))));return r.createElement("div",{className:fE},r.createElement(rn.$,{"aria-label":"Open recent prompt history",variant:"tertiary",mount:o,onClick:n({kind:mt.t.Kind.restoreHistoryButtonClick}),disabled:t("state").pipe(O.T((e=>"disabled"===e||"loading"===e))),compact:!0,size:"small",name:"restoreHistory",title:e.pipe(O.T((({state:e})=>"disabled"===e?"No prior prompt to go back to.":"enabled"===e?"Pick up with your last prompt.":void 0)))},r.createElement(uE,null)),r.createElement(nn.F.Fragment,null,e.pipe(O.T((({state:e})=>"disabled"!==e?r.createElement("div",{key:"badge",role:"presentation",className:hE}):null)))))})),mE=o.UI.Union.asOption(pE),fE=Zt.Ks.style({position:"relative"}),hE=Zt.Ks.style({width:Zt.Ks.rem(.375),height:Zt.Ks.rem(.375),borderRadius:Zt.Ks.rem(.375),background:vn.A.BrandGreen60,position:"absolute",top:Zt.Ks.rem(Yt.sp),right:Zt.Ks.rem(-Yt.sp)}),gE=2*Wt.or,vE=2*Wt.vW,bE="New!",yE=()=>r.createElement(Jt.v,{variant:"success",label:bE}),kE=r.forwardRef((function({icon:e,label:t,ariaLabel:n,ariaExpanded:i,badge:o,className:s,mount:l,onClick:c},d){return r.createElement(rn.$,{variant:"tertiary",onClick:c,name:"actionBrick",size:"small",style:EE,className:s,mount:l,"aria-label":n||t,"aria-expanded":i},(0,a.pipe)(e,E.fold((e=>"more"===e?r.createElement(an,{"aria-hidden":!0}):"plagiarism"===e||"plagiarismDetected"===e?r.createElement(pn,{"aria-hidden":!0}):"writingExpert"===e?r.createElement(mn,{"aria-hidden":!0}):"performanceScoreEmpty"===e?r.createElement(cn,{"aria-hidden":!0}):"performanceScoreSome"===e?r.createElement(ln,{"aria-hidden":!0}):"performanceScoreSuccess"===e?r.createElement(dn,{"aria-hidden":!0}):"humanWritingReport"===e?r.createElement(fn,null,r.createElement(Gt.I,{icon:qt,accessibilityLabel:""})):(0,h.AS)(e)),(e=>r.createElement("img",{src:e,style:{width:Zt.Ks.rem(wE.iconWidthRems),height:Zt.Ks.rem(1)},"aria-hidden":!0})))),r.createElement("div",{className:CE},r.createElement(nn.F.div,Object.assign({mount:d},G(t),{className:SE})),"new"===o&&r.createElement(yE,null)))})),wE={gapRems:Yt.or,badgeLeftMarginRems:Yt.v$,paddingLeftRems:Yt.or,paddingRightRems:Yt.v$,fontSizeRems:.75,fontFamily:"Inter",fontWeight:"normal",iconWidthRems:1},EE={default:{fontSize:Zt.Ks.rem(wE.fontSizeRems),fontFamily:wE.fontFamily,fontWeight:wE.fontWeight,gap:Zt.Ks.rem(wE.gapRems),padding:`0 ${Zt.Ks.rem(wE.paddingRightRems)} 0 ${Zt.Ks.rem(wE.paddingLeftRems)}`},icon:(0,gn.QD)(wE.iconWidthRems)},SE=Zt.Ks.style({whiteSpace:"initial",textAlign:"left",lineHeight:Zt.Ks.rem(1.125)}),CE=Zt.Ks.style({display:"flex",alignItems:"center",gap:Zt.Ks.rem(wE.badgeLeftMarginRems)}),_E=({style:e,iconStyle:t,mode:n="standard"})=>{const i="standard"===n?1:.875;return r.createElement("div",{className:Zt.Ks.style({height:Zt.Ks.rem(2*i),display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$),padding:`0 ${Zt.Ks.rem(Yt.v$)} 0 ${Zt.Ks.rem(Yt.or)}`,borderRadius:Zt.Ks.rem(Yt.or),border:`1px solid ${tn.NeutralGray10}`,boxSizing:"border-box"},e)},r.createElement("div",{className:Zt.Ks.style({width:Zt.Ks.rem(1.5*i),height:Zt.Ks.rem(1.5*i),borderRadius:"50%",background:tn.NeutralGray10},t)}),r.createElement("div",{className:Zt.Ks.style({height:Zt.Ks.rem(.5*i),borderRadius:Zt.Ks.rem(Yt.vW),background:tn.NeutralGray10,flexGrow:1})}))},xE=({widthRems:e})=>r.createElement(_E,{style:{width:Zt.Ks.rem(e),height:Zt.Ks.rem(1.5),border:0},iconStyle:{width:Zt.Ks.rem(1),height:Zt.Ks.rem(1)}}),AE=Yt.Jj,IE=()=>r.createElement("div",{role:"separator",className:Zt.Ks.style({width:Zt.Ks.rem(AE),height:Zt.Ks.rem(1.5),position:"relative"})},r.createElement("div",{className:Zt.Ks.style({position:"absolute",top:0,bottom:0,left:"50%",borderLeft:`0.5px solid ${tn.NeutralGray20}`})}));let KE=null;function TE(e,t){KE||(KE=document.createElement("canvas"));const n=KE.getContext("2d");return n?(n.font=t,n.measureText(e).width):null}const OE=({loading:e,actions:t,className:n,onShownActionsListLengthChange:i,onHasHiddenActionsChange:o,onActionClick:c,onActionMount:d,onActionsMount:u})=>{const{onMount:p,ref:f}=Dt.R.useElWatcher(),g=$a(f,!0),v=r.useContext(Xo.q.Context),b=r.useMemo((()=>kt.zV([g,v,t]).pipe(O.T((([e,t,n])=>({width:(0,a.pipe)(e,s.map((e=>Math.round(e.width)))),remSize:t,actions:n}))),F.skipBy(L.OW({width:s.getEq(L.US),remSize:L.US,actions:S.nZ(L.ee(((e,t)=>e.action.label===t.action.label)))})),O.T((({width:e,remSize:t,actions:n})=>(0,a.pipe)(e,s.map((e=>function(e,t,n){const i=[];let r=0;for(let o=0;o<e.length;++o){const l=(0,a.pipe)(s.toNullable(e[o].action.badge),(e=>null!==e?(0,a.pipe)(TE("new"===e?bE:(0,h.AS)(e),n.badgeFontStyle),(e=>e?e+n.badgeHorizontalPadding+n.badgeHorizontalBorderWidth+n.badgeLeftMargin:null)):0)),c=TE(e[o].action.label,n.labelFontStyle),d=null===c||null===l?null:c+l+n.horizontalPadding+(i.length>0?n.actionGap:0);null!==d&&r+d<=t&&(r+=d,i.push(e[o]))}return i}(n,e,{horizontalPadding:RE(t),actionGap:AE*t,labelFontStyle:BE(t),badgeHorizontalPadding:gE*t,badgeHorizontalBorderWidth:vE*t,badgeLeftMargin:wE.badgeLeftMarginRems*t,badgeFontStyle:BE(t)})))))),F.shareReplay({refCount:!0,bufferSize:1}))),[t,g,v]),y=r.useMemo((()=>kt.zV([b,t,e]).pipe(m.p((([e,t,n])=>!1===n)),O.T((([e,t])=>(0,a.pipe)(e,s.fold((()=>0),(e=>e.length)),(e=>(i(e),e<t.length))))),A.F(),P.M((e=>o(e))))),[b,t]);Dt.R.useSubscriptionTo(y);const k=r.useRef(new l.B7),w=r.useRef([]);return Dt.R.useSubscriptionTo(k.current.pipe(Rn.QE(Ls.X),N.Z(0),P.M((()=>{u(),w.current.forEach((({a:e,idx:t})=>d(e,t)))})))),r.createElement(nn.F.div,{className:Zt.Ks.joinClasses([ME,n]),mount:p},kt.zV([b,e]).pipe(P.M((()=>w.current=[])),O.T((([e,t])=>(0,a.pipe)(e,s.filter((()=>!t)),s.fold((()=>r.createElement(nn.F.Fragment,null,kt.zV([g,v]).pipe(O.T((([e,t])=>(0,a.pipe)(e,s.map((e=>({width:Math.floor(e.width),remSize:t})))))),F.skipBy(s.getEq(L.OW({width:L.US,remSize:L.US}))),O.T(s.fold(a.constNull,(({width:e,remSize:t})=>{const n=15+AE,i=9/n,o=6/n,s=e/t-AE,a=Math.min(i*s,9),l=Math.min(o*s,6);return r.createElement(r.Fragment,null,r.createElement(xE,{widthRems:a}),r.createElement(IE,null),r.createElement(xE,{widthRems:l}))})))))),(e=>r.createElement("div",{className:FE},e.map(((e,t)=>r.createElement(r.Fragment,{key:e.action.id},t>0?r.createElement(IE,null):null,r.createElement(kE,{icon:e.action.icon,label:e.action.label,badge:s.toUndefined(e.action.badge),onClick:()=>c(e,t),ref:n=>{n&&(w.current.push({a:e,idx:t}),k.current.next())}}))))))))))))},ME=Zt.Ks.style({display:"flex",height:Zt.Ks.rem(1.5)}),FE=Zt.Ks.style({display:"flex",height:Zt.Ks.rem(1.5)});function RE(e){return(wE.paddingLeftRems+wE.iconWidthRems+wE.gapRems+wE.paddingRightRems)*e}function BE(e){return`${wE.fontWeight} ${wE.fontSizeRems*e}px ${wE.fontFamily}`}const NE=o.UI.Grid.make((({slots:e,view:t,notify:n})=>{const i=r.useMemo((()=>g.s.create(!1)),[]),o=r.useMemo((()=>g.s.create(0)),[]),{refCallback:s}=Us(),{notifyUnmount:l}=r.useContext(is),{onMount:c}=(0,ns.y)((0,a.flow)(P.M((e=>n({kind:mt.t.Kind.mount,name:wt.e.actionsMoreButton,element:e})())),es.j((()=>{l({kind:mt.t.Kind.unmount,name:wt.e.actionsMoreButton})}))));return r.createElement("section",{className:jE,"data-testid":"actions-bar"},r.createElement("div",{className:DE},e.header),r.createElement(OE,{className:LE,loading:t("loading"),actions:t("actions"),onActionClick:(e,t)=>n({kind:mt.t.Kind.actionBrickClick,action:e,placement:"homeView",position:t})(),onActionMount:(e,t)=>{n({kind:mt.t.Kind.actionBrickMount,action:e,placement:"homeView",position:t})(),n({kind:mt.t.Kind.actionBrickShow,action:e,placement:"homeView",position:t})()},onShownActionsListLengthChange:p.H9(o),onHasHiddenActionsChange:p.H9(i),onActionsMount:n({kind:mt.t.Kind.actionsMount})}),r.createElement(nn.F.div,{className:PE},kt.zV([t("hasMore"),t("expanded"),i,o]).pipe(O.T((([e,i,o,l])=>e||o?r.createElement(r.Fragment,null,r.createElement(kE,{icon:E.left("more"),label:"More",ariaLabel:"Explore or write your own idea",ariaExpanded:i,onClick:n({kind:mt.t.Kind.actionBrickClick,action:{kind:"allResults",filterPredicate:a.constTrue},placement:"homeView",position:l}),mount:c,ref:s(n({kind:mt.t.Kind.actionBrickMount,action:{kind:"allResults",filterPredicate:a.constTrue},placement:"homeView",position:l}),n({kind:mt.t.Kind.actionBrickShow,action:{kind:"allResults",filterPredicate:a.constTrue},placement:"homeView",position:l}))}),r.createElement(nn.F.Fragment,null,t("hasHistoryButton").pipe(O.T((0,U.Sw)(r.createElement(IE,null),null))))):null))),e.historyButton))})),PE=Zt.Ks.style({gridArea:"controls",display:"flex",flexDirection:"row"}),DE=Zt.Ks.style({gridArea:"header"}),jE=Zt.Ks.style({display:"grid",gridTemplateColumns:"1fr auto",gridTemplateRows:"auto auto",gridTemplateAreas:'"header header" "actions controls"',gridColumnGap:Zt.Ks.rem(Yt.v$),alignItems:"center",padding:`${Zt.Ks.rem(Yt.or)} ${Zt.Ks.rem(Yt.Jj)}`,margin:`${Zt.Ks.rem(Yt.v$)} 0`}),LE=Zt.Ks.style({gridArea:"actions",display:"flex",height:Zt.Ks.rem(1.5)}),UE=()=>r.createElement(_E,{style:{width:Zt.Ks.rem(7.75),height:Zt.Ks.rem(2.5),border:0,gap:Zt.Ks.rem(.875),marginLeft:Zt.Ks.rem(1)},iconStyle:{width:Zt.Ks.rem(1.25),height:Zt.Ks.rem(1.25)}}),$E=o.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{refCallback:i}=Us(),{onMount:o}=(0,ns.y)(P.M(n({kind:mt.t.Kind.actionsMount}))),{notifyUnmount:l}=r.useContext(is),{onMount:c}=(0,ns.y)((0,a.flow)(P.M((e=>n({kind:mt.t.Kind.mount,name:wt.e.actionsMoreButton,element:e})())),es.j((()=>{l({kind:mt.t.Kind.unmount,name:wt.e.actionsMoreButton})}))));return r.createElement(nn.F.div,{className:HE,"data-testid":"actions-panel"},e.header,t.pipe(O.T((({loading:t,actions:l,hasMore:d,maxActionsCount:u})=>t?Array.from({length:u+1}).map(((e,t)=>r.createElement(r.Fragment,{key:t},0!==t?r.createElement($s,null):null,r.createElement(UE,null)))):r.createElement(r.Fragment,null,r.createElement("div",{ref:o,className:ZE},l.map(((e,t)=>{const o=s.toUndefined(e.action.badge),a=e.action.label,l=o?`${a}, ${o}`:a;return r.createElement(r.Fragment,{key:e.action.id},0!==t&&r.createElement($s,null),r.createElement(kn,{icon:e.action.icon,label:a,ariaLabel:l,badge:o,isUphook:e.action.isUphook,onClick:n({kind:mt.t.Kind.actionBrickClick,action:e,position:t,placement:"threadView"}),ref:i(n({kind:mt.t.Kind.actionBrickMount,action:e,position:t,placement:"threadView"}),n({kind:mt.t.Kind.actionBrickShow,action:e,position:t,placement:"threadView"}))}))}))),d?r.createElement(r.Fragment,null,r.createElement($s,null),r.createElement("div",{className:VE},r.createElement(kn,{icon:E.left("more"),label:"More ideas",ariaLabel:"Explore or write your own idea",mount:c,onClick:n({kind:mt.t.Kind.actionBrickClick,action:{kind:"allResults",filterPredicate:a.constTrue},position:l.length,placement:"threadView"}),ref:i(n({kind:mt.t.Kind.actionBrickMount,action:{kind:"allResults",filterPredicate:a.constTrue},position:l.length,placement:"threadView"}),n({kind:mt.t.Kind.actionBrickShow,action:{kind:"allResults",filterPredicate:a.constTrue},position:l.length,placement:"threadView"})),style:zE}),r.createElement("div",{className:WE},e.historyButton))):null)))))})),HE=Zt.Ks.style({display:"flex",flexDirection:"column",marginTop:Zt.Ks.rem(Yt.v$),marginBottom:Zt.Ks.rem(Yt.v$)}),VE=Zt.Ks.style({position:"relative"}),zE={default:{width:"100%"}},WE=Zt.Ks.style({position:"absolute",right:Zt.Ks.rem(Yt.Jj),bottom:"50%",transform:"translateY(50%)"}),ZE=Zt.Ks.style({display:"flex",flexDirection:"column"}),GE=e=>r.createElement(sn.hh,Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},e),r.createElement("circle",{cx:"10",cy:"10",r:"6",stroke:"#646B81"}),r.createElement("path",{d:"M7.5 10H12.5",stroke:"#646B81",strokeLinecap:"round"})),QE=o.UI.Node.make((({view:e,notify:t})=>r.createElement("div",{className:JE},r.createElement(vy,{active:!0,style:YE,prefix:"Work with:"},e("selectedText")),r.createElement(rn.$,{variant:"tertiary",onClick:t({kind:mt.t.Kind.removeSelectionContextClick}),compact:!0,size:"small",name:"removeContext",title:"Remove","aria-label":"Remove the selected context for the prompt","aria-describedby":"actions-panel-context"},r.createElement(GE,null))))),qE=o.UI.Union.asOption(QE),JE=Zt.Ks.style({display:"flex",alignItems:"center",justifyContent:"space-between",gap:Zt.Ks.rem(Yt.v$)}),YE={height:Zt.Ks.rem(2.5)},XE=o.UI.Node.make((({view:e})=>r.createElement(r.Fragment,null,r.createElement(nn.F.h1,{className:rS},e("title")),r.createElement(nn.F.Fragment,null,e("subtitle").pipe(O.T((e=>e?r.createElement("p",{className:oS},e):null))))))),eS=o.UI.Union.make("kind",{none:o.UI.Node.empty,title:XE,selectionContext:o.UI.Composite.make(o.UI.Grid.make((({slots:e})=>r.createElement("div",{className:sS},e.header))),QE)}),tS=o.UI.Knot.make(NE,{header:qE,historyButton:mE}),nS=o.UI.Knot.make($E,{header:eS,historyButton:mE}),iS=o.UI.Union.make("kind",{none:o.UI.Node.empty,actionBar:tS,actionPanel:nS}),rS=Zt.Ks.style({padding:Zt.Ks.rem(Yt.v$),paddingLeft:Zt.Ks.rem(Yt.Jj),margin:0,fontWeight:700,fontSize:Zt.Ks.rem(1),lineHeight:"1.5em",color:Xt.Q.Text.Base.Default}),oS=Zt.Ks.style({padding:`0 ${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.v$)} ${Zt.Ks.rem(Yt.Jj)}`,margin:0,fontSize:Zt.Ks.rem(.875),lineHeight:"1.5em",color:Xt.Q.Text.Base.Subdued}),sS=Zt.Ks.style({padding:`0 ${Zt.Ks.rem(Yt.CN)} 0 ${Zt.Ks.rem(Yt.Jj)}`}),aS=o.UI.Grid.make((({slots:e})=>r.createElement(nn.F.section,{className:cS},e.header,e.fieldContainer))),lS=o.UI.Knot.make(aS,{header:iS,fieldContainer:Fa}),cS=Zt.Ks.style({backgroundColor:vn.A.BackgroundBaseSubdued,borderTop:`0.5px solid ${vn.A.BorderBaseSubduedColor}`,height:"100%",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit",boxSizing:"border-box"}),dS=o.UI.Union.make("kind",{none:o.UI.Node.empty,skill:pm,promptStudio:lS}),uS=(0,Qt.w)("color",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"M2 8h12m0 0L9.448 3M14 8l-4.552 5"})))),pS=e=>e>0?`Return home to review ${e} ${pt.td(e,"suggestion","suggestions")}`:"Return home",mS=o.UI.Node.make((({state:e,notify:t})=>r.createElement(nn.F.Fragment,null,e.pipe(O.T((({disabled:e,label:n,count:i})=>r.createElement(rn.$,{"aria-label":pS(i),disabled:e,name:"suggestions-counter-button",onClick:t({kind:"suggestionCountButtonClick"}),size:"small",title:n,variant:"tertiary"},r.createElement(av,null,r.createElement(uS,{className:fS})),i>0?`${i} ${pt.td(i,"suggestion","suggestions")}`:null))))))),fS=Zt.Ks.style({$nest:{"& path":{transform:"rotate(180deg)",transformOrigin:"center"}}}),hS=e=>r.createElement(sn.hh,Object.assign({width:"20",height:"20",viewBox:"0 0 20 20"},e),r.createElement("g",{id:"icon"},r.createElement("g",{id:"Vector"},r.createElement("path",{d:"M14.6429 3.92857L14.607 3.96447C13.3023 5.26917 11.0714 4.34512 11.0714 2.5H8.92857C8.92857 4.34512 6.69774 5.26917 5.39304 3.96447L5.35714 3.92857L3.92857 5.35714L3.96447 5.39304C5.26917 6.69774 4.34512 8.92857 2.5 8.92857V11.0714C4.34512 11.0714 5.26917 13.3023 3.96447 14.607L3.92857 14.6429L5.35714 16.0714L5.39304 16.0355C6.69774 14.7308 8.92857 15.6549 8.92857 17.5H11.0714C11.0714 15.6549 13.3023 14.7308 14.607 16.0355L14.6429 16.0714L16.0714 14.6429L16.0355 14.607C14.7308 13.3023 15.6549 11.0714 17.5 11.0714V8.92857C15.6549 8.92857 14.7308 6.69774 16.0355 5.39304L16.0714 5.35714L14.6429 3.92857Z",fill:"none",strokeLinejoin:"round"}),r.createElement("path",{d:"M12.5 10C12.5 11.3807 11.3807 12.5 10 12.5C8.61929 12.5 7.5 11.3807 7.5 10C7.5 8.61929 8.61929 7.5 10 7.5C11.3807 7.5 12.5 8.61929 12.5 10Z",fill:"none",strokeLinejoin:"round"})))),gS=o.UI.Node.make((({notify:e})=>r.createElement(rn.$,{variant:"tertiary",onClick:t=>{t&&W(t.currentTarget)&&e({kind:mt.t.Kind.settingsButtonClick,buttonRect:t.currentTarget.getBoundingClientRect()})()},compact:!0,size:"small",name:"settings","aria-label":"Open Settings",title:"Settings"},r.createElement(hS,null)))),vS=o.UI.Union.asOption(gS),bS=o.UI.Node.make((({notify:e})=>r.createElement(rn.$,{variant:"tertiary",style:kS,onClick:e({kind:mt.t.Kind.headerVoiceButtonClick}),name:"headerVoiceProfileButton",size:"small",title:"My voice","aria-label":"Open my voice profile"},r.createElement(ey,null)))),yS=o.UI.Union.asOption(bS),kS={default:{padding:0},icon:(0,gn.QD)(1.5)},wS=(0,Qs.yY)(rn.$),ES=o.UI.Node.make((({notify:e,view:t})=>r.createElement("div",{className:CS},r.createElement(wS,{variant:"tertiary",compact:!0,onClick:t("activeView").pipe(O.T((t=>e({kind:mt.t.Kind.headerGoBackButtonClick,goBackFrom:t})))),size:"small",title:"Back to Home","aria-label":"Back to Home",name:"goBack"},r.createElement(av,null,r.createElement(uS,{className:SS}))),r.createElement(nn.F.div,{className:_S},t("activeViewIconUrl").pipe(O.T(s.fold(a.constNull,(e=>r.createElement("img",{src:e,style:{width:Zt.Ks.rem(1.25),height:Zt.Ks.rem(1.25)},alt:"","aria-hidden":"true"}))))))))),SS=Zt.Ks.style({$nest:{"& path":{transform:"rotate(180deg)",transformOrigin:"center"}}}),CS=Zt.Ks.style({display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$),color:tn.NeutralGray60,fontWeight:400,fontSize:Zt.Ks.rem(.75),lineHeight:Zt.Ks.rem(1.125)}),_S=Zt.Ks.style({display:"flex",alignItems:"center",gap:Zt.Ks.rem(Yt.v$)}),xS=e=>r.createElement(sn.hh,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),r.createElement("path",{d:"M4 4L8 8M12 12L8 8M8 8L12 4M8 8L4 12",stroke:"#646B81",strokeLinecap:"round"})),AS=o.UI.Node.make((({notify:e})=>r.createElement(rn.$,{variant:"tertiary",onClick:e({kind:mt.t.Kind.headerCloseButtonClick}),compact:!0,size:"small",name:"headerClose",title:"Close Grammarly Assistant","aria-label":"Close Grammarly Assistant"},r.createElement(xS,null))));var IS=n(82718);const KS=(0,Qt.w)("nocolor",(({title:e,titleId:t,desc:n,descId:i,...o})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...o},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#D31332",fillRule:"evenodd",d:"M6.586 2.414a2 2 0 0 1 2.828 0l4.172 4.172a2 2 0 0 1 0 2.828l-4.172 4.172a2 2 0 0 1-2.828 0L2.414 9.414a2 2 0 0 1 0-2.828zM8 4.25a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0V5A.75.75 0 0 1 8 4.25m0 7.25A.75.75 0 1 0 8 10a.75.75 0 0 0 0 1.5",clipRule:"evenodd"}))));var TS=n(13991);const OS=e=>r.createElement(sn.hh,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24"},e),r.createElement("path",{d:"M14.256,7.346C15.403,7.699 16.301,8.597 16.654,9.744C16.759,10.085 17.241,10.085 17.346,9.744C17.699,8.597 18.597,7.699 19.744,7.346C20.085,7.241 20.085,6.759 19.744,6.654C18.597,6.301 17.699,5.403 17.346,4.256C17.241,3.915 16.759,3.915 16.654,4.256C16.301,5.403 15.403,6.301 14.256,6.654C13.915,6.759 13.915,7.241 14.256,7.346ZM17,5.339C17.392,6.034 17.967,6.608 18.661,7C17.967,7.392 17.392,7.966 17,8.661C16.608,7.967 16.034,7.392 15.339,7C16.034,6.608 16.608,6.034 17,5.339Z",fill:"inherit",stroke:"none"}),r.createElement("path",{d:"M6.426,13.577C8.338,14.165 9.835,15.662 10.423,17.574C10.598,18.142 11.402,18.142 11.577,17.574C12.165,15.662 13.662,14.165 15.574,13.577C16.142,13.402 16.142,12.598 15.574,12.423C13.662,11.835 12.165,10.338 11.577,8.426C11.402,7.858 10.598,7.858 10.423,8.426C9.835,10.338 8.338,11.835 6.426,12.423C5.858,12.598 5.858,13.402 6.426,13.577ZM11,9.69C11.693,11.138 12.862,12.307 14.31,13C12.862,13.693 11.693,14.862 11,16.31C10.307,14.862 9.138,13.693 7.69,13C9.138,12.307 10.307,11.138 11,9.69Z",fill:"inherit",stroke:"none"})),MS=e=>r.createElement(sn.hh,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24"},e),r.createElement("path",{d:"M6.426,13.577C8.338,14.165 9.835,15.662 10.423,17.574C10.598,18.142 11.402,18.142 11.577,17.574C12.165,15.662 13.662,14.165 15.574,13.577C16.142,13.402 16.142,12.598 15.574,12.423C13.662,11.835 12.165,10.338 11.577,8.426C11.402,7.858 10.598,7.858 10.423,8.426C9.835,10.338 8.338,11.835 6.426,12.423C5.858,12.598 5.858,13.402 6.426,13.577ZM11,9.69C11.693,11.138 12.862,12.307 14.31,13C12.862,13.693 11.693,14.862 11,16.31C10.307,14.862 9.138,13.693 7.69,13C9.138,12.307 10.307,11.138 11,9.69Z",fill:"inherit",stroke:"none"})),FS=o.UI.Node.make((({state:e,notify:t})=>{const{ref:n,onMount:i}=Dt.R.useElWatcher(),o=r.useMemo((()=>n.pipe(B.oE,d.n((e=>$t.R(e,"mouseenter").pipe(IS.K(u.of(null).pipe(dd.c(500),Yn.Q($t.R(e,"mouseleave"))))))),P.M(t({kind:mt.t.Kind.creditsInfoHover})))),[n]);Dt.R.useSubscriptionTo(o);const{onMount:s}=(0,ns.y)(P.M((e=>t({kind:mt.t.Kind.mount,name:wt.e.creditsInfoButton,element:e})())));return r.createElement(nn.F.Fragment,null,e.pipe(O.T((({user:e,genAIAvailability:n})=>{let o;if(v.y.isActive(n)){const[t,i]=function(e){const t=`${Number(e.promptsRemaining).toLocaleString()}/${Number(e.promptsAllocated).toLocaleString()} prompts left. `,n=v.y.Active.daysUntilRefillDate(e.refillDate),i=v.y.Active.hoursUntilRefillDate(e.refillDate);return n>0?[t,`Next refill in ${n} ${pt.td(n,"day","days")}.`]:i>0?[t,`Next refill in ${i} ${pt.td(i,"hour","hours")}.`]:[t,"Next refill in less than an hour."]}(n);o=v.y.isActive(n)?r.createElement(r.Fragment,null,t,r.createElement("br",null),i):fe(e)?"To get more prompts, contact support.":"To get more prompts, upgrade to Premium."}else o=fe(e)?"To get more prompts, contact support.":"To get more prompts, upgrade to Premium.";const a=r.createElement(RS,{promptsRemaining:n.promptsRemaining});return fe(e)&&v.y.isActive(n)?r.createElement(r.Fragment,null,v.y.isActiveUnlimited(n)?null:r.createElement(Cm.m_,{title:o},r.createElement("div",{ref:i,className:NS},a))):r.createElement("div",{ref:i},r.createElement(rn.$,{variant:"tertiary",compact:!0,onClick:t({kind:mt.t.Kind.creditsInfoClick}),size:"small",title:o,name:"creditsInfo",mount:s,textPosition:"everywhere"},a))}))))})),RS=({promptsRemaining:e})=>e<50?r.createElement("div",{className:PS},r.createElement(MS,{className:LS}),0===e?r.createElement(KS,{className:US}):r.createElement(TS.M,{className:US})):r.createElement(OS,{className:LS}),BS=o.UI.Union.asOption(FS),NS=Zt.Ks.style({cursor:"help"}),PS=Zt.Ks.style({position:"relative"}),DS=(0,gn.QD)(1.5),jS=(0,gn.QD)(.75),LS=Zt.Ks.style(DS),US=Zt.Ks.style(Object.assign(Object.assign({},jS),{top:Zt.Ks.rem(1/16),right:0,position:"absolute"})),$S=e=>r.createElement(sn.hh,{className:e.className,viewBox:"0 0 20 20",width:22,height:22},r.createElement("path",{d:"M0 10C0 4.478 4.459 0 9.96 0c5.502 0 9.96 4.477 9.96 10 0 4.833-3.412 8.864-7.95 9.797A9.937 9.937 0 0 1 9.962 20H0V10Z",fill:"#027E6F",stroke:"none"}),r.createElement("path",{d:"M16.853 9.053h-4.489l-1.057 1.838h3.701c-.58 3.197-4.12 5.374-7.66 3.533a4.175 4.175 0 0 1-1.78-1.771c-2.036-3.892.745-7.807 4.415-7.807 1.513 0 2.875.665 3.811 1.72l.949-1.65a6.881 6.881 0 0 0-5.25-1.888c-3.462.24-6.269 3.121-6.438 6.6-.192 3.996 2.989 7.305 6.925 7.305 3.937 0 6.935-3.124 6.935-6.963 0-.312-.024-.618-.063-.917Z",fill:"#fff",stroke:"none"})),HS=({className:e})=>r.createElement($S,{className:Zt.Ks.joinClasses([VS,e])}),VS=Zt.Ks.style(Object.assign({display:"flex",alignItems:"center",justifyContent:"center"},(0,gn.QD)(1.375))),zS=o.UI.Node.make((({view:e})=>r.createElement(nn.F.Fragment,null,e("version").pipe(O.T(s.fold((()=>r.createElement(HS,null)),(e=>r.createElement("div",{className:WS},r.createElement(HS,null),r.createElement("small",null,`v${e}`))))))))),WS=Zt.Ks.style({display:"flex",alignItems:"center",gap:Zt.Ks.rem(.5)}),ZS=o.UI.Node.make((({state:e})=>r.createElement(nn.F.h2,{className:QS},e))),GS=o.UI.Union.asOption(ZS),QS=Zt.Ks.style({textAlign:"center",fontSize:Zt.Ks.rem(.75),fontWeight:700,lineHeight:Zt.Ks.rem(1.125)}),qS=o.UI.Knot.make(o.UI.Grid.make((({slots:e})=>r.createElement("div",{className:rC},e.button))),{button:mS}),JS=o.UI.Union.make("kind",{logoOnly:zS,suggestionCount:qS,backButton:ES}),YS=o.UI.Grid.make((({slots:e})=>r.createElement("div",{className:nC},e.credits,e.voiceButton,e.settingsButton,e.closeButton))),XS=o.UI.Knot.make(YS,{voiceButton:yS,credits:BS,settingsButton:vS,closeButton:AS}),eC=o.UI.Grid.make((({slots:e})=>r.createElement(r.Fragment,null,e.left,r.createElement("div",{className:iC},e.pageTitle),e.right))),tC=o.UI.Knot.make(eC,{left:JS,pageTitle:GS,right:XS}),nC=Zt.Ks.style(Object.assign(Object.assign({},{display:"flex",alignItems:"center"}),{gap:Zt.Ks.rem(Yt.or)})),iC=Zt.Ks.style({flexGrow:1}),rC=Zt.Ks.style({marginLeft:Zt.Ks.rem(-Yt.or)}),oC=o.UI.Knot.make(gl,{a11yNotification:Ro,header:tC,content:dE,footer:dS,notifications:Go,onboarding:Yo});function sC(e){return()=>e.a11y.state.view()}function aC(e){return o.n.composeKnot({content:(t=e.notifications,o.n.composeList(S.Q1,(()=>t.state.view(S.BE)),(e=>function(e,t){return o.n.fromSideEffect((e=>{switch(e.kind){case"dismissNotification":return t.dismiss(e.id);case"mouseOver":return t.hover(!0);case"mouseOut":return t.hover(!1);default:(0,h.AS)(e)}}),e)}(e,t))))});var t}var lC=n(11298);function cC(e){return(0,a.flow)(lC.u(),(t=>{return Nn.h(t.pipe((n=e.logger,i=e.lifecycle,(0,a.flow)(m.p(ml),P.M((e=>{i.onVisuallyReady({content:e.element})})),O.T((e=>s.some(e.element))),Dt.R.FocusTrap.dynamicFocusTrap(Dt.R.FocusTrap.InitialFocus.none,Vt,zt(n)),Vi.w()))),t.pipe(function(e){return(0,a.flow)(m.p(fl),f.s(1),P.M((t=>{e.onReadyToDrag({dragHandle:t.element})})),Vi.w())}(e.lifecycle)),t.pipe(function(e){return(0,a.flow)(m.p(pl),P.M((t=>e.onFocusStateChange({isFocused:t.focused}))),Vi.w())}(e.lifecycle)),t.pipe(function(e){return(0,a.flow)(m.p(hl),P.M((t=>e.onSizeChange({width:t.rect.width,height:t.rect.height}))),Vi.w())}(e.lifecycle)),g.s.combine(e.assistant.state.view("canScroll"),function(e){return g.s.combine(e.assistant.state.view("genAISession"),e.promptActions.state.view("contextualActions"),e.userSurvey.state,e.routing.activeView,((e,t,n,i)=>(0,a.pipe)(e,s.chain(re.toStarted),s.filter((()=>"thread"===i.kind)),s.map((e=>{const i=(0,a.pipe)(e.inProgressResult,s.fold((()=>""),(e=>e.text))),r=`${e.results.length}`,o=s.isSome(n.activeSurvey),l=(0,a.pipe)(t,s.fold((()=>""),(0,a.flow)((e=>e.actions),S.$M(5),S.Tj((e=>e.id)),(e=>e.join("-")))));return`${i}_${r}_${o}_${l}`})))))}(e),e.promptMenu.state,g.s.combine(e.lifecycle.heightBehavior,e.textEditor.state.view("hasBeenNonEmpty"),e.routing.activeView.view("kind"),(0,a.pipe)(e.revision,s.fold((()=>g.s.create(null).view()),(e=>e.feedForm.state.view("feedForm")))),((t,n,i,r)=>"fitContent"===t.kind?Object.assign(Object.assign({},t),{height:dC(t,i,r,n,e.experience)}):t)),e.lifecycle.widthBehavior,e.lifecycle.dragBehavior,((e,t,n,i,r,o)=>({canScrollContent:e,menuRef:(0,a.pipe)(n,s.chain((e=>e.promptMenuContainer))),scrollContentToBottomToken:t,heightBehavior:i,widthBehavior:r,dragBehavior:o}))));var n,i}))}function dC(e,t,n,i,r){return void 0!==e.height?e.height:"plagiarism"===t||"writingExpert"===t||"home"===t&&"longForm"===n&&("genAIAndRevision"===r&&(0,a.pipe)(i,s.exists(a.identity))||"revision"===r)?e.maxHeight:e.height}function uC(e){return o.n.fromSideEffect((t=>e.notify(t)),g.s.combine(e.feedbackForm.stagingFeedbackFormData,e.feedbackForm.domain,((e,t)=>{var n;return{formData:e,domain:t,source:null!==(n=null==e?void 0:e.source)&&void 0!==n?n:vl.Source.resultCard}})))}function pC(e){return o.n.composeOption(function(e){return o.n.fromSideEffect((t=>e.notify(t)),e.assistant.state.view("selectedAction").view(s.chain((e=>(0,a.pipe)(e.args[0].hints,s.map((t=>({header:e.label,iconUrl:e.icon.right,hintsHeader:t.header,hintsItems:t.items,radioOptions:q.match({string:()=>s.none,radio:e=>s.some(e.radioOptions)})(e.args[0])}))))))).pipe(B.oE))}(e),(()=>e.assistant.state.view("selectedAction").view(s.chain((e=>e.args[0].hints)))))}const mC=()=>u.of(null);function fC({revision:e,textEditor:t,user:n}){return o.n.composeOption((0,a.pipe)(e,s.fold((()=>mC),(e=>{return i={performanceScore:e.performanceScore.performanceScore.pipe(B.oE),isTextEmpty:t.state.view("textLength").view(s.exists((e=>e<=0))),userInstitutionInfo:n.institutionInfo,onPerformanceScoreReportMount:t=>e.performanceScore.onPerformanceScoreReportMount(t)},o.n.composeKnot({root:o.n.fromSideEffect((e=>i.onPerformanceScoreReportMount(e.score)),i.performanceScore),overallScore:()=>kt.zV([i.performanceScore,i.isTextEmpty]).pipe(O.T((([e,t])=>t?{status:"tooSmall"}:e))),outcomeScores:()=>kt.zV([i.performanceScore,i.isTextEmpty,i.userInstitutionInfo]).pipe(O.T((([e,t,n])=>({score:e,isTextEmpty:t,styleGuideEnabled:(0,a.pipe)(n,s.exists((e=>!!e.styleGuideEnabled))),institutionLogoUrl:(0,a.pipe)(n,s.chain((e=>s.fromNullable(e.logoUrl))))}))))});var i}))),(()=>(0,a.pipe)(e,s.fold((()=>u.of(s.none)),(e=>e.performanceScore.performanceScore)))))}function hC(e){return void 0!==e.find((e=>"applyAlerts"===e.type||"removeAlerts"===e.type))}function gC(e,t){return n=>(0,a.pipe)(e||t?oi.cK.map(n,(n=>"button"!==n.type?n:e&&n.name.value===String(Ki.A7.ButtonPrev)||t&&n.name.value===String(Ki.A7.ButtonNext)?Object.assign(Object.assign({},n),{state:Ki.w.Disabled}):n)):s.some(n),s.getOrElse((()=>n)))}const vC=e=>(0,a.pipe)(oi.cK.map(e,(e=>"button"!==e.type?e:e.name.value===String(Ki.A7.ButtonPrev)||e.name.value===String(Ki.A7.ButtonNext)?Object.assign(Object.assign({},e),{state:Ki.w.Hidden}):e)),s.getOrElse((()=>e)));function bC(e,t,n,i,r){return o.n.fromSideEffect((n=>{switch(n.kind){case"longFormCardSduiNotify":return hC(n.actions)&&t.onSuggestionAddressed(),e.processActions(n.actions,n.item,n.scope,n.sourceId);case"longFormCardMount":return e.onItemMount(n.isFocused,n.item);case mt.t.Kind.actionsMenuMuteClick:case mt.t.Kind.actionsMenuReportIncorrectClick:case mt.t.Kind.actionsMenuReportOffensiveClick:case mt.t.Kind.addToDictionaryClick:case mt.t.Kind.suggestionAcceptClick:case mt.t.Kind.suggestionDismissClick:return r&&r(n);default:(0,h.AS)(n)}}),kt.zV([n.pipe(O.T(s.chain((e=>(0,a.pipe)(s.fromNullable(e.items[i]),s.map((t=>({feedState:e,item:t}))))))),B.oE),e.isWaitingForAlertsToBeApplied]).pipe(O.T((([{feedState:e,item:t},n])=>{const r=(0,a.pipe)(e.focusedItemId,s.exists((e=>t.id===e)));return{item:r?Object.assign(Object.assign({},t),{content:(0,a.pipe)(t.content,gC(0===i,i===e.items.length-1),vC)}):t,prevFocusedItemPosition:(0,a.pipe)(e.prevFocusedItemPosition,s.filter((()=>r))),isFirst:0===i,isLast:i===e.items.length-1,isFocused:r,isWaitingForAlertsToBeApplied:n}})),F.skipBy(mu)))}function yC(e,t){return n=>t.pipe(O.T(s.fold((()=>[]),(e=>e.items))),_o.w("length"),d.n((i=>kt.zV(i.map(((i,r)=>(n=>i=>function(e,t,n,i,r){return o.n.composeKnot({root:()=>n.pipe(O.T(s.chain((e=>(0,a.pipe)(s.fromNullable(e.items[i]),s.map((t=>({itemId:t.id,isFocused:(0,a.pipe)(e.focusedItemId,s.exists((e=>t.id===e)))}))))))),B.oE,F.skipBy(Au)),content:o.n.animatingFlow(bC(e,t,n,i,r),((e,t)=>(0,a.pipe)(e,s.filter((e=>!e.isFocused&&t.isFocused)),s.chain((()=>(0,a.pipe)(t.prevFocusedItemPosition,s.map((e=>e<0?cr.WP("collapseForward","expandForward"):cr.WP("collapseBackward","expandBackward")))))))))})}(e.feed,e.suggestionCount,t,i,e.notify)(n.pipe(m.p((e=>e.key===i)),O.T((e=>e.action)))))(n)(r)))))))}function kC(e){return e.pipe(Zi.S(((e,t)=>(0,a.pipe)(t,s.map((t=>({items:bi(t.collection),focusedItemId:(0,a.pipe)(yi(t.collection),s.map((e=>e.id))),focusedItemIndex:ki(t.collection),prevFocusedItemPosition:(0,a.pipe)(e,s.chain((e=>(0,a.pipe)(w.J(s.option)({prevIdx:e.focusedItemIndex,currIdx:ki(t.collection)}),s.chain((e=>e.prevIdx===e.currIdx?s.none:e.prevIdx<e.currIdx?s.some(-1):s.some(1))),s.alt((()=>e.prevFocusedItemPosition))))))}))))),s.none))}function wC(e){return o.n.fromSideEffect((t=>{switch(t.kind){case"seeAllSuggestions":return e.plagiarism.seeAllSuggestions();case"plagiarismFeedSuccessMountAction":return e.feed.onSuccessStateMount();default:(0,h.AS)(t)}}),u.of(null))}function EC(e){const t=kC(e.feed.feed).pipe(F.shareReplay({bufferSize:1,refCount:!0}));return o.n.composeKnot({root:o.n.fromSideEffect((t=>{switch(t.kind){case"plagiarismFeedMount":return e.feed.onFeedMount();case"sduiCitationDropdownSelect":return e.plagiarism.onCitationDropdownSelect(t.actions,t.sourceId);case"sduiCitationDropdownOpen":return e.plagiarism.onCitationDropdownOpen(t.currentSourceId);default:(0,h.AS)(t)}}),g.s.combine(e.plagiarism.state.view((e=>({citationDropdown:(0,a.pipe)(e,s.chain((e=>e.citationDropdown)))}))),e.pageRange.pageRange,((e,t)=>Object.assign(Object.assign({},e),{pageRange:t})))),cardList:yC(e,t),footer:()=>e.plagiarism.state.view(s.chain((e=>(0,a.pipe)(e.originality,s.map((t=>({originality:t,sourceCount:e.sourceCount})))))))})}function SC(e){const t=kC(e.feed.feed).pipe(F.shareReplay({bufferSize:1,refCount:!0}));return o.n.composeKnot({root:o.n.fromSideEffect((t=>{"plagiarismFeedMount"===t.kind?e.feed.onFeedMount():(0,h.AS)(t.kind)}),e.plagiarism.state.view((e=>({citationDropdown:(0,a.pipe)(e,s.chain((e=>e.citationDropdown))),originality:(0,a.pipe)(e,s.chain((e=>e.originality)),s.getOrElse((()=>1))),sourceCount:(0,a.pipe)(e,s.chain((e=>e.sourceCount)))})))),cardList:yC(e,t),uphookPrompt:_C(e,"Upgrade to view matching text in your document and get citations in APA, MLA, or Chicago style.")})}function CC(e){return o.n.composeKnot({root:o.n.fromSideEffect((t=>{"plagiarismFeedSuccessMountAction"===t.kind?e.feed.onFeedMount():(0,h.AS)(t.kind)}),u.of(void 0)),uphookPrompt:_C(e,"Prevent accidental plagiarism and feel confident every time you write.")})}function _C(e,t){return o.n.fromSideEffect((t=>{switch(t.kind){case"plagiarismUphookShow":e.plagiarism.onUphookShow();break;case"plagiarismUphookClick":e.plagiarism.onUphookClick();break;case"plagiarismUphookDismiss":e.plagiarism.onUphookDismiss();break;default:(0,h.AS)(t)}}),u.of({promptText:t,isGrammarlyPro:e.plagiarism.isGrammarlyPro,isEligibleForFreeTrial:e.plagiarism.isEligibleForFreeTrial}))}function xC(e){return o.n.fromSideEffect((t=>{switch(t.kind){case"plagiarismUphookShow":e.plagiarism.onUphookShow();break;case"plagiarismUphookClick":e.plagiarism.onUphookClick();break;case"plagiarismUphookDismiss":e.plagiarism.onUphookDismiss();break;default:(0,h.AS)(t)}}),u.of({isGrammarlyPro:e.plagiarism.isGrammarlyPro,isEligibleForFreeTrial:e.plagiarism.isEligibleForFreeTrial}))}function AC(e){return()=>u.of((0,a.pipe)(e.settings,s.chain((e=>e.getView())),s.fold((()=>({content:null})),(e=>({content:e})))))}function IC(e){return o.n.composeKnot({content:o.n.composeUnion({free:()=>u.of(null),premium:()=>u.of(null),business:()=>u.of(null)},(()=>e.assistant.state.view("user").view((e=>me(e)?{kind:"institution"===e.type?"business"===e.institutionType?"business":"premium":"premium"===e.type?"premium":"free"}:{kind:"free"})))),signIn:o.n.composeOption(o.n.fromSideEffect((t=>{e.notify(t)}),u.of(null)),(()=>e.assistant.state.view("userCanSignIn").view((e=>e?s.some(null):s.none))))})}function KC(e,t){const n=g.s.combine(e.skill.state,e.lifecycle.heightBehavior,((e,n)=>(0,a.pipe)(e,s.filter((()=>"fitContainer"===n.kind?!t:t)),s.map((e=>({displayName:e.skill.displayName,status:e.status,srcUrl:e.skill.srcUrl,size:{width:e.size.width,height:"fitContainer"===n.kind?"100%":e.size.height}}))))));return o.n.composeOption(function(e,t){return o.n.fromSideEffect((t=>e.notify(t)),t)}(e,n.pipe(B.oE)),(()=>n))}function TC(e){return o.n.composeUnion({loading:()=>u.of(null),loadedEmpty:o.n.fromSideEffect((t=>e.notify(t)),u.of(null)),loadedNonEmpty:o.n.fromSideEffect((t=>e.notify(t)),(0,a.pipe)(e.toneDetector,s.fold((()=>u.of(null)),(e=>e.state.pipe(m.p(Bt.isLoadedNonEmpty),O.T((({tones:e,brandToneInfo:t,uphookInfo:n})=>({tones:e,onBrandTitleEnabled:s.isSome(t),uphookInfo:n}))))))))},(()=>(0,a.pipe)(e.toneDetector,s.fold((()=>u.of({kind:"loading"})),(e=>e.state.view((({kind:e})=>({kind:e}))))))))}function OC(e){const t=g.s.create("");return o.n.fromSideEffect((n=>{"updateRoleTypeaheadText"===n.kind?(t.set(n.text),""===n.text&&e.notify({kind:mt.t.Kind.roleTypeaheadSelectionChange,role:s.none})):(n.kind===mt.t.Kind.roleTypeaheadSelectionChange&&t.set((0,a.pipe)(n.role,s.fold((()=>""),(e=>e.label)))),e.notify(n))}),g.s.combine(e.assistant.state.view("genAISession"),e.voiceProfile.state.view("stagingVoiceProfile"),t,((e,t,n)=>(0,a.pipe)(w.J(s.Applicative)({voiceProfile:(0,a.pipe)(e,s.chain(re.toStarted),s.map((e=>e.voiceProfile)),s.chain(Ce.toLegacyVoiceProfile)),stagingVoiceProfile:t}),s.fold((()=>({tones:[],styles:[],roles:[],maxSelectableTones:0,applyButtonEnabled:!1,description:"",roleTypeaheadText:"",dialects:Ce.Dialect.all(),selectedDialect:Ce.Dialect.american})),(({stagingVoiceProfile:e,voiceProfile:t})=>(0,a.pipe)(t.styles,S.i8((t=>t.id===e.selectedStyle)),(i=>({styles:(0,a.pipe)(t.styles,S.Tj((t=>Object.assign(Object.assign({},t),{kind:t.id===e.selectedStyle?"selected":"unselected"})))),tones:(0,a.pipe)(i,s.fold((()=>[]),(t=>(0,a.pipe)(t.tones,S.Tj((n=>Object.assign(Object.assign({},n),{kind:(0,a.pipe)(s.fromNullable(e.selectedTonesPerStyle.get(e.selectedStyle)),s.getOrElse((()=>new Set)),(e=>e.has(n.id)?"selected":e.size>=t.maxTones?"disabled":"unselected"))}))))))),roles:t.roles,maxSelectableTones:(0,a.pipe)(i,s.fold((()=>3),(e=>e.maxTones))),applyButtonEnabled:!Ce.Selections.eq.equals(e,t),description:"These voice settings will apply to any text you generate.",roleTypeaheadText:(0,a.pipe)(e.selectedRole,s.filter((()=>""===n)),s.chain((e=>s.fromNullable(t.roles.find((t=>t.id===e))))),s.fold((()=>n),(e=>e.label))),dialects:t.dialects,selectedDialect:t.dialects.find((t=>Ce.Dialect.Id.eq.equals(t.id,e.selectedDialect)))||Ce.Dialect.american})))))))))}function MC(e){return o.n.fromSideEffect((t=>e.notify(t)),g.s.combine(e.assistant.state.view("genAISession"),e.voiceProfile.state.view("stagingNewVoiceProfile"),((e,t)=>(0,a.pipe)(w.J(s.Applicative)({sessionVoiceProfile:(0,a.pipe)(e,s.chain(re.toStarted),s.map((e=>e.voiceProfile)),s.chain(Ce.toNewVoiceProfile)),stagingVoiceProfile:t}),s.fold((()=>({userName:"",title:"",subTitle:"",roles:[],dialects:Ce.Dialect.all(),selectedDialect:Ce.Dialect.american,isEnabledByDefault:!0,isEnabledByDefaultLabel:"",profiles:[],activeProfileName:s.none,activeTagId:s.none,isEditing:!1,selectedRole:s.none})),(({sessionVoiceProfile:e,stagingVoiceProfile:t})=>({userName:e.userName,title:e.title,subTitle:e.subTitle,isEnabledByDefault:t.isEnabledByDefault,isEnabledByDefaultLabel:e.isEnabledByDefaultLabel,profiles:t.profiles,roles:(0,a.pipe)(FC(t,e),s.fold((()=>e.roles),(t=>e.roles.filter((e=>e.id!==t.id))))),dialects:(0,a.pipe)(RC(t,e),(t=>e.dialects.filter((e=>e.id!==t.id)))),selectedRole:FC(t,e),selectedDialect:RC(t,e),activeProfileName:t.activeProfileName,activeTagId:t.activeTagId,isEditing:s.isSome(t.stagingSelections)})))))))}function FC(e,t){return(0,a.pipe)(e.stagingSelections,s.chain((e=>e.selectedRole)),s.alt((()=>e.selectedRole)),s.chain((e=>s.fromNullable(t.roles.find((t=>Ce.Role.Id.eq.equals(t.id,e)))))))}function RC(e,t){return(0,a.pipe)(e.stagingSelections,s.fold((()=>e.selectedDialect),(e=>e.selectedDialect)),(e=>t.dialects.find((t=>Ce.Dialect.Id.eq.equals(t.id,e)))||Ce.Dialect.american))}const BC=e=>t=>{switch(t.kind){case"seeAllSuggestions":return void e.writingExpert.seeAllSuggestions();case"tryAgain":return void e.writingExpert.tryAgain();case"longFormCardSduiNotify":return e.feed.processActions(t.actions,t.item,t.scope,t.sourceId);case mt.t.Kind.actionsMenuMuteClick:case mt.t.Kind.actionsMenuReportIncorrectClick:case mt.t.Kind.actionsMenuReportOffensiveClick:case mt.t.Kind.suggestionAcceptClick:case mt.t.Kind.suggestionDismissClick:return e.notify&&e.notify(t);default:(0,h.AS)(t)}};var NC=n(17644);function PC(e,t=u.of(!0)){const n=t.pipe(m.p(NC.D),f.s(1)).pipe(d.n((()=>e.assistant.state.view("genAISession").view(s.chain((e=>e.error))))),lt.Z(s.none));return o.n.composeOption(function(e,t){const n=e.routing.activeView.view((e=>"error"!==e.kind));return o.n.fromSideEffect((t=>e.notify(t)),t.pipe(Ot.E(n),O.T((([e,t])=>({error:e,showDismissButton:t})))))}(e,n.pipe(B.oE)),(()=>n))}function DC(e){const t=e.assistant.state.view("genAISession").view((0,a.flow)(s.chain(re.toStarted),s.chain((e=>e.activeContext.documentOverview))));return o.n.composeOption((()=>(0,a.pipe)(t,B.oE)),(()=>t))}function jC(e){const t=e.assistant.state.view("genAISession").view((e=>(0,a.pipe)(e,s.filter((e=>ae.Y.isQuickReply(e.mode))),s.chain((e=>(0,a.pipe)("started"===e.kind?(0,a.pipe)(e.activeContext.intent,s.map((e=>({kind:"loaded",text:e})))):s.some({kind:"loading"}),s.map((e=>Object.assign(Object.assign({},e),{header:"Sender’s intent"})))))))));return o.n.composeOption(o.n.composeUnion({loading:()=>t.pipe(B.oE),loaded:o.n.fromSideEffect((t=>e.notify(t)),t.pipe(O.T(s.chain((e=>"loaded"===e.kind?s.some({text:e.text,header:e.header}):s.none))),B.oE))},(()=>t.pipe(B.oE))),(()=>t))}function LC(e){const t=e.assistant.state.view("detectedReferences");return o.n.composeOption(function(e){return()=>e.assistant.state.view("detectedReferences").pipe(O.T(s.getOrElse((0,a.constant)([]))),O.T((e=>({detectedReferences:e}))))}(e),(()=>t))}const UC=[{emptyState:{title:"Rooting for you.",description:"Suggestions will appear here.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 66 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("path",{fill:"#C6CBDE",d:"M33.4 64c9.4 0 17.02-1.45 17.02-3.24 0-1.79-7.62-3.24-17.01-3.24-9.4 0-17.02 1.45-17.02 3.24 0 1.79 7.62 3.24 17.02 3.24Z"}),r.createElement("path",{fill:"#F6DF6C",stroke:"#27282E",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M36.65 61.36H28.8c-6.03 0-10.92-4.43-10.92-9.89V40.5c0-.4 30.22-.4 30.22 0v10.5c0 5.72-5.13 10.37-11.46 10.37Z"}),r.createElement("path",{fill:"#C7EEFB",stroke:"#27282E",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M33 44.13c8.35 0 15.11-1.56 15.11-3.47 0-1.92-6.76-3.48-15.1-3.48-8.36 0-15.12 1.56-15.12 3.48 0 1.91 6.76 3.47 15.11 3.47Z"}),r.createElement("path",{fill:"#27282E",d:"M45.56 42.15c-2.5.96-7.19 1.6-12.56 1.6s-10.06-.64-12.56-1.6c.7-1.38 6.05-2.45 12.56-2.45 6.5 0 11.87 1.07 12.56 2.45Z"}),r.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"m22.87 33.14 2.26-.62-1.98-1.25M25.35 27.2l2.18.85-.83-2.18M22.93 37.44l2.33.2-1.71 1.59M43.7 33.14l-2.26-.62 1.98-1.25M41.22 27.2l-2.17.85.82-2.18M43.64 37.44l-2.33.2 1.71 1.59"}),r.createElement("path",{fill:"#16AC9A",stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"M41.34 31.15c-.97-3.31-4.13-5.63-8.06-5.63v0h0v0c-3.93 0-7.09 2.32-8.06 5.63-1.39 4.76.83 9.86 1.86 10.8 1.76.38 3.05.69 6.2.69 3.13 0 4.98-.4 6.2-.7 1.04-.93 3.25-6.03 1.86-10.8h0Z"}),r.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"M34.7 42.44c.7-1.36 2.15-4.86 2.19-8.36.03-3.36-1.46-6.84-3.38-8.46M39.03 35.02l-2.14-.94 2.14-.95"}),r.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"m38.56 30.08-2.33-.14 1.68-1.63M38.56 38.46l-2.33.2 1.71 1.58M31.87 42.44a20.66 20.66 0 0 1-2.2-8.36c-.03-3.4 1.5-6.91 3.45-8.52"}),r.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"m27.54 35.02 2.14-.94-2.14-.95M28 30.08l2.33-.14-1.67-1.63M28 38.46l2.33.2-1.71 1.58"}),r.createElement("path",{fill:"#fff",stroke:"#27282E",strokeMiterlimit:"10",d:"M6.9 54.28c-.07 0-.12-.06-.12-.14.11-4.3-1.36-5.85-5.66-5.97-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.3.11 5.86-1.36 5.98-5.66 0-.07.06-.12.14-.12.07 0 .12.06.12.13-.11 4.3 1.36 5.86 5.66 5.97.07 0 .12.06.12.13s-.06.12-.13.12c-4.3-.1-5.86 1.37-5.98 5.66-.01.09-.06.14-.13.14ZM59.17 37.27c-.07 0-.11-.06-.11-.13.1-4.01-1.28-5.47-5.29-5.58-.07 0-.11-.06-.11-.12 0-.07.06-.12.12-.12 4.01.1 5.47-1.27 5.58-5.28 0-.07.06-.12.13-.12s.11.06.11.13c-.1 4.01 1.27 5.47 5.29 5.57.06 0 .11.05.11.12 0 .07-.06.12-.13.12-4-.1-5.46 1.27-5.58 5.28 0 .08-.05.13-.12.13ZM46.14 22.68c-.1 0-.16-.08-.16-.18.14-5.73-1.82-7.8-7.55-7.97-.1 0-.16-.08-.16-.18 0-.1.08-.16.17-.16 5.74.15 7.81-1.82 7.98-7.55 0-.1.08-.16.17-.16.1 0 .17.08.17.18-.15 5.73 1.82 7.8 7.55 7.95.1 0 .16.09.16.18 0 .1-.08.17-.18.17-5.73-.15-7.8 1.81-7.97 7.54-.02.12-.08.18-.18.18Z"}))),null)},successState:{title:"You're on point!",description:"There are no more suggestions.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#SuccessA_a)"},r.createElement("path",{fill:"#C6CBDE",d:"M32 64c9.28 0 16.8-1.43 16.8-3.2 0-1.77-7.52-3.2-16.8-3.2-9.28 0-16.8 1.43-16.8 3.2 0 1.77 7.52 3.2 16.8 3.2Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M44.08 7.6h-3.24L43 5.2M42.93 36.13l-2.59-1.95 3.2-.6M46.3 17.13l-3.13-.84 2.73-1.75M45.14 26.65l-2.73-1.74 3.13-.85M19.12 7.6h3.24L20.2 5.2M20.27 36.13l2.59-1.95-3.19-.6M16.9 17.13l3.13-.84-2.73-1.75M18.06 26.65l2.73-1.74-3.13-.85"}),r.createElement("path",{fill:"#F6DF6C",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 61.4h-7.73c-5.96 0-10.8-4.38-10.8-9.77V40.78c0-.4 29.86-.4 29.86 0v10.36c0 5.66-5.07 10.25-11.33 10.25Z"}),r.createElement("path",{fill:"#C7EEFB",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M31.6 44.38c8.24 0 14.93-1.54 14.93-3.43 0-1.9-6.69-3.43-14.93-3.43-8.24 0-14.92 1.53-14.92 3.43 0 1.9 6.68 3.43 14.92 3.43Z"}),r.createElement("path",{fill:"#0E101A",d:"M44 42.43c-2.47.94-7.1 1.57-12.4 1.57-5.3 0-9.93-.63-12.4-1.57.68-1.37 5.98-2.43 12.4-2.43s11.72 1.06 12.4 2.43Z"}),r.createElement("path",{fill:"#15C39A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M31.6 2.41v.01h0c-22.5 0-6.52 39.78-6.52 39.78s2.2.86 6.52.86c4.32 0 6.52-.86 6.52-.86S54.1 2.41 31.6 2.41h0Z"}),r.createElement("path",{fill:"#F18AB2",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M12 7.25s2.8-1.38 5.22-.87c-1.36-2.06-1.11-5.1-1.11-5.1 5.32 2.17 4.15 7.14 4.15 7.14s-5.76 2.26-3.56.81A6.82 6.82 0 0 1 12 7.25Z"}),r.createElement("path",{fill:"#F18AB2",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M13.79 4.5s2.6-.32 4.67 1.02A7.77 7.77 0 0 1 19.17.8c4.17 3.95 1.56 7.99 1.56 7.99s-2.34 4.21-7.8 2.4c0 0 1.6-2.38 4.18-2.93A6.92 6.92 0 0 1 13.8 4.5Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M33.26 42.98s8.41-38.16-1.68-40.57"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m39.15 28.43-2.81-1.6 3.08-1M37.54 37.9l-2.56-2 3.2-.54M39.48 9.37l-3.2-.56 2.57-1.98M40.03 18.9l-3.11-.91 2.77-1.7M29.94 42.98S21.53 4.82 31.63 2.41"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m24.05 28.43 2.82-1.6-3.09-1M25.66 37.9l2.56-2-3.2-.54M23.72 9.37l3.2-.56-2.57-1.98M23.17 18.9l3.11-.91-2.77-1.7"}),r.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeMiterlimit:"10",d:"M56.62 39.2c-.08 0-.13-.06-.13-.14.12-4.53-1.43-6.17-5.96-6.3-.08 0-.13-.06-.13-.14 0-.08.06-.13.14-.13 4.53.12 6.17-1.43 6.3-5.96 0-.08.06-.13.14-.13.08 0 .13.06.13.14-.12 4.53 1.43 6.17 5.96 6.29.08 0 .13.06.13.14 0 .07-.06.12-.14.12-4.53-.11-6.17 1.44-6.3 5.97-.01.09-.06.14-.14.14ZM6.24 24c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.97.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.97 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"})),r.createElement("defs",null,r.createElement("clipPath",{id:"SuccessA_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))),null)}},{emptyState:{title:"You got this.",description:"Suggestions will appear here.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("path",{fill:"#AAF2E1",stroke:"#0E101A",strokeLinejoin:"round",d:"M12.8 46.4 32.8.8l20 45.6V62h-40V46.4Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"m12.8 46.4 20-13.2 20 13.2"}),r.createElement("path",{fill:"#0E101A",fillRule:"evenodd",d:"M32.4 4.76V1.6h.8v3.16h-.8Zm0 6.31V7.92h.8v3.15h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.31v-3.16h.8v3.16h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.31V39.5h.8v3.16h-.8Zm0 6.32V45.8h.8v3.16h-.8Zm0 6.31v-3.15h.8v3.15h-.8Zm0 6.32v-3.16h.8v3.16h-.8Z",clipRule:"evenodd"}),r.createElement("path",{stroke:"#000",strokeLinecap:"round",d:"M10 33.6C5.2 34.8-2.4 42 2.8 48.8c5.2 6.8 16.8 4.5 21.2.89"}),r.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M10.4 33.05c.21.08.31.3.23.51l-1.3 3.36a.4.4 0 0 1-.75-.3l1.16-2.97-2.98-1.17a.4.4 0 0 1 .29-.74l3.35 1.3Z",clipRule:"evenodd"}))),null)},successState:{title:"Well, this is shaping up!",description:"There are no more suggestions.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#SuccessB_a)"},r.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"m18 34-3.4-10.67L59.41 1.49 18 34Z"}),r.createElement("path",{fill:"#D7F7F0",stroke:"#0E101A",strokeLinejoin:"round",d:"M24.25 24.7 60.8.8l-20.23 40-16.32-16.1ZM2.4 19.42 60.8.8 14.6 23.33l-12.2-3.9Z"}),r.createElement("path",{fill:"#15C39A",stroke:"#0E101A",strokeLinejoin:"round",d:"m28.62 29.08-4.37-4.37L18 34l10.62-4.92Z"}),r.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeMiterlimit:"10",d:"M25.4 52c-.09 0-.15-.07-.15-.16.13-5.1-1.61-6.94-6.7-7.08-.1 0-.15-.08-.15-.16 0-.09.07-.15.16-.15 5.1.13 6.94-1.61 7.08-6.7 0-.1.08-.15.16-.15.09 0 .15.07.15.16-.13 5.1 1.61 6.94 6.7 7.07.1 0 .15.07.15.16 0 .08-.07.14-.16.14-5.1-.13-6.94 1.62-7.08 6.71-.02.1-.08.16-.16.16ZM57.44 39.2c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.97.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.96 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12ZM11.45 11.2c-.06 0-.1-.05-.1-.11.1-3.68-1.17-5.02-4.85-5.12-.06 0-.1-.05-.1-.12 0-.06.05-.1.11-.1 3.68.1 5.02-1.17 5.12-4.85 0-.06.05-.1.12-.1.06 0 .1.05.1.11-.1 3.68 1.17 5.02 4.85 5.11.06 0 .1.05.1.12 0 .06-.05.1-.11.1-3.68-.1-5.02 1.17-5.12 4.85-.01.07-.05.11-.12.11Z"}),r.createElement("path",{stroke:"#000",strokeDasharray:"4 5",strokeLinecap:"square",d:"M10.4 31.2c-4.8 2-14.64 14.4-6 23.2 8.64 8.8 44.8-2 58 8.8"})),r.createElement("defs",null,r.createElement("clipPath",{id:"SuccessB_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))),null)}},{emptyState:{title:"Nothing to see yet.",description:"Suggestions will appear here.",illustration:r.createElement(Qu,null)},successState:{title:"Look at that!",description:"There are no more suggestions.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"M1.78 43.26a1.94 1.94 0 0 0 1.5 2.9l35.87 3.6-15.29 7.45a1.43 1.43 0 0 0 1 2.65l30.56-8.46 7.78.79V41.83l-59.74.45c-.7 0-1.33.38-1.68.98Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"m3.28 46.15.05-.5-.05.5Zm-1.5-2.89-.43-.24.43.24Zm37.37 6.5.22.45 1.59-.77-1.76-.17-.05.5Zm-15.29 7.45.22.45-.22-.45Zm1 2.65-.13-.48.14.48Zm30.56-8.46.05-.5h-.09l-.1.02.14.48Zm7.78.79-.05.5.55.05v-.55h-.5Zm0-10.36h.5v-.5h-.5v.5Zm-59.74.45v-.5.5Zm-.13 3.37a1.44 1.44 0 0 1-1.11-2.14l-.87-.5a2.44 2.44 0 0 0 1.88 3.64l.1-1Zm35.87 3.62L3.33 45.65l-.1 1 35.87 3.61.1-1Zm-15.12 8.39 15.3-7.45-.45-.9-15.29 7.45.44.9Zm-.52.83c0-.36.2-.68.52-.83l-.44-.9c-.66.32-1.08 1-1.08 1.73h1Zm1.17.9a.93.93 0 0 1-1.17-.9h-1c0 1.27 1.21 2.2 2.44 1.85l-.27-.96Zm30.56-8.47-30.56 8.46.27.96 30.56-8.46-.27-.96Zm7.96.77-7.78-.78-.1.99 7.78.78.1-1Zm-.55-9.86v10.36h1V41.83h-1Zm-59.24.95 59.74-.45v-1l-59.74.45v1Zm-1.24.73c.25-.45.73-.73 1.24-.73v-1c-.88 0-1.68.48-2.11 1.24l.87.49Z"}),r.createElement("path",{fill:"#87E8D1",fillRule:"evenodd",d:"M19.9 46.88a3.14 3.14 0 1 1 .97 5.86 3.67 3.67 0 0 1-7.05-.92 3.3 3.3 0 0 1-4.75-2.94 3.3 3.3 0 0 1 5.2-2.75 2.93 2.93 0 0 1 5.63.75Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"m19.9 46.88-.5.06a.5.5 0 0 0 .74.38l-.24-.44Zm1.44-.36v-.5.5Zm3.17 3.1.5-.01h-.5Zm-3.1 3.17.01.5v-.5Zm-.54-.04.08-.5a.5.5 0 0 0-.54.3l.46.2Zm-3.36 2.28v.5-.5Zm-3.69-3.21.5-.06a.5.5 0 0 0-.72-.4l.22.46Zm-1.4.33-.01-.5v.5Zm-3.35-3.27h.5-.5Zm3.26-3.35v-.5.5Zm1.94.6-.28.41a.5.5 0 0 0 .75-.22l-.47-.19Zm2.69-1.85v.5-.5Zm3.18 3.04c.36-.19.77-.3 1.2-.3v-1c-.6 0-1.18.16-1.67.42l.47.88Zm1.2-.3a2.64 2.64 0 0 1 2.67 2.6l1-.01a3.64 3.64 0 0 0-3.68-3.6l.01 1Zm2.67 2.6a2.64 2.64 0 0 1-2.6 2.67l.01 1c2.01-.03 3.62-1.68 3.6-3.68h-1Zm-2.6 2.67c-.16 0-.31-.01-.46-.04l-.16.99c.2.03.42.05.63.05l-.01-1Zm-1 .27a3.17 3.17 0 0 1-2.9 1.97v1a4.17 4.17 0 0 0 3.82-2.6l-.92-.37Zm-2.9 1.97c-1.64.02-3-1.2-3.2-2.77l-.98.12a4.17 4.17 0 0 0 4.19 3.65l-.01-1Zm-3.9-3.16a2.8 2.8 0 0 1-1.2.28l.01 1a3.8 3.8 0 0 0 1.62-.38l-.44-.9Zm-1.2.28a2.8 2.8 0 0 1-2.84-2.77h-1a3.8 3.8 0 0 0 3.85 3.77l-.01-1Zm-2.84-2.77a2.8 2.8 0 0 1 2.77-2.85l-.01-1a3.8 3.8 0 0 0-3.76 3.86l1-.01Zm2.77-2.85c.61 0 1.18.18 1.65.51l.57-.82a3.8 3.8 0 0 0-2.23-.69l.01 1Zm2.4.29a2.43 2.43 0 0 1 2.23-1.54l-.02-1a3.43 3.43 0 0 0-3.14 2.17l.93.37Zm2.23-1.54c1.25-.02 2.3.93 2.44 2.16l.99-.11a3.42 3.42 0 0 0-3.45-3.05l.02 1Z"}),r.createElement("path",{fill:"#87E8D1",fillRule:"evenodd",d:"M56 53.2a3.6 3.6 0 0 1-2.36 3.38 3.6 3.6 0 1 1-5.84 4.2 3.6 3.6 0 0 1-6.96-.62 3.6 3.6 0 1 1 .05-5.9 4.8 4.8 0 0 1 8.16-2.4A3.6 3.6 0 0 1 56 53.2Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"m53.64 56.58-.18-.47a.5.5 0 0 0-.22.78l.4-.3Zm-5.84 4.2.42-.27a.5.5 0 0 0-.9.11l.48.17Zm-6.96-.62.5-.07a.5.5 0 0 0-.78-.34l.28.41Zm.05-5.9-.29.42a.5.5 0 0 0 .78-.31l-.49-.1Zm8.16-2.4-.36.35a.5.5 0 0 0 .83-.16l-.47-.18Zm4.76 5.2a4.1 4.1 0 0 0 2.69-3.86h-1a3.1 3.1 0 0 1-2.04 2.91l.35.94Zm1.09 1.74c0-.95-.33-1.83-.87-2.53l-.79.62c.41.53.66 1.19.66 1.91h1Zm-4.1 4.1a4.1 4.1 0 0 0 4.1-4.1h-1a3.1 3.1 0 0 1-3.1 3.1v1Zm-3.42-1.83a4.1 4.1 0 0 0 3.42 1.83v-1a3.1 3.1 0 0 1-2.58-1.39l-.84.56Zm-.05-.45a3.1 3.1 0 0 1-2.93 2.08v1a4.1 4.1 0 0 0 3.87-2.75l-.94-.33ZM44.4 62.7a3.1 3.1 0 0 1-3.06-2.61l-.99.15a4.1 4.1 0 0 0 4.05 3.46v-1Zm-5.6-1.4c.86 0 1.67-.27 2.33-.72l-.57-.83c-.5.35-1.1.55-1.76.55v1Zm-4.1-4.1a4.1 4.1 0 0 0 4.1 4.1v-1a3.1 3.1 0 0 1-3.1-3.1h-1Zm4.1-4.1a4.1 4.1 0 0 0-4.1 4.1h1a3.1 3.1 0 0 1 3.1-3.1v-1Zm2.38.76a4.08 4.08 0 0 0-2.38-.76v1c.67 0 1.3.21 1.8.58l.58-.82Zm4.42-3.96a5.3 5.3 0 0 0-5.2 4.27l.98.2a4.3 4.3 0 0 1 4.22-3.47v-1Zm3.81 1.62a5.29 5.29 0 0 0-3.81-1.62v1c1.22 0 2.31.5 3.1 1.31l.71-.69Zm2.99-2.42a4.1 4.1 0 0 0-3.81 2.58l.93.37a3.1 3.1 0 0 1 2.88-1.95v-1Zm4.1 4.1a4.1 4.1 0 0 0-4.1-4.1v1a3.1 3.1 0 0 1 3.1 3.1h1Z"}),r.createElement("path",{fill:"url(#SuccessC_a)",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M25.88 3.04a7.45 7.45 0 0 0-12.77 5.2v13.8c0 7.54 6.84 13.23 14.25 11.86l15.29-2.83 4.37 4.37H57.6L25.88 3.04Z"}),r.createElement("path",{fill:"url(#SuccessC_b)",fillRule:"evenodd",d:"M13.1 16.86v5.16c0 7.54 6.87 13.23 14.28 11.83l.45-.08c.44-.73.68-1.6.66-2.64a9.05 9.05 0 0 0-2.66-6.23l-5.92-5.92a7.65 7.65 0 0 0-6.8-2.12Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"M13.1 16.86h-.5c0-.2.13-.37.3-.45l.2.45Zm14.28 17 .1.48-.1-.49Zm.45-.1.43.27a.5.5 0 0 1-.34.23l-.1-.5Zm.66-2.63h.5-.5Zm-2.66-6.23-.36.35.36-.35Zm-5.92-5.92.36-.35-.36.35Zm-6.8-2.12-.2-.45a.5.5 0 0 1 .11-.04l.09.5Zm.5 0v5.16h-1v-5.16h1Zm0 5.16c0 7.23 6.57 12.68 13.68 11.34l.18.98a12.54 12.54 0 0 1-14.86-12.32h1Zm13.68 11.34.45-.08.18.98-.45.08-.18-.98Zm.11.15c.39-.64.6-1.42.59-2.37l1-.02a5.3 5.3 0 0 1-.73 2.9l-.86-.51Zm.59-2.37a8.55 8.55 0 0 0-2.52-5.89l.71-.7a9.55 9.55 0 0 1 2.8 6.57l-1 .02Zm-2.52-5.89-5.91-5.92.7-.7 5.92 5.91-.7.71Zm-5.91-5.92a7.15 7.15 0 0 0-6.36-1.98l-.18-.98a8.15 8.15 0 0 1 7.25 2.26l-.71.7Zm-6.25-2.01-.4-.91.4.91Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M23.86 41.85 28 33.62M29.96 41.85l4.88-9.35M24.41 13.1c0 7.65 7.19 13.26 14.6 11.4l5.83-1.82"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m13.11 6.93-5.84 3.72 5.84 3.71V6.93Z"}),r.createElement("circle",{cx:"1.09",cy:"1.09",r:"1.09",fill:"#0E101A",transform:"matrix(-1 0 0 1 19.67 6.27)"}),r.createElement("defs",null,r.createElement("radialGradient",{id:"SuccessC_b",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(8 -9 8 7 13.6 32.4)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#F3F8E5"}),r.createElement("stop",{offset:"1",stopColor:"#D7E8A9"})),r.createElement("linearGradient",{id:"SuccessC_a",x1:"16.14",x2:"55.97",y1:".8",y2:"36.57",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#D7E8A9"}),r.createElement("stop",{offset:".38",stopColor:"#87E8D1"}),r.createElement("stop",{offset:".89",stopColor:"#79A8F2"}))))),null)}},{emptyState:{title:"The first word is the hardest.",description:"Suggestions will appear here.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 79 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("path",{fill:"#C6CBDE",d:"M28.4 63.2c8.62 0 15.6-1.8 15.6-4s-6.98-4-15.6-4-15.6 1.8-15.6 4 6.98 4 15.6 4Z"}),r.createElement("path",{fill:"#638EEB",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M41.19 56.6a.58.58 0 0 0 0-.25v-3.53h-2.67c-2.3-.84-5.78 0-9.72 0-3.94 0-7.45-.86-9.72 0H16.4v4.7c.43 1.9 5.83 3.4 12.4 3.4s11.95-1.5 12.39-3.4v-.93Z"}),r.createElement("path",{fill:"#8ECBDE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M28.8 56.25c6.85 0 12.4-1.63 12.4-3.64 0-2-5.55-3.64-12.4-3.64-6.85 0-12.4 1.63-12.4 3.64 0 2.01 5.55 3.64 12.4 3.64Z"}),r.createElement("path",{fill:"#8ECBDE",d:"M41.17 52.74v-1.5a2.25 2.25 0 0 0-2.23-2.3h-.09a.98.98 0 0 1-.95-.98v-.35H19.7v.35a.98.98 0 0 1-.96.98h-.07a2.25 2.25 0 0 0-2.24 2.3v1.5"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M41.17 52.74v-1.5a2.25 2.25 0 0 0-2.23-2.3h-.09a.98.98 0 0 1-.95-.98v-.35H19.7v.35a.98.98 0 0 1-.96.98h-.07a2.25 2.25 0 0 0-2.24 2.3v1.5"}),r.createElement("path",{fill:"#99C2FF",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M38.1 47.22V44.4h-2.01c-1.7-.63-4.34 0-7.29 0s-5.59-.65-7.3 0H19.5v2.94h.02c.32 1.43 4.35 2.55 9.28 2.55 4.92 0 8.95-1.12 9.27-2.55l.03-.1Z"}),r.createElement("path",{fill:"#DBEBFF",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M28.8 46.97c5.14 0 9.3-1.22 9.3-2.73s-4.16-2.74-9.3-2.74c-5.14 0-9.3 1.23-9.3 2.74 0 1.5 4.16 2.73 9.3 2.73Z"}),r.createElement("path",{fill:"#0E101A",d:"M28.8 45.64c3.85 0 6.97-.66 6.97-1.48s-3.12-1.48-6.97-1.48c-3.85 0-6.97.66-6.97 1.48s3.12 1.48 6.97 1.48Z"}),r.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M65.02 4.06c-1.83.69-3.5 1.34-5.03 2l-3.54 5.07.7-3.8c-7.41 3.5-11.69 7.17-17.58 13.7-5.5 6.11-6.19 14.68-6.19 14.68l10.55-2.27-2.86-1.36 4.46.1a159.72 159.72 0 0 1 17.7-13.15l-4.18-1.93 7.18.04 4.55-2.75L77.83 5l-12.81-.94Z"}),r.createElement("path",{fill:"#41D9B5",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M67.85 8.92s-29.05 9.2-40.25 36h2c3.52-7.49 12.8-24.4 38.25-36Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m46.5 14.03-.83 4.67M59.58 21.57l-5.11-1.43M50.56 28.2l-5.11-1.45M39.6 20.91l-.71 4.2"}))),null)},successState:{title:"You did it!",description:"There are no more suggestions.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("path",{fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M24.56 10.36h34.93L43.53 46.6H8.59l15.97-36.24Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",d:"M19.37 34.76c1.06-.2 2.53-.27 3.52-.82.64-.36.79.58 1.16.82 1.14.77 2.28-.09 3.26-.74.95-.63 1.14-.56 1.8.26.89 1.09 2.87.23 3.97-.03.38-.1.8-.17 1.13.06.68.49 1.48.63 2.28.75 1.15.19 2.26.29 3.42.3.67.01.83.26 1.35.52 1.09.54 2.8-.15 3.9-.37M22.4 27.57c1.54-.08 3.24.04 4.58-.82.2-.13.46-.25.69-.35.12-.05.6.92.83 1.02.57.26 1.27.19 1.88.04.57-.15 1.36-.78 1.89-.33.6.52.71.78 1.57.6.85-.2 1.31-.3 2.07-.04a6.3 6.3 0 0 0 3.73.26c.41-.09 4.57-.66 4.77-.26M24.01 20.46c1.95-.4 3.92-.75 5.81-1.4.24-.09.45-.14.7-.14.29 0 .34.29.48.52.57.95 1.56.59 2.45.56.85-.03 1.6.16 2.47.05.4-.05 1.44-.49 1.82-.31.22.1.3.4.52.53.64.38.91.44 1.65.2.58-.2 1.11.07 1.71-.3.14-.1.64-.61.7-.27.08.43.14.75.56.88 1.43.46 2.92-.5 4.33-.54"}),r.createElement("path",{fill:"#F9C7C7",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M14.77 9.5c0 1.19.96 2.14 2.14 2.14h5.14V7.37H16.9c-1.18 0-2.14.95-2.14 2.14Z"}),r.createElement("path",{fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M19.74 9.5c0-2.6 2.1-4.7 4.7-4.7h31.28v9.41H24.45a4.7 4.7 0 0 1-4.7-4.7Z"}),r.createElement("circle",{cx:"56.15",cy:"9.51",r:"4.71",fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10"}),r.createElement("path",{fill:"#F9C7C7",fillRule:"evenodd",d:"M56.54 7.37a2.14 2.14 0 1 0 0 4.27h4.52a2.14 2.14 0 0 0 0-4.27h-4.52Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#1F243C",d:"M54.9 9.5c0-.9.73-1.63 1.64-1.63v-1A2.64 2.64 0 0 0 53.9 9.5h1Zm1.64 1.64c-.9 0-1.64-.73-1.64-1.63h-1a2.64 2.64 0 0 0 2.64 2.63v-1Zm4.52 0h-4.52v1h4.52v-1Zm0 0v1-1Zm1.64-1.63c0 .9-.73 1.63-1.64 1.63v1a2.64 2.64 0 0 0 2.64-2.63h-1Zm-1.64-1.64c.9 0 1.64.73 1.64 1.64h1a2.64 2.64 0 0 0-2.64-2.64v1Zm0 0v-1 1Zm-4.52 0h4.52v-1h-4.52v1Z"}),r.createElement("path",{fill:"#F9C7C7",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M.8 45.5c0 1.19.96 2.14 2.14 2.14h5.13v-4.27H2.94c-1.18 0-2.14.95-2.14 2.14Z"}),r.createElement("path",{fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M5.77 45.5c0-2.6 2.1-4.7 4.7-4.7h30.47v9.41H10.47a4.7 4.7 0 0 1-4.7-4.7Z"}),r.createElement("path",{fill:"#79A8F2",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M41.27 48.55h8.66v14.37l-4.35-1.7-4.31 1.7V48.55Z"}),r.createElement("path",{fill:"#F8E485",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 44c0-1.11.8-2.1 1.1-3.13.33-1.05.27-2.32.87-3.21.62-.9 1.81-1.21 2.68-1.86.83-.65 1.49-1.73 2.53-2.08.99-.34 2.12.13 3.22.13 1.07 0 2.23-.47 3.22-.13 1.01.35 1.67 1.43 2.53 2.08.87.65 2.06.96 2.68 1.86.63.86.54 2.16.87 3.21C55.23 41.9 56 42.9 56 44c0 1.11-.8 2.1-1.1 3.13-.33 1.05-.27 2.32-.87 3.21-.62.9-1.81 1.21-2.68 1.86-.83.65-1.49 1.73-2.53 2.08-.98.34-2.12-.13-3.22-.13-1.07 0-2.23.47-3.22.13-1.01-.35-1.67-1.43-2.53-2.08-.87-.65-2.06-.96-2.68-1.86-.63-.86-.54-2.16-.87-3.21-.33-1.03-1.1-2.02-1.1-3.13Z"}),r.createElement("mask",{id:"SuccessD_a",width:"23",height:"24",x:"34",y:"32",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},r.createElement("path",{fill:"#F8E485",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M54.6 49.2c-.55.96-1.74 1.42-2.51 2.16-.81.74-1.4 1.87-2.36 2.35-.99.47-2.18.14-3.25.27-1.05.14-2.16.75-3.23.53-1.02-.2-1.77-1.17-2.73-1.72-.92-.53-2.16-.71-2.84-1.5-.71-.8-.74-2.07-1.16-3.06-.42-1-1.3-1.86-1.4-2.95-.1-1.07.62-2.15.87-3.22.22-1.05.05-2.3.6-3.26.56-.96 1.75-1.42 2.52-2.16.81-.74 1.4-1.87 2.36-2.35.99-.47 2.18-.14 3.25-.27 1.05-.14 2.16-.75 3.23-.53 1.02.2 1.77 1.17 2.73 1.72.92.54 2.16.71 2.84 1.5.71.8.74 2.07 1.16 3.06.43 1 1.3 1.86 1.4 2.95.1 1.07-.62 2.15-.87 3.22-.22 1.05-.05 2.3-.6 3.26Z"})),r.createElement("g",{mask:"url(#SuccessD_a)"},r.createElement("path",{fill:"#FEFAE9",d:"m52.26 29.95 2.49 2.5-19.9 19.9-2.5-2.5zM60.33 37.48l-4.35-4.34-19.9 19.9 4.35 4.35z"}),r.createElement("path",{stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 44c0-1.11.8-2.1 1.1-3.13.33-1.05.27-2.32.87-3.21.62-.9 1.81-1.21 2.68-1.86.83-.65 1.49-1.73 2.53-2.08.99-.34 2.12.13 3.22.13 1.07 0 2.23-.47 3.22-.13 1.01.35 1.67 1.43 2.53 2.08.87.65 2.06.96 2.68 1.86.63.86.54 2.16.87 3.21C55.23 41.9 56 42.9 56 44c0 1.11-.8 2.1-1.1 3.13-.33 1.05-.27 2.32-.87 3.21-.62.9-1.81 1.21-2.68 1.86-.83.65-1.49 1.73-2.53 2.08-.98.34-2.12-.13-3.22-.13-1.07 0-2.23.47-3.22.13-1.01-.35-1.67-1.43-2.53-2.08-.87-.65-2.06-.96-2.68-1.86-.63-.86-.54-2.16-.87-3.21-.33-1.03-1.1-2.02-1.1-3.13Z"})))),null)}},{emptyState:{title:"Start writing to make the magic happen.",description:"Suggestions will appear here.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 65",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#EmptyE_a)"},r.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M47.87 26.1c-.06 0-.1-.05-.1-.1.09-3.4-1.08-4.63-4.47-4.73-.06 0-.1-.05-.1-.1 0-.06.05-.1.1-.1 3.4.09 4.63-1.08 4.73-4.47 0-.06.05-.1.1-.1.06 0 .1.05.1.1-.09 3.4 1.08 4.63 4.47 4.72.06 0 .1.05.1.1 0 .06-.05.1-.1.1-3.4-.09-4.63 1.08-4.73 4.47 0 .07-.05.11-.1.11ZM10.68 28.5c-.06 0-.1-.04-.1-.1.09-3.11-.98-4.24-4.1-4.33-.04 0-.08-.04-.08-.1 0-.05.04-.08.1-.08 3.11.08 4.24-.99 4.33-4.1 0-.05.04-.09.1-.09.05 0 .08.04.08.1-.08 3.11.99 4.24 4.1 4.32.05 0 .09.04.09.1 0 .05-.04.08-.1.08-3.11-.08-4.24.99-4.33 4.1 0 .06-.04.1-.1.1ZM35.84 12.5c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.96.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.97 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"}),r.createElement("path",{fill:"#0E101A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M2.19 6.8a2.53 2.53 0 1 1 2.74-4.24l30.2 19.54-2.74 4.24L2.19 6.81Z"}),r.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M24.3 21.1a2.52 2.52 0 1 1 2.74-4.23l8.75 5.65-2.74 4.24-8.75-5.66Z"}),r.createElement("circle",{cx:"34.41",cy:"24.67",r:"2.55",fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",transform:"rotate(-57 34.4 24.67)"}),r.createElement("path",{fill:"#C6CBDE",d:"M32 64.5c10.6 0 19.2-1.61 19.2-3.6s-8.6-3.6-19.2-3.6-19.2 1.61-19.2 3.6 8.6 3.6 19.2 3.6Z"}),r.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M42.84 34.42H21.16l-3.23 23.34c-.2 1.49.5 2.9 1.94 3.3 2.13.6 6 1.27 12.62 1.27 6.77 0 10.35-.7 12.17-1.3 1.17-.4 1.64-1.56 1.47-2.78l-3.29-23.83Z"}),r.createElement("path",{fill:"#F8C6DA",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m43.74 41.35-.9-6.93H21.16l-.9 6.93h23.48Z"}),r.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M50.08 33.3H13.92a1.12 1.12 0 0 0 0 2.24h36.16a1.12 1.12 0 1 0 0-2.24Z"})),r.createElement("defs",null,r.createElement("clipPath",{id:"EmptyE_a"},r.createElement("path",{fill:"#fff",d:"M0 .5h64v64H0z"}))))),null)},successState:{title:"It's like magic!",description:"There are no more suggestions.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#SuccessE_a)"},r.createElement("path",{fill:"#C6CBDE",d:"M32 64c11.49 0 20.8-1.8 20.8-4s-9.31-4-20.8-4-20.8 1.8-20.8 4 9.31 4 20.8 4Z"}),r.createElement("path",{fill:"#F28C8C",d:"M38.73 32.98s9.04-12.87 11.57-18.56c3.5-7.97 1.49-11.86-.22-12.62-1.7-.76-5.96.4-9.46 8.36-2.59 5.85-6.54 21.03-6.54 21.03"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M38.73 32.98s9.04-12.87 11.57-18.56c3.5-7.97 1.49-11.86-.22-12.62-1.7-.76-5.96.4-9.46 8.36-2.59 5.85-6.54 21.03-6.54 21.03"}),r.createElement("path",{fill:"#F8C6DA",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M37.12 30.94a.95.95 0 0 1-.6-1.21c1.12-3.6 5.26-16.7 6.53-19.63 2.04-4.62 4.69-5.75 5.7-5.32 1 .46 1.97 3.16-.07 7.79-1.28 2.89-8.55 14.94-10.37 17.95-.25.4-.73.58-1.19.42Z"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m32.68 31.55-4.56 2.04s-.58-.97-1.46-2.55a348.24 348.24 0 0 1-5.63-10.29 1.31 1.31 0 0 1 .33-1.61 6.2 6.2 0 0 1 9.13 1.25 285.72 285.72 0 0 1 2.19 11.16Z"}),r.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M44.05 31.22H19.95l-3.6 25.59c-.22 1.5.49 2.93 1.95 3.35 2.31.66 6.65 1.44 14.25 1.44 7.73 0 11.71-.8 13.68-1.48 1.18-.4 1.67-1.58 1.5-2.82l-3.68-26.08Z"}),r.createElement("path",{fill:"#F8C6DA",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m45.04 38.76-1-7.54H19.96l-1 7.54h26.1Z"}),r.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M51.58 30H12.42a1.22 1.22 0 0 0 0 2.44h39.16a1.22 1.22 0 0 0 0-2.44Z"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M30.49 20.42c-1 3.4-2.07 6.72-2.98 8.82-.28.64-.55 1.25-.85 1.8-3.26 6.38-6.94 7.33-8.55 6.63-1.74-.73-3.78-4.63-.34-12.63.52-1.18 1.31-2.68 2.22-4.32a6.2 6.2 0 0 1 10.5-.3Z"}),r.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M6.63 21.6c-.07 0-.12-.06-.12-.13.11-4.25-1.35-5.79-5.59-5.9-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.25.11 5.79-1.35 5.9-5.59 0-.07.07-.12.14-.12s.12.06.12.13c-.11 4.25 1.35 5.79 5.59 5.9.07 0 .12.05.12.13 0 .07-.06.12-.13.12-4.25-.11-5.79 1.34-5.9 5.59-.02.08-.07.13-.14.13ZM19.87 10.4c-.06 0-.1-.05-.1-.1.09-3.4-1.08-4.63-4.47-4.73-.06 0-.1-.05-.1-.1 0-.06.05-.1.1-.1 3.4.09 4.63-1.08 4.73-4.47 0-.06.05-.1.1-.1.06 0 .1.05.1.1-.09 3.4 1.08 4.63 4.47 4.72.06 0 .1.05.1.1 0 .06-.05.1-.1.1-3.4-.09-4.63 1.08-4.73 4.47 0 .07-.05.11-.1.11ZM57.03 52c-.07 0-.12-.06-.12-.13.11-4.25-1.35-5.79-5.59-5.9-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.25.11 5.79-1.35 5.9-5.59 0-.07.07-.12.14-.12s.12.06.12.13c-.11 4.25 1.35 5.79 5.59 5.9.07 0 .12.05.12.13 0 .07-.06.12-.13.12-4.25-.11-5.79 1.34-5.9 5.59-.02.08-.07.13-.14.13Z"})),r.createElement("defs",null,r.createElement("clipPath",{id:"SuccessE_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))),null)}},{emptyState:{title:"No pressure.",description:"Suggestions will appear here.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#EmptyF_a)"},r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M28.8.8h6.4v72.8h-6.4zM4.8 71.09l5.54 3.2 12.8-22.18-5.54-3.2zM59.2 71.08l-5.54 3.2-12.8-22.17 5.54-3.2z"}),r.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M6.4 6.4h51.2v51.2H6.4V6.4Z"}),r.createElement("path",{fill:"#DBEBFF",fillRule:"evenodd",d:"M57.6 40.12V57.6H6.4V19.47a13.4 13.4 0 0 1 2.28-1.84 6.48 6.48 0 0 1 5.52-.75 6.37 6.37 0 0 1 3.83 3.57c.75 1.75.67 3.54.56 4.45-.26 2.04-.98 3.65-1.79 5.47l-.1.24.38-.3c-.04.03.99-.79 1.91-1.33.5-.3 1.32-.72 2.33-.98a6.66 6.66 0 0 1 4.86.56c3.66 2 4.18 5.65 4.03 7.75-.1 1.36-.46 2.6-.82 3.56.84-.82 1.72-1.62 2.65-2.39 1.07-.87 2.81-1.96 4.78-2.53 1.67-.48 6.19-1.2 8.97 2.87a7.8 7.8 0 0 1 1.4 4.16c.79-.57 1.64-1.1 2.58-1.55l.05-.03c.36-.17 1.66-.8 3.1-1.05a7.1 7.1 0 0 1 4.68.77Z",clipRule:"evenodd"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M6.4 6.4h51.2v51.2H6.4V6.4Z"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M3.2 51.2h57.6v6.4H3.2z"}),r.createElement("path",{fill:"#FEFAE9",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M27.97 32.23a5.23 5.23 0 0 1 7.71-2.94c2.9 1.72 3.77 5.06.55 8.71-3.22 3.65-9.8 3.1-11.7 2.32 2.37-3.14 2.3-4.74 3.44-8.1Z"}),r.createElement("path",{fill:"#638EEB",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M43.6 14.18a3.48 3.48 0 1 1 5.53 4.18L37.7 31.46l-3.58-2.7 9.48-14.58Z"}),r.createElement("path",{fill:"#15C39A",fillRule:"evenodd",d:"M36.94 37.12c-.21.3-.45.59-.7.88-3.23 3.65-9.8 3.1-11.7 2.32 1.75-2.32 2.17-3.8 2.72-5.77.1-.36.2-.73.33-1.13 1.3.08 2.16.22 3.76 2.6 1.34 1.98 3.54 1.66 5.59 1.1Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"m36.94 37.12.4.3a.5.5 0 0 0-.54-.78l.14.48Zm-.7.88.37.33-.38-.33Zm-11.7 2.32-.4-.3a.5.5 0 0 0 .2.76l.2-.46Zm2.72-5.77-.48-.14.48.14Zm.33-1.13.03-.5a.5.5 0 0 0-.51.36l.48.14Zm3.76 2.6.42-.29-.42.28Zm5.18.8c-.2.29-.42.57-.67.85l.75.66c.27-.3.51-.61.73-.92l-.81-.58Zm-.67.85c-1.5 1.69-3.8 2.43-6.02 2.65-2.23.21-4.26-.12-5.11-.47l-.38.93c1.04.43 3.25.76 5.58.53 2.35-.22 4.95-1.02 6.68-2.98l-.75-.66Zm-10.92 2.95a15.1 15.1 0 0 0 2.8-5.94l-.96-.27c-.55 1.95-.95 3.36-2.64 5.6l.8.6Zm2.8-5.94c.1-.35.2-.72.33-1.11l-.96-.3-.33 1.14.96.27Zm4.03 1.05a7.25 7.25 0 0 0-2.16-2.3 4.13 4.13 0 0 0-2-.5l-.05 1c.64.03 1.08.08 1.55.36.48.28 1.04.84 1.83 2l.83-.56Zm5.03.9c-1.01.28-2 .48-2.87.4a2.79 2.79 0 0 1-2.16-1.3l-.83.56a3.79 3.79 0 0 0 2.89 1.73 9.2 9.2 0 0 0 3.24-.42l-.27-.96Z"})),r.createElement("defs",null,r.createElement("clipPath",{id:"EmptyF_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))),null)},successState:{title:"Bravo!",description:"There are no more suggestions.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#SuccessF_a)"},r.createElement("path",{fill:"#41D9B5",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M.8 5.8a5 5 0 0 1 5-5h52.4a5 5 0 0 1 5 5v52.4a5 5 0 0 1-5 5H5.8a5 5 0 0 1-5-5V5.8Z"}),r.createElement("path",{fill:"#DBEBFF",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M4.8 6.8c0-1.1.9-2 2-2h50.4a2 2 0 0 1 2 2v50.4a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2V6.8Z"}),r.createElement("g",{clipPath:"url(#SuccessF_b)"},r.createElement("path",{fill:"#99C2FF",d:"M55.66 73.05c-.76.9-1.51 1.8-1.66 2.02H-2.94c.61-2.7.03-5.61-2.37-7.42-2.44-1.83-4.9-3.64-7.27-5.56V37.05l.12.1c1.98 1.79 5.03-.78 7.15.9 11.3 17 27.6 18.48 41.09 9.82 3.86-2.48 6.83-14.07 4.07-18.06-2.48-3.58-8.15-5.66-12.29-3a58.1 58.1 0 0 1-7.42 4.1c-.27.13-.77.28-1.11.38l.92-.25c-.47.13-.94.35-1.4.51-1.22.41-2.47.76-3.73 1.02-.61.13-1.25.2-1.86.33l.89-.2a7.2 7.2 0 0 1-.8.1c-.63.03-1.25 0-1.87-.04h-.07c.44 0 .53-.03-.61-.05a19.27 19.27 0 0 1-2.23-.55h-.01c-.5-.27-1-.5-1.49-.77-.4-.23-.82-.61-1.25-.83l-.42-.34c-1.12-.97-2.1-2.05-3.09-3.13C.7 25.66-3.16 16.37-4.78 15.2 1.27 17.47 10.8 16.8 15.6 14c4.8-2.8 9.6-7.31 11.42-13.73 0 0 8.38.75 14.05 4.15 5.66 3.4 6.8 8.31 9.44 14.74 2.65 6.42 9.07 8.68 15.12 6.38l.37.05-1.13 16.61c-8.38-6-17 .89-19.27 6.04-2.22 5.05 11.37 22.27 10.06 24.81 1.5-1.77 3.06-3.53-.04.07a.52.52 0 0 1-.07.08l.07-.08a.58.58 0 0 0 .04-.07Z",opacity:".7"}),r.createElement("path",{fill:"#FCE5E5",d:"m30.37 12.1 1.17-2.18c.6-1.12 1.3-1.53 2.49-1.97a3.36 3.36 0 0 1 2.64.27c.81.42 1.47.27 2.06.97a15.46 15.46 0 0 1 2.87 13.86c-.11.4-.25.82-.22 1.25.02.34.14.66.19 1 .07.6-.1 1.19-.24 1.77-.56 2.19-.85 4.58.06 6.65.25.56.58 1.1.69 1.7.09.46.04.93 0 1.4-.26 3.04-.13 6.12.4 9.13-7.1.5-14.29-.28-21.12-2.27a1.27 1.27 0 0 1-.52-.24c-.26-.25-.27-.67-.19-1.02.21-.93.86-1.7 1.5-2.42 2.2-2.55 4.42-5.09 6.64-7.63"}),r.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"M24.77 36.29s-15.01-.79-6.79-7.93l-5.65-5.65S9.72 26.48 7.5 32.4c-1.04 2.75 1.39 5.17 4.43 8.21 3.5 3.5 7.82 7.81 8.64 14.39.14 1.11.3 1.87.45 2.33.17 1.1.34 2.26.5 3.5.43 3.31.49 14.3.49 14.3l34.4-.27.05-29.5c0-4.2-2.56-7.97-6.47-9.5l-9.8 7.7c-16.84 3.76-14.9-7.14-14.9-7.14s-.22.21-.57.59l.06-.72Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#FFC940",fillRule:"evenodd",d:"m22.98 37.83 1.2.1 1.2.11a2.27 2.27 0 0 0 0 .32 5.82 5.82 0 0 0 1.34 3.7c1.44 1.72 4.83 3.52 13.04 1.68l.53 2.36c-8.61 1.93-13.15.24-15.43-2.48a8.24 8.24 0 0 1-1.88-5.77v-.02Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"m17.98 28.36.33.38a.5.5 0 0 0 .02-.73l-.35.35Zm6.36 7.93.5.05a.5.5 0 0 0-.47-.55l-.03.5Zm-12-13.58.34-.35a.5.5 0 0 0-.75.05l.4.3Zm-4.92 9.45.47.17-.47-.17Zm4.78 8.56.36-.35-.36.35Zm8.48 13.62.5-.06-.5.06Zm.07.61.5-.04-.5.04Zm.06 1.26h.5-.5Zm.1 2.46.5.01a.5.5 0 0 0 0-.1l-.5.1Zm-.1 1.98.5.04-.5-.04ZM22 75.12l-.5.07a.5.5 0 0 0 .5.43v-.5Zm34.39-.26v.5a.5.5 0 0 0 .5-.5h-.5Zm.06-29.1h-.5.5Zm-6.9-9.9.18-.47a.5.5 0 0 0-.5.09l.32.38Zm-9.37 7.7.1.48a.5.5 0 0 0 .21-.1l-.31-.39Zm-14.9-7.14.49.1a.5.5 0 0 0-.84-.46l.35.36Zm-1.08 1.15-.5-.05a.5.5 0 0 0 .88.38l-.38-.33Zm-6.55-9.59c-2.07 1.8-2.9 3.36-2.63 4.73.26 1.35 1.54 2.2 2.87 2.75 1.36.57 2.98.9 4.23 1.09a28.35 28.35 0 0 0 2.15.24h.04l.03-.5.03-.5h-.04l-.11-.01a20.5 20.5 0 0 1-1.95-.22c-1.23-.18-2.75-.5-4-1.02-1.29-.54-2.11-1.22-2.27-2.02-.16-.8.27-2.01 2.3-3.78l-.65-.76Zm-5.67-4.92 5.65 5.65.7-.7-5.65-5.65-.7.7Zm-4.1 9.27a45.35 45.35 0 0 1 4.41-8.7 19.79 19.79 0 0 1 .44-.62l-.4-.3-.4-.3v.01a8.3 8.3 0 0 0-.47.65 46.35 46.35 0 0 0-4.51 8.9l.94.36Zm4.68 8.04a33.1 33.1 0 0 1-3.9-4.42c-.89-1.35-1.2-2.5-.77-3.62l-.94-.35c-.58 1.55-.09 3.06.88 4.52.95 1.45 2.44 2.96 4.02 4.57l.71-.7Zm8.62 13.9c-.8-5.95-5.13-10.35-8.62-13.9l-.71.7c3.53 3.6 7.6 7.77 8.34 13.34l.99-.14Zm.07.63-.07-.62-1 .12.07.6 1-.1Zm.06 1.3c0-.43-.02-.87-.06-1.29l-1 .09c.04.4.06.8.06 1.2h1Zm.1 2.39c-.06-.35-.1-1.1-.1-2.38h-1c0 1.27.03 2.1.11 2.55l.99-.17Zm-.1 2.1c.06-.71.09-1.38.1-2l-1-.03c0 .6-.04 1.25-.1 1.94l1 .09ZM22 75.12l.5-.07-.01-.03-.01-.09a178.11 178.11 0 0 1-.69-5.85c-.33-3.22-.62-6.79-.49-8.4l-1-.08c-.14 1.72.17 5.4.5 8.58a242.97 242.97 0 0 0 .69 5.88v.1l.01.02.5-.06Zm34.39-.76-34.4.26.01 1 34.4-.26-.01-1Zm-.44-28.6-.06 29.1h1l.06-29.1h-1Zm-6.57-9.43a10.02 10.02 0 0 1 6.57 9.43h1c0-4.63-2.88-8.77-7.22-10.37l-.35.94Zm-8.89 7.61 9.38-7.7-.63-.76-9.38 7.69.63.77Zm-15.21-7.52a28.07 28.07 0 0 0-.5-.08 1.23 1.23 0 0 0-.02.14l-.03.37A7.16 7.16 0 0 0 26 41.69c1.8 2.5 5.79 4.25 14.28 2.35l-.22-.97c-8.35 1.86-11.8.05-13.25-1.96a6.16 6.16 0 0 1-1.08-3.09 7.29 7.29 0 0 1 .03-1.51l-.5-.09Zm-.7 1.48a20.66 20.66 0 0 1 1.02-1.1l.02-.01-.34-.37-.35-.36-.02.02-.06.06a14.31 14.31 0 0 0-1.03 1.1l.76.66Zm-.24-1.61-.5-.06v.09l-.03.25-.1.95.99.1a525.27 525.27 0 0 0 .14-1.27l-.5-.06Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M48 55.39v11.85L35.83 74.8"}),r.createElement("path",{fill:"#0E101A",d:"m35.6 7.62-3.88 4.16s1.11 19.1-.24 23.23c-1.35 4.13-3.94 11.76-6.08 12.72-2.14.96-5.04.48-5.04-2.4 0-2.87 4.03-7.9 1.64-9.33.4 0 4.66-.98 3.63-6.47-1.03-5.48-2.85-13.96-.23-17.75 2.62-3.8 5.6-4.64 10.2-4.16Z"}),r.createElement("path",{fill:"#FCE5E5",d:"M32.7 11.5c-2.44-.09-6.13 1.14-6.3 3.94-.16 2.8.4 3.8.33 4.5-.08.7-1.21 3.58.24 5.9 1.45 2.34 3.78 3.89 4.59 4.12.8.24 4.51-1.16 6.6-3.18"}),r.createElement("path",{fill:"#0E101A",d:"M32.67 12a.5.5 0 0 0 .04-1l-.04 1Zm-6.27 3.44.5.03-.5-.03Zm5.16 14.52-.14.48.14-.48Zm1.15-18.95a8.94 8.94 0 0 0-4.24.93c-1.33.7-2.47 1.82-2.56 3.47l1 .06c.06-1.16.85-2.04 2.02-2.64 1.16-.6 2.6-.87 3.74-.82l.04-1Zm-6.8 4.4a14.04 14.04 0 0 0 .22 3.63l.06.38c.04.23.05.36.04.47l1 .11c.02-.25 0-.5-.05-.74l-.07-.4-.08-.46c-.1-.66-.2-1.58-.13-2.93l-1-.06Zm.32 4.48-.06.3-.13.53c-.1.41-.2.93-.26 1.51a6.08 6.08 0 0 0 .76 3.88l.85-.53a5.09 5.09 0 0 1-.62-3.25c.05-.52.15-.99.24-1.38l.13-.53c.04-.15.07-.3.08-.42l-.99-.11Zm.31 6.22a12.39 12.39 0 0 0 2.65 2.97 7.58 7.58 0 0 0 2.23 1.36l.28-.96a6.82 6.82 0 0 1-1.88-1.18 11.4 11.4 0 0 1-2.43-2.72l-.85.53Zm4.88 4.33c.2.06.42.06.62.03.22-.02.46-.07.72-.14a14.15 14.15 0 0 0 5.75-3.2l-.7-.71a13.16 13.16 0 0 1-5.88 3.06h-.23l-.28.96Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M31.57 19.2s-.7 3.52-.48 3.95c.21.43 1.4.43 1.99.06"}),r.createElement("path",{fill:"#0E101A",d:"M28.8 20.11c.44 0 .8-.48.8-1.07 0-.6-.36-1.08-.8-1.08-.44 0-.8.48-.8 1.08 0 .59.36 1.07.8 1.07Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m36.34 19.7-2.51-.93 2.43-.88M30.25 26.1s3.6 1.1 4-.9"}),r.createElement("path",{fill:"#F9EA9E",stroke:"#0E101A",strokeLinejoin:"round",d:"M48.27 35s-4.7 12.38-13.47 17.8c-5.76 3.56-13.2 3.6-14 3.2-3 12.82 1.59 16.32 4.38 15.39 2.8-.93 9.17-3.93 15.4-11.59C46.8 52.15 50.97 39.12 54 39.2c-1.2-2.4-5.73-4.2-5.73-4.2Z"}),r.createElement("path",{fill:"#0E101A",d:"M31.23 12c1.46 0 4.71-.06 6.32 2.42 1.61 2.49 4.49 9.96 1.74 19.87-2.74 9.9-3.36 15.25 1.72 15.25 5.07 0 5.98-2.57 5.98-7.7 0-5.12 3.42-5.55 4.27-5.55-2.42-2.02-4.84-.86-5.6-12.98C44.88 11.2 39.38 7.62 35.6 7.62c-.26 0-5.83 4.37-4.38 4.37Z"}),r.createElement("path",{fill:"#FCE5E5",d:"M22.5 23.5c5.14-2.01 5.47-2.87 4.3-3.5-1.17-.63-3.7.79-3.7.79s.28-.46 2.43-1.75c2.14-1.3-.15-2.43-1.8-1.79-.8.31-2.17.88-1.94 1.73 0 0-2-2.98-5.13.25-1.83 1.88-1.74 3.36-1.4 4.22h-.17l-4.92 6.15 4.49 1 3.5-4.79c.99.76 4.99.52 4.32-1.62-.21-.66-.5-1.37-.84-2.01l.01-.02-.16-.26"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M15.74 24.2s-2.06-2 .9-5.05c3.12-3.22 5.3 0 5.3 0s.24 4.88-2.38 3.95c-1.25-.44.05-3.85.05-3.85"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M21.77 18.56s.71-.68 2.36-1.33c1.65-.64 3.05.69.9 1.98-2.14 1.3-1.96 1.5-1.96 1.5s3.17-1.56 4.02-.79c.84.77-.31 2.04-4.63 3.5M17.52 19.5s-1.34 2.18-.26 2.85c1.07.67 1.36-.65 1.36-.65"}),r.createElement("path",{fill:"#FCE5E5",d:"M21.98 22.99c-.14-.22-.63-1.35-.77-1.57a.51.51 0 0 0-.17-.2c-.09-.04-.67-1-.77-.98-.24.04-1.02-.23-1.18-.04-.65.77.03 2.18.05 2.52 0 .08.74 1.58.88 1.57.2 0 1.12-.26 1.2-.46"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M19.56 23.1s-1.48-2.16-.41-2.98c1.06-.82 2.63 1.84 3.3 4 .67 2.14-3.33 2.38-4.32 1.62l-3.87 4.88-2.96-2.69 3.8-5.02"}),r.createElement("path",{fill:"#F28C8C",d:"M12.73 23.92s.4 3.63 4.44 4.44c0 0-2.82 2.02-3.22 4.84-.4 2.83-5.65-.37-5.65-.37l1.61-4.87"}),r.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M12.33 23.11s1.62 4.85 5.25 5.25"})),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M4.8 6.8c0-1.1.9-2 2-2h50.4a2 2 0 0 1 2 2v50.4a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2V6.8Z"})),r.createElement("defs",null,r.createElement("clipPath",{id:"SuccessF_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})),r.createElement("clipPath",{id:"SuccessF_b"},r.createElement("path",{fill:"#fff",d:"M4.8 4.8h54.4v54.4H4.8z"}))))),null)}},{emptyState:{title:"Time to dig in.",description:"Suggestions will appear here.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#EmptyG_a)"},r.createElement("path",{fill:"#DBEBFF",stroke:"#0E101A",d:"m51.15 10.56-3.71-1.48-5.32 13.38 3.71 1.48z"}),r.createElement("path",{fill:"#4A6EE0",stroke:"#0E101A",d:"m49.29 31.5-14.87-5.9 1.48-3.75a6 6 0 0 1 7.8-3.36l3.71 1.48a6 6 0 0 1 3.36 7.8L49.3 31.5Z"}),r.createElement("path",{fill:"#4A6EE0",fillRule:"evenodd",stroke:"#0E101A",d:"M56.36 7.08a2.47 2.47 0 0 0-1.17-3.63l-5.8-2.31a2.47 2.47 0 0 0-3.35 1.83l-.94 4.95a2.47 2.47 0 0 0 1.51 2.77l4.04 1.6c1.1.44 2.36.03 3-.97l2.71-4.24Zm-2.8-1.16-2.1 3.57-3.52-1.4.93-4.03 4.69 1.86Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M2.96 54.7C-4.82 51.48 7.2 28.34 27.6 22 48 15.65 67.98 49.1 61.9 54c-6.09 4.92-20.72 5.5-32.72 5.1-12-.4-18.44-1.2-26.22-4.4Z"}),r.createElement("path",{fill:"#AAF2E1",stroke:"#0E101A",d:"m11.5 24.49 3.38-2.12 7.63 12.21-3.39 2.12z"}),r.createElement("path",{fill:"#15C39A",stroke:"#0E101A",d:"m17.08 44.75 13.57-8.48-2.13-3.4a6 6 0 0 0-8.27-1.91l-3.4 2.12a6 6 0 0 0-1.9 8.26l2.13 3.41Z"}),r.createElement("path",{fill:"#15C39A",fillRule:"evenodd",stroke:"#0E101A",d:"M5.74 22a2.47 2.47 0 0 1 .5-3.79l5.3-3.31a2.47 2.47 0 0 1 3.62 1.2l1.82 4.7c.43 1.12 0 2.37-1 3l-3.68 2.3c-1.01.63-2.32.46-3.13-.41l-3.43-3.7Zm2.55-1.65L11 23.5l3.22-2-1.64-3.81-4.28 2.67Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#FFF0D4",d:"M19.35 39.37a12.57 12.57 0 0 0-4.97 7.32l9.6 2 14.8-10-6.8-6.8c-4.26 5.53-8.47 4.55-12.63 7.48Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",d:"M14.8 44.4s.76-2.61 4.38-4.9c3.62-2.3 7.62-1.9 12.02-6.3"}),r.createElement("ellipse",{cx:"42.75",cy:"42.11",fill:"#EF6E6E",stroke:"#0E101A",strokeLinejoin:"round",rx:"10.49",ry:"3.82"}),r.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M38.63 40.85c-3.34.38-5.22 2.5-5.01 3.79.2 1.28 2.92 4.16 2.92 4.16h9.61S52 48.05 52 45.77c0-2.27-1.67-3.31-3.76-3.78-2.09-.48-4.24.41-4.24.41s-2.03-1.93-5.37-1.55Z"}),r.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"m32.3 42.45 2.18 18.16c0 1.37 3.7 2.48 8.27 2.48C47.3 63.1 51 62 51 60.61l2.19-18.16c-.47 1.95-4.97 3.47-10.45 3.47-5.48 0-9.98-1.52-10.45-3.47Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"m32.3 42.45.48-.12a.5.5 0 0 0-.98.18l.5-.06Zm2.18 18.16h.5a.5.5 0 0 0 0-.06l-.5.06Zm16.53 0-.5-.06a.5.5 0 0 0 0 .06h.5Zm2.19-18.16.5.06a.5.5 0 0 0-.99-.18l.49.12Zm-21.4.06 2.18 18.16 1-.12-2.19-18.16-.99.12Zm2.18 18.1c0 .59.4 1.04.86 1.38.48.34 1.14.62 1.92.86 1.55.46 3.67.74 5.99.74v-1c-2.25 0-4.27-.27-5.7-.7a5.76 5.76 0 0 1-1.63-.72c-.37-.26-.44-.46-.44-.56h-1Zm8.77 2.98c2.32 0 4.43-.28 5.99-.74a6.71 6.71 0 0 0 1.91-.86c.47-.34.86-.8.86-1.38h-1c0 .1-.07.3-.43.56-.36.25-.9.5-1.63.72-1.44.43-3.45.7-5.7.7v1Zm8.76-2.92 2.19-18.16-1-.12-2.18 18.16 1 .12Zm1.2-18.34c-.08.33-.34.7-.87 1.08-.51.38-1.24.73-2.15 1.03-1.8.6-4.24.98-6.94.98v1c2.78 0 5.33-.38 7.26-1.03.97-.32 1.8-.72 2.42-1.17.62-.46 1.1-1 1.26-1.66l-.98-.23Zm-9.96 3.1c-2.7 0-5.14-.38-6.95-.99-.9-.3-1.63-.65-2.15-1.03s-.79-.75-.87-1.08l-.97.23c.16.65.63 1.2 1.25 1.66.63.45 1.46.85 2.42 1.17 1.94.65 4.49 1.03 7.27 1.03v-1Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M41.81 47.08c.4.63.84 1.27 1.33 1.9 3.81 5 8.67 7.7 10.86 6.03 1.83-1.4 1.22-5.38-1.25-9.56"}),r.createElement("circle",{cx:"41.79",cy:"47.04",r:"1.91",fill:"#F9C7C7",stroke:"#0E101A",strokeLinejoin:"round"})),r.createElement("defs",null,r.createElement("clipPath",{id:"EmptyG_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))),null)},successState:{title:"Looking good!",description:"There are no more suggestions.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#SuccessG_a)"},r.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M32 12V.8"}),r.createElement("path",{fill:"#41D9B5",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m32 .8 10.4 2-10.4 2v-4Z"}),r.createElement("path",{fill:"#FFF0D4",fillRule:"evenodd",d:"M4.19 57.54c-11.68-1.65 9.45-9.48 23.8-11.66 14.34-2.19 41.86 7.56 33.74 11.33-1.66.77-14.7 2.23-24.14 2.87a6.31 6.31 0 0 0-2.96 1.21c-1.76 1.17-4.44 1.91-7.43 1.91-2.26 0-4.34-.42-5.98-1.13a7.64 7.64 0 0 0-4-.58c-.53.07-1.07.11-1.62.11-2.4 0-4.53-.7-5.93-1.8-1.06-.83-2.18-1.77-3.52-1.97l-.64-.1-1.32-.19Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"m27.98 45.88.08.5-.08-.5ZM4.2 57.54l-.07.5.07-.5Zm57.54-.33.21.45-.2-.45Zm-56.22.53.07-.5-.07.5Zm22.4-12.36C20.7 46.48 11.79 49 6.13 51.45a27.57 27.57 0 0 0-3.6 1.83 5.88 5.88 0 0 0-2 1.8 1.5 1.5 0 0 0-.2 1.07c.08.37.32.68.64.91.62.46 1.68.77 3.15.98l.14-1c-1.45-.2-2.29-.49-2.7-.78-.19-.14-.24-.26-.25-.32-.02-.07-.01-.18.09-.36.21-.39.76-.88 1.67-1.45.89-.56 2.06-1.16 3.45-1.76 5.58-2.42 14.4-4.91 21.54-6l-.15-.99Zm34.03 12.28c1.08-.5 1.77-1.2 1.76-2.11 0-.86-.63-1.67-1.48-2.4-1.73-1.46-4.94-3-8.78-4.31-7.69-2.65-18.25-4.57-25.53-3.46l.15 1c7.06-1.08 17.43.78 25.06 3.4 3.81 1.32 6.87 2.8 8.46 4.14.8.7 1.12 1.24 1.12 1.63 0 .33-.22.76-1.18 1.2l.42.91Zm-24.31 2.92c4.72-.32 10.35-.85 15-1.39 2.33-.27 4.42-.55 6.03-.8.8-.13 1.5-.26 2.05-.38a6.6 6.6 0 0 0 1.23-.35l-.42-.9a5.9 5.9 0 0 1-1.02.28c-.52.11-1.2.23-2 .36-1.59.25-3.66.53-5.98.8-4.64.54-10.25 1.07-14.96 1.39l.07 1ZM27.2 63.7c3.07 0 5.84-.76 7.7-1.99l-.55-.83c-1.66 1.1-4.23 1.82-7.15 1.82v1Zm-6.17-1.17c1.7.74 3.85 1.17 6.17 1.17v-1c-2.2 0-4.2-.41-5.78-1.09l-.4.92ZM17.14 61c-.5.06-1 .1-1.54.1v1c.58 0 1.14-.04 1.68-.11l-.14-1Zm-1.54.1c-2.3 0-4.33-.68-5.62-1.69l-.61.79c1.5 1.18 3.75 1.9 6.23 1.9v-1ZM5.44 58.23l.64.1.14-1-.64-.09-.14 1Zm-1.32-.2 1.32.2.14-.99-1.32-.2-.14 1Zm5.86 1.38c-1.02-.8-2.26-1.85-3.76-2.07l-.14.98c1.18.18 2.18 1.01 3.29 1.88l.61-.79Zm11.44 2.2a8.13 8.13 0 0 0-4.28-.61l.14.99a7.14 7.14 0 0 1 3.75.54l.4-.92Zm16.14-2.02c-1.22.08-2.3.68-3.2 1.29l.54.83a5.83 5.83 0 0 1 2.73-1.13l-.07-1Z"}),r.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M36.4 21.6h-8.8a2 2 0 0 1-2-2v-4.37a2 2 0 0 1 .59-1.42l4.4-4.4a2 2 0 0 1 2.82 0l4.4 4.4a2 2 0 0 1 .59 1.42v4.37a2 2 0 0 1-2 2Z"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M30.4 13.6a1.6 1.6 0 0 1 3.2 0v3.2h-3.2v-3.2Z"}),r.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M39.6 20H24.4a2 2 0 0 0-2 2v21.6c0 1.1.9 2 2 2h15.2a2 2 0 0 0 2-2V22a2 2 0 0 0-2-2Z"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M30.4 24.8a1.6 1.6 0 0 1 3.2 0V28h-3.2v-3.2Z"}),r.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M26 28h-7.2a2 2 0 0 0-2 2v17.6c0 1.1.9 2 2 2H26a2 2 0 0 0 2-2V30a2 2 0 0 0-2-2Z"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M20.8 32.8a1.6 1.6 0 0 1 3.2 0V36h-3.2v-3.2Z"}),r.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M45.2 28H38a2 2 0 0 0-2 2v17.6c0 1.1.9 2 2 2h7.2a2 2 0 0 0 2-2V30a2 2 0 0 0-2-2Z"}),r.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M40 32.8a1.6 1.6 0 1 1 3.2 0V36H40v-3.2Z"}),r.createElement("path",{fill:"#FFF0D4",fillRule:"evenodd",d:"M12.8 41.2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v4a2 2 0 0 1-.05.45c.03.18.05.36.05.55v7.4H12.8v-7.4c0-.19.02-.37.05-.55a2 2 0 0 1-.05-.45v-4Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"M19.34 43.2h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.54 0h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.54 0h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.49 2.45-.49-.11-.02.1.02.1.49-.1Zm.05 7.95v.5h.5v-.5h-.5Zm-38.4 0h-.5v.5h.5v-.5Zm.05-7.95.5.09.01-.1-.02-.1-.49.1Zm1.95-6.95a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0H14.8v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.82 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm-.5-1.5v2h1v-2h-1Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0h-2.54v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.83 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm-.5-1.5v2h1v-2h-1Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0h-2.54v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.83 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm.5.5v-2h-1v2h1Zm0-2c0-.83.68-1.5 1.5-1.5v-1a2.5 2.5 0 0 0-2.5 2.5h1Zm1.5-1.5h2.54v-1h-2.54v1Zm2.54 0c.83 0 1.5.67 1.5 1.5h1a2.5 2.5 0 0 0-2.5-2.5v1Zm1.5 1.5v4h1v-4h-1Zm0 4c0 .12-.01.23-.04.34l.98.22c.04-.18.06-.37.06-.56h-1Zm1 1c0-.22-.02-.43-.06-.64l-.98.18c.03.15.04.3.04.46h1Zm0 7.4v-7.4h-1v7.4h1Zm-19.7.5h19.2v-1H32v1Zm-19.2 0H32v-1H12.8v1Zm-.5-7.9v7.4h1v-7.4h-1Zm.06-.64c-.04.2-.06.42-.06.64h1c0-.16.01-.31.04-.46l-.98-.18Zm-.06-.36c0 .2.02.38.06.56l.98-.22a1.5 1.5 0 0 1-.04-.34h-1Zm0-4v4h1v-4h-1Z"}),r.createElement("path",{fill:"#FFF0D4",d:"M13.2 50.4h37.6v6.4H13.2v-6.4Z"}),r.createElement("circle",{cx:"7.2",cy:"7.2",r:"6.4",fill:"#F8E485",stroke:"#0E101A"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M3.2 21.6c2.18 0 4 4 4 4s1.82-4 4-4M12.8 16c1.75 0 3.2 3.2 3.2 3.2s1.45-3.2 3.2-3.2"})),r.createElement("defs",null,r.createElement("clipPath",{id:"SuccessG_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))),null)}},{emptyState:{title:"All the world's a page.",description:"Suggestions will appear here.",illustration:r.createElement(Mu,null)},successState:{title:"You deserve a break.",description:"There are no more suggestions.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M28.64 24s2.56-1.62 2.56-4.86c0-4.92-6.4-5.8-6.4-10.67 0-3.36 3.84-6.07 3.84-6.07M36.64 21.6s2.56-1.56 2.56-4.68c0-4.8-6.4-5.52-6.4-10.28C32.8 3.41 36.64.8 36.64.8"}),r.createElement("path",{fill:"#C6CBDE",d:"M32.8 64c11.05 0 20-1.43 20-3.2 0-1.77-8.95-3.2-20-3.2s-20 1.43-20 3.2c0 1.77 8.95 3.2 20 3.2Z"}),r.createElement("path",{fill:"#1995BB",fillRule:"evenodd",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M49.6 35.2h5.39c2.82 0 5.01 2.47 5.01 5.36v6.08c0 2.89-2.2 5.36-5.01 5.36H49.6v-3.5h5.39c.85 0 1.66-.78 1.66-1.86v-6.08c0-1.08-.81-1.86-1.66-1.86H49.6v-3.5Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#15C39A",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M31 60.8a19 19 0 0 1-19-19V31.2h40v10.6a19 19 0 0 1-19 19h-2Z"}),r.createElement("path",{fill:"#F7E68B",d:"M49.66 32.63c1.5-.44 2.34-.94 2.34-1.48C52 29.41 43.04 28 32 28s-20 1.4-20 3.15c0 .6 1.08 1.17 2.95 1.65 3.37-1 10-1.67 17.65-1.67 7.22 0 13.54.6 17.06 1.5Z"}),r.createElement("path",{fill:"#1F243C",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M49.6 32.71c-3.49-.9-9.75-1.51-16.9-1.51-7.58 0-14.16.68-17.5 1.69 3.49.9 9.75 1.51 16.9 1.51 7.58 0 14.16-.68 17.5-1.69Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M32 34.4c11.05 0 20-1.43 20-3.2 0-1.77-8.95-3.2-20-3.2s-20 1.43-20 3.2c0 1.77 8.95 3.2 20 3.2ZM23.2 34v7.6"}),r.createElement("path",{fill:"#FAC0D6",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M25.98 48.64H20.6a.77.77 0 0 1-.77-.76V42.5c0-.42.35-.77.77-.77h5.37c.42 0 .77.35.77.77v5.37c0 .42-.35.76-.77.76Z"}))),null)}},{emptyState:{title:"So far, so good.",description:"Suggestions will appear here.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#EmptyI_a)"},r.createElement("path",{fill:"#C6CBDE",d:"M35.6 64c14.8 0 18.8-3.04 18.8-6.8s-4-6.8-18.8-6.8-26.8 3.04-26.8 6.8 12 6.8 26.8 6.8Z"}),r.createElement("ellipse",{cx:"32",cy:"26.8",fill:"#15C39A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",rx:"31.2",ry:"6"}),r.createElement("mask",{id:"EmptyI_b",width:"64",height:"14",x:"0",y:"20",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},r.createElement("ellipse",{cx:"32",cy:"26.8",fill:"#15C39A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",rx:"31.2",ry:"6"})),r.createElement("g",{mask:"url(#EmptyI_b)"},r.createElement("path",{fill:"#FFF0D4",fillRule:"evenodd",d:"M20.9 25.03a15.38 15.38 0 0 1 6.83-2.51 14.38 14.38 0 0 1 11.68 3.73s4.67-2.14 9.22-1c4.54 1.13 8.17 3.63 8.17 9.08S44.08 41.6 44.08 41.6H24.71a12.9 12.9 0 0 1-6.31 1.6c-6.19 0-11.2-4.12-11.2-9.2 0-5.08 5.01-9.2 11.2-9.2.86 0 1.7.08 2.5.23Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"m27.73 22.52.07.5-.07-.5Zm-6.83 2.51-.09.5a.5.5 0 0 0 .38-.09l-.29-.41Zm18.5 1.22-.35.34c.14.16.37.2.57.11l-.21-.45Zm9.23-1-.13.48.13-.49ZM44.08 41.6v.5a.5.5 0 0 0 .07 0l-.07-.5Zm-19.37 0v-.5a.5.5 0 0 0-.24.06l.24.44Zm2.96-19.58a15.88 15.88 0 0 0-7.05 2.6l.56.82c1.7-1.17 3.93-2.09 6.62-2.43l-.13-.99Zm11.74 4.23.36-.35-.02-.02a4.06 4.06 0 0 0-.2-.2l-.63-.53a14.96 14.96 0 0 0-11.25-3.12l.13.98a13.96 13.96 0 0 1 11.25 3.58l.36-.34Zm9.34-1.5c-2.38-.59-4.77-.32-6.55.08a18.63 18.63 0 0 0-2.98.96h-.01l.2.46.2.45h.02l.03-.02a8.13 8.13 0 0 1 .72-.28c.5-.18 1.2-.4 2.04-.6 1.7-.38 3.92-.61 6.08-.07l.25-.97Zm8.55 9.58c0-2.85-.96-4.97-2.53-6.52-1.57-1.53-3.7-2.47-6.02-3.05l-.25.97c2.23.56 4.18 1.43 5.57 2.8 1.37 1.34 2.23 3.2 2.23 5.8h1ZM44.08 41.6l.07.5h.02l.02-.01a9.58 9.58 0 0 0 .53-.09 38.05 38.05 0 0 0 5.89-1.52 16.35 16.35 0 0 0 4.51-2.32c1.25-.98 2.18-2.25 2.18-3.83h-1c0 1.15-.66 2.15-1.8 3.04-1.13.9-2.66 1.6-4.23 2.17a34.72 34.72 0 0 1-6.22 1.56h-.03l.06.5Zm-19.37.5h19.37v-1H24.71v1Zm-.24-.94a12.4 12.4 0 0 1-6.07 1.54v1c2.43 0 4.68-.61 6.56-1.66l-.5-.88ZM18.4 42.7c-6 0-10.7-3.98-10.7-8.7h-1c0 5.44 5.33 9.7 11.7 9.7v-1ZM7.7 34c0-4.72 4.7-8.7 10.7-8.7v-1c-6.37 0-11.7 4.26-11.7 9.7h1Zm10.7-8.7c.83 0 1.64.08 2.41.22l.18-.98c-.83-.16-1.7-.24-2.59-.24v1Z"}),r.createElement("ellipse",{cx:"32",cy:"26.8",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",rx:"31.2",ry:"6"})),r.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"M55 1a2.4 2.4 0 0 0-3.29.88l-7.45 12.9c-1.96 3.41-6.37 4.73-9.6 6.97a7.97 7.97 0 0 0-2.37 2.57l-2 3.46a8 8 0 0 0 13.86 8l2-3.46c.61-1.06.95-2.2 1.05-3.34.32-3.91-.75-8.39 1.22-11.8l7.45-12.9A2.4 2.4 0 0 0 55 1Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"m32.3 24.32-.44-.25.43.25Zm-2 3.46.43.25-.44-.25Zm13.85 8-.43-.25.43.25Zm2-3.46.43.25-.43-.25Zm6-30.19a1.9 1.9 0 0 1 2.6-.7l.5-.86a2.9 2.9 0 0 0-3.97 1.06l.87.5Zm-7.45 12.9 7.45-12.9-.87-.5-7.45 12.9.87.5Zm-11.97 9.54c.57-1 1.33-1.8 2.21-2.41l-.57-.82c-1 .69-1.86 1.6-2.51 2.73l.87.5Zm-2 3.46 2-3.46-.87-.5-2 3.46.87.5Zm2.74 10.25a7.5 7.5 0 0 1-2.74-10.25l-.87-.5a8.5 8.5 0 0 0 3.11 11.61l.5-.86Zm10.25-2.75a7.5 7.5 0 0 1-10.25 2.75l-.5.86a8.5 8.5 0 0 0 11.61-3.1l-.86-.5Zm2-3.46-2 3.46.86.5 2-3.46-.86-.5Zm.98-3.13a7.47 7.47 0 0 1-.98 3.13l.86.5a8.47 8.47 0 0 0 1.11-3.54l-1-.09Zm8.74-24.9-7.45 12.9.86.5 7.45-12.9-.86-.5Zm-.7-2.6a1.9 1.9 0 0 1 .7 2.6l.86.5A2.9 2.9 0 0 0 55.24.56l-.5.87ZM47.7 29.03c.09-1.01.08-2.05.06-3.07-.03-1.04-.07-2.06-.06-3.06.02-2.01.25-3.88 1.16-5.46l-.86-.5c-1.05 1.81-1.28 3.9-1.3 5.95 0 1.03.03 2.08.06 3.09.02 1.02.03 2.01-.05 2.96l1 .09Zm-3.86-14.5c-.92 1.6-2.42 2.72-4.15 3.74-.87.51-1.77.99-2.67 1.48-.9.5-1.8 1-2.64 1.59l.57.82c.79-.55 1.65-1.04 2.55-1.53.88-.48 1.81-.97 2.7-1.5 1.77-1.04 3.46-2.28 4.5-4.1l-.86-.5Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",d:"m32.89 31.17 1.96-3.84a8.6 8.6 0 0 1 5.93-4.51"}),r.createElement("path",{fill:"#FFF0D4",d:"M49.6 28.8H27.2v10h22.4v-10Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M27.2 28.8h22.4"}),r.createElement("path",{fill:"#87E8D1",fillRule:"evenodd",d:"M.83 27.07H.8V28a31.2 31.2 0 0 0 62.4 0v-.93h-.03c-.73 3.19-14.4 5.73-31.17 5.73-16.76 0-30.44-2.54-31.17-5.73Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"M.8 27.07v-.5a.5.5 0 0 0-.5.5h.5Zm.03 0 .49-.11a.5.5 0 0 0-.49-.4v.5Zm62.37 0h.5a.5.5 0 0 0-.5-.5v.5Zm-.03 0v-.5a.5.5 0 0 0-.49.39l.49.1Zm-62.37.5h.03v-1H.8v1Zm.5.43v-.93h-1V28h1ZM32 58.7A30.7 30.7 0 0 1 1.3 28h-1A31.7 31.7 0 0 0 32 59.7v-1ZM62.7 28A30.7 30.7 0 0 1 32 58.7v1A31.7 31.7 0 0 0 63.7 28h-1Zm0-.93V28h1v-.93h-1Zm.47.5h.03v-1h-.03v1Zm-.49-.61c-.05.24-.25.54-.68.88-.43.33-1.04.67-1.85 1-1.6.68-3.86 1.28-6.65 1.8-5.56 1.03-13.14 1.66-21.5 1.66v1c8.4 0 16.04-.64 21.69-1.68a35.17 35.17 0 0 0 6.85-1.85 9.01 9.01 0 0 0 2.08-1.15c.52-.4.9-.88 1.04-1.44l-.98-.22ZM32 32.3c-8.36 0-15.94-.63-21.5-1.66a34.23 34.23 0 0 1-6.65-1.8 8.05 8.05 0 0 1-1.85-1c-.43-.34-.63-.64-.68-.88l-.98.22c.13.56.52 1.04 1.04 1.44.53.42 1.23.8 2.08 1.15 1.7.7 4.04 1.33 6.85 1.85C15.96 32.66 23.6 33.3 32 33.3v-1Z"}),r.createElement("g",{opacity:".15",style:{mixBlendMode:"multiply"}},r.createElement("path",{fill:"#0E101A",d:"M32 43.6h17.93c.52 8.29 4.76 12.75 10.47 19.2H43.2C36.34 59.6 32 53.6 32 43.6Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M32 43.6h17.93c.52 8.29 4.76 12.75 10.47 19.2H43.2C36.34 59.6 32 53.6 32 43.6Z"})),r.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 41.6h18.73a34.2 34.2 0 0 0 8.98 21.6H44.56c-5.36-3.65-8.84-13.31-9.36-21.6Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M50.5 47.2h-9.7M52.1 52h-9.7M54.5 56.8h-9.7"})),r.createElement("defs",null,r.createElement("clipPath",{id:"EmptyI_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))),null)},successState:{title:"Nice work! Have a cookie.",description:"There are no more suggestions.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#SuccessI_a)"},r.createElement("path",{fill:"#C6CBDE",d:"M22.4 60c8.84 0 16-2.69 16-6s-7.16-6-16-6-16 2.69-16 6 7.16 6 16 6Z"}),r.createElement("path",{fill:"#C6CBDE",d:"M41.6 64c11.05 0 20-2.5 20-5.6 0-3.1-8.95-5.6-20-5.6s-20 2.5-20 5.6c0 3.1 8.95 5.6 20 5.6Z"}),r.createElement("path",{fill:"#DDEFF5",fillRule:"evenodd",d:"M36.8 6.75H.8l5.27 46.61c0 1.46 5.7 2.64 12.73 2.64s12.73-1.18 12.73-2.63L36.8 6.75Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#000",d:"M.8 6.75v-.5a.5.5 0 0 0-.5.56l.5-.06Zm36 0 .5.06a.5.5 0 0 0-.5-.56v.5ZM6.07 53.36h.5a.5.5 0 0 0 0-.05l-.5.05Zm25.46 0-.01-.5a.5.5 0 0 0-.49.5h.5Zm0 0 .02.5a.5.5 0 0 0 .48-.44l-.5-.05ZM.8 7.27h36v-1H.8v1ZM6.57 53.3 1.3 6.7l-1 .1 5.27 46.62 1-.11Zm0 .06h-1 1ZM18.8 55.5c-3.5 0-6.64-.3-8.9-.76a11.6 11.6 0 0 1-2.61-.8c-.3-.14-.5-.28-.6-.4-.12-.1-.12-.17-.12-.17h-1c0 .35.18.65.4.88.23.23.53.42.88.59.7.34 1.68.64 2.85.88 2.34.48 5.56.78 9.1.78v-1Zm12.23-2.13s0 .06-.11.18c-.12.11-.31.25-.6.4-.6.28-1.48.55-2.62.79-2.26.47-5.4.76-8.9.76v1c3.54 0 6.76-.3 9.1-.78 1.17-.24 2.15-.54 2.85-.88.35-.17.65-.36.88-.6.22-.22.4-.52.4-.87h-1Zm.49-.5.03 1-.03-1ZM36.3 6.7 31.03 53.3l1 .11L37.3 6.81l-1-.11Z"}),r.createElement("ellipse",{cx:"18.8",cy:"6.39",fill:"#DDEFF5",stroke:"#000",strokeLinejoin:"round",rx:"18",ry:"3.95"}),r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M35.2 20.83H2.4l3.67 32.53c0 1.46 5.7 2.64 12.73 2.64s12.73-1.18 12.73-2.63l3.67-32.54Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#000",d:"M2.4 20.83v-.5a.5.5 0 0 0-.5.56l.5-.06Zm32.8 0 .5.06a.5.5 0 0 0-.5-.56v.5ZM6.07 53.36h.5a.5.5 0 0 0 0-.05l-.5.05Zm25.46 0-.03-.5a.5.5 0 0 0-.47.5h.5Zm0 0 .04.5a.5.5 0 0 0 .46-.44l-.5-.05ZM2.4 21.34h32.8v-1H2.4v1ZM6.56 53.3 2.9 20.77l-1 .12 3.67 32.53 1-.11Zm0 .06-1-.01h1ZM18.8 55.5c-3.5 0-6.64-.3-8.9-.76a11.6 11.6 0 0 1-2.61-.8c-.3-.14-.5-.28-.6-.4-.12-.11-.12-.17-.12-.17h-1c0 .35.18.65.4.88.23.23.53.42.88.59.7.34 1.68.64 2.85.88 2.34.48 5.56.78 9.1.78v-1Zm12.23-2.13s0 .06-.11.18c-.12.11-.31.25-.6.4-.6.28-1.48.55-2.62.79-2.26.47-5.4.76-8.9.76v1c3.54 0 6.76-.3 9.1-.78 1.17-.24 2.15-.54 2.85-.88.35-.17.65-.37.88-.6.22-.22.4-.52.4-.87h-1Zm.47-.5.07 1-.07-1Zm3.2-32.1-3.67 32.54 1 .11L35.7 20.9l-1-.12Z"}),r.createElement("ellipse",{cx:"18.8",cy:"20.8",fill:"#fff",stroke:"#000",strokeLinejoin:"round",rx:"16.4",ry:"3.2"}),r.createElement("path",{fill:"#FFF0D4",stroke:"#000",d:"M59.66 53.9c-.15 4.95-9.28 6.9-20.4 6.56-11.1-.33-20-2.8-19.85-7.75.15-4.94 9.28-8.67 20.39-8.34 11.11.33 20 4.6 19.86 9.54Z"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"22.77",y:"51.3",fill:"#4A6EE0",rx:"1.23",transform:"rotate(-4 22.77 51.3)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"32.42",y:"51.83",fill:"#F18AB2",rx:"1.23",transform:"rotate(41 32.42 51.83)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"43.02",y:"50.37",fill:"#8780E4",rx:"1.23",transform:"rotate(120 43.02 50.37)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"30.1",y:"47.89",fill:"#15C39A",rx:"1.23",transform:"rotate(4 30.1 47.89)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"49.73",y:"51.29",fill:"#F18AB2",rx:"1.23",transform:"rotate(29 49.73 51.3)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"42.44",y:"56.4",fill:"#15C39A",rx:"1.23",transform:"rotate(-19 42.44 56.4)"}),r.createElement("path",{fill:"#7D6455",fillRule:"evenodd",d:"M21.92 48.56c3.48-2.71 10.2-4.42 17.88-4.2 10 .3 18.2 3.8 19.64 8.1-8.37 4.82-33.76 2.81-37.52-3.9Z",clipRule:"evenodd",opacity:".3",style:{mixBlendMode:"multiply"}}),r.createElement("path",{fill:"#FFF0D4",stroke:"#000",d:"M62.13 49.5c-1.4 4.73-10.77 5.36-21.43 2.2-10.66-3.17-18.57-8.93-17.16-13.67 1.4-4.74 11.46-6.87 22.12-3.7S63.54 44.76 62.13 49.5Z"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"27.2",y:"36.55",fill:"#15C39A",rx:"1.23",transform:"rotate(-13 27.2 36.55)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"33.87",y:"39.22",fill:"#EE6C9F",rx:"1.23",transform:"rotate(62 33.87 39.22)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"38.18",y:"34.85",fill:"#4A6EE0",rx:"1.23",transform:"rotate(5 38.18 34.85)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"41.76",y:"45.57",fill:"#4A6EE0",rx:"1.23",transform:"rotate(5 41.76 45.57)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"39.05",y:"39.32",fill:"#8780E4",rx:"1.23",transform:"rotate(26 39.05 39.32)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"49.66",y:"43.71",fill:"#EE6C9F",rx:"1.23",transform:"rotate(-10 49.66 43.71)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"47.8",y:"36.64",fill:"#15C39A",rx:"1.23",transform:"rotate(47 47.8 36.64)"}),r.createElement("rect",{width:"5.86",height:"2.45",x:"53.16",y:"48.35",fill:"#4A6EE0",rx:"1.23",transform:"rotate(-28 53.16 48.35)"})),r.createElement("defs",null,r.createElement("clipPath",{id:"SuccessI_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))),null)}},{emptyState:{title:"Let's get to work.",description:"Suggestions will appear here.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("g",{clipPath:"url(#EmptyJ_a)"},r.createElement("ellipse",{cx:"32",cy:"57.6",fill:"#C6CBDE",rx:"32",ry:"5.6"}),r.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",stroke:"#0E101A",strokeLinejoin:"round",d:"M26.4 5.6A2.4 2.4 0 0 0 24 8v8.8a2.4 2.4 0 0 0 2.4 2.4h12.8a2.4 2.4 0 0 0 2.4-2.4V8a2.4 2.4 0 0 0-2.4-2.4H26.4ZM19.2 8A7.2 7.2 0 0 1 26.4.8h12.8A7.2 7.2 0 0 1 46.4 8v8.8a7.2 7.2 0 0 1-7.2 7.2H26.4a7.2 7.2 0 0 1-7.2-7.2V8Z",clipRule:"evenodd"}),r.createElement("rect",{width:"62.4",height:"46.4",x:".8",y:"11.2",fill:"#41D9B5",stroke:"#000",strokeLinejoin:"round",rx:"10"}),r.createElement("path",{stroke:"#000",strokeLinejoin:"round",d:"M15.2 21.2v7.2a10 10 0 0 0 10 10h28a10 10 0 0 0 10-10v-7.2"}),r.createElement("rect",{width:"14.4",height:"46.4",x:".8",y:"11.2",fill:"#11A683",stroke:"#000",strokeLinejoin:"round",rx:"7.2"}),r.createElement("path",{fill:"#F9EA9E",stroke:"#0E101A",d:"M23.2 32.4c0-1.1.9-2 2-2h5.6a2 2 0 0 1 2 2v10a4.8 4.8 0 0 1-9.6 0v-10Z"}),r.createElement("circle",{cx:"28",cy:"42.4",r:"2.4",fill:"#4D536E",stroke:"#0E101A"}),r.createElement("path",{fill:"#F9EA9E",stroke:"#0E101A",d:"M46.4 32.4c0-1.1.9-2 2-2H54a2 2 0 0 1 2 2v10a4.8 4.8 0 1 1-9.6 0v-10Z"}),r.createElement("circle",{cx:"51.2",cy:"42.4",r:"2.4",fill:"#4D536E",stroke:"#0E101A"})),r.createElement("defs",null,r.createElement("clipPath",{id:"EmptyJ_a"},r.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))),null)},successState:{title:"Great job!",description:"There are no more suggestions.",illustration:r.createElement((()=>r.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},r.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M15.32 25.44c-1.2-2.02-3.23-.8-2.74.98-1.07-1.63-.47-2.98-1.04-4.04-.66-1.26-2.4-.82-2.33.65-.47-1.33.12-2.9-.09-3.74-.33-1.45-2.05-1.14-1.93.21a14.38 14.38 0 0 1-2.07-7.45c0-3.7 1.62-6.76 3.88-6.76 1.86 0 2.82 1.82 2.18 3.39-.3-.83-.83-1.27-1.69-1.27-1 0-1.63.98-1.63 2.2 0 1.75 1.45 2.75 3.23 2.77 2.05 0 3.4-2 3.4-4.32 0-3.09-2.28-6.14-5.91-5.65 1-.8-.16-2.26-1.39-1.28C4.26 3.43 2.4 7.36 2.4 11.82c0 11.26 10.86 23.53 21.75 20.76l-1.87-3.25c-3.15 0-5.33-1.14-6.96-3.9ZM56.94 1.13c-1.23-.98-2.39.47-1.39 1.28-3.63-.5-5.91 2.54-5.91 5.63 0 2.32 1.33 4.32 3.4 4.32 1.76 0 3.23-1 3.23-2.75 0-1.22-.63-2.2-1.63-2.2-.86 0-1.39.44-1.69 1.27-.65-1.57.32-3.37 2.18-3.37 2.26 0 3.88 3.05 3.88 6.75 0 2.65-.74 5.23-2.06 7.48.1-1.35-1.6-1.67-1.93-.21-.19.84.39 2.4-.08 3.74.07-1.48-1.69-1.92-2.34-.65-.56 1.05.02 2.4-1.03 4.03.49-1.75-1.53-2.98-2.74-.98-1.65 2.74-3.81 3.9-6.97 3.88L40 32.6c10.88 2.77 21.76-9.48 21.76-20.75-.05-4.46-1.9-8.39-4.82-10.72Z"}),r.createElement("path",{fill:"#C6CBDE",d:"M32 63.2c12.81 0 23.2-1.61 23.2-3.6S44.81 56 32 56c-12.81 0-23.2 1.61-23.2 3.6s10.39 3.6 23.2 3.6Z"}),r.createElement("path",{fill:"#F6DF6C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M47.2 55.2H16.8a2.4 2.4 0 1 0 0 4.8h30.4a2.4 2.4 0 0 0 0-4.8Z"}),r.createElement("path",{fill:"#F6DF6C",fillRule:"evenodd",d:"M32 4.64H14.77c-1.64 14.28 2.98 25.28 9.5 30.84.37.33.77.64 1.16.96 1.9 1.5 3.8 3.03 3.77 5.4-.05 3.19-.51 4.8-.51 4.8-.82 3.1-3.62 4.07-6.1 4.93-2.28.78-4.3 1.48-4.3 3.63H45.7c0-2.15-2.01-2.85-4.28-3.63-2.5-.86-5.3-1.83-6.1-4.93 0 0-.47-1.61-.52-4.8-.04-2.37 1.87-3.9 3.77-5.4.4-.32.8-.63 1.17-.96 6.51-5.56 11.13-16.56 9.49-30.84H32Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#0E101A",d:"M14.77 4.64v-.5a.5.5 0 0 0-.5.44l.5.06Zm9.5 30.84.32-.38-.33.38Zm1.16.96.32-.4-.32.4Zm3.77 5.4h.5-.5Zm-.51 4.8-.48-.13.48.13Zm-6.1 4.93-.17-.48.16.48Zm-4.3 3.63h-.5c0 .28.23.5.5.5v-.5Zm27.41 0v.5a.5.5 0 0 0 .5-.5h-.5Zm-4.28-3.63.16-.48-.16.48Zm-6.1-4.93.48-.12v-.01l-.49.13Zm-.52-4.8h-.5.5Zm3.77-5.4.3.4-.3-.4Zm1.17-.96.32.38-.32-.38Zm9.49-30.84.5-.06a.5.5 0 0 0-.5-.44v.5Zm-34.46.5H32v-1H14.77v1ZM24.6 35.1c-6.36-5.43-10.95-16.25-9.32-30.4l-1-.12c-1.65 14.41 3 25.59 9.67 31.28l.65-.76Zm1.16.95c-.4-.32-.8-.63-1.16-.95l-.65.76c.38.33.79.66 1.18.97l.63-.78Zm3.95 5.8a5.03 5.03 0 0 0-1.27-3.35c-.75-.91-1.75-1.7-2.68-2.45l-.63.78c.96.76 1.87 1.49 2.54 2.3.65.8 1.06 1.67 1.04 2.7l1 .01Zm-1.01 4.8.48.13v-.03a5.33 5.33 0 0 0 .08-.3l.17-.94c.12-.82.25-2.05.28-3.67l-1-.01a26.8 26.8 0 0 1-.43 4.4 7.18 7.18 0 0 1-.06.27l.48.14Zm-5.94 5.39c2.44-.84 5.53-1.87 6.42-5.27l-.97-.25c-.73 2.8-3.24 3.7-5.78 4.57l.33.95ZM18.8 55.2c0-.88.39-1.45 1.07-1.92.72-.5 1.72-.84 2.88-1.24l-.33-.95c-1.12.39-2.26.78-3.12 1.37-.89.61-1.5 1.46-1.5 2.74h1Zm13.2-.5H18.3v1H32v-1Zm0 1h13.7v-1H32v1Zm14.2-.5c0-1.28-.61-2.13-1.5-2.74-.86-.59-2-.98-3.12-1.37l-.33.95c1.16.4 2.16.75 2.88 1.24.68.47 1.07 1.04 1.07 1.92h1Zm-4.62-4.1c-2.54-.88-5.05-1.78-5.78-4.58l-.97.25c.9 3.4 3.98 4.43 6.42 5.27l.33-.95Zm-6.27-4.46.48-.13v-.01a5.92 5.92 0 0 1-.06-.26c-.04-.2-.1-.49-.16-.88a26.8 26.8 0 0 1-.27-3.53l-1 .01a27.78 27.78 0 0 0 .45 4.6 8.12 8.12 0 0 0 .07.31l.01.02v.01l.48-.14Zm-.01-4.81a4.04 4.04 0 0 1 1.04-2.7c.67-.81 1.58-1.54 2.54-2.3l-.63-.78c-.93.74-1.93 1.54-2.68 2.45-.76.92-1.3 2-1.27 3.34l1-.01Zm3.58-5c.4-.31.8-.64 1.18-.97l-.65-.76c-.37.32-.76.63-1.16.95l.63.78Zm1.18-.97c6.67-5.7 11.32-16.87 9.66-31.28l-.99.12c1.63 14.15-2.96 24.97-9.32 30.4l.65.76Zm9.17-31.72H32v1h17.23v-1Z"}),r.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M30.8 40h2.4"}),r.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M49.18 4.8H14.8c-.2 1.52-.33 3.25-.39 4.62.63.45 1.46.79 2.43.94 1.71.27 3.36-.15 4.3-.99.49 1.06 1.72 1.86 3.25 1.96 1.42.08 2.7-.44 3.43-1.29.6 1.14 2.23 1.96 4.2 1.96 1.95 0 3.6-.82 4.2-1.96.74.85 2.01 1.4 3.43 1.29 1.53-.1 2.79-.9 3.25-1.96.94.84 2.57 1.26 4.28.99a5.78 5.78 0 0 0 2.43-.94 79.1 79.1 0 0 0-.42-4.62Z"}),r.createElement("path",{fill:"#0E101A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M32 4.8H15.2C18.85 6.74 25.01 8 32 8s13.15-1.26 16.8-3.2H32Z"}),r.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeMiterlimit:"10",d:"M8.96 52c-.1 0-.16-.08-.16-.19.15-5.94-1.89-8.1-7.83-8.26-.1 0-.17-.08-.17-.19 0-.1.08-.16.19-.16 5.94.15 8.1-1.89 8.26-7.83 0-.1.08-.17.19-.17.1 0 .16.08.16.19-.15 5.94 1.89 8.1 7.83 8.24.1 0 .17.09.17.19s-.08.17-.19.17c-5.94-.15-8.1 1.88-8.26 7.82-.02.12-.08.19-.19.19ZM56.25 54.4c-.06 0-.1-.05-.1-.11.1-3.68-1.17-5.02-4.85-5.12-.06 0-.1-.05-.1-.12 0-.06.05-.1.11-.1 3.68.1 5.02-1.17 5.12-4.85 0-.06.05-.1.12-.1.06 0 .1.05.1.11-.1 3.68 1.17 5.02 4.85 5.11.06 0 .1.05.1.12 0 .06-.05.1-.11.1-3.68-.1-5.02 1.17-5.12 4.85-.01.07-.05.11-.12.11ZM39.84 26.4c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.96.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.96 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"}))),null)}}];function $C(e=Math.random){return Math.floor(e()*UC.length)}function HC(e,t){const n={title:"Nothing to see yet",description:`No unresolved suggestions for pages ${t.startPage}-${t.endPage}.`};return{emptyState:Object.assign(Object.assign({},e.emptyState),n),successState:Object.assign(Object.assign({},e.emptyState),n)}}function VC(e,t){const n=g.s.create(s.none),i=n.pipe(d.n(s.fold((()=>u.of(0)),(t=>e.suggestionCount.getFeedSuggestionCount(t)))));return o.n.fromSideEffect((t=>{switch(t.kind){case"lensesHeaderToggle":return e.feedLens.onToggleLens(t.lensId);case"lensesHeaderFocus":n.set(s.some(t.lensId));break;case"lensesHeaderBlur":n.set(s.none);break;default:(0,h.AS)(t)}}),kt.zV([t,e.feedLens.lenses,n,i]).pipe(O.T((([e,t,n,i])=>(0,a.pipe)(e,s.map((e=>({activeLensId:e,lenses:(0,a.pipe)([Ln.lensCorrectnessFeed,Ln.lensClarityFeed,Ln.lensEngagementFeed,Ln.lensDeliveryFeed,Ln.lensStyleGuideFeed,Ln.lensPremiumFeed],S.Tj((e=>s.fromNullable(t.get(e)))),S.oE),focusedLensId:n,focusedLensSuggestionCount:i})))))),B.oE))}function zC(e,t=Math.random){const n=$C(t),i=(0,a.pipe)(e.revision.pageRange.pageRange.get(),s.fold((()=>UC[n]),(e=>HC(UC[n],e)))),r=kC(e.revision.feed.feed).pipe(F.shareReplay({bufferSize:1,refCount:!0})),l=e.revision.feed.feed.view(s.chain((e=>Vn(e.id)))),{revision:c}=e;return o.n.composeUnion({loadingState:()=>e.revision.feedForm.state.view("supportedForms").view((e=>e.has("shortForm"))).view((e=>({supportsShortForm:e}))),emptyState:o.n.fromSideEffect((t=>{"longFormFeedEmptyMount"!==t.kind?(0,h.AS)(t.kind):e.revision.feed.onEmptyStateMount(e.revision.checkingState.firstCheckingFinishedAndSduiEventsSettledTimedOut.get())}),u.of({content:i.emptyState})),successState:()=>u.of({content:i.successState,goBackFrom:s.none}),nonEmptyState:o.n.composeKnot({root:ZC(c),lensesHeader:VC(c,l),lensView:o.n.composeUnion({successState:o.n.fromSideEffect((t=>{switch(t.kind){case"goBack":return e.revision.feedLens.onToggleLens(t.goBackFrom);case"longFormFeedSuccessMount":return e.revision.feed.onSuccessStateMount();default:return(0,h.AS)(t)}}),kt.zV([l,e.revision.feedLens.lenses]).pipe(O.T((([e,t])=>({content:Object.assign(Object.assign({},i.successState),(0,a.pipe)(e,s.fold(a.constNull,(e=>({description:(0,a.pipe)(s.fromNullable(t.get(e)),s.fold((()=>i.successState.description),(e=>`There are no more ${e.label.toLowerCase()} suggestions.`)))}))))),goBackFrom:e}))))),cardList:o.n.composeKnot({cardList:yC(c,r)})},(()=>r.pipe(O.T((e=>(0,a.pipe)(e,s.exists((e=>e.items.length>0)))?"cardList":"successState")),A.F(),O.T((e=>({kind:e}))))))})},(()=>WC(c).view((e=>({kind:e})))))}function WC(e){return g.s.combine(e.feed.feed,e.feed.feedReset,e.checkingState.firstCheckingFinishedAndSduiEventsSettled,e.checkingState.firstCheckingFinishedAndSduiEventsSettledTimedOut,e.suggestionCount.state,((e,t,n,i,{allSuggestionsEmpty:r,someSuggestionsAddressed:o})=>{const a=!n&&!i;return s.isNone(e)||0===vi(e.value.collection)&&(a||t)?"loadingState":r?o?"successState":"emptyState":"nonEmptyState"}))}function ZC(e){return o.n.fromSideEffect((t=>{switch(t.kind){case"longFormFeedMount":return e.feed.onFeedMount();case"toggleShortFormFeed":return e.feedForm.onToggleFeedForm("shortForm");case"partialPageRangeHeaderMount":return e.pageRange.partialPageRangeHeaderMount();default:(0,h.AS)(t)}}),g.s.combine(e.suggestionCount.state.view("activeFeedSuggestionCount"),e.feedForm.state.view("supportedForms").view((e=>e.has("shortForm"))),e.pageRange.pageRange.view(),((e,t,n)=>({suggestionCount:e,canCollapseToShortForm:t,pageRange:n}))))}var GC=n(52804);function QC(e,t=Math.random){const n=$C(t),i=(0,a.pipe)(e.revision.pageRange.pageRange.get(),s.fold((()=>UC[n]),(e=>HC(UC[n],e))));return o.n.composeUnion({loadingState:()=>u.of(null),emptyState:o.n.fromSideEffect((t=>{"shortFormFeedEmptyMount"!==t.kind?(0,h.AS)(t.kind):e.revision.feed.onEmptyStateMount(e.revision.checkingState.firstCheckingFinishedAndSduiEventsSettledTimedOut.get())}),u.of({emptyStateContent:i,useVerticalLayout:"standard"===e.revision.shortFormFeedMode})),successState:o.n.fromSideEffect((t=>{"shortFormFeedEmptyMount"!==t.kind?(0,h.AS)(t.kind):e.revision.feed.onSuccessStateMount()}),u.of({emptyStateContent:i,useVerticalLayout:"standard"===e.revision.shortFormFeedMode})),nonEmptyState:qC(e)},(()=>JC(e).view((e=>({kind:e})))))}function qC(e){const t=g.s.create([]);return o.n.fromSideEffect((n=>{switch(n.kind){case"shortFormCardSduiNotify":return n.actions.find((e=>"prevCard"===e.type||"nextCard"===e.type))&&t.set(n.actions.filter(GC.$n.Action.isTransitionAction)),hC(n.actions)&&e.revision.suggestionCount.onSuggestionAddressed(),e.revision.feed.processActions(n.actions,n.item,n.scope,n.sourceId);case"shortFormCardMount":return e.revision.feed.onItemMount(!0,n.item);case"shortFormFeedAnimationEnd":return t.set([]);case"shortFormFeedMount":return t.set([]),e.revision.feed.onFeedMount();case"toggleLongFormFeed":return e.revision.feedForm.onToggleFeedForm("longForm");case mt.t.Kind.actionsMenuMuteClick:case mt.t.Kind.actionsMenuReportIncorrectClick:case mt.t.Kind.actionsMenuReportOffensiveClick:case mt.t.Kind.addToDictionaryClick:case mt.t.Kind.suggestionAcceptClick:case mt.t.Kind.suggestionDismissClick:return e.notify(n);default:(0,h.AS)(n)}}),kt.zV([(n=e.revision.feed.feed,n.pipe(Zi.S(((e,t)=>(0,a.pipe)(t,s.chain((e=>w.J(s.option)({feedId:s.some(e.id),item:yi(e.collection),index:ki(e.collection),size:s.some(vi(e.collection))}))),s.map((({feedId:t,item:n,index:i,size:r})=>({feedId:t,item:n,isFirst:0===i,isLast:i===r-1,prevItem:(0,a.pipe)(e,s.chain((e=>e.item.id===n.id?e.prevItem:s.some(e.item))))}))))),s.none))).pipe(B.oE),e.revision.suggestionCount.state.view("activeFeedSuggestionCount"),e.revision.feedForm.state.view("supportedForms").view((e=>e.has("longForm"))),t,e.revision.feed.isWaitingForAlertsToBeApplied,e.revision.pageRange.pageRange]).pipe(O.T((([{item:e,prevItem:t,isFirst:n,isLast:i},r,o,s,l,c])=>({item:Object.assign(Object.assign({},e),{content:(0,a.pipe)(e.content,gC(n,i))}),isFirst:n,isLast:i,prevItem:t,transitions:s,suggestionCount:r,canExpandToLongForm:o&&r>1,isWaitingForAlertsToBeApplied:l,pageRange:c})))));var n}function JC(e){return g.s.combine(e.revision.feed.feed,e.revision.feed.feedReset,e.revision.checkingState.firstCheckingFinishedAndSduiEventsSettled,e.revision.checkingState.firstCheckingFinishedAndSduiEventsSettledTimedOut,e.revision.suggestionCount.state.view("someSuggestionsAddressed"),((e,t,n,i,r)=>(0,a.pipe)(e,s.fold((()=>"loadingState"),(e=>(0,a.pipe)(yi(e.collection),s.fold((()=>t?"loadingState":n||i?r?"successState":"emptyState":"loadingState"),(()=>"nonEmptyState"))))))))}const YC=()=>u.of(null);function XC(e){return o.n.composeUnion({none:YC,shortFormFeed:o.n.composeKnot({feed:(0,a.pipe)(e.revision,s.map((t=>({revision:t,notify:e.notify}))),s.fold((()=>YC),QC))}),longFormFeed:o.n.composeKnot({feed:(0,a.pipe)(e.revision,s.map((t=>({revision:t,notify:e.notify}))),s.fold((()=>YC),zC))})},(()=>e_(e).view((e=>({kind:e})))))}function e_(e){return g.s.combine(e.routing.activeView,e.textEditor.state.view("hasBeenNonEmpty"),e.lifecycle.heightBehavior.view("kind"),(0,a.pipe)(e.revision,s.fold((()=>g.s.create(null).view()),(e=>g.s.combine(e.feed.isAllSuggestionsFeedEnabled,e.feedForm.state.view("feedForm"),e.suggestionCount.state.view("allSuggestionsCount"),((e,t,n)=>({isAllSuggestionsFeedEnabled:e,feedForm:t,allSuggestionsCount:n})))))),((t,n,i,r)=>"home"===t.kind&&null!==r&&r.isAllSuggestionsFeedEnabled&&((0,a.pipe)(n,s.exists(a.identity))||"revision"===e.experience||r.allSuggestionsCount>0||"longForm"===r.feedForm&&"fitContainer"===i)?"shortForm"===r.feedForm?"shortFormFeed":"longForm"===r.feedForm?"longFormFeed":(0,h.AS)(r.feedForm):"none"))}function t_(e){const t=e.assistant.state.view("genAISession").view((t=>(0,a.pipe)(t,s.chain(re.toStarted),s.filter((()=>s.isNone(e.revision))),s.exists((e=>e.voiceProfile.needsSetup)))));return o.n.composeOption(o.n.fromSideEffect((t=>e.notify(t)),null),(()=>t.view((e=>e?s.some(null):s.none))))}function n_(e){return o.n.composeKnot({suggestions:XC(e),voiceBanner:t_(e),documentOverview:DC(e),intent:jC(e),detectedReferences:LC(e)})}function i_(e,t,n){const i=e.assistant.state.view("genAISession").view((0,a.flow)(s.chain(re.toStarted),s.chain((e=>s.fromNullable(e.results[n+1]))),s.filter(se.Q.isComplete),s.chain((e=>e.boundaryContextId)))),r=t.pipe(Ot.E(i),O.T((([e,t])=>(0,a.pipe)(e,s.filter((0,U.Ub)(se.Q.isComplete,se.Q.isInProgress)),s.chain((e=>e.boundaryContextId)),s.filter((e=>!!s.isNone(t)||e!==t.value)))))),l=r.pipe(O.T(s.chain((t=>e.assistant.getContextById(t))))),c=l.pipe(O.T((e=>(0,a.pipe)(e,s.chain((e=>e.selection))))));return o.n.composeOption(o.n.fromSideEffect((t=>e.notify(t)),kt.zV([l,e.assistant.state.view("genAISession").view((0,a.flow)(s.chain(re.toStarted),s.map((({textRevision:e})=>e)))),e.assistant.state.view("genAISession").view((0,a.flow)(s.chain(re.toStarted),s.map((({selectionContextStatus:e})=>e))))]).pipe(O.T((([e,t,n])=>w.J(s.option)({selection:(0,a.pipe)(e,s.chain((({selection:e})=>e))),currentTextRevision:t,contextTextRevision:(0,a.pipe)(e,s.map((({textRevision:e})=>e))),selectionContextStatus:n}))),B.oE,O.T((({selection:e,currentTextRevision:t,contextTextRevision:n,selectionContextStatus:i})=>({selectedText:e.text,selectedRange:i===re.SelectionContextStatus.dynamic&&s.isSome(n)&&t===n.value?e.range:void 0}))))),(()=>c))}function r_(e){return()=>e.assistant.state.view("genAISession").view(s.chain(re.toStarted)).view((0,a.flow)(s.chain((e=>e.inProgressResult)),s.fold((()=>({text:""})),(e=>({text:e.text})))))}function o_(e){return i_(e,e.assistant.state.view("genAISession").view(s.chain(re.toStarted)).view(s.chain((e=>e.inProgressResult))),-1)}function s_(e){const t=g.s.combine(e.assistant.state.view("genAISession"),e.routing.activeView,((e,t)=>(0,a.pipe)(e,s.chain(re.toStarted),s.chain((e=>e.inProgressResult)),s.filter((()=>"thread"===t.kind)),s.map((e=>({result:e}))))));return o.n.composeOption(function(e){return o.n.composeKnot({root:r_(e),header:o_(e)})}(e),(()=>t))}function a_(e,t){return o.n.composeOption(o.n.fromSideEffect((t=>e.notify(t)),e.userSurvey.state.pipe(O.T((e=>(0,a.pipe)(e.activeSurvey,s.map((t=>({survey:t,state:e})))))),B.oE,O.T((({survey:e,state:t})=>({survey:e,stage:t.stage,transitionStage:t.transitionStage,rating:t.rating,openAnswer:(0,a.pipe)(t.openAnswer,s.getOrElse((0,a.constant)(""))),ratingLabels:(0,a.pipe)(t.activeSurvey,s.fold((0,a.constant)([]),(e=>e.ratingLabels))),errors:t.errors}))))),(()=>g.s.combine(e.userSurvey.state,t,e.routing.activeView,(({activeSurvey:e,stage:t},n,i)=>(0,a.pipe)(e,s.filter((e=>"thread"===i.kind&&(0,a.pipe)(n,j.gR(e.resultId))&&t!==uo.Stage.Type.Closed)))))))}var l_=n(80755);function c_(e,t,n,i){return o.n.fromSideEffect((t=>e.notify(t)),kt.zV([t,e.assistant.state.view("textBox")]).pipe(O.T((([e,t])=>({icon:"regularAction"===e.kind?e.action.icon:E.left(e.kind),label:"regularAction"===e.kind?e.action.label:"go"===e.kind?`”${t.trim()}”`:(0,h.AS)(e),action:e,placement:n,position:i})))))}function d_(e,t){return o.n.fromSideEffect((t=>e.notify(t)),t)}function u_(e,t,n){return o.n.composeList(S.Q1,(()=>t.pipe(O.T((0,a.flow)(s.map(S.rO(((e,t)=>({action:t,index:e})))),s.getOrElse((()=>[])))))),(({action:t,index:i})=>c_(e,u.of(t),n,i)))}function p_(e,t){const n=function(e,t){return e.assistant.state.view((({genAIAvailability:e,genAISession:n})=>(0,a.pipe)(n,s.chain(re.toStarted),s.map((n=>{const i=v.y.isPassive(e)||v.y.isUnavailable(e),r=(0,a.pipe)(n.activeContext.userPromptAction,s.chain((e=>(0,a.pipe)(t.header.copiablePrompt,s.map((t=>J.UserPromptActionValue.fromInput(e,t,s.none,s.none)))))));return{actions:(0,a.pipe)(l_.ci(n.activeContext.availableActions.filter((0,U.Ub)(J.isFollowUpQuestionActionInput,J.isQuickActionInput))),s.filter((()=>!i)),s.map(l_.Tj(Eo.RegularAction.make))),originalAction:r,disabled:i,result:t}}))))).pipe(B.oE)}(e,t),i=n.pipe(wo.E("actions"));return o.n.composeKnot({root:d_(e,n),actions:u_(e,i,"threadView")})}function m_(e,t){return o.n.fromSideEffect((t=>e.notify(t)),e.assistant.state.pipe(d.n((e=>{const n=(0,a.pipe)(t.header.copiablePrompt,s.fold((()=>({kind:Zw.searchLabel,label:t.header.label,iconUrl:t.header.iconUrl})),(n=>({kind:Zw.clickableSearchLabel,label:t.header.label,disabled:v.y.isUnavailable(e.genAIAvailability),copiablePrompt:n}))));return se.Q.isComplete(t)&&function(e){return(0,a.pipe)(e.replacementDelta,E.fold(a.identity,(e=>e.generic)),(e=>e.ops.some((e=>{var t;return Sw.E.isInsert(e)&&!!(null===(t=e.attributes)||void 0===t?void 0:t[Pw.knowledgeHubTerm])}))))}(t)&&t.timestamp+3e3>Date.now()?F.timer(t.timestamp+3e3-Date.now()).pipe(st.u(n),lt.Z({kind:Zw.knowledgeHub})):u.of(n)}))))}function f_(e,t,n,i){return o.n.composeKnot({root:o.n.fromSideEffect((t=>e.notify(t)),e.assistant.state.view((({genAIAvailability:e,activeCards:i,genAISession:r,referencesVisibility:o,overrideCardVoice:l})=>{var c,d,u;return{disabled:v.y.isUnavailable(e),result:t,isActive:(0,a.pipe)(!!i.has(t.id)||0===i.size&&n&&(u=(0,a.pipe)(r,s.chain(re.toStarted)),!(0,a.pipe)(u,s.fold(a.constFalse,(e=>s.isSome(e.inProgressResult)||s.isSome(e.error)))))),isReferencesOpen:null!==(c=o.get(t.id))&&void 0!==c&&c,isMyVoice:(null!==(d=l.get(t.id))&&void 0!==d?d:(0,a.pipe)(t.replacementDelta,E.fold((()=>se.Q.GeneratedTextVoice.generic),(e=>e.preferVoice))))===se.Q.GeneratedTextVoice.user}}))),header:m_(e,t),contextHeader:i_(e,u.of(s.some(t)),i)})}function h_(e,t){return o.n.composeList(S.Q1,(()=>t.pipe(O.T((0,a.flow)(S.$M(50),S.rO(((e,t)=>({result:t,isLast:0===e,index:e}))),S.BE)))),(({result:t,isLast:n,index:i})=>function(e,t,n,i){return o.n.composeUnion({promptResultComplete:f_(e,t,n,i),aiUsageNotification:p_(e,t)},(()=>u.of(se.Q.isAIUsageNotification(t)?{kind:"aiUsageNotification"}:{kind:"promptResultComplete"})))}(e,t,n,i)))}function g_(e,t){return o.n.composeUnion({none:()=>u.of(null),loading:()=>u.of({root:{text:""}}),loaded:o.n.composeKnot({results:h_(e,t.view(s.getOrElse((()=>[]))))})},(()=>g.s.combine(t,e.assistant.state.view("genAISession").view(s.fold((()=>null),(e=>e.kind))),e.routing.activeView,((e,t,n)=>"thread"===n.kind?{kind:"starting"===t?"loading":s.isSome(e)?"loaded":"none"}:{kind:"none"}))))}function v_(e){const t=e.assistant.state.view("genAISession").view((0,a.flow)(s.chain(re.toStarted),s.map((e=>e.results)),s.chain(C._S)));return o.n.composeKnot({documentOverview:DC(e),intent:jC(e),resultList:g_(e,t),lastResultSurvey:a_(e,t.view(s.map((0,a.flow)(C.d5,(e=>e.id))))),inProgressResult:s_(e),generationError:PC(e),detectedReferences:LC(e)})}const b_=()=>u.of(null);function y_(e){return o.n.composeUnion({home:n_(e),thread:v_(e),error:PC(e),followUpPrompt:pC(e),legacyVoiceProfile:OC(e),voiceProfile:MC(e),feedbackForm:uC(e),skill:KC(e,!1),toneReport:o.n.composeKnot({toneReport:TC(e)}),settings:AC(e),signedOut:IC(e),performanceScore:fC(e),plagiarism:o.n.composeOption((0,a.pipe)(e.revision,s.fold((()=>b_),(t=>function(e){return o.n.composeUnion({loadingState:()=>u.of(null),emptyState:wC(e),nonEmptyState:EC(e),uphookState:xC(e),smartUphookState:SC(e),smartUphookEmptyState:CC(e)},(()=>function(e){return g.s.combine(e.user.isPremium,e.feed.feed,e.feed.feedReset,e.plagiarism.state,e.plagiarism.smartUphookEnabled,((e,t,n,i,r)=>(0,a.pipe)(w.C(s.option)(t,i),s.fold((()=>e||r?"loadingState":"uphookState"),(([t,{checking:i}])=>e||r?vi(t.collection)>0?r?"smartUphookState":"nonEmptyState":i||n?"loadingState":r?"smartUphookEmptyState":"emptyState":"uphookState")))))}(e).view((e=>({kind:e})))))}({plagiarism:t.plagiarism,lifecycle:e.lifecycle,user:e.user,feed:t.feed,suggestionCount:t.suggestionCount,pageRange:t.pageRange})))),(()=>u.of(e.revision))),writingExpert:o.n.composeOption((0,a.pipe)(e.revision,s.fold((()=>b_),(t=>function(e){const t=kC(e.feed.feed).pipe(F.shareReplay({bufferSize:1,refCount:!0}));return o.n.composeUnion({[Fi.Kind.loadingEvaluationAndSuggestions]:()=>e.writingExpert.state.pipe(m.p(Fi.isLoadingEvaluationAndSuggestions)),[Fi.Kind.nonEmpty]:o.n.composeKnot({root:o.n.fromSideEffect((({kind:t})=>{if("writingExpertFeedMount"===t)return e.feed.onFeedMount();(0,a.absurd)(t)}),e.writingExpert.state.pipe(m.p(Fi.isNonEmpty))),cardList:yC(e,t)}),[Fi.Kind.nonEmptyLoadingEvaluation]:o.n.composeKnot({root:o.n.fromSideEffect((({kind:t})=>{if("writingExpertFeedMount"===t)return e.feed.onFeedMount();(0,a.absurd)(t)}),e.writingExpert.state.pipe(m.p(Fi.isNonEmptyLoadingEvaluation))),cardList:yC(e,t)}),[Fi.Kind.empty]:o.n.fromSideEffect(BC(e),e.writingExpert.state.pipe(m.p(Fi.isEmpty),O.T((e=>({sduiItem:e.sduiItem}))))),[Fi.Kind.error]:o.n.fromSideEffect(BC(e),e.writingExpert.state.pipe(m.p(Fi.isError),O.T((e=>({sduiItem:e.sduiItem}))))),[Fi.Kind.evaluationFinishedLoadingSuggestions]:()=>e.writingExpert.state.pipe(m.p(Fi.isEvaluationFinishedLoadingSuggestions))},(()=>e.writingExpert.state.pipe(O.T((e=>({kind:e.kind}))))))}(Object.assign(Object.assign({},t),{lifecycle:e.lifecycle}))))),(()=>u.of(e.revision)))},(()=>e.routing.activeView))}const k_=new Vc.C(999999);var w_;function E_(e){const t=e.promptMenu.state.pipe(O.T((e=>(0,a.pipe)(e,s.fold((()=>"closed"),(e=>e.kind)))),0)),n=e.promptMenu.state.pipe(O.T((e=>(0,a.pipe)(e,s.map((e=>{switch(e.kind){case"actionStore":return"prompt-studio-action-store";case"searchResults":case"emptySearchResults":return"prompt-studio-search-results";default:(0,h.AS)(e)}})),s.toUndefined)),0));return o.n.fromSideEffect((t=>e.notify(t)),kt.zV([e.assistant.state,t,e.routing.activeView,n]).pipe(O.T((([e,t,n,i])=>{return{kind:(0,a.pipe)(e.genAISession,s.chain(re.toStarted),s.fold((()=>"loading"),(e=>(0,a.pipe)(e.inProgressResult,s.fold((()=>"ready"),(()=>"waitingForResult")))))),genAIAvailability:e.genAIAvailability,placeholder:(r=e,(0,a.pipe)(r.selectedAction,s.chain((e=>""!==e.args[0].label.trim()?s.some(e.args[0].label):s.none)),s.alt((()=>(0,a.pipe)(r.userPromptAction,s.map((e=>e.arg.label))))))),text:e.textBox,autofocusToken:(0,a.pipe)(e.genAISession,s.chain((e=>e.error)),s.fold((()=>w_.create(`${n.kind}_${(0,a.pipe)(e.genAISession,s.chain(re.toStarted),s.chain((e=>e.inProgressResult)),s.fold((()=>"done"),(()=>"inProgress")))}_${(0,a.pipe)(e.selectedAction,s.fold((()=>"no-selected-action"),(()=>"selected-action")))}_${e.promptAutofocusToken}_promptMenuState:${t}`)),(()=>{}))),ariaControls:i,ariaExpanded:Boolean(i)};var r})),A.F()))}function S_(e){return o.n.fromSideEffect((t=>e.notify(t)),e.promptMenu.state.view((0,a.flow)(s.filter(Mn.isActionStore),s.map((e=>e.actions)),x_)))}function C_(e){const t=(0,a.pipe)(e,C.pb((e=>e.group.id!==J.knownGroup.apps)));if(s.isNone(t))return Number.MAX_SAFE_INTEGER;const n=(0,a.pipe)(t.value,C.Tj((e=>e.group.rank)),C.T9(H.ordNumber)),i=(0,a.pipe)(t.value,S.pb((e=>e.group.id===J.knownGroup.moreIdeas)),S.Tj((e=>e.group.rank)),C._S,s.map(C.T9(H.ordNumber)));return(0,a.pipe)(i,s.filter((e=>e===n)),s.map((e=>e-1)),s.getOrElse((()=>n+1)))}function __(e){return(0,a.pipe)(e,C.Tj((t=>{var n,i;return Object.assign(Object.assign({},t),{group:Object.assign(Object.assign({},t.group),{rank:t.group.id===J.knownGroup.apps?C_(e):null!==(n=J.knownGroupRank[t.group.id])&&void 0!==n?n:t.group.rank,label:null!==(i=J.knowGroupLabels[t.group.id])&&void 0!==i?i:t.group.label})})})))}function x_(e){return(0,a.pipe)(e,s.map(__),s.chain(C.pb((e=>e.group.label.trim().length>0))),s.map(C._w(J.ListableActionInput.ordByGroup)),s.fold((()=>({actionGroups:[]})),(e=>({actionGroups:e.map((e=>({label:e[0].group.label,actions:(0,a.pipe)(e,C.Tj((e=>({action:Eo.RegularAction.make(e),label:e.label,icon:e.icon}))))})))}))))}function A_(e){return o.n.composeKnot({root:o.n.fromSideEffect((t=>{e.notify(t)}),e.promptMenu.state.view((0,a.flow)(s.filter(Mn.isSearchResults),I_))),goAction:o.n.composeOption(c_(e,u.of({kind:"go"}),"search",0),(()=>e.assistant.state.pipe(O.T((e=>v.y.isUnavailable(e.genAIAvailability)?s.none:s.some(null))))))})}function I_(e){return(0,a.pipe)(e,s.fold((()=>({actions:[],query:""})),(({actions:e,query:t})=>({actions:e.map((e=>({action:Eo.RegularAction.make(e),label:e.label,icon:e.icon}))),query:t}))))}function K_(e){return o.n.fromSideEffect((t=>e.notify(t)),e.promptMenu.state.view((0,a.flow)(s.filter(Mn.isEmptySearchResults),s.fold((()=>({query:""})),(({query:e})=>({query:e}))))))}function T_(e){return o.n.composeKnot({root:o.n.fromSideEffect((t=>e.notify(t)),u.of(null)),content:o.n.composeUnion({none:()=>u.of(null),emptySearchResults:()=>u.of(null),searchResults:A_(e),actionStore:S_(e)},(()=>e.promptMenu.state.view((t=>(0,a.pipe)(t,s.fold((()=>"none"),(t=>Mn.isEmptySearchResults(t)&&"revision"===e.experience?"emptySearchResults":Mn.isNonEmptyState(t)?t.kind:"none")),(e=>({kind:e})))))))})}function O_(e){return o.n.composeOption(o.n.composeUnion({none:()=>u.of(null),emptySearchResults:K_(e),popup:T_(e)},(()=>e.promptMenu.state.view((t=>(0,a.pipe)(t,s.fold((()=>"none"),(t=>Mn.isNonEmptyState(t)||"revision"===e.experience?"popup":"emptySearchResults")),(e=>({kind:e}))))))),(()=>e.promptMenu.state))}function M_(e){const t=g.s.combine(e.assistant.state.view("genAIAvailability"),e.promptMenu.state,((e,t)=>v.y.isUnavailable(e)&&s.isNone(t)));return o.n.composeOption(function(e){return o.n.composeKnot({root:o.n.fromSideEffect((t=>e.notify(t)),e.promptMenu.state.pipe(O.T((t=>({menuExpanded:(0,a.pipe)(t,s.exists((0,U.Ub)(Mn.isNonEmptyState,(()=>"revision"===e.experience))))}))))),promptField:E_(e),promptStudioMenu:O_(e)})}(e),(()=>t.view((0,U.Sw)(s.none,s.some(null)))))}function F_(e,t=g.s.create(!1)){return o.n.fromSideEffect((t=>e.notify(t.action.action)),g.s.combine(e.assistant.state.view("genAISession"),e.assistant.state.view("genAIAvailability"),e.routing.activeView,t,((e,t,n,i)=>{if(s.isNone(e))return s.none;const r=e.value,o="started"!==r.kind||r.historyStatus!==re.HistoryStatus.hasHistory&&0===r.results.length?"disabled":r.historyStatus===re.HistoryStatus.historyRequested?"loading":"enabled";return"home"!==n.kind||v.y.isUnavailable(t)||i?s.none:s.some({state:o})})))}!function(e){e.create=function(e){return null!=e?e:k_.newId()}}(w_||(w_={}));const R_=["writingExpertAction","quickAction","followUpQuestion","toneAction","plagiarismAction","performanceScoreAction","humanWritingReportAction","skillAction"],B_={writingExpertAction:new Set(R_.slice(1)),quickAction:new Set(R_.slice(2)),followUpQuestion:new Set(R_.slice(3)),toneAction:new Set(R_.slice(4)),plagiarismAction:new Set(R_.slice(5)),performanceScoreAction:new Set(R_.slice(6)),humanWritingReportAction:new Set(R_.slice(7)),skillAction:new Set(R_.slice(8))},N_=H.fromCompare(((e,t)=>e.kind===t.kind?0:B_[e.kind].has(t.kind)?-1:1));function P_(e){return o.n.fromSideEffect((t=>e.notify(t)),g.s.combine(e.promptActions.state,e.assistant.state.view("genAIAvailability"),e.assistant.state.view("genAISession"),e.routing.activeView,e.promptMenu.state,(({contextualActions:e,toneAction:t,performanceScoreAction:n,plagiarismAction:i,skillActions:r,writingExpertAction:o,humanWritingReportAction:l},c,d,u,p)=>{const m=S.oE(["home"===u.kind?o:s.none,t,i,n,l]).concat(r),f=(0,a.pipe)(e,s.fold((()=>[]),(e=>e.actions))),h=(0,a.pipe)(f.concat(m).map(Eo.RegularAction.make),S.di(H.contramap((e=>e.action))(N_)));return{loading:(0,a.pipe)(e,s.fold((()=>(0,a.pipe)(d,s.fold((()=>!1),re.isStartingWithoutError))),(e=>e.loading))),actions:h,hasMore:f.length>h.length,hasHistoryButton:!v.y.isUnavailable(c),expanded:s.isSome(p)}})))}function D_(e){return o.n.fromSideEffect((t=>e.notify(t)),g.s.combine(e.promptActions.state,e.routing.activeView,e.lifecycle.size,e.assistant.state,(0,a.pipe)(e.revision,s.fold((()=>g.s.create(null).view()),(e=>e.feedForm.state.view("feedForm")))),(({contextualActions:t,toneAction:n,performanceScoreAction:i,plagiarismAction:r,skillActions:o,writingExpertAction:l,humanWritingReportAction:c},d,u,{genAISession:p},m)=>{var f;const h="quickReply"===(null===(f=s.toNullable(p))||void 0===f?void 0:f.mode)||"longForm"===m&&!j_(e.revision,s.isSome(p),d,u)?3:2,g=(0,a.pipe)(t,s.fold((()=>[]),(e=>e.actions))),v=S.oE(["home"===d.kind?l:s.none,n,r,i,c]).concat(o),b=(0,a.pipe)(g.concat(v).map(Eo.RegularAction.make),S.di(H.contramap((e=>e.action))(N_))),y=(0,a.pipe)(b,S.$M(h));return{loading:(0,a.pipe)(t,s.fold((()=>(0,a.pipe)(p,s.fold((()=>!1),re.isStartingWithoutError))),(e=>e.loading))),maxActionsCount:h,actions:y,hasMore:b.length>y.length}})))}function j_(e,t,n,i){return(0,a.pipe)(e,s.filter((e=>"home"===n.kind&&i&&i.width<350&&i.height>600||"home"===n.kind&&S.nZ(L.kK).equals(e.feedForm.requestedSupportedForms,["longForm"])&&!t)),s.isSome)}function L_(e){return o.n.composeUnion({none:()=>u.of(null),actionBar:U_(e),actionPanel:$_(e)},(()=>function(e){return g.s.combine(e.routing.activeView,e.assistant.state.view("genAISession"),e.lifecycle.size,function(e){return(0,a.pipe)(e.revision,s.fold((()=>g.s.create(!0)),(t=>g.s.combine(e_(e),JC({revision:t,notify:e.notify}),WC(t),((e,t,n)=>"none"===e||"shortFormFeed"===e&&("emptyState"===t||"successState"===t)||"longFormFeed"===e&&("emptyState"===n||"successState"===n))))))}(e),((t,n,i,r)=>{var o,l;return!Ct(t)||"thread"===t.kind&&"starting"===(null===(o=s.toNullable(n))||void 0===o?void 0:o.kind)?"none":"revision"===e.experience?j_(e.revision,s.isSome(n),t,i)?"actionPanel":"actionBar":s.isSome(e.revision)&&"home"===t.kind?"quickReply"===(null===(l=s.toNullable(n))||void 0===l?void 0:l.mode)||j_(e.revision,s.isSome(n),t,i)||r?"actionPanel":"actionBar":(0,a.pipe)(n,s.chain(re.toStarted),s.chain((e=>e.inProgressResult)),s.isSome)?"none":"actionPanel"}))}(e).view((e=>({kind:e}))).pipe(N.Z(0),lt.Z({kind:"none"}))))}function U_(e){return o.n.composeKnot({root:P_(e),header:o.n.fromSideEffect((t=>e.notify(t.action.action)),g.s.combine(e.assistant.state.view("genAISession").view(s.chain((e=>e.selectedText))),e.promptActions.state.view("contextualActions"),((e,t)=>(0,a.pipe)(w.C(s.option)(e,t),s.filter((([e,t])=>"pending"===t.context.kind)),s.map((([e])=>e)),s.alt((()=>(0,a.pipe)(t,s.chain((e=>e.context.selection)),s.map((e=>e.text))))),s.map((e=>({selectedText:e}))))))),historyButton:F_(e)})}function $_(e){return o.n.composeKnot({root:D_(e),header:H_(e),historyButton:F_(e)})}function H_(e){return o.n.fromSideEffect((t=>e.notify(t.action)),g.s.combine(e.routing.activeView,e.promptActions.state.view("contextualActions"),e.assistant.state.view("genAISession").view(s.isSome),e.assistant.state.view("genAISession").view(s.fold((()=>null),(e=>e.mode))),e.textEditor.state.view("textLength"),(t=e.revision,(0,a.pipe)(t,s.fold((()=>g.s.create({allSuggestionsCount:0,someSuggestionsAddressed:!1,firstCheckingFinishedAndSduiEventsSettled:!0,firstCheckingFinishedAndSduiEventsSettledTimedOut:!1}).view()),(e=>g.s.combine(e.checkingState.firstCheckingFinishedAndSduiEventsSettled,e.checkingState.firstCheckingFinishedAndSduiEventsSettledTimedOut,e.suggestionCount.state,((e,t,{allSuggestionsCount:n,someSuggestionsAddressed:i})=>({firstCheckingFinishedAndSduiEventsSettled:e,firstCheckingFinishedAndSduiEventsSettledTimedOut:t,allSuggestionsCount:n,someSuggestionsAddressed:i}))))))),((e,t,n,i,r,{allSuggestionsCount:o,someSuggestionsAddressed:l,firstCheckingFinishedAndSduiEventsSettled:c,firstCheckingFinishedAndSduiEventsSettledTimedOut:d})=>{if(Ct(e)&&n){const n=(0,a.pipe)(r,s.exists((e=>0===e)));return(0,a.pipe)(t,s.map((({context:e})=>e)),s.filter((e=>e.isBoundary&&s.isSome(e.textRevision))),s.chain((({selection:e})=>e)),s.map((e=>e.text)),s.fold((()=>"home"===e.kind&&(n||0===o&&(c||d)||"quickReply"===i)?{kind:"title",title:V_(i,n,o,l),subtitle:"Here are some ideas"}:{kind:"none"}),(e=>({kind:"selectionContext",selectedText:e}))))}return{kind:"none"}})));var t}function V_(e,t,n,i){return"quickReply"===e?"How do you want to reply?":0===n&&i?"What do you want to do next?":t||0!==n||i?"How do you want to get started?":"What do you want to do?"}function z_(e){return o.n.composeKnot({header:L_(e),fieldContainer:M_(e)})}function W_(e){return o.n.composeUnion({none:()=>u.of(null),skill:KC(e,!0),promptStudio:z_(e)},(()=>e.routing.activeView.view((e=>"skill"===e.kind?{kind:"skill"}:Ct(e)||"followUpPrompt"===e.kind&&"string"===e.inputType?{kind:"promptStudio"}:{kind:"none"}))))}function Z_(e){return o.n.fromSideEffect((t=>{if("suggestionCountButtonClick"===t.kind)return e.routing.pop();(0,h.AS)(t.kind)}),g.s.combine(e.assistant.state.view("genAISession").view((0,a.flow)(s.chain(re.toStarted),s.chain((e=>e.inProgressResult)),s.isSome)),function(e){return(0,a.pipe)(e.revision,s.fold((()=>g.s.create(s.none)),(e=>e.suggestionCount.state.view("allSuggestionsCount").view(s.some))))}(e),((e,t)=>(0,a.pipe)(t,s.getOrElse((()=>0)),(t=>({count:t,disabled:e,label:t>0?`Review ${pt.td(t,"suggestion","suggestions")}`:"Back to Home"}))))))}function G_(e){return o.n.fromSideEffect((t=>e.notify(t.action.action)),e.routing.activeView.view("kind").view((t=>s.isSome(e.settings)&&"settings"!==t?s.some(null):s.none)))}function Q_(e){return()=>g.s.combine(e.routing.activeView,e.skill.state,(0,a.pipe)(e.toneDetector,s.fold((()=>g.s.create(s.none)),(e=>e.state.view(s.some)))),((e,t,n)=>q_(e,t,n).label))}function q_(e,t,n){switch(e.kind){case"home":case"thread":case"error":case"followUpPrompt":case"signedOut":case"plagiarism":return{label:s.none,iconUrl:s.none};case"legacyVoiceProfile":case"voiceProfile":return{label:s.some("My voice"),iconUrl:s.none};case"feedbackForm":return{label:s.some("Share your thoughts"),iconUrl:s.none};case"skill":return{label:(0,a.pipe)(t,s.map((e=>e.skill.displayName))),iconUrl:(0,a.pipe)(t,s.map((e=>e.skill.iconUrl)))};case"toneReport":return{label:(0,a.pipe)(n,s.filter(Bt.isLoaded),s.chain((e=>e.brandToneInfo)),s.chain((({institutionName:e})=>e)),s.map((e=>`${e} Tone Detector`)),s.alt((()=>s.some("Tone insights")))),iconUrl:(0,a.pipe)(n,s.filter(Bt.isLoaded),s.chain((e=>e.brandToneInfo)),s.chain((e=>e.institutionLogo)))};case"settings":return{label:s.some("Settings"),iconUrl:s.none};case"writingExpert":return{label:s.some("Increase your impact"),iconUrl:s.none};case"performanceScore":return{label:s.some("Performance"),iconUrl:s.none};default:(0,h.AS)(e)}}function J_(e){return o.n.fromSideEffect((t=>e.notify(t)),g.s.combine(e.routing.activeView,e.skill.state,(0,a.pipe)(e.toneDetector,s.fold((()=>g.s.create(s.none)),(e=>e.state.view(s.some)))),((e,t,n)=>(0,a.pipe)(q_(e,t,n),(({iconUrl:t})=>({activeViewIconUrl:t,activeView:e}))))))}function Y_(e){return o.n.fromSideEffect((t=>e.notify(t)),u.of(null))}function X_(e){const t=e.assistant.state.view((e=>(0,a.pipe)(e.genAIAvailability,s.fromPredicate(v.y.isActiveOrPassive),s.filter((()=>s.isSome((0,a.pipe)(e.genAISession,s.chain(re.toStarted))))))));return o.n.composeOption(function(e,t,n){return o.n.fromSideEffect((t=>e.notify(t)),(0,a.pipe)(kt.zV([t,n]),O.T((([e,t])=>({user:e,genAIAvailability:t})))))}(e,e.assistant.state.view("user").pipe(m.p(pe)),t.pipe(B.oE)),(()=>g.s.combine(e.assistant.state.view("user"),t,e.routing.activeView.view("kind"),((e,t,n)=>(0,a.pipe)(t,s.filter((()=>pe(e)&&"voiceProfile"!==n&&"legacyVoiceProfile"!==n&&"feedbackForm"!==n&&"skill"!==n&&"settings"!==n&&"toneReport"!==n)))))))}function ex(e){return()=>e.user.isGrammarlyInstitutionMember.view((e=>({version:e?s.some(nt.version):s.none})))}function tx(e){return o.n.composeKnot({left:nx(e),right:o.n.composeKnot({credits:X_(e),voiceButton:ix(e),settingsButton:G_(e),closeButton:Y_(e)}),pageTitle:Q_(e)})}function nx(e){const t=g.s.combine(e.assistant.state.view("genAISession"),e.routing.activeView,((t,n)=>(0,a.pipe)(t,s.chain(re.toStarted),s.fold((()=>xt(n)?"backButton":"logoOnly"),(()=>{if("error"===n.kind)return"logoOnly";if("signedOut"===n.kind)return"logoOnly";if("home"===n.kind||"thread"===n.kind){if("home"===n.kind)return"logoOnly";if("thread"===n.kind)return s.isSome(e.revision)?"suggestionCount":"logoOnly";(0,h.AS)(n)}else{if("followUpPrompt"===n.kind)return"backButton";if(xt(n))return"backButton";(0,h.AS)(n)}})))));return o.n.composeUnion({logoOnly:ex(e),suggestionCount:o.n.composeKnot({button:Z_(e)}),backButton:J_(e)},(()=>t.pipe(lt.Z("logoOnly"),O.T((e=>({kind:e}))))))}function ix(e){return o.n.fromSideEffect((t=>e.notify(t.action.action)),g.s.combine(e.assistant.state.view("user"),e.assistant.state.view("genAISession"),e.assistant.state.view("genAIAvailability"),e.routing.activeView,((e,t,n,i)=>(0,a.pipe)(t,s.chain(re.toStarted),s.filter((()=>pe(e)&&!v.y.isUnavailable(n)&&Ct(i))),s.map((()=>null))))))}function rx(e){performance.mark(i.assistantGetStart);const t=r.memo((function(){performance.mark(i.assistantComponentStart);const t=r.useRef(Fo(e));performance.mark(i.assistantViewModelsCreated),r.useEffect((()=>()=>t.current.dispose()));const n=o.UI.mount((s=t.current,o.UI.Knot.make(o.UI.Grid.make((({slots:e})=>r.createElement(is.Provider,{value:{notifyUnmount:e=>s.notify(e)}},r.createElement(vs.D.Provider,{value:s.theme.theme},e.assistant)))),{assistant:oC})),function(e){return o.n.composeKnot({assistant:o.n.composeKnot({root:cC(e),content:y_(e),header:tx(e),footer:W_(e),notifications:aC(e),onboarding:(t=e.onboarding,o.n.fromSideEffect((e=>t.notify(e)),t.onboardingStep.view((e=>({step:e}))))),a11yNotification:sC(e)})});var t}(t.current));var s;return performance.mark(i.assistantComponentEnd),n}));return performance.mark(i.assistantGetEnd),t}},93279:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var i=n(50659),r=n(80074),o=n(7406);const s=i.createContext(r.s.create(o.z))},39455:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var i=n(7406);class r{constructor(e){this._theme=e,this.theme=this._theme.view((e=>Object.assign(Object.assign({},i.z),e)))}}},53973:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var i,r=n(86562);!function(e){let t;!function(e){e.initial="initial",e.initialBTS="initialBTS",e.history="history",e.prompts="prompts",e.review="review",e.rewrite="rewrite",e.knowledgeHub="knowledgeHub",e.references="references"}(t=e.StepName||(e.StepName={})),function(e){e.isAssistantOnboardingStep=function(t){switch(t){case e.prompts:case e.review:case e.knowledgeHub:case e.references:case e.history:return!0;case e.initial:case e.initialBTS:case e.rewrite:return!1;default:return(0,r.AS)(t)}},e.isTooltipOnboardingStep=function(t){switch(t){case e.prompts:case e.review:case e.rewrite:case e.knowledgeHub:case e.references:case e.history:return!0;case e.initial:case e.initialBTS:return!1;default:return(0,r.AS)(t)}}}(t=e.StepName||(e.StepName={}))}(i||(i={}))},49025:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var i,r=n(86562);!function(e){let t;!function(e){e.close="close",e.tryItOut="tryItOut",e.mount="mount"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e}}(i||(i={})),(0,r.AS)(void 0)},34022:(e,t,n)=>{"use strict";n.d(t,{M:()=>ye});var i=n(50659),r=n(19772),o=n(95168),s=n(36094),a=n(80074),l=n(80300),c=n(7406),d=n(93279),u=n(11864),p=n(80152),m=n(77167),f=n(23127),h=n(87565),g=n(27917),v=n(51500);const b=({name:e,style:t,onClick:n})=>i.createElement(f.$,{variant:"tertiary",style:[y,t],onClick:n,compact:!0,size:"medium",theme:"light",name:e},i.createElement(g.In.Close,null)),y={icon:Object.assign(Object.assign({},(0,v.QD)(1.5)),{stroke:p.Q.Background.Neutral.Default})};var k=n(91367),w=n(53973),E=n(49025),S=n(38107),C=n(19840),_=n(29585);const x=({className:e})=>i.createElement("span",Object.assign({},(0,C.Ly)(A,e)),"New"),A=u.Ks.style({color:p.Q.Text.Base.Default,fontWeight:700,fontSize:u.Ks.rem(.75),lineHeight:u.Ks.rem(1),justifyContent:"center",alignItems:"center",background:`linear-gradient(226.37deg, ${_.A.YellowGreen} 0%, ${_.A.LightGreen} 100%)`,borderRadius:u.Ks.rem(S.KY),padding:`${u.Ks.rem(m.sp)} ${u.Ks.rem(m.v$)}`,textTransform:"uppercase",width:"fit-content",cursor:"default"});var I=n(31488),K=n(24497),T=n(60672);const O=i.forwardRef((function({placement:e,style:t,arrowColor:n},r){return i.createElement("div",{ref:r,style:{width:33}},i.createElement("svg",{width:33,height:12,viewBox:"0 0 33 12.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object.assign(Object.assign(Object.assign({position:"absolute"},t),{transform:`${(null==t?void 0:t.transform)||""} rotate(${M(e)}deg)`.trimStart()}),F(e))},i.createElement("path",{d:"M0.5 3.41877e-07C3.5 3.41877e-07 29.5 3.41877e-07 32.5 3.41877e-07C28.5 3.41877e-07 26.4111 0.903505 24.1814 3.69994L17.5562 11.4728C16.957 12.1757 15.8652 12.1757 15.2661 11.4728L8.64084 3.69994C6.41113 0.903505 4.5 3.41877e-07 0.5 3.41877e-07Z",fill:n||"white"})))}));function M(e){return(null==e?void 0:e.startsWith("right"))?90:(null==e?void 0:e.startsWith("bottom"))?180:(null==e?void 0:e.startsWith("left"))?270:0}function F(e){return(null==e?void 0:e.startsWith("bottom"))?{top:-12}:(null==e?void 0:e.startsWith("top"))?{bottom:-12}:(null==e?void 0:e.startsWith("right"))?{transformOrigin:"top left",top:-16.5,left:0}:(null==e?void 0:e.startsWith("left"))?{transformOrigin:"top right",top:-16.5,right:0}:{}}const R=(0,C.yY)((({reference:e,placement:t,offset:n,boundaryAreaPadding:r,className:o,arrowColor:s,children:a})=>{const[l,c]=i.useState(null),[d,u]=i.useState(null),p=(0,T.Y)(),{styles:m,attributes:f,state:h}=(0,I.E)(e,l,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:d,padding:12}},{name:"preventOverflow",options:{padding:null!=r?r:5}},p]});return i.createElement("div",Object.assign({dir:"ltr",ref:c,style:m.popper},f.popper,(0,C.Ly)(N,o)),i.createElement(O,{ref:u,style:m.arrow,placement:null==h?void 0:h.placement,arrowColor:s}),a)})),B=e=>u.Ks.color(K.NeutralGray40).toRGBA().fade(e).toString(),N=u.Ks.style({filter:`drop-shadow(0px 0px 0.5px ${K.NeutralGray40}) drop-shadow(0px 0px 2px ${B(.5)}) drop-shadow(0px 1px 6px ${B(.25)})`,borderRadius:u.Ks.rem(S.KD+S.M6)}),P=u.Ks.rem(S.KD+S.M6),D={width:u.Ks.rem(25.875),background:p.Q.Background.Base.Default},j={display:"flex",flexDirection:"column",gap:u.Ks.rem(m.or),padding:`${u.Ks.rem(m.Jj)} ${u.Ks.rem(m.OE)} ${u.Ks.rem(m.v5)} ${u.Ks.rem(m.v5)}`,color:p.Q.Text.Base.Default},L={display:"flex",flexDirection:"row",alignItems:"center",gap:u.Ks.rem(m.v$),fontWeight:"bold",fontSize:u.Ks.rem(1),lineHeight:u.Ks.rem(1.5)},U={fontSize:u.Ks.rem(.875),lineHeight:u.Ks.rem(1.375)},$={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomLeftRadius:P,borderBottomRightRadius:P,padding:`${u.Ks.rem(m.CN)} ${u.Ks.rem(m.v5)} ${u.Ks.rem(m.CN)} ${u.Ks.rem(m.v5)}`,backgroundColor:p.Q.Background.Base.Subdued,color:p.Q.Text.Base.Subdued,fontSize:u.Ks.rem(.875),lineHeight:u.Ks.rem(1.3125),$nest:{a:{color:"inherit"}}},H={width:u.Ks.rem(14),lineHeight:u.Ks.rem(1),fontSize:u.Ks.rem(.75)},V=u.Ks.style(D),z=u.Ks.style(j),W=u.Ks.style(L),Z=u.Ks.style(U),G=u.Ks.style($),Q=u.Ks.style(H),q=u.Ks.style({display:"flex",flexDirection:"row",alignItems:"flex-end"}),J=u.Ks.style({display:"inline",fontWeight:600}),Y=(e=w.M.StepName.initial)=>l.UI.Grid.make((({slots:t,view:n,notify:r})=>{const{onMount:s}=(0,k.y)(o.M((t=>r({kind:E.K.Kind.mount,step:e,element:t})())));return i.createElement(R,{className:V,reference:n("reference"),placement:n("placement"),offset:n("offset"),boundaryAreaPadding:n("boundaryAreaPadding"),arrowColor:p.Q.Background.Base.Subdued},i.createElement("div",{ref:s},t.content),i.createElement("div",{className:G},i.createElement("div",{className:Q},t.footerText),i.createElement("div",{className:q},i.createElement(f.$,{variant:"tertiary",onClick:r({kind:E.K.Kind.close,step:e}),style:ne,name:"skip"},"Skip"),i.createElement(f.$,{onClick:r({kind:E.K.Kind.tryItOut,step:e}),style:ie,name:"tryItOut"},"Try it out"))))})),X=l.UI.Node.make((({notify:e})=>i.createElement(i.Fragment,null,i.createElement(b,{style:re,onClick:e({kind:E.K.Kind.close,step:w.M.StepName.initial}),name:"onboardingClose"}),i.createElement("div",{className:z},i.createElement(x,null),i.createElement("div",{className:W},i.createElement("div",null,"Write faster with generative AI")),i.createElement("div",{className:Z},"Brainstorm, write, and rewrite with generative AI assistance at your fingertips."))))),ee=l.UI.Node.make((()=>i.createElement(i.Fragment,null,"If you use Grammarly's generative AI services,"," ",i.createElement(h.G,{href:"https://grammarly.com/terms",className:J},"additional terms")," ","apply."))),te=l.UI.Knot.make(Y(),{content:X,footerText:ee}),ne={default:{marginRight:u.Ks.rem(.5),fontSize:u.Ks.rem(.875)}},ie={default:{fontSize:u.Ks.rem(.875),fontWeight:"bold"}},re={default:{position:"absolute",top:u.Ks.rem(m.v$),right:u.Ks.rem(m.v$)}},oe=l.UI.Node.make((({notify:e})=>i.createElement(i.Fragment,null,i.createElement(b,{style:ae,onClick:e({kind:E.K.Kind.close,step:w.M.StepName.initialBTS}),name:"onboardingClose"}),i.createElement("div",{className:z},i.createElement(x,null),i.createElement("div",{className:W},i.createElement("div",null,"Write better papers faster (for free!)")),i.createElement("div",{className:Z},"Start with a brainstorm, then get instant feedback, revisions, and citations to ace your assignment."))))),se=l.UI.Knot.make(Y(w.M.StepName.initialBTS),{content:oe,footerText:l.UI.Node.empty}),ae={default:{position:"absolute",top:u.Ks.rem(m.v$),right:u.Ks.rem(m.v$)}};var le=n(30040),ce=n(21662),de=n(15491),ue=n(87574),pe=n(53697);const me={[w.M.StepName.prompts]:{title:"Start with a prompt",description:e=>e?`Choose a suggested prompt, or type your own to get started. You’ll get ${Number(e).toLocaleString()} each month.`:"Choose a suggested prompt, or type your own to get started."},[w.M.StepName.review]:{title:"How does this sound?",description:"Adjust it to your liking with additional prompts. Don’t forget to check for any inaccuracies. "},[w.M.StepName.rewrite]:{title:"Want help rewriting?",description:"Select your text to rewrite it with GrammarlyGO."},[w.M.StepName.knowledgeHub]:{title:"Using organizational language?",description:"Prompt GrammarlyGO using terms and project names from Knowledge Share to automatically insert organizational context."},[w.M.StepName.references]:{title:"GrammarlyGO now incorporates your organizational knowledge",description:"Review the references for accuracy and relevance and regenerate the response without any references that seem irrelevant or outdated."},[w.M.StepName.history]:{title:"Return to recent history",description:"Pick up where you left off with your latest prompts."}},fe=l.UI.Node.make((({state:e,view:t,notify:n})=>{const{onMount:r}=(0,k.y)((0,le.flow)(ce.E(t("name")),de.T((([e,t])=>({element:e,stepName:t}))),o.M((({element:e,stepName:t})=>n({kind:E.K.Kind.mount,step:t,element:e})()))));return i.createElement(ue.F.Fragment,null,e.pipe(de.T((({name:e,placement:t,offset:o,reference:s,boundaryAreaPadding:a,promptsAllocated:l})=>i.createElement(pe.AM,{key:e,className:u.Ks.style({width:ge(e)}),reference:s,placement:t,offset:o,containerPadding:a,onClose:n({kind:E.K.Kind.close,step:e}),title:me[e].title,body:e===w.M.StepName.prompts?me[e].description(l):me[e].description,onMount:r})))))})),he=l.UI.Union.asOption(fe);function ge(e){switch(e){case w.M.StepName.knowledgeHub:return u.Ks.rem(16);case w.M.StepName.references:return u.Ks.rem(17.8);default:return u.Ks.rem(13.75)}}const ve=l.UI.Union.make("kind",{none:l.UI.Node.empty,initial:te,initialBTS:se,tooltip:he}),be=l.UI.Grid.make((({slots:e,view:t})=>{const n=i.useMemo((()=>a.s.create(c.z)),[]);return r.R.useSubscriptionTo(t("theme").pipe(o.M(s.H9(n)))),i.createElement(d.D.Provider,{value:n},e.onboarding)})),ye=l.UI.Knot.make(be,{onboarding:ve})},22751:(e,t,n)=>{"use strict";n.d(t,{G:()=>v});var i=n(44297),r=n(30040),o=n(21216),s=n(86562),a=n(80300),l=n(53973),c=n(90405);const d=e=>a.n.fromSideEffect((t=>e.notify(t)),e.activeStep.pipe(c.oE)),u=e=>{const t=d(e);return a.n.composeKnot({root:t,content:t,footerText:t})},p=e=>{const t=d(e);return a.n.composeKnot({root:t,content:t,footerText:t})};var m=n(15491),f=n(78339),h=n(21662),g=n(26292);function v(e){return a.n.composeKnot({root:()=>e.theme.theme.view((e=>({theme:e}))),onboarding:a.n.composeUnion({none:()=>o.of(null),initial:u(e.onboarding),initialBTS:p(e.onboarding),tooltip:(t=e.onboarding,a.n.composeOption(function(e){return a.n.fromSideEffect((t=>e.notify(t)),e.activeStep.pipe(c.oE,f.p(g.E.isTooltipOnboardingStep),h.E(e.promptsAllocated.pipe(m.T(i.toUndefined))),m.T((([e,t])=>Object.assign(Object.assign({},e),{promptsAllocated:t})))))}(t),(()=>t.activeStep.pipe(m.T(i.filter(g.E.isTooltipOnboardingStep))))))},(()=>e.onboarding.activeStep.view(b).view((e=>({kind:e})))))});var t}function b(e){return(0,r.pipe)(e,i.filter((e=>e.show)),i.fold((()=>"none"),(e=>{switch(e.name){case l.M.StepName.initial:return"initial";case l.M.StepName.initialBTS:return"initialBTS";case l.M.StepName.prompts:case l.M.StepName.review:case l.M.StepName.rewrite:case l.M.StepName.knowledgeHub:case l.M.StepName.references:case l.M.StepName.history:return"tooltip";default:return(0,s.AS)(e.name)}})))}},40817:(e,t,n)=>{"use strict";n.d(t,{K:()=>L});var i,r=n(44297),o=n(9619),s=n(78339),a=n(80074),l=n(53759),c=n(7406),d=n(39455),u=n(57797),p=n(30040),m=n(89769),f=n(65621),h=n(15491),g=n(90405),v=n(21662),b=n(6987),y=n(10540),k=n(48209),w=n(95168),E=n(60269),S=n(30396),C=n(62822),_=n(54988),x=n(36840),A=n(86562),I=n(58193),K=n(81154),T=n(15917),O=n(53973),M=n(49025);function F(e,t,n,i,r=1e3){return e.pipe(s.p(M.K.is(M.K.Kind.mount)),s.p((e=>n(e.step))),b.n((({step:e})=>t.pipe(h.T(I.gR(e)),b.n((e=>e?i.pipe(C.u(Date.now())):_.w)),s.p((e=>Date.now()-e>=r)),C.u(e)))))}!function(e){e.completeInitialOrRewriteStepOnSessionInit=({session:e,stepsSeenOnThisSession:t})=>e.pipe(m.Z(r.none),f.J(),h.T((([e,t])=>r.isNone(e)&&r.isSome(t)?r.some(t):r.none)),g.oE,v.E(t),b.n((([e,t])=>(0,p.pipe)([t.has(O.M.StepName.initial)?r.some(O.M.StepName.initial):r.none,t.has(O.M.StepName.initialBTS)?r.some(O.M.StepName.initialBTS):r.none,T.Y.isRewriteOrQuickRewrite(e.value.mode)?r.some(O.M.StepName.rewrite):r.none],u.oE)))),e.completeReviewStepOnSecondResultReceived=({session:e,activeStep:t})=>e.pipe(h.T((0,p.flow)(r.filter((e=>"started"===e.kind)),r.fold((()=>0),(e=>e.resultCount)))),f.J(),s.p((([e,t])=>1===e&&2===t)),v.E(t),h.T((([e,t])=>(0,p.pipe)(t,r.filter((e=>e===O.M.StepName.review))))),g.oE),e.completeActiveAssistantStepOnSessionEnd=({session:e,activeStep:t,visibleForMs:n,onboardingUIActions:i})=>F(i,t.pipe(y.QE(k.$)),O.M.StepName.isAssistantOnboardingStep,e.pipe(f.J(),s.p((([e,t])=>r.isSome(e)&&r.isNone(t)))),n),e.completeStepOnCloseClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(s.p(M.K.is(M.K.Kind.close)),h.T((e=>(e.step===O.M.StepName.initial&&t.trackOnboardingPopupSkip(),e.step===O.M.StepName.initialBTS&&t.trackBTSOnboardingPopupSkip(),e.step)))),e.completeInitialStepOnTryItOutClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(s.p(M.K.is(M.K.Kind.tryItOut)),h.T((e=>(e.step===O.M.StepName.initial&&t.trackOnboardingPopupNext(),e.step===O.M.StepName.initialBTS&&t.trackBTSOnboardingPopupNext(),e.step)))),e.completeReviewStepOnResultInteraction=({assistantUIActions:e})=>e.pipe(s.p(l.t.isResultAction),s.p((e=>K.Q.isStandardCompletedResult(e.result))),h.T((()=>O.M.StepName.review))),e.completeHistoryStepOnHistoryRestore=({assistantUIActions:e})=>e.pipe(s.p(l.t.is(l.t.Kind.restoreHistoryButtonClick)),h.T((()=>O.M.StepName.history))),e.completeAssistantStepsOnUserActions=({assistantUIActions:e,activeStep:t})=>e.pipe(s.p((0,x.Ub)(l.t.is(l.t.Kind.actionBrickClick),l.t.is(l.t.Kind.promptSubmitButtonClick),l.t.is(l.t.Kind.promptFieldKeyPressEnter),l.t.is(l.t.Kind.headerVoiceButtonClick),l.t.is(l.t.Kind.setVoiceButtonClick),l.t.is(l.t.Kind.openFeedbackFormButtonClick))),v.E(t),h.T((([e,t])=>(0,p.pipe)(t,r.filter(O.M.StepName.isAssistantOnboardingStep)))),g.oE),e.completeInitialStepOnDispose=({onboardingUIActions:e,activeStep:t,disposed:n,visibleForMs:i})=>F(e,t,(e=>e===O.M.StepName.initial||e===O.M.StepName.initialBTS),n,i);const t=e=>t=>n=>t(n).pipe(w.M((t=>{var i;return null===(i=n.logger)||void 0===i?void 0:i.debug(`Onboarding - ${e} - step to complete: ${t}.`)})));function n(e){return e.pipe(S.S(((e,t)=>({seen:new Set(e.seen).add(t),step:e.seen.has(t)?r.none:r.some(t)})),{seen:new Set,step:r.none}),h.T((e=>e.step)),g.oE)}e.defaultCompletionSources=[t("session init")(e.completeInitialOrRewriteStepOnSessionInit),t("second result received")(e.completeReviewStepOnSecondResultReceived),t("session end")(e.completeActiveAssistantStepOnSessionEnd),t("user closed step")(e.completeStepOnCloseClick),t("user clicked try-it-out")(e.completeInitialStepOnTryItOutClick),t("user interacted with results")(e.completeReviewStepOnResultInteraction),t("user interacted with assistant")(e.completeAssistantStepsOnUserActions),t("user restored history")(e.completeHistoryStepOnHistoryRestore),t("feature disposed")(e.completeInitialStepOnDispose)],e.extractStepsToComplete=function(e,t){return E.h(...e.map((e=>e(t)))).pipe(n)}}(i||(i={}));var R=n(12944),B=n(60046);class N{constructor(e,t){this._capiService=e,this._logger=t}trackOnboardingPopupView(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking onboarding pop-up view."),this._trackUxInteraction({kind:"onboardingPopup",userAction:R._.Onboarding.UserAction.view})}trackOnboardingPopupSkip(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking onboarding pop-up skip."),this._trackUxInteraction({kind:"onboardingPopup",userAction:R._.Onboarding.UserAction.skip})}trackOnboardingPopupNext(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking onboarding pop-up next."),this._trackUxInteraction({kind:"onboardingPopup",userAction:R._.Onboarding.UserAction.next})}trackBTSOnboardingPopupView(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking BTS onboarding pop-up view."),this._trackUxInteraction({kind:"BTSonboardingPopup",userAction:R._.Onboarding.UserAction.view})}trackBTSOnboardingPopupSkip(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking BTS onboarding pop-up skip."),this._trackUxInteraction({kind:"BTSonboardingPopup",userAction:R._.Onboarding.UserAction.skip})}trackBTSOnboardingPopupNext(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking BTS onboarding pop-up next."),this._trackUxInteraction({kind:"BTSonboardingPopup",userAction:R._.Onboarding.UserAction.next})}trackOnboardingPromptsTooltipView(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking onboarding prompts tooltip view."),this._trackUxInteraction({kind:"onboardingPromptsTooltip",userAction:R._.Onboarding.UserAction.view})}trackOnboardingReviewTooltipView(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking onboarding review tooltip view."),this._trackUxInteraction({kind:"onboardingReviewTooltip",userAction:R._.Onboarding.UserAction.view})}trackOnboardingRewriteTooltipView(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking onboarding rewrite tooltip view."),this._trackUxInteraction({kind:"onboardingRewriteTooltip",userAction:R._.Onboarding.UserAction.view})}trackOnboardingKnowledgeHubTooltipView(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking onboarding knowledge-hub tooltip view."),this._trackUxInteraction({kind:"onboardingKnowledgeHubTooltip",userAction:R._.Onboarding.UserAction.view})}trackOnboardingReferencesTooltipView(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking onboarding references tooltip view."),this._trackUxInteraction({kind:"onboardingReferencesTooltip",userAction:R._.Onboarding.UserAction.view})}trackOnboardingHistoryTooltipView(){var e;null===(e=this._logger)||void 0===e||e.debug("Tracking onboarding history tooltip view."),this._trackUxInteraction({kind:"onboardingHistoryTooltip",userAction:R._.Onboarding.UserAction.view})}_trackUxInteraction(e,t,n,i={}){var r;const o=R._.getComponentId(e,t,n,i),s=R._.getUserAction(e);null===(r=this._logger)||void 0===r||r.debug("Sending `user_action` to CAPI.",{componentId:o,userAction:s,uxInteraction:e,contextId:t}),(0,B.s)("sendUserAction",this._capiService.user_action({componentId:o,userAction:s}),this._logger)}}var P=n(26292),D=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};class j extends P.a{constructor(e,t){super(e),this._onDispose=t}dispose(){super.dispose(),this._onDispose()}}function L(e){var{assistantUIActions:t,capiService:n,completeOnboardingStep:u,stepCompletionSources:p,disposed:m,theme:f,logger:h}=e,g=D(e,["assistantUIActions","capiService","completeOnboardingStep","stepCompletionSources","disposed","theme","logger"]);const v=new o.y,b=new N(n,h),y=new j(Object.assign(Object.assign({},g),{assistantMountActions:t.pipe(s.p(l.t.is(l.t.Kind.mount))),assistantUnmountActions:t.pipe(s.p(l.t.is(l.t.Kind.unmount)))}),(()=>v.unsubscribe()));return v.add(i.extractStepsToComplete(null!=p?p:i.defaultCompletionSources,{onboardingUIActions:y.uiActions,assistantUIActions:t,activeStep:y.activeStep.view(r.map((e=>e.name))),stepsSeenOnThisSession:y.stepsSeenOnThisSession,session:g.session,trackingService:b,disposed:m,logger:h}).subscribe((e=>{u(e)}))),v.add(function(e,t){return e.pipe(s.p(M.K.is(M.K.Kind.mount)),w.M((e=>{switch(e.step){case O.M.StepName.initial:return t.trackOnboardingPopupView();case O.M.StepName.initialBTS:return t.trackBTSOnboardingPopupView();case O.M.StepName.prompts:return t.trackOnboardingPromptsTooltipView();case O.M.StepName.review:return t.trackOnboardingReviewTooltipView();case O.M.StepName.rewrite:return t.trackOnboardingRewriteTooltipView();case O.M.StepName.knowledgeHub:return t.trackOnboardingKnowledgeHubTooltipView();case O.M.StepName.references:return t.trackOnboardingReferencesTooltipView();case O.M.StepName.history:return t.trackOnboardingHistoryTooltipView();default:return(0,A.AS)(e.step)}})))}(y.uiActions,b).subscribe()),{onboarding:y,theme:new d.y(null!=f?f:a.s.create(c.z))}}},26292:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,a:()=>S});var i,r=n(44297),o=n(30040),s=n(9619),a=n(42543),l=n(36094),c=n(90405),d=n(15491),u=n(89769),p=n(65621),m=n(78339),f=n(38427),h=n(46669),g=n(21662),v=n(30396),b=n(86562),y=n(80074),k=n(37730),w=n(53973),E=n(57680);!function(e){e.isTooltipOnboardingStep=function(e){return w.M.StepName.isTooltipOnboardingStep(e.name)}}(i||(i={}));class S{constructor(e){var t,n,i,S,_,x;this._params=e,this._subs=new s.y,this._assistantElements=y.s.create({}),this._externalElements=y.s.create({}),this._hideAssistantTooltips=y.s.create(!1),this._nextCandidateStep=y.s.create(r.none),this.stepsSeenOnThisSession=y.s.create(new Set),this._uiActions=new a.B7,this.uiActions=this._uiActions.asObservable(),this.activeStep=y.s.combine(this._nextCandidateStep,this._assistantElements,this._externalElements,this._hideAssistantTooltips,((e,t,n,i)=>(0,o.pipe)(e,r.chain((e=>function(e,t,n,i){switch(e){case w.M.StepName.initial:return(0,o.pipe)(r.fromNullable(n[k.Z.initialPopupAnchor]),r.map((e=>({name:w.M.StepName.initial,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case w.M.StepName.initialBTS:return(0,o.pipe)(r.fromNullable(n[k.Z.initialBTSPopupAnchor]),r.map((e=>({name:w.M.StepName.initialBTS,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case w.M.StepName.rewrite:return(0,o.pipe)(r.fromNullable(n[k.Z.rewriteTooltipAnchor]),r.map((e=>({name:w.M.StepName.rewrite,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case w.M.StepName.prompts:return(0,o.pipe)(r.fromNullable(t[k.e.initialActionsList]),r.map((e=>({name:w.M.StepName.prompts,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));case w.M.StepName.review:return(0,o.pipe)(r.fromNullable(t[k.e.followUpActionsList]),r.map((e=>({name:w.M.StepName.review,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));case w.M.StepName.knowledgeHub:return(0,o.pipe)(r.fromNullable(t[k.e.promptInput]),r.map((e=>({name:w.M.StepName.knowledgeHub,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));case w.M.StepName.references:return(0,o.pipe)(r.fromNullable(t[k.e.referencesList]),r.map((e=>({name:w.M.StepName.references,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));case w.M.StepName.history:return(0,o.pipe)(r.fromNullable(t[k.e.historyButton]),r.map((e=>({name:w.M.StepName.history,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));default:return(0,b.AS)(e)}}(e,t,n,i)))))),this.promptsAllocated=this._params.promptsAllocated,this._subs.add((t=this.activeStep,n=this._params.upstreamOnboardingState,i=this._params.session,S=this._params.textStats,_=this._params.forceDisabledOnboardingSteps,x=this._params.client,f.zV([i,n,S.pipe((0,o.flow)(c.oE,d.T((e=>e.wordCount)),u.Z(0),p.J(),v.S(((e,[t,n])=>(0,o.pipe)(Math.abs(n-t),(t=>t<=2?e+t:e))),0),u.Z(0),h.F())),i.pipe(d.T(r.isSome),h.F(),g.E(n),d.T((([e,t])=>e?r.some(t):r.none)))]).pipe(d.T((([e,n,i,s])=>{if(r.isNone(e)){const e=!(0,o.pipe)(t.get(),r.map((e=>e.name===w.M.StepName.initial)),r.getOrElse(o.constFalse))&&!_.has(w.M.StepName.initialBTS)&&!n.initialBTS[x].completed&&void 0===n.initialBTS[x].lastSeen,s=!_.has(w.M.StepName.initial)&&!n.initial[x].completed&&void 0===n.initial[x].lastSeen&&!n.initialBTS[x].completed&&void 0===n.initialBTS[x].lastSeen,a=!_.has(w.M.StepName.rewrite)&&!n.rewrite[x].completed&&(n.initial[x].completed||n.initialBTS[x].completed)&&i>=30;return e?r.some(w.M.StepName.initialBTS):s?r.some(w.M.StepName.initial):a?r.some(w.M.StepName.rewrite):r.none}return E.V.Step.anyClientCompleted(n.prompts)||_.has(w.M.StepName.prompts)?E.V.Step.anyClientCompleted(n.review)||_.has(w.M.StepName.review)?E.V.Step.anyClientCompleted(n.history)||_.has(w.M.StepName.history)||!C(s)?E.V.Step.anyClientCompleted(n.knowledgeHub)||_.has(w.M.StepName.knowledgeHub)||!C(s)?E.V.Step.anyClientCompleted(n.references)||_.has(w.M.StepName.references)||!C(s)?r.none:r.some(w.M.StepName.references):r.some(w.M.StepName.knowledgeHub):r.some(w.M.StepName.history):r.some(w.M.StepName.review):r.some(w.M.StepName.prompts)})))).subscribe(l.H9(this._nextCandidateStep))),this._subs.add(this._params.assistantMountActions.subscribe((({name:e,element:t})=>this._assistantElements.modify((n=>Object.assign(Object.assign({},n),{[e]:{reference:t,placement:e===k.e.historyButton?"bottom":"left"}})))))),this._subs.add(this._params.assistantUnmountActions.subscribe((({name:e})=>this._assistantElements.modify((t=>Object.assign(Object.assign({},t),{[e]:void 0})))))),this._subs.add(this._params.externalElements.subscribe(l.H9(this._externalElements))),this._subs.add(this._params.hideAssistantOnboardingTooltips.subscribe(l.H9(this._hideAssistantTooltips))),this._subs.add(this.activeStep.pipe(c.oE).subscribe((e=>this.stepsSeenOnThisSession.modify((t=>new Set([...t,e.name])))))),this._subs.add(this._params.session.pipe(d.T(r.isSome),u.Z(!1),p.J(),m.p((([e,t])=>e&&!t))).subscribe((()=>this._assistantElements.set({}))))}notify(e){this._uiActions.next(e)}dispose(){this._subs.unsubscribe()}}function C(e){return(0,o.pipe)(e,r.fold(o.constFalse,(({prompts:e,review:t})=>{const n={prompts:E.V.Step.anyClientCompleted(e),review:E.V.Step.anyClientCompleted(t)};return Object.values(n).every(o.identity)})))}},3391:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var i,r=n(44297);!function(e){let t;!function(e){e.create=e=>e}(t=e.Id||(e.Id={})),e.create=function(t){return Object.assign(Object.assign({},t),{id:e.Id.create(t.id),url:r.fromNullable(t.url),contextText:r.none})}}(i||(i={}))},39039:(e,t,n)=>{"use strict";function i(e){return"alertAdded"===e.kind}function r(e){return{kind:"alertAdded",alertId:e}}function o(e){return"alertRemoved"===e.kind}function s(e,t){return{kind:"alertRemoved",alertId:e,reason:t}}n.d(t,{BG:()=>r,L1:()=>i,rc:()=>s,x9:()=>o})},6608:(e,t,n)=>{"use strict";function i(e){return"sduiItemAdd"===e.kind}function r(e,t){return{kind:"sduiItemAdd",sduiRootId:e,sdui:t}}function o(e){return"sduiItemUpdate"===e.kind}function s(e,t){return{kind:"sduiItemUpdate",sduiRootId:e,sdui:t}}function a(e){return"sduiItemRemove"===e.kind}function l(e){return{kind:"sduiItemRemove",sduiRootId:e}}function c(e){return"sduiReset"===e.kind}function d(){return{kind:"sduiReset"}}n.d(t,{Cv:()=>i,Jd:()=>a,av:()=>o,hp:()=>d,jw:()=>l,pp:()=>c,wq:()=>s,ws:()=>r}),(0,n(36840).Ub)(i,o,a,c)},12704:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i,T:()=>a});var i,r=n(19147),o=n(23988);!function(e){var t;(t=e.Result||(e.Result={}))[t.CONTINUE_HANDLING=0]="CONTINUE_HANDLING",t[t.STOP_HANDLING=1]="STOP_HANDLING"}(i||(i={}));var s=function(){},a=function e(){(0,r._)(this,e),(0,o._)(this,"onSessionStarted",s),(0,o._)(this,"onWaitForOT",s),(0,o._)(this,"onReady",s),(0,o._)(this,"onSessionInbound",s),(0,o._)(this,"beforeAlert",s),(0,o._)(this,"onAlert",s),(0,o._)(this,"onRemove",s),(0,o._)(this,"onChange",s),(0,o._)(this,"onSynonyms",s),(0,o._)(this,"onSnippets",s),(0,o._)(this,"onPlagiarism",s),(0,o._)(this,"onBeforeAsyncCheckFinish",s),(0,o._)(this,"onAsyncCheckFinish",s),(0,o._)(this,"onError",s),(0,o._)(this,"onBeforeFinish",s),(0,o._)(this,"onFinish",s),(0,o._)(this,"onStats",s),(0,o._)(this,"onTextMaps",s),(0,o._)(this,"onTextInfo",s),(0,o._)(this,"onEmotions",s),(0,o._)(this,"onPong",s),(0,o._)(this,"onDebugInfo",s),(0,o._)(this,"onConnect",s),(0,o._)(this,"onDisconnect",s),(0,o._)(this,"onClose",s),(0,o._)(this,"onQueueMsgAccepted",s),(0,o._)(this,"onQueueMsgDropped",s),(0,o._)(this,"onAck",s),(0,o._)(this,"onMessageReceived",s),(0,o._)(this,"onMessageSent",s),(0,o._)(this,"onAutoComplete",s),(0,o._)(this,"onAttentionHeatmap",s),(0,o._)(this,"onAttentionInfo",s),(0,o._)(this,"onProofitAvailability",s),(0,o._)(this,"onProofitCancelled",s),(0,o._)(this,"onProofitCompleted",s),(0,o._)(this,"onProofitProgress",s),(0,o._)(this,"onProofitProgressProblem",s),(0,o._)(this,"onProofitSubmit",s),(0,o._)(this,"onShortenItFinished",s),(0,o._)(this,"onSDUI",s),(0,o._)(this,"onPublishedAck",s),(0,o._)(this,"onGbRuleCreated",s),(0,o._)(this,"onReconnectInfo",s),(0,o._)(this,"onCheetahSetContext",s),(0,o._)(this,"onCheetahChunk",s),(0,o._)(this,"onCheetahResult",s),(0,o._)(this,"onCheetahSearchReferencesResult",s),(0,o._)(this,"onCheetahError",s),(0,o._)(this,"onCheetahUpdateState",s),(0,o._)(this,"onShowSurvey",s),(0,o._)(this,"onAsyncCheckProgress",s)}},54463:(e,t,n)=>{"use strict";var i,r;n.d(t,{Q:()=>i,o:()=>r}),function(e){e.NotFixed="NOT_FIXED"}(i||(i={})),function(e){e.is=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.some((function(t){return t===e.kind}))}},e.isUserFeedbackWithGeneralScore=function(e){var t;return Boolean(null===(t=e.outcomeScores)||void 0===t?void 0:t.GeneralScore)},e.isUserFeedbackWithScoreStatus=function(e){return Boolean(e.scoreStatus)}}(r||(r={}))},78216:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var i,r,o,s=n(34717);r=i||(i={}),o=function(e,t){var n=t/60,i=s.Ye(e/n);return i.s=i.h>0&&i.m>10?0:Math.floor(i.s),i},r.calculateReadingTime=function(e){return o(e,250)},r.calculateSpeakingTime=function(e){return o(e,130)},r.generateStats=function(e,t){var n={words:e,chars:t,sentences:Math.floor(e/5),readingTime:{},speakingTime:{},uniqueWords:40*Math.random(),uniqueWordsIndex:100*Math.random(),rareWords:20*Math.random(),rareWordsIndex:100*Math.random(),wordLength:5.4,wordLengthIndex:100*Math.random(),sentenceLength:16.7,sentenceLengthIndex:100*Math.random(),readabilityScore:73,readabilityDescription:"Your text is likely to be understood by a reader who has at least 7th grade education (age 12)"};return n.readingTime=i.calculateReadingTime(n.words),n.speakingTime=i.calculateSpeakingTime(n.words),n}},24031:(e,t,n)=>{"use strict";var i;n.d(t,{U:()=>i}),function(e){e.is=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.some((function(t){return t===e.kind}))}}}(i||(i={}))},61389:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var i,r=n(57297);!function(e){e.saveToFS=function(e){r.saveAs(e.data,e.title)}}(i||(i={}))},78044:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var i=n(19147),r=n(6922),o=n(23988),s=n(86562),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,i._)(this,e),(0,o._)(this,"_capacity",void 0),(0,o._)(this,"_start",void 0),(0,o._)(this,"_allowOverflow",void 0),(0,o._)(this,"_nextId",void 0),this._capacity=t,this._start=n,this._allowOverflow=r,this._nextId=n}return(0,r._)(e,[{key:"id",get:function(){return this._nextId}},{key:"newId",value:function(){var e=this._nextId;if(e>this._capacity){if(!this._allowOverflow)throw new s.zU("ids limit reached: "+this._capacity);this._nextId=e=0}return this._nextId++,e}},{key:"reset",value:function(){this._nextId=this._start}}]),e}()},35300:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var i=n(23988),r=n(50659),o=n(53493),s=n(65141),a=n(80837),l=n(50581);class c extends r.Component{componentDidMount(){const e=o.findDOMNode(this);this._subs.push(s.R(document,"mousedown").subscribe((t=>{e&&e!==t.target&&!l.isParent(e,t.target)&&this.props.hide(t.target)})))}componentWillUnmount(){this._subs.dispose()}render(){return r.Children.only(this.props.children)}constructor(...e){super(...e),(0,i._)(this,"_subs",new a.y.Keeper)}}},25469:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var i,r=n(50659),o=n(63336),s=n(80074),a=n(36094),l=n(83541),c=n(95168),d=n(88423),u=n(44297),p=n(58193),m=n(19772);!function(e){var t=e.Manager=({children:e,cardWidth:t})=>{const n=a.br(t).pipe(l.shareReplay({refCount:!0,bufferSize:1}));return m.R.useSingleton("CardWidth.Manager"),m.R.useSubscriptionTo(n),r.createElement(h.Provider,{value:n},e)},n=(e.DefaultManager=({children:e})=>(m.R.useSingleton("CardWidth.DefaultManager"),r.createElement(t,{cardWidth:n(f)},e)),e.withCardWidthEffect=(e,t=i)=>e.pipe(c.M((e=>t(u.some(e)))),d.j(t.bind(null,u.none)),l.shareReplay({refCount:!0,bufferSize:1}))),i=e.defaultCardWidthSetter=e=>{g(document.documentElement,e)},f=e.defaultSizeObserver=s.s.create(400),h=e.Context=r.createContext(f),g=e.setRootCssVar=(e,t)=>{e.style.setProperty("--cardWidth",(0,o.pipe)(t,u.map(String),p.Xd))}}(i||(i={}))},16117:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var i,r=n(10334),o=n(17171),s=n(50659),a=n(80152),l=n(87574),c=n(19840),d=n(15491),u=n(36094),p=n(62723),m=n(89769),f=n(50581),h=n(21476),g=n(27917),v=n(60280),b=n(11864),y=n(81930),k=n(74416);!function(e){const t=100;function n(e){return 0===e?"":e>=1e3?`${Math.min(Math.trunc(e/1e3),9)}k+`:String(e)}const i=({className:e,isChecking:t,type:n,animateFade:i=!0})=>{const{state:r,complete:o}=y.X.fadeOutState(t),a="checking-complete";return s.createElement(l.F.div,(0,c.Ly)(D.loader,e),i?r.pipe(d.T((e=>"end"===e?s.createElement("div",{key:"checking-complete",className:a}):s.createElement(v.y,{key:"spinner",variation:n,size:"100%",className:"fadeOut"===e?D.fadeOut:void 0,onTransitionEnd:o})))):t.pipe(d.T((e=>e?s.createElement(v.y,{variation:n,size:"100%"}):s.createElement("div",{className:a})))))},a=({name:e,theme:i={},count:a,type:d="white",suffix:p=""})=>{const m=s.useContext(h.f.Context);return s.createElement(l.F.div,(0,o._)((0,r._)({},(0,c.Ly)(D.roundCounter,u.Y6(d,v.y.getClassName(D)),i.counterWrapper)),{"data-role":"counter"}),s.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 32",className:D.circular},s.createElement("g",null,s.createElement("circle",{r:"15.75",cx:"16",cy:"16"}),s.createElement("text",(0,r._)((0,o._)((0,r._)({x:"16",y:"17"},f.svgVerticalAlignment(m.has(h.f.Flag.supportsSVGDominantBaseline))),{fontSize:a>=t?14:18,"data-name":e}),(0,c.Ly)(K,i.counterContent)),n(a),p))))},b=({name:e,theme:t={},count:i,type:a="white",suffix:d=""})=>{const p=s.useContext(h.f.Context);return s.createElement(l.F.div,(0,o._)((0,r._)({},(0,c.Ly)(D.ovalCounter,u.Y6(a,v.y.getClassName(D)),t.counterWrapper)),{"data-role":"counter"}),s.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 20",className:D.circular},s.createElement("rect",{width:"32",height:"20",rx:"10"}),s.createElement("text",(0,r._)((0,o._)((0,r._)({x:"16",y:"10.5"},f.svgVerticalAlignment(p.has(h.f.Flag.supportsSVGDominantBaseline))),{fontSize:11,"data-name":e}),(0,c.Ly)(K,t.counterContent)),n(i),d)))};function w(e,n){return n||e>=t?10:12}e.Counter=({theme:e={},count:n,type:i="white"})=>{const l=n>=t?b:a;return s.createElement(l,{theme:(0,o._)((0,r._)({},e),{counterWrapper:(0,c.Ly)(e.counterWrapper,D.flexCounter).className}),count:n,type:i})};var E=e.OutcomeCounter=({name:e,theme:i={},count:a,type:d="white",suffix:p,fontSize:m=w(a,Boolean(p))})=>{const g=s.useContext(h.f.Context);return s.createElement(l.F.div,(0,o._)((0,r._)({},(0,c.Ly)(D.outcomeCounter,u.Y6(d,v.y.getClassName(D)),i.counterWrapper)),{"data-role":"counter"}),s.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 18",className:D.circular},s.createElement("rect",(0,o._)((0,r._)({},function(e,n){return n||e>=t?{width:32}:e>=10?{x:4,width:24}:{x:7,width:18}}(a,Boolean(p))),{height:18,rx:9})),s.createElement("text",(0,r._)((0,o._)((0,r._)({x:"50%",y:"10px"},f.svgVerticalAlignment(g.has(h.f.Flag.supportsSVGDominantBaseline))),{fontSize:m,"data-name":e}),(0,c.Ly)(K,i.counterContent)),n(a),p)))};e.PlagiarismOutcomesMeter=({count:e,isChecking:t,className:n})=>s.createElement("div",(0,c.Ly)(D.plagiarismMeter,n),s.createElement(i,{isChecking:t,type:"cyan",animateFade:!1}),s.createElement(l.F.div,{className:D.wrapper},e.pipe(p.z(t),d.T((([e,t])=>k.Q.isMin(e)?s.createElement(g.In.CheckmarkOutcomes,{className:D.plagiarismOutcomeIcon,key:"icon",width:20}):!t&&s.createElement(E,{count:k.Q.prism.reverseGet(e),type:"cyan",key:"value",suffix:s.createElement("tspan",{fontSize:11},"%")}))),m.Z(null))))}(i||(i={}));const w=1.25,E={position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"visible",margin:"auto",width:b.Ks.percent(100),height:b.Ks.percent(100)},S={position:"absolute",width:b.Ks.percent(150),height:b.Ks.percent(150),transform:"translate(-17%, -17%)"},C={position:"relative",display:"inline-flex",alignItems:"center"},_={width:b.Ks.percent(100),height:b.Ks.percent(100)},x={minWidth:b.Ks.rem(2),width:b.Ks.percent(100),height:b.Ks.rem(w)},A={maxWidth:b.Ks.rem(2),height:b.Ks.rem(w)},I="counterText",K=b.Ks.joinClasses([I,b.Ks.style({fontWeight:"bold",textAnchor:"middle",fill:a.Q.Text.Base.Inverse})]),T={fill:"transparent",$nest:{[`& .${I}`]:{fill:a.Q.Text.Base.Subdued}}},O={fill:"#FFDF80",$nest:{[`& .${I}`]:{fill:"#8C5404"}}},M={fill:a.Q.Background.Plagiarism.Default,$nest:{[`& .${I}`]:{fill:a.Q.Text.Base.Inverse}}},F={width:b.Ks.rem(1.5),height:b.Ks.rem(1.5)},R={width:b.Ks.rem(2),height:b.Ks.rem(w)},B={margin:`${b.Ks.rem(-1)} 0`},N={$nest:{"&:not([data-disabled='true'])[data-active='true'], &:not([data-disabled='true'])[data-hovered='true']":{fill:a.Q.Background.Plagiarism.Default}}},P={width:b.Ks.rem(2),height:b.Ks.rem(1.125),position:"relative"},D=b.Ks.stylesheet({fadeOut:[{opacity:0,transition:"opacity .5s linear"}],circular:[E],loader:[S],wrapper:[C],roundCounter:[C,_],ovalCounter:[C,x],flexCounter:[C,A],gray:[],green:[],blue:[],white:[T],yellowPremium:[O],cyan:[M],meter:[C,F],plagiarismMeter:[C,R],plagiarismIcon:[B],plagiarismOutcomeIcon:[B,N],outcomeCounter:[C,{position:"absolute",left:0},P]})},61670:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var i,r=n(10334),o=n(17171),s=n(69384),a=n(50659),l=n(514),c=n(96675),d=n(73921),u=n(97972),p=n(66836),m=n(42543),f=n(19840),h=n(80074),g=n(15491),v=n(50581),b=n(7886),y=n(14737),k=n(11864),w=n(19772);!function(e){function t(e){var{theme:t={},itemAnimationMode:i,assistiveScroll:c=!1,onClick:d}=e;const p=(0,s._)(e,["theme","itemAnimationMode","assistiveScroll","onClick"]),m=(0,u.pE)(p),h=a.useRef(null),{gridProps:g}=(0,l.IZ)(p,m,h);return a.createElement("ul",(0,r._)((0,o._)((0,r._)({},g),{ref:h}),(0,f.Ly)(S.list,t.list)),Array.from(m.collection).map((e=>a.createElement(n,{key:e.key,item:e,state:m,theme:t.item,animationMode:i,assistiveScroll:c,onClick:d}))))}function n({item:e,state:t,animationMode:n,assistiveScroll:u,onClick:p,showCheckbox:h=!1,theme:b={}}){const k=a.useRef(null),{rowProps:E,gridCellProps:C,isPressed:_}=(0,l.ns)({node:e},t,k),{isFocusVisible:x,focusProps:A}=(0,c.og)(),I=a.useMemo((()=>new m.B7),[]),K=a.useCallback((()=>null!=n&&a.createElement(y.n,{mouseDownEvents:I,animationMode:n,className:b.ripple})),[I,n,b.ripple]);a.useEffect((()=>{var e;u&&x&&(null===(e=k.current)||void 0===e||e.scrollIntoView({block:"nearest"}))}),[x,u]);const T=h&&"none"!==t.selectionManager.selectionMode&&"toggle"===t.selectionManager.selectionBehavior,{onPointerDown:O}=E,M=(0,s._)(E,["onPointerDown"]),F=(0,d.v6)(M,A,{onPointerDown:e=>{var t;I.next({pageX:e.pageX,pageY:e.pageY}),null===(t=O)||void 0===t||t(e)}});return w.R.useEffectOnDidMount((()=>{var e;k.current&&(e=k.current,v.findAll(v.Guardians.isButtonLike)(e).forEach((e=>{var t;const n=null===(t=e.onpointerdown)||void 0===t?void 0:t.bind(e);e.onpointerdown=e=>{var t;e.stopPropagation(),null===(t=n)||void 0===t||t(e)}})))})),w.R.useSubscriptionTo(I.pipe(g.T((t=>{var n;return null===(n=p)||void 0===n?void 0:n({key:e.key,clickPoint:{x:Math.floor(t.pageX),y:Math.floor(t.pageY)}})})))),a.createElement("li",(0,r._)((0,o._)((0,r._)({},F),{ref:k}),(0,f.Ly)("none"!==t.selectionManager.selectionMode?S.selectableItem:S.item,_?b.pressed:void 0,x?b.focused:void 0,b.base)),a.createElement("div",C,T&&a.createElement(i,{item:e,state:t}),e.rendered),K())}function i({item:e,state:t}){const{checkboxProps:n}=(0,l.v0)({key:e.key},t);return a.createElement(b.S,(0,o._)((0,r._)({name:`${e.textValue}-checkbox`},n),{checked:h.s.create(Boolean(n.isSelected))}))}e.List=t,e.LiftedList=function(e){return(0,f.yY)(t)(e)},e.Item=p.q7;const E={position:"relative",overflow:"hidden",$nest:{'& > [role="gridcell"]':{display:"flex",justifyContent:"space-between",alignItems:"center",width:k.Ks.percent(100)}}},S=k.Ks.stylesheet({list:[{listStyle:"none",overflow:"auto",padding:0}],item:[E],selectableItem:[E,{cursor:"pointer"}]})}(i||(i={}))},14109:(e,t,n)=>{"use strict";n.d(t,{l:()=>$});var i=n(10334),r=n(17171),o=n(69384),s=n(50659),a=n(39105),l=n(23625),c=n(73921),d=n(66836),u=n(8071),p=n(97972),m=n(53651),f=n(59559),h=n(19840),g=n(87574),v=n(36094),b=n(15491),y=n(67326),k=n(11864),w=n(82608);const E=e=>{var{state:t,theme:n={}}=e,a=(0,o._)(e,["state","theme"]);const l=s.useRef(null),{listBoxProps:c}=(0,y.Xv)(a,t,l);return s.createElement("ul",(0,r._)((0,i._)({},c),{ref:l,className:n.listbox}),[...Array.from(t.collection)].map((e=>s.createElement(S,{key:e.key,item:e,state:t,theme:n.option}))))},S=({item:e,state:t,theme:n={}})=>{const o=s.useRef(null),{optionProps:a,isDisabled:l}=(0,y.xW)({key:e.key},t,o);return s.createElement(w.Typography,(0,i._)((0,r._)((0,i._)({nodeType:"li",styleType:w.Typography.Type.Base},a),{"aria-label":e["aria-label"],mount:o}),(0,h.Ly)("string"==typeof e.rendered?n.text:n.composite,l?C.optionDisabled:void 0,C.option)),e.rendered)},C=k.Ks.stylesheet({option:[{cursor:"pointer"}],optionDisabled:[{cursor:"not-allowed",opacity:.4}]});var _=n(26228),x=n(77167),A=n(80152),I=n(38107),K=n(13607);const T={display:"flex",flexDirection:"column",position:"relative",gap:k.Ks.rem(x.or)},O={appearance:"none",position:"relative",cursor:"pointer",display:"flex",boxSizing:"border-box",flexDirection:"row",alignItems:"center",padding:`${k.Ks.rem(x.or)} ${k.Ks.rem(x.Oh)} ${k.Ks.rem(x.or)} ${k.Ks.rem(x.CN)}`,gap:k.Ks.rem(x.CN),minWidth:"max-content",width:k.Ks.percent(100),height:k.Ks.rem(2),background:A.Q.Background.Base.Default,border:`1px solid ${A.Q.Background.Neutral.Default}`,borderRadius:k.Ks.rem(I.KD),lineHeight:k.Ks.rem(1.375),color:A.Q.Text.Base.Default,$nest:{"&:active":{borderColor:A.Q.Background.Brand.Default},"&[disabled]":{opacity:.4,cursor:"not-allowed"},"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${A.Q.Background.Base.Default}, 0 0 0 3px ${A.Q.Background.Brand.Default}`,outline:k.Ks.important("none"),zIndex:K.yg}}},M={borderColor:A.Q.Background.Brand.Default},F={borderColor:A.Q.Background.Critical.Default,$nest:{"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${A.Q.Background.Base.Default}, 0 0 0 3px ${A.Q.Background.Critical.Default}`,outline:k.Ks.important("none"),zIndex:K.yg}}},R={position:"absolute",right:k.Ks.rem(x.or),top:k.Ks.rem(x.or),transform:"scale(0.5)",$nest:{"$ path":{fill:A.Q.Background.Neutral.Default}}},B={color:A.Q.Background.Critical.Default},N={display:"flex",flexDirection:"column",gap:k.Ks.rem(x.or),margin:0,listStyle:"none",overflow:"auto",outline:k.Ks.important("none"),width:k.Ks.percent(100),padding:`${k.Ks.rem(x.or)} 0`},P={padding:k.Ks.rem(x.v$),gap:k.Ks.rem(x.v$)},D={padding:`${k.Ks.rem(x.or)} ${k.Ks.rem(x.CN)}`,$nest:{'&[aria-selected="true"], &[aria-selected="true"]:hover, &[aria-selected="true"]:focus-visible':{background:A.Q.Background.Brand.Default,color:A.Q.Text.Base.Inverse,outline:k.Ks.important("none")},'&[aria-selected="false"]:focus, &[aria-selected="false"]:focus-visible, &[aria-selected="false"]:hover':{background:A.Q.Background.Base.Subdued,outline:k.Ks.important("none")}}},j={borderRadius:k.Ks.rem(I.KD),$nest:{'&[aria-selected="true"], &:focus, &:focus-visible':{boxShadow:`0 0 0 1px ${A.Q.Background.Base.Default}, 0 0 0 3px ${A.Q.Background.Brand.Default}`,outline:k.Ks.important("none"),zIndex:K.yg}}},L={zIndex:K.yg},U=k.Ks.stylesheet({selectWrapper:[T],select:[O],selectGhost:[O,{border:"none",padding:0,height:"max-content"}],activeSelect:[O,M],errorSelect:[O,F],caret:[R],error:[B],listbox:[N],listboxPadded:[N,P],textOption:[D],compositeOption:[j],nativeCaret:[R,L],nativeSelectWrapper:[{position:"relative"}]});var $;!function(e){function t(e){var{placement:t,placeholder:d,theme:g={},type:v="select",error:b}=e,y=(0,o._)(e,["placement","placeholder","theme","type","error"]);const k=function(e){let t=(0,u.I)(e),n=(0,p.Vi)({...e,onSelectionChange:n=>{null!=e.onSelectionChange&&e.onSelectionChange(n),t.close()}}),[i,r]=(0,s.useState)(!1);return{...n,...t,open(){0!==n.collection.size&&t.open()},toggle(e){0!==n.collection.size&&t.toggle(e)},isFocused:i,setFocused:r}}(y),S=s.useRef(null),{labelProps:C,triggerProps:x,valueProps:A,menuProps:I}=(0,a.WM)(y,k,S),{buttonProps:K}=(0,l.s)(x,S),T=(0,c.v6)(K,x),{onPress:O,onPressStart:M,isDisabled:F}=T,R=(0,o._)(T,["onPress","onPressStart","isDisabled"]),B=`${K.id}-error`;var N,P;return s.createElement("div",(0,r._)((0,i._)({},(0,h.Ly)(U.selectWrapper,g.wrapper)),{"data-name":y.name}),Boolean(y.label)&&s.createElement(w.Typography,(0,i._)({styleType:w.Typography.Type.Base,nodeType:"label"},C),y.label),s.createElement(a.HJ,{state:k,triggerRef:S,label:y.label,name:y.name}),s.createElement("button",(0,r._)((0,i._)({},(0,h.Ly)("select"===v?Boolean(b)?U.errorSelect:k.isOpen?U.activeSelect:U.select:U.selectGhost,g.button),R),{disabled:F,"aria-describedby":Boolean(b)?B:void 0,ref:S}),s.createElement(w.Typography,(0,i._)({styleType:w.Typography.Type.Base,nodeType:"div"},A),null!=k.selectedItem?k.selectedItem.rendered:d),"select"===v&&s.createElement(m.I,{icon:f.e,size:"large",className:U.caret,accessibilityLabel:""})),s.createElement(n,{id:B},b),k.isOpen&&s.createElement(_.A,{state:k,triggerRef:S,placement:t,className:g.popover},s.createElement(E,(0,r._)((0,i._)({},I),{state:k,theme:{listbox:null!==(N=g.listbox)&&void 0!==N?N:"select"===v?U.listbox:U.listboxPadded,option:null!==(P=g.option)&&void 0!==P?P:{text:U.textOption,composite:U.compositeOption}}}))))}e.Item=d.q7,e.LiftedComponent=function(e){return(0,h.yY)(t)(e)},e.Component=t,e.NativeComponent=e=>{var{label:t,children:a,error:l}=e,c=(0,o._)(e,["label","children","error"]);const d=`${c.id}-error`,u=v.br(l);return s.createElement(g.F.div,{className:U.selectWrapper},s.createElement(w.Typography,{nodeType:"label",styleType:w.Typography.Type.Base,htmlFor:c.id},t),s.createElement("div",{className:U.nativeSelectWrapper},s.createElement(m.I,{icon:f.e,size:"large",className:U.nativeCaret,accessibilityLabel:""}),s.createElement(w.Typography,(0,r._)((0,i._)({nodeType:"select",styleType:w.Typography.Type.Base},c),{"aria-invalid":Boolean(l),"aria-errormessage":Boolean(l)?d:void 0,className:Boolean(l)?U.errorSelect:U.select}),a)),u.pipe(b.T((e=>s.createElement(n,{id:d},e)))))};const n=({id:e,children:t})=>Boolean(t)?s.createElement(w.Typography,{styleType:w.Typography.Type.Small,nodeType:"div",id:e,className:U.error,"aria-live":"assertive"},t):null}($||($={}))},43585:(e,t,n)=>{"use strict";n.d(t,{OT:()=>r,pY:()=>p,rh:()=>i});var i,r,o=n(63336),s=n(58193),a=n(86562),l=n(62597),c=n(63967),d=n(889),u=n(30295);function p({getMarkType:e,theme:t}){return({state:n,range:i,isAnimated:r,isBulkApplied:o,isEnclosed:s,isHidden:l})=>{const c=e(i()),d=(n===u.zQ.applied||n===u.zQ.success)&&[t.markAppliedBase,t.markHeight]||["vbar","vbar_partial"].includes(c)&&[]||l&&[]||[t.markLensBase,t.markHeight];switch(n){case u.zQ.faded:r&&d.push(t.markAnimated);break;case u.zQ.visible:{const e="underline_start"===c;switch(c){case"writing_expert":case"vbar_partial":break;case"writing_expert_partial":d.push(t.markWritingExpert);break;case"vbar":d.push(t.markVBar);break;case"focus":case"enclosing":d.push(t.markHidden);break;case"full":case"background":case"underline":case"underline_start":l||d.push(t.markVisible),r&&d.push(t.markAnimated),o?d.push(t.markBulkApplied):e&&d.push(t.markStart);break;default:(0,a.xb)(c)}break}case u.zQ.highlighted:{const e="underline_start"===c;switch(c){case"writing_expert":d.push(t.markSelected,t.markWritingExpertHighlighted);break;case"writing_expert_partial":d.push(t.markWritingExpert);break;case"vbar_partial":break;case"full":case"focus":l||(d.push(t.markSelected,t.markSelectedFocused,t.markVisible),o&&d.push(t.markBulkApplied));break;case"vbar":d.push(t.markVBar,t.markVBarHighlighted);break;case"enclosing":case"background":d.push(t.markSelected,t.markVisible);break;case"underline":case"underline_start":d.push(t.markSelectedFocused,t.markVisible),s&&d.push(t.markSelected),e&&d.push(t.markStart);break;default:(0,a.xb)(c)}r||d.push(t.noAnimation);break}case u.zQ.hidden:d.push(t.markHidden);break;case u.zQ.success:d.push("background"===e(i())?t.markSuccess:t.markHidden);break;case u.zQ.applied:d.push(o?t.markBulkAppliedAnimation:t.markApplied);break;case u.zQ.initial:case u.zQ.disposed:break;default:(0,a.xb)(n)}return d}}!function(e){e.fromAlert=function(e,t,n,i){const r=Boolean(e.lensId===l.J.SpecialId.Premium||e.lensId===l.J.SpecialId.FreePremiumAlerts&&!c.Fc.isFreePremium(e)),o=c.Fc.isLockedUIUphook(e);let s=l.J.outcomeFullTypeMatch(r&&!i||o?l.J.Type.Advanced:e.lensType)(n);return c.Fc.isEthicalAI(e)&&void 0!==e.highlightBackgroundColor&&void 0!==e.highlightUnderlineColor&&(s=n.custom(e.highlightBackgroundColor,e.highlightUnderlineColor)),c.Fc.isVbar(e)&&(s=n.custom("transparent","transparent")),c.Fc.isWithTeaser(e)&&(s=""),{markLensBase:s,markBase:n.markBase,markAppliedBase:n.markAppliedBase,markHeight:t?n.markHeightTall:n.markHeightStandard,markAnimated:n.markAnimated,markVisible:n.markVisible,markSelectedFocused:n.markSelectedFocused,markHidden:n.markHidden,markSuccess:n.markSuccess,markBulkApplied:n.markBulkApplied,markBulkAppliedAnimation:n.markBulkAppliedAnimation,markApplied:n.markApplied,noAnimation:n.noAnimation,markSelected:n.markSelected,markStart:n.markStart,markVBar:n.markVBar,markVBarHighlighted:n.markVBarHighlighted,markWritingExpert:n.markWritingExpert,markWritingExpertHighlighted:n.markWritingExpertHighlighted}}}(i||(i={})),function(e){e.byAhr=function(e){return t=>(0,o.pipe)(e.get(),s.Lw((e=>t.meta.id===e.meta.id)))?"full":"background"},e.byRangeType=function(e){return t=>c.Fc.isVbar(e)?d.l.isEnclosingView(t)?"vbar":"vbar_partial":c.Fc.isWithTeaser(e)?d.l.isEnclosingView(t)?"writing_expert":"writing_expert_partial":d.l.isFocusView(t)?"focus":d.l.isEnclosingView(t)?"enclosing":c.Fc.isCapiDone(e)?"background":e.hasNestedHighlights?d.l.isMainStartView(t)?"underline_start":"underline":"full"}}(r||(r={}))},38299:(e,t,n)=>{"use strict";n.d(t,{W:()=>h});var i=n(50659),r=n(87574),o=n(36840),s=n(14973),a=n(11864),l=n(72747),c=n(38427),d=n(46669),u=n(15491),p=n(2061),m=n(55101),f=n(64191);const h=({manager:e,views:t,onNotificationClose:n=o.Yi,theme:a={}})=>{const l=function(e,t,n={}){return r=>{const o=e[r.type],s=e=>()=>{r.actions.next(e)};return r.metadata.viewType===m.E.ViewType.standard?i.createElement(f.Rx.Wrapper,{key:r.id,notification:r,onClose:()=>{r.actions.next("closedByUser"),t(r)},theme:n},o(r,s)):i.createElement(i.Fragment,{key:r.id},o(r,s))}}(t,n,a.view),h=void 0!==a.grid?Object.assign({},S,a.grid):S,v=e.state.view((e=>e.filter(g(m.E.Position.bottomLeft)))),b=e.state.view((e=>e.filter(g(m.E.Position.bottomRight)))),y=e.state.view((e=>e.filter(g(m.E.Position.top))));return i.createElement(r.F.div,{className:h.container},c.zV(y,b,y,(e=>e.some(p.H.isHighPriority))).pipe(d.F(),u.T((e=>e&&i.createElement("div",{className:h.overlay},i.createElement(s.hJ,{positionType:"absolute",key:"notificationOverlay",preventClose:!0,overlayType:"light",alignment:"top-center",animate:!0,theme:{content:E.overlayContent,contentFaded:E.overlayContentFaded}}))))),i.createElement(r.F.div,{className:h.bottomLeft},v.view((e=>e.map(l)))),i.createElement(r.F.div,{className:h.bottomRight},b.view((e=>e.map(l)))),i.createElement(r.F.div,{className:h.top},y.view((e=>e.map(l)))))};function g(e){return t=>t.metadata.position===e}const v={position:"fixed",top:0,left:0,zIndex:l.rZ,width:a.Ks.percent(100),height:a.Ks.percent(100),pointerEvents:"none"},b={position:"absolute",zIndex:l.rZ,display:"flex",flexDirection:"column",width:a.Ks.rem(27),pointerEvents:"auto",alignItems:"flex-end"},y={right:a.Ks.rem(l.xu),bottom:a.Ks.rem(1.5)},k={bottom:a.Ks.rem(1.5),left:a.Ks.rem(2)},w={transition:"transform .1s",transformOrigin:"center"},E=a.Ks.stylesheet({notificationContainer:[v],notificationWrapper:[b],bottomRightNotificationWrapper:[b,y],bottomLeftNotificationWrapper:[b,k],topNotificationWrapper:[b,{top:0,right:0,left:0,margin:"0 auto"}],overlayContentBase:[w],overlayContent:[w,{transform:"none"}],overlayContentFaded:[w,{transform:"scale(.95)"}]}),S={container:E.notificationContainer,bottomLeft:E.bottomLeftNotificationWrapper,bottomRight:E.bottomRightNotificationWrapper,top:E.topNotificationWrapper}},51963:(e,t,n)=>{"use strict";n.d(t,{k:()=>v});var i=n(10334),r=n(17171),o=n(50659),s=n(80074),a=n(87574),l=n(19840),c=n(86922),d=n(65873),u=n(11864),p=n(4885),m=n(72747),f=n(38427),h=n(36094),g=n(15491);function v({value:e,className:t,leftCustomClass:n,rightCustomClass:c}){const d=s.s.create(!1);requestAnimationFrame((()=>requestAnimationFrame((()=>d.set(!0)))));const u=f.zV(h.br(e),d,((e,t)=>t?`${Math.max(5,Math.abs(e-50))}%`:0)),p=(e,t,n)=>h.br(e).pipe(g.T((e=>e<50?t:n)));return o.createElement(a.F.div,(0,l.Ly)((e=>h.br(e).pipe(g.T((e=>e<50?E.leftSideWrapper:E.rightSideWrapper))))(e),t),o.createElement(a.F.div,(0,r._)((0,i._)({},(0,l.Ly)(p(e,E.leftSideProgress,E.rightSideProgress),Boolean(n)&&Boolean(c)&&p(e,n,c))),{style:{width:u}})))}!function(e){e.Label=({value:e,className:t})=>{const n=o.useContext(c.S.Context).performance,i=e>66?n.aboveAverage:e>50?n.average:n.belowAverage;return o.createElement(d.Oc,{className:t},i)}}(v||(v={}));const b={position:"relative",zIndex:1,display:"flex",width:u.Ks.percent(100),height:u.Ks.rem(.25),borderRadius:u.Ks.rem(m.H0)},y={height:u.Ks.percent(100),backgroundColor:p.aD,transition:"width .8s ease-in-out 0s"},k={marginRight:u.Ks.percent(50),borderTopLeftRadius:u.Ks.rem(.25),borderBottomLeftRadius:u.Ks.rem(.25)},w={marginLeft:u.Ks.percent(50),borderTopRightRadius:u.Ks.rem(.25),borderBottomRightRadius:u.Ks.rem(.25)},E=u.Ks.stylesheet({wrapper:[b],leftSideWrapper:[b,{justifyContent:"flex-end"}],rightSideWrapper:[b,{justifyContent:"flex-start"}],progress:[y],leftSideProgress:[y,k],rightSideProgress:[y,w]})},2694:(e,t,n)=>{"use strict";n.d(t,{C2:()=>Q});var i=n(10334),r=n(17171),o=n(50659),s=n(63336),a=n(80152),l=n(24497),c=n(87574),d=n(80074),u=n(19840),p=n(44297),m=n(36840),f=n(21476),h=n(86922),g=n(19967),v=n(7886),b=n(14973),y=n(82608),k=n(91987),w=n(36094),E=n(19772),S=n(15491),C=n(38427),_=n(95168),x=n(69384),A=n(30040),I=n(50581),K=n(27199),T=n(11864);const O=.8125,M={display:"flex",flexDirection:"column",maxHeight:"90vh",width:T.Ks.rem(41.5),backgroundColor:K.Q1.CoreNeutral0,textAlign:"left"},F={padding:`${T.Ks.rem(1.125)} ${T.Ks.rem(2)} ${T.Ks.rem(1)}`,paddingBottom:T.Ks.rem(1)},R={paddingBottom:0,backgroundColor:K.Q1.CoreNeutral0,flexShrink:0,$nest:{"&:after":{position:"absolute",bottom:0,display:"block",width:`calc(100% - ${T.Ks.rem(4)})`,height:T.Ks.px(1),background:K.Q1.CoreNeutral20,content:"''"}}},B={display:"block",margin:`${T.Ks.rem(O)} 0`,color:K.Q1.CoreNeutral90,fontWeight:K.EY.SmallLightWeight,lineHeight:T.Ks.rem(1.5)},N={minHeight:T.Ks.rem(4)},P={display:"flex",$nest:{"&:not(:last-child)":{marginBottom:T.Ks.rem(1.25),borderBottom:`1px solid ${K.Q1.CoreNeutral20}`}}},D={marginBottom:T.Ks.rem(-.5),maxWidth:T.Ks.rem(27),justifyContent:"initial",flexWrap:"wrap",$nest:{"& > .setGoalsToneButton":{margin:`0 0 ${T.Ks.rem(.5)}`,marginLeft:T.Ks.important(0),$nest:{"&:not(:last-child)":{marginRight:T.Ks.rem(.5)}}}}},j={width:T.Ks.rem(7),textTransform:"capitalize",lineHeight:T.Ks.rem(2)},L={marginTop:T.Ks.rem(O)},U={margin:`0 0 ${T.Ks.rem(1.5)} ${T.Ks.rem(7)}`},$={margin:`0 0 ${T.Ks.rem(1.5)} ${T.Ks.rem(7)}`},H={position:"absolute",top:T.Ks.rem(2.5)},V={display:"flex",width:T.Ks.percent(100),justifyContent:"space-between"},z={color:K.Q1.CoreNeutral90,fontWeight:300,fontSize:T.Ks.rem(.8125)},W=T.Ks.stylesheet({wrapper:[M],modalBody:[F],modalHeader:[R],itemDescription:[B],modalFooter:[N],row:[P],toneButtons:[D],rowHeader:[j],extraContent:[L],title:[U],description:[$],image:[H],footerWrapper:[V],checkboxText:[z]}),Z=({name:e,items:t,sticky:n,theme:r={},extraContent:s,children:a,isVisible:l})=>o.createElement(c.F.Fragment,null,l.view((l=>l?o.createElement("div",{className:W.row},o.createElement("div",null,o.createElement(y.Typography,{nodeType:"h3",styleType:y.Typography.Type.H4,className:W.rowHeader},e),s),o.createElement("div",null,o.createElement(g.$n.Group,{sticky:n,className:r.buttonsGroup},t.map((t=>{var{description:n}=t,s=(0,x._)(t,["description"]);const a=I.createUniqueId(s.key);return o.createElement(o.Fragment,{key:s.key},o.createElement(g.$n.White,(0,i._)({className:r.button,name:`context-${e}-${s.key}`,"aria-describedby":a},s)),o.createElement("span",{hidden:!0,id:a},e,": ",n))}))),o.createElement(y.Typography.Small,{className:W.itemDescription},a))):null))),G=({items:e,current:t,isVisible:n,shouldDisable:i,itemDescription:r,onGoalSet:o,itemTitle:s=A.identity})=>({sticky:!0,isVisible:n,items:e.map((e=>({key:e,active:t.view((t=>t===e)),onClick:()=>{t.set(e),o&&o()},disabled:i&&i(e),children:s(e),description:r(e)})))}),Q=({blocks:e,features:t,showOnLoad:n,close:i,upgrade:r,reset:s,showOnLoadChanged:a,setGoal:l})=>{const c=o.useContext(f.f.Context),d=w.br(t),u=w.br(e),p=w.br(n),m=w.br(i);return o.createElement(b.aF,{className:W.wrapper,focusTrapMode:"dynamic",initialFocus:E.R.FocusTrap.InitialFocus.none},o.createElement(b.aF.Header,{className:W.modalHeader},o.createElement(J,null)),o.createElement(b.aF.Body,{name:"goalsBody",className:W.modalBody},o.createElement(q,{features:d,upgradeAction:r,blocks:u,onGoalSet:l})),o.createElement(b.aF.Footer,{className:W.modalFooter},o.createElement(Y,{supportsSetGoalsLoader:d.pipe(S.T((e=>!e.demoMode&&c.has(f.f.Flag.supportsSetGoalsLoader)))),onDone:m,reset:s,showOnLoad:p,showOnLoadChanged:a})))},q=({blocks:e,features:t,upgradeAction:n,onGoalSet:a})=>{const l=o.useContext(h.S.Context).goals;return o.createElement(c.F.Fragment,null,C.zV(e,t).pipe(S.T((([{audience:e,formality:t,domain:d,intent:u,type:m,format:f},h])=>{h.isEligibleForFreeTrialEuUk&&h.assignToFreeTrialEuUkExperiment(),h.assignToProVsPremiumExperiment();const g=o.createElement(Z,(0,r._)((0,i._)({name:"domain"},G((0,r._)((0,i._)({},d),{onGoalSet:a,itemTitle:e=>"mail"===e?"email":e,itemDescription:e=>l.sections.domain[e]}))),{extraContent:o.createElement(c.F.div,{className:W.extraContent},h.isFree?o.createElement(k.R,{size:"link",upgradeAction:n,isEligibleForFreeTrial:h.isEligibleForFreeTrial,isEligibleForPro:h.isEligibleForPro}):null)}),d.current.view((e=>h.isFree?l.sections.domain.free:Boolean(e)?l.sections.domain[e]:""))),v=o.createElement(Z,(0,i._)({name:"intent"},(({items:e,isVisible:t,current:n},i,r,o)=>({isVisible:t,items:e.map((e=>({key:e,active:n.view((t=>(0,s.pipe)(t,p.exists((t=>t.has(e)))))),description:r(e),onClick:()=>{n.modify((t=>{const n=(0,s.pipe)(t,p.fold((()=>new Set),(e=>new Set(e))));return n.has(e)?n.delete(e):n.add(e),p.some(n)})),o&&o()},children:i(e)})))}))(u,(e=>l.sections.intent.options[e]),(e=>l.sections.intent.options[e]),a)),l.sections.intent.experimental),b=o.createElement(Z,(0,i._)({name:"audience"},G((0,r._)((0,i._)({},e),{onGoalSet:a,itemDescription:t=>l.sections.audience[t]((0,s.pipe)(e.default,p.exists((e=>e===t))))}))),e.current.view((t=>Boolean(t)&&l.sections.audience[t]((0,s.pipe)(e.default,p.exists((e=>e===t))))))),y=o.createElement(Z,(0,i._)({name:"formality"},G((0,r._)((0,i._)({},t),{onGoalSet:a,itemDescription:e=>l.sections.formality[e]}))),t.current.view((e=>Boolean(e)?l.sections.formality[e]:""))),w=o.createElement(Z,(0,i._)({name:"type"},G((0,r._)((0,i._)({},m),{itemDescription:e=>l.sections.type.options[e]}))),m.current.view((e=>Boolean(e)?l.sections.type.options[e]:""))),E=o.createElement(Z,(0,i._)({name:"format"},G((0,r._)((0,i._)({},f),{itemTitle:l.sections.format.formatTitle,itemDescription:e=>l.sections.format.options[e]}))),f.current.view((e=>Boolean(e)?l.sections.format.options[e]:"")));return h.isStudentsOFE?o.createElement(o.Fragment,null,g,v,b,y,w,E):o.createElement(o.Fragment,null,b,y,g,v)}))))},J=()=>{const e=o.useContext(h.S.Context).goals,t=o.useContext(b.aF.TitleIdContext);return o.createElement(o.Fragment,null,o.createElement(y.Typography,{nodeType:"h2",styleType:y.Typography.Type.H1,id:t,className:W.title},e.title),o.createElement(X,null),o.createElement(b.aF.SpokenDescription,null,o.createElement(y.Typography.Base,{className:W.description},e.header)))},Y=({supportsSetGoalsLoader:e,showOnLoad:t,showOnLoadChanged:n,reset:i,onDone:r})=>{const s=o.useContext(h.S.Context),a=d.s.create(!1);return E.R.useSubscriptionTo(t.pipe(_.M(w.H9(a)))),E.R.useSubscriptionTo(a.pipe(_.M(n))),o.createElement(c.F.div,(0,u.Ly)(e.pipe(S.T((0,m.Sw)(W.footerWrapper,null)))),e.pipe(S.T((0,m.Sw)(o.createElement(v.S,{checked:a,name:"set-goals"},o.createElement(y.Typography.Small,{className:W.checkboxText},s.goals.footer.showModalOnStart)),null))),o.createElement(g.$n.Group,null,o.createElement(g.$n.Ghost,{name:"reset",onClick:i},s.goals.footer.reset),r.pipe(S.T((e=>o.createElement(g.$n.Primary,{name:"closeSetContext",onClick:e},s.done))))))},X=()=>o.createElement("svg",{"aria-hidden":!0,className:W.image,width:"69",height:"80",viewBox:"0 0 69 80"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{d:"M28.935 70C12.955 70 0 57.045 0 41.065 0 25.085 12.955 12.13 28.935 12.13c15.98 0 28.936 12.954 28.936 28.935C57.87 57.045 44.917 70 28.936 70zm0-12.242c9.22 0 16.694-7.474 16.694-16.693 0-9.22-7.475-16.694-16.695-16.694s-16.693 7.475-16.693 16.695 7.474 16.693 16.693 16.693z",fill:a.Q.Background.Brand.Default}),o.createElement("path",{d:"M28.935 57.758c-9.22 0-16.693-7.474-16.693-16.693 0-9.22 7.474-16.694 16.693-16.694 9.22 0 16.694 7.475 16.694 16.695s-7.475 16.693-16.695 16.693zm0-11.13a5.564 5.564 0 1 0 0-11.128 5.565 5.565 0 0 0 .001 11.129z",fill:l.Green10}),o.createElement("circle",{fill:"#FFF",cx:"28.935",cy:"41.065",r:"5.565"}),o.createElement("path",{stroke:a.Q.Background.Brand.Default,strokeLinecap:"round",strokeWidth:"1.5",d:"M15.024 68.016L9.46 78.5m32.274-10.484L47.298 78.5"}),o.createElement("path",{d:"M61.96 13.367a.65.65 0 0 1 .645.656.65.65 0 0 1-.646.655h-6.075L29.35 41.7a.636.636 0 0 1-.913 0 .663.663 0 0 1 0-.927L54.972 13.75V7.59a.65.65 0 0 1 .645-.656.65.65 0 0 1 .646.656v5.777h5.696zm3.17-3.215a.65.65 0 0 1 .646.655.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V4.372a.65.65 0 0 1 .646-.655.65.65 0 0 1 .644.655v5.78h5.696zm3.17-3.218a.65.65 0 0 1 .647.656.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V1.155A.65.65 0 0 1 61.96.5a.65.65 0 0 1 .645.655v5.78H68.3z",fill:a.Q.Background.Brand.Default}),o.createElement("path",{d:"M49.267 20.486l-8.586 8.757",stroke:a.Q.Background.Base.Default,strokeWidth:"1.3"})))},17772:(e,t,n)=>{"use strict";n.d(t,{f:()=>M});var i=n(10334),r=n(50659),o=n(53651),s=n(12783),a=n(38976),l=n(2617),c=n(87574),d=n(19840),u=n(19772),p=n(38548),m=n(86922),f=n(15491),h=n(51707),g=n(24497),v=n(77167),b=n(38107),y=n(39606),k=n(80152),w=n(11864);const E=g.NeutralGray10,S=(0,i._)({position:"relative",left:0,top:w.Ks.px(1),padding:w.Ks.rem(v.or),borderRadius:w.Ks.rem(b.Dk),fontSize:w.Ks.rem(.75),lineHeight:w.Ks.rem(1.3125),background:"white",display:"flex",alignItems:"flex-start",justifyContent:"center",minHeight:w.Ks.rem(2.625),width:w.Ks.rem(21.5)},y.GP),C={borderTopLeftRadius:w.Ks.important(0)},_={borderBottomLeftRadius:w.Ks.important(0)},x={display:"flex",alignItems:"flex-start",gap:w.Ks.rem(v.v$),padding:w.Ks.rem(v.v$),paddingRight:w.Ks.rem(v.OE),borderRadius:w.Ks.rem(b.Dk),fontSize:w.Ks.rem(.875),background:"transparent",$nest:{"&:hover":{background:E}}},A={marginRight:w.Ks.rem(.25),marginLeft:0},I={color:k.Q.Text.Addition.Default,display:"inline-block"},K={position:"absolute",bottom:0,right:0,height:w.Ks.percent(100),padding:w.Ks.rem(v.v$),display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-end",alignSelf:"stretch",$nest:{"& button":{width:w.Ks.rem(v.Oh),height:w.Ks.rem(v.Oh)}}},T={display:"flex",alignItems:"center",justifyContent:"center",height:w.Ks.rem(1.25),paddingLeft:w.Ks.rem(v.or)},O=w.Ks.stylesheet({teaserContainerDown:[S,C],teaserContainerUp:[S,_],teaserContent:[{display:"inline-block",width:"fit-content",textAlign:"left"}],clickableArea:[x],suggestionText:[A],expandBtn:[I],actionsContainer:[K],logo:[T]}),M=({text:e,children:t,placement:n,state:g,onMount:v,onExpand:b,onDismiss:y})=>{const{writingExpert:k}=r.useContext(m.S.Context);return u.R.useEffectOnDidMount(v),r.createElement(c.F.Fragment,null,g.pipe(f.T((u=>"visible"===u?r.createElement("div",{className:"down"===n?O.teaserContainerDown:O.teaserContainerUp},r.createElement("button",(0,i._)({onClick:b},(0,d.Ly)(p.vx,O.clickableArea)),r.createElement("div",{className:O.logo},r.createElement(o.I,{icon:s.c,size:"small",accessibilityLabel:""})),r.createElement("div",{className:O.teaserContent},r.createElement("span",(0,i._)({},(0,d.Ly)(O.suggestionText),h.mA(`${e}.`,{allowedTags:["i","b"]}))),r.createElement("b",{className:O.expandBtn},k.showThisChange))),r.createElement("div",{className:O.actionsContainer},r.createElement(a.K,{icon:l.C,size:"medium",accessibilityLabel:k.dismiss,variant:"tertiary",onClick:y}))):r.createElement(c.F.Fragment,null,t)))))}},91987:(e,t,n)=>{"use strict";n.d(t,{R:()=>f});var i=n(10334),r=n(17171),o=n(50659),s=n(19840),a=n(27199),l=n(86922),c=n(19967),d=n(27917),u=n(11864),p=n(4885),m=n(72747);const f=({upgradeAction:e,size:t,title:n,className:a,isEligibleForFreeTrial:u,isEligibleForPro:p})=>{const m=o.useContext(l.S.Context),f=Boolean(p)?m.getPro:Boolean(u)?m.tryForFree:m.goPremium,h=Boolean(n)?n:f;return o.createElement(c.$n,(0,r._)((0,i._)({name:"upgrade"},(0,s.Ly)(a,"big"===t?A.baseBig:"link"===t?A.link:A.baseSmall)),{onClick:e}),"link"===t?o.createElement(d.In.PaidLink,{width:14,className:A.linkIcon}):o.createElement(d.In.Paid,{className:"big"===t?A.bigIcon:A.icon}),h)},h={display:"inline-flex",alignItems:"center",background:a.Q1.CoreGreen60,borderRadius:u.Ks.rem(m.H0),boxShadow:`0 2px 5px ${u.Ks.color(p.V9).fade(.35).toRGBA().toString()}`,color:a.Q1.CoreNeutral0,textTransform:"uppercase",letterSpacing:u.Ks.rem(m.oU),fontWeight:"bold",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:u.Ks.color(a.Q1.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:u.Ks.color(a.Q1.CoreGreen60).tint(.2).toRGBA().toString()}}},g={padding:`0 ${u.Ks.rem(3)} 0 ${u.Ks.rem(2)}`,fontSize:u.Ks.rem(.8125),lineHeight:u.Ks.rem(3)},v={padding:`0 ${u.Ks.rem(1)} 0 ${u.Ks.rem(.5)}`,fontSize:u.Ks.rem(.6875),lineHeight:u.Ks.rem(2)},b={background:a.Q1.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:u.Ks.color(a.Q1.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:u.Ks.color(a.Q1.CoreGreen60).tint(.2).toRGBA().toString()}}},y={padding:`0 ${u.Ks.rem(3)} 0 ${u.Ks.rem(2)}`,fontSize:u.Ks.rem(.8125),lineHeight:u.Ks.rem(3)},k={padding:`0 ${u.Ks.rem(2)} 0 ${u.Ks.rem(.5)}`,fontSize:u.Ks.rem(.6875),lineHeight:u.Ks.rem(2)},w={fill:a.Q1.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{fill:a.Q1.CoreNeutral0}}},E={marginRight:u.Ks.rem(.2)},S={display:"inline-flex",alignItems:"center",color:a.Q1.CoreGreen60,fontSize:u.Ks.rem(.75),transition:"transform .2s ease-out",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{transform:"scale(1.05)"},"&:not([data-disabled='true']):active":{transition:"none",transform:"scale(1)"}}},C={color:a.Q1.CoreGreen60},_={fill:a.Q1.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:a.Q1.CoreGreen60}}},x={fill:a.Q1.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:a.Q1.CoreGreen60}}},A=u.Ks.stylesheet({base:[h],baseBig:[h,g],baseSmall:[h,v],baseUpHookRedesign:[h,b],baseBigUpHookRedesign:[g,b,y],baseSmallUpHookRedesign:[v,b,k],icon:[w],bigIcon:[w,E],link:[S],linkUpHookRedesign:[S,C],linkIconUpHookRedesign:[_],linkIcon:[x]})},92391:(e,t,n)=>{"use strict";n.d(t,{PA:()=>j,LX:()=>D,yz:()=>N,Kk:()=>U});var i=n(10334),r=n(17171),o=n(50659),s=n(53651),a=n(15753),l=n(97292),c=n(73407),d=n(87574),u=n(19840),p=n(41548),m=n(27917),f=n(11864),h=n(15491),g=n(44297),v=n(51707),b=n(24497),y=n(39606),k=n(80152);const w=1,E={position:"absolute",alignItems:"end",overflow:"visible",cursor:"pointer",width:f.Ks.rem(w),$nest:{"&:after":{content:'""',position:"absolute",left:"0",top:"0",right:f.Ks.rem(-.625),height:"100%",backgroundColor:"transparent",zIndex:1}}},S={backgroundColor:b.Green60,width:f.Ks.px(4),borderRadius:f.Ks.px(2),position:"absolute",top:0,right:0,bottom:0},C=(0,r._)((0,i._)({},S),{bottom:`calc(${f.Ks.rem(1.5)} + 1px)`}),_={position:"absolute",left:0,top:f.Ks.px(1),padding:f.Ks.rem(.5),boxShadow:y.R$.boxShadow,borderRadius:f.Ks.rem(.5),fontSize:f.Ks.rem(.75),background:"white",display:"flex",alignItems:"flex-start",justifyContent:"center",$nest:{div:{width:"fit-content",display:"flex"}},width:"max-content",minHeight:f.Ks.rem(2.625),minWidth:f.Ks.rem(8),maxWidth:f.Ks.rem(16)},x=(0,r._)((0,i._)({},_),{borderTopLeftRadius:0}),A={right:0,position:"absolute",width:f.Ks.rem(1.5),height:f.Ks.rem(1.5),cursor:"pointer"},I=(0,r._)((0,i._)({},A),{bottom:0,zIndex:999,overflow:"visible"}),K=(0,r._)((0,i._)({},A),{top:0,border:`${f.Ks.px(.5)} solid ${k.Q.Border.Base.Subdued}`,borderRadius:`${f.Ks.rem(1)} ${f.Ks.rem(1)} 0 ${f.Ks.rem(1)}`,boxShadow:y.R$.boxShadow,display:"flex",alignItems:"center",justifyContent:"center",background:"white"}),T=(0,r._)((0,i._)({},K),{borderRadius:`${f.Ks.rem(1)} 1px ${f.Ks.rem(1)} ${f.Ks.rem(1)}`}),O={$nest:{svg:{width:f.Ks.rem(1.25)}}},M={marginRight:f.Ks.rem(.25),marginLeft:0},F={padding:0,backgroundColor:b.White,height:f.Ks.rem(1.5),width:f.Ks.rem(1.5),borderRadius:f.Ks.rem(.75),display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:f.Ks.rem(.5),right:f.Ks.rem(-2),cursor:"pointer",border:`${f.Ks.px(.5)} solid ${k.Q.Border.Base.Subdued}`,boxShadow:y.R$.boxShadow,color:"inherit",font:"inherit",outline:"inherit"},R=f.Ks.stylesheet({vbarWrapper:[E],vbarLine:[S],vbarLineWithSticker:[C],vbarStickerReplacementExpanded:[_],vbarStickerInsertionExpanded:[x],vbarStickerContainer:[I],vbarStickerInsertion:[K],vbarStickerReplacement:[T],vbarActionIcon:[O],vbarSuggestionText:[M],dismissBtn:[F]}),B=40,N=({model:e,InlineCard:t,suggestionFeedback:n})=>{const i=e.isVisibleFeedbackModal.view(g.isSome);return o.createElement(o.Fragment,null,o.createElement(d.F.Fragment,null,e.isVisibleFeedbackModal.view((t=>g.isSome(t)?n({visible:i,alert:t.value,submitFeedback:n=>e.submitFeedback(t.value.id,n),close:()=>e.onCloseFeedbackModal()}):null))),o.createElement(d.F.Fragment,null,e.items.pipe(h.T((n=>o.createElement(o.Fragment,null,n.map((n=>o.createElement(P,{key:n.alert.id,model:n,applyAlert:()=>e.applyAlert(n.alert.id),giveFeedback:()=>e.onGiveFeedbackClick(n.alert.id),dismissAlert:()=>e.dismissAlert(n.alert.id),onMount:()=>e.onVbarMount(n.alert.id),onInlineCardMount:()=>e.onInlineCardMount(n.alert.id),onStickerMount:()=>e.onStickerMount(n.alert.id),onClick:()=>e.onVbarClick(n.alert.id),onDismiss:()=>e.dismissAlert(n.alert.id),onClose:e.onVbarClose.bind(e),onMouseEnter:()=>e.onVbarMouseEnter(n.alert.id),onMouseLeave:()=>e.onVbarMouseLeave(n.alert.id),InlineCard:t,withSticker:n.withSticker})))))))))},P=({model:e,applyAlert:t,dismissAlert:n,giveFeedback:s,onClick:a,onClose:l,onDismiss:c,onMount:m,onStickerMount:f,onInlineCardMount:g,onMouseEnter:v,onMouseLeave:b,InlineCard:y,withSticker:k})=>{o.useEffect((()=>{m()}),[m]);const w=o.useContext(p.q.Context),E=U(e);return"opened"===e.state?o.createElement(y,{alert:e.alert,position:E.card,applyAlert:t,dismissAlert:n,giveFeedback:s,title:e.alert.title,onMount:g,close:l}):o.createElement(d.F.div,(0,r._)((0,i._)({role:"button",onClick:a,onMouseEnter:v,onMouseLeave:b,key:e.alert.id},(0,u.Ly)(R.vbarWrapper)),{style:(0,i._)({},E.vbar)}),o.createElement("div",{className:k?R.vbarLineWithSticker:R.vbarLine,style:{visibility:E.isVbarTooShort&&k?"hidden":"visible"}}),k&&w.pipe(h.T((e=>16===e?"medium":e>16?"large":"small")),h.T((t=>o.createElement(D,{mode:"replacement",size:t,text:e.alert.miniCardTitle,isExpanded:"hovered"===e.state,onMount:f,onDismiss:c})))))},D=({isExpanded:e,text:t,mode:n,size:r,onMount:d,onDismiss:p})=>(o.useEffect((()=>{e&&d()}),[d,e]),o.createElement("div",{className:R.vbarStickerContainer},e?o.createElement("div",{className:"insertion"===n?R.vbarStickerInsertionExpanded:R.vbarStickerReplacementExpanded},o.createElement("div",{className:R.vbarActionIcon},"replacement"===n?o.createElement(m.$.Replacement,null):o.createElement(m.$.Insertion,null)),o.createElement("span",(0,i._)({},(0,u.Ly)(R.vbarSuggestionText),v.mA(t,{allowedTags:["i","b"]}))),o.createElement("div",null,o.createElement(s.I,{icon:a.E,size:r,accessibilityLabel:"Open suggestion"})),o.createElement(l.m_,{placement:"top"},o.createElement(l.k$,{asChild:!0},o.createElement("button",{className:R.dismissBtn,onClick:p},o.createElement(s.I,{icon:c.D,size:r,accessibilityLabel:"Dismiss"}))),o.createElement(l.ZI,{root:null},"Dismiss"))):o.createElement("div",{className:"insertion"===n?R.vbarStickerInsertion:R.vbarStickerReplacement},"replacement"===n?o.createElement(m.$.Replacement,null):o.createElement(m.$.Insertion,null)))),j=1,L=999999;function U(e){const t=e.bottom-e.top<B;return{card:{left:`calc(${f.Ks.px(e.left)} - ${f.Ks.rem(j)})`,top:`${e.bottom}px`,zIndex:L},vbar:{left:`calc(${f.Ks.px(e.left)} - ${f.Ks.rem(w)} - ${f.Ks.rem(.25)})`,top:`${e.top}px`,height:t&&e.withSticker?f.Ks.rem(1.75).toString():f.Ks.px(e.bottom-e.top),zIndex:Math.abs(L-e.top)},isVbarTooShort:t}}},72400:(e,t,n)=>{"use strict";var i;n.d(t,{N:()=>i}),function(e){e.group=function(e){return Object.values(e.reduce(((e,{lensName:t,isFree:n,cost:i})=>(void 0===e[t]&&(e[t]={lensName:t,free:0,premium:0}),e[t][n?"free":"premium"]+=i,e)),{})).sort(((e,t)=>t.premium-e.premium))}}(i||(i={}))},80536:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var i,r=n(63336),o=n(44297);!function(e){e.group=function(e){return Object.values(e.reduce(((e,{group:t,category:n,categoryHuman:i,cost:r})=>(void 0===e[n]&&(e[n]={group:t,category:n,categoryHuman:i,count:0,lensName:"",bundleInfo:o.none}),e[n].count+=r,e)),{})).sort(((e,t)=>t.count-e.count))},e.groupByGroup=function(e){return Object.values(e.reduce(((e,{group:t,category:n,categoryHuman:i,cost:r,lensName:s="",bundleInfo:a=o.none})=>(void 0===e[s]&&(e[s]={group:t,category:n,categoryHuman:i,count:0,lensName:s,bundleInfo:a}),e[s].count+=r,e)),{})).sort(((e,t)=>t.count-e.count))},e.groupByBundleInfo=function(e){return Object.values(e.reduce(((e,{group:t,category:n,categoryHuman:i,cost:s,lensName:a="",bundleInfo:l=o.none})=>{const c=(0,r.pipe)(l,o.getOrElse((()=>i)));return void 0===e[c]&&(e[c]={group:t,category:n,categoryHuman:i,count:0,lensName:a,bundleInfo:l}),e[c].count+=s,e}),{})).sort(((e,t)=>t.count-e.count))}}(i||(i={}))},89211:(e,t,n)=>{"use strict";n.d(t,{E:()=>y,Q:()=>i});var i,r=n(23988),o=n(10334),s=n(17171),a=n(30040),l=n(63336),c=n(8138),d=n(66799),u=n(29052),p=n(44297),m=n(77396),f=n(86562),h=n(69063),g=n(68594),v=n(42543),b=n(75363);class y{get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}dispose(){this._subs.forEach((e=>e.unsubscribe()))}constructor(e,t,n,i,a){(0,r._)(this,"_capi",void 0),(0,r._)(this,"events",void 0),(0,r._)(this,"_documentContextHolder",void 0),(0,r._)(this,"_dialectSettings",void 0),(0,r._)(this,"_log",void 0),(0,r._)(this,"_subs",void 0),(0,r._)(this,"pushChanges",void 0),(0,r._)(this,"_warnOnCommandFail",void 0),(0,r._)(this,"setSessionOption",void 0),(0,r._)(this,"resetReconnectInfo",void 0),(0,r._)(this,"sendFeedback",void 0),(0,r._)(this,"requestDocStats",void 0),(0,r._)(this,"requestSynonyms",void 0),(0,r._)(this,"requestSnippets",void 0),(0,r._)(this,"requestWritingExpert",void 0),(0,r._)(this,"shortenItSubmit",void 0),(0,r._)(this,"enablePlagiarismSearch",void 0),(0,r._)(this,"disablePlagiarismSearch",void 0),(0,r._)(this,"enableWritingExpert",void 0),(0,r._)(this,"disableWritingExpert",void 0),(0,r._)(this,"realtimeProofitSubmit",void 0),(0,r._)(this,"realtimeProofitCancel",void 0),(0,r._)(this,"submitRecipients",void 0),(0,r._)(this,"submitScoreSurveyResult",void 0),(0,r._)(this,"submitSurvey",void 0),(0,r._)(this,"sendUserAction",void 0),(0,r._)(this,"sendDebugReport",void 0),(0,r._)(this,"ping",void 0),(0,r._)(this,"getText",void 0),(0,r._)(this,"close",void 0),(0,r._)(this,"isClosed",void 0),(0,r._)(this,"updateContextInfo",void 0),(0,r._)(this,"setContext",void 0),(0,r._)(this,"published",void 0),(0,r._)(this,"enqueueExternalCommand",void 0),(0,r._)(this,"registerExternalMessageHandler",void 0),this._capi=e,this.events=t,this._documentContextHolder=n,this._dialectSettings=i,this._log=h.Bx.Logging.getLogger("ObservableCAPIClientImpl"),this._subs=[],this.pushChanges=e=>(0,l.pipe)(this._capi.pushChanges(e),u.qE((e=>(this._log.warn("Failed to push changes",e),e)))),this._warnOnCommandFail=e=>(0,l.pipe)(e,u.AU((e=>(this._log.warn("CAPI command failed",e),u.kb(e))),(e=>u.pG(e)))),this.setSessionOption=e=>(0,l.pipe)(this._capi.setSessionOption(e),this._warnOnCommandFail),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>(0,l.pipe)(this._capi.sendFeedback(e),this._warnOnCommandFail),this.requestDocStats=(0,l.pipe)(this._capi.requestDocStats,this._warnOnCommandFail),this.requestSynonyms=(e,t)=>(0,l.pipe)(this._capi.requestSynonyms(e,t),this._warnOnCommandFail),this.requestSnippets=e=>(0,l.pipe)(this._capi.requestSnippets(e),this._warnOnCommandFail),this.requestWritingExpert=()=>(0,l.pipe)(this._capi.requestWritingExpert(),this._warnOnCommandFail),this.shortenItSubmit=e=>(0,l.pipe)(this._capi.shortenItSubmit(e),this._warnOnCommandFail),this.enablePlagiarismSearch=(0,l.pipe)(this._capi.enablePlagiarismSearch,this._warnOnCommandFail),this.disablePlagiarismSearch=(0,l.pipe)(this._capi.disablePlagiarismSearch,this._warnOnCommandFail),this.enableWritingExpert=(0,l.pipe)(this._capi.enableWritingExpert,this._warnOnCommandFail),this.disableWritingExpert=(0,l.pipe)(this._capi.disableWritingExpert,this._warnOnCommandFail),this.realtimeProofitSubmit=e=>(0,l.pipe)(this._capi.realtimeProofitSubmit(e),this._warnOnCommandFail),this.realtimeProofitCancel=(0,l.pipe)(this._capi.realtimeProofitCancel,this._warnOnCommandFail),this.submitRecipients=e=>(0,l.pipe)(this._capi.submitRecipients(e),this._warnOnCommandFail),this.submitScoreSurveyResult=(e,t)=>(0,l.pipe)(this._capi.submitScoreSurveyResult(e,t),this._warnOnCommandFail),this.submitSurvey=e=>(0,l.pipe)(this._capi.submitSurvey(e),this._warnOnCommandFail),this.sendUserAction=(e,t)=>(0,l.pipe)(this._capi.sendUserAction(e,t),this._warnOnCommandFail),this.sendDebugReport=(e,t)=>(0,l.pipe)(this._capi.sendDebugReport(e,t),this._warnOnCommandFail),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>(0,l.pipe)(this._capi.updateContextInfo(e),this._warnOnCommandFail),this.setContext=e=>(0,l.pipe)(this._capi.setContext(e),this._warnOnCommandFail),this.published=()=>(0,l.pipe)(this._capi.published(),this._warnOnCommandFail),this.enqueueExternalCommand=e=>this._capi.enqueueExternalCommand(e),this.registerExternalMessageHandler=e=>this._capi.registerExternalMessageHandler(e),this._subs.push(this._dialectSettings.dialectOrDefault.subscribe((e=>this._documentContextHolder.updateContext((0,s._)((0,o._)({},this._documentContextHolder.context.get()),{dialect:p.some(e)})))),this._documentContextHolder.context.pipe(g.i(1)).subscribe((t=>{m.hq(e.setSessionOption({kind:d.XM.Context,context:t}))}))),this._subs.push(this.events.subscribe((t=>{"finish"===t.kind?p.isNone(this._dialectSettings.dialect.get())&&b.p.isDialectString(t.dialect)&&this._dialectSettings.setDialectWeak(t.dialect):"session_started"===t.kind&&(this._documentContextHolder.updateDefaultContext(t.defaultDocumentContext),a.getContainerId().then((t=>{setTimeout((()=>m.hq(e.setSessionOption({kind:d.XM.GnarContainerId,id:t})).catch((e=>{this._log.warn("Can not send user container id",e)}))),5e3)})).catch((e=>{this._log.warn("Can not get container id",e)})))})))}}!function(e){const t=u.BK(c.l);e.Mock=class{constructor(e=!1){(0,r._)(this,"_sduiV2",void 0),(0,r._)(this,"events",void 0),(0,r._)(this,"feedbacks",void 0),(0,r._)(this,"capi",void 0),(0,r._)(this,"activeAlerts",void 0),(0,r._)(this,"activeLensIds",void 0),(0,r._)(this,"fireSDUIAdd",void 0),(0,r._)(this,"fireSDUIRemove",void 0),(0,r._)(this,"fireAdd",void 0),(0,r._)(this,"fireRemove",void 0),(0,r._)(this,"sendUserAction",void 0),(0,r._)(this,"sendDebugReport",void 0),this._sduiV2=e,this.events=new v.B7,this.feedbacks=new v.B7,this.capi={pushChanges:e=>u.pG(p.none),sendFeedback:e=>{switch(e.kind){case d.yp.IGNORE:case d.yp.ADD_TO_DICTIONARY:case d.yp.LOOKED:case d.yp.CLOSED:case d.yp.LIKE:case d.yp.DISLIKE:case d.yp.WRONG_SUGGESTION:case d.yp.OFFENSIVE_CONTENT:case d.yp.EXPANDED:return(0,l.pipe)(u.BK((()=>this.feedbacks.next({type:"feedback",args:[e.id,e.kind]}))));case d.yp.ACCEPTED:return(0,l.pipe)(u.BK((()=>"replacementText"in e?this.feedbacks.next({type:"feedback",args:[e.id,e.kind,e.replacementText,e.reason]}):"alternativeIndex"in e?this.feedbacks.next({type:"feedback",args:[e.id,e.kind,e.alternativeIndex,e.gapValue,e.reason]}):(0,f.xb)(e))));default:return t}},enablePlagiarismSearch:t,disablePlagiarismSearch:t},this.activeAlerts=new Set,this.activeLensIds=new Set,this.fireSDUIAdd=(e,t)=>{this.events.next({kind:"sdui_add",sdui:e,sduiRootId:t,rev:0})},this.fireSDUIRemove=e=>{this.events.next({kind:"sdui_remove",sduiRootId:e})},this.fireAdd=(e,t=void 0)=>{const n=this._sduiV2&&null!=t?{kind:"sdui_add",sdui:{type:"strongAlertRef",alertIds:[e.id],child:t,onEmpty:[{type:"openLink",url:`test_for_${e.id}`}],id:"strongAlertRef#"+Math.random().toString(36).substring(2,15)},sduiRootId:d.dV.Id.create(e.id),rev:0}:void 0;return this.activeAlerts.add(e),this.activeLensIds.add(e.cardLayout.outcome),void 0!==n?this.events.next(n):(0,a.constVoid)(),this.events.next({kind:"before_alert"}),this.events.next({kind:"alert_received",alert:e}),n},this.fireRemove=(e,t=p.none,n=p.none)=>{this.activeAlerts.delete(e),this.activeLensIds.delete(e.cardLayout.outcome),this._sduiV2?this.events.next({kind:"sdui_remove",sduiRootId:d.dV.Id.create(e.id)}):(0,a.constVoid)(),this.events.next({kind:"alert_removed",alertId:e.id,mergedIn:t,hint:n})},this.sendUserAction=()=>u.BK((()=>0)),this.sendDebugReport=()=>u.BK(a.constVoid)}}}(i||(i={}))},40711:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var i,r=n(98475),o=n(88105),s=n(28986),a=n(68933),l=n(44297);!function(e){const t=l.getMonoid((0,r.getObjectSemigroup)());e.getEnrichedWithFormattingDelta=e=>n=>{const i=new a.z(e);return n.ops.reduce((([e,n],r)=>{const s=i.next(n);return o.E.isInsert(r)?[e.insert(r.insert,l.toUndefined(t.concat(l.chain(o.E.getAttrs)(s),o.E.getAttrs(r)))),0]:[e.push(r),o.E.operationLength(r)]}),[new s.R,1])[0]}}(i||(i={}))},53717:(e,t,n)=>{"use strict";n.d(t,{x:()=>p});var i,r=n(30040),o=n(63336),s=n(45560),a=n(59042),l=n(30186),c=n(44297),d=n(53987),u=n(88761);!function(e){e.modelToCounters=function(e){return u.Y.isRegistered(e)?e.counters:d.K.empty}}(i||(i={}));var p,m=n(62597);!function(e){e.monoid=s.JI(m.J.Id.ord,m.J.Meta.group),e.eq=s.nZ(m.J.Id.ord,m.J.Meta.eq),e.isEmpty=s.Im,e.lookup=s.$I(m.J.Id.ord),e.applyDiff=e=>t=>i=>(0,o.pipe)(t,a.b.foldMap(p.monoid)(d(e),u(e),n(e)),(0,l.c)(p.monoid.concat)(i),s.pb((0,r.not)(m.J.Meta.isEmpty))),e.updatePercentiles=e=>t=>{let n=t;return e.forEach(((e,t)=>{n=(0,o.pipe)(n,s.qt(m.J.Id.ord)(t,m.J.Meta.ratioToPercentile(e)),c.fold((()=>(0,o.pipe)(n,s.PT(m.J.Id.ord)(t,m.J.Meta.fromPercentile(e)))),r.identity))})),n};const t=(0,r.flow)(i.modelToCounters,m.J.Meta.fromAlertCounters),n=e=>n=>f(e)(n,t),d=e=>n=>f(e)(n,(0,r.flow)(t,m.J.Meta.group.inverse)),u=e=>(t,i)=>p.monoid.concat(n(e)(i),d(e)(t)),f=e=>(t,n)=>(0,o.pipe)(e,s.pb((e=>e(t.alert))),s.Tj((()=>n(t))))}(p||(p={}))},69774:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var i,r=n(10334),o=n(17171),s=n(80074),a=n(89769),l=n(62723),c=n(30396),d=n(36094),u=n(22814),p=n(22809),m=n(53717);!function(e){var t=e.defaultState={alerts:p.A.empty,lenses:m.x.monoid.empty};e.get=(e,i,r)=>i.pipe(a.Z(new Map),l.z(e.pipe(a.Z(p.A.empty),c.S(((e,t)=>n(t,r.lensFilters)(e)),t)),f)),e.getMock=(e,t)=>{const n=s.s.create(i.defaultState);return i.get(e,t,u.v.create(u.v.defaultLensFilters,u.v.defaultTextFilters)).subscribe(d.H9(n)),n};const n=(e,t)=>n=>{const i=p.A.Diff.toRegistered(p.A.diff(n.alerts,e));return{alerts:e,lenses:m.x.applyDiff(t)(i)(n.lenses)}},f=(e,t)=>(0,o._)((0,r._)({},t),{lenses:m.x.updatePercentiles(e)(t.lenses)})}(i||(i={}))},82636:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var i,r=n(10334),o=n(17171),s=n(10047),a=n(94673),l=n(30040),c=n(63336),d=n(80074),u=n(66799),p=n(54463),m=n(58413),f=n(45560),h=n(44297),g=n(74816),v=n(29052),b=n(36840),y=n(58889),k=n(69063),w=n(42543),E=n(80837),S=n(6987),C=n(78339),_=n(15491),x=n(95168),A=n(36094),I=n(65621),K=n(54988),T=n(63967),O=n(8171);!function(e){let t,n,i;!function(e){let t;!function(e){e.ord=m.ordString,e.show=a.N4,e.create=e=>e}(t=e.Id||(e.Id={})),e.isSpecial=e=>Object.values(u.xD.SpecialCategory).includes(e),e.specialCategoryDescription="Special category"}(t=e.Category||(e.Category={})),function(e){e.filter=e=>f.pb((t=>e(t.id))),e.filterWithCount=(e,t)=>n=>{const i=Array.from(n.keys()),s=O.n.getAlerts(t,i).byCategory;return(0,c.pipe)(n,f.x1((t=>e(t.id)?h.some((0,o._)((0,r._)({},t),{alertsCount:s.get(t.id).filter(T.Fc.isRegistered).length})):h.none)))}}(n=e.BaseMutedCategories||(e.BaseMutedCategories={})),function(e){let i,r;!function(e){let t;!function(e){e.CategoriesChanged="CategoriesChanged"}(t=e.Type||(e.Type={})),e.isChangedEvent=function(e){return e.type===t.CategoriesChanged}}(i=e.Events||(e.Events={})),e.create=function(e,r,o,a,m){const f=k.Bx.Logging.getLogger("MutedAlertsModel"),K=d.s.create(new Map),M=new w.B7,F=new E.y.Keeper,R=d.s.create(!1);return F.push(R.pipe(S.n((t=>e.pipe(C.p((()=>!t)),C.p(p.o.is("session_started")),_.T((e=>function(e){const t=e.map((e=>[e.userMuteCategory,{id:e.userMuteCategory,description:e.userMuteCategoryDescription,scope:e.userMuteScope}]));return new Map(t)}(e.userMutedCategories))),x.M(A.H9(K)),x.M((()=>M.next({type:i.Type.CategoriesChanged}))))))).subscribe(),K.pipe(I.J(),_.T((([e,n])=>function(e,n){return{muted:g.y$(t.Id.ord)(e,n),unmuted:g.y$(t.Id.ord)(n,e)}}(e,n))),_.T(function(e){return({muted:t,unmuted:n})=>({toMute:O.n.getAlerts(e,t).all.filter((e=>e.mute!==T.Fc.MuteStateType.Muted)),toUnmute:O.n.getAlerts(e,n).all.filter((e=>e.mute!==T.Fc.MuteStateType.Unmuted))})}(o)),x.M((({toMute:e,toUnmute:t})=>{e.length>0&&a.changeMuteState(e,T.Fc.MuteStateType.Muted),t.length>0&&a.changeMuteState(t,T.Fc.MuteStateType.Unmuted)}))).subscribe()),{events:M,mutedCategories:K,muteCategories:e=>{R.set(!0),(0,c.pipe)(r.sendFeedback({kind:u.DG.MUTE,userMuteScope:m,userMuteCategories:e}),v.cy((()=>(R.set(!1),v.pG(b.Yi)))),v.qE((e=>{f.warn("Alerts could not be muted on CAPI",e)})))();const n=O.n.getAlerts(o,e);0===n.all.filter((e=>e.mute!==T.Fc.MuteStateType.Muted)).length&&f.warn("No alerts were muted on category mute",{categoryIds:e});const a=function(e,n,i){return r=>{const o=new Map(r);return e.forEach(((e,r)=>{t.isSpecial(r)?o.set(r,{id:r,scope:n,description:t.specialCategoryDescription}):(0,c.pipe)(s.$I(0,e),h.chain((e=>e.muteCategory)),h.fold((()=>i.error("No alerts to mute",r)),(e=>o.set(r,{id:e.id,description:e.description,scope:n}))))})),o}}(n.byCategory,m,f)(K.get());return K.set(a),M.next({type:i.Type.CategoriesChanged}),y.right(void 0)},unmuteCategories:e=>(R.set(!0),(0,c.pipe)(r.sendFeedback({kind:u.DG.UNMUTE,userMuteScope:m,userMuteCategories:e}),v.cy((()=>(R.set(!1),v.pG(b.Yi)))),v.qE((e=>{f.warn("Alerts could not be un-muted on CAPI",e)})))(),0===O.n.getAlerts(o,e).all.filter((e=>e.mute!==T.Fc.MuteStateType.Unmuted)).length&&f.warn("No alerts were unmuted on category unmute",{categoryIds:e}),K.modify(function(e,t){return n=>{const i=new Map(n);return e.forEach((e=>{n.has(e)?i.delete(e):t.error("Tried to unmute a category which is not muted",e)})),i}}(e,f)),M.next({type:i.Type.CategoriesChanged}),y.right(void 0)),getMutedCategories:()=>(0,c.pipe)(K.get(),n.filterWithCount((0,l.not)(t.isSpecial),o)),getMutedSpecialCategories:()=>(0,c.pipe)(K.get(),n.filter(t.isSpecial)),loadCachedMutedCategories:e=>{K.set(e)},dispose:()=>F.dispose()}},function(e){e.create=function(){return{events:K.w,mutedCategories:d.s.create(new Map),getMutedCategories:()=>new Map,getMutedSpecialCategories:()=>new Map,muteCategories:e=>y.right(void 0),unmuteCategories:e=>y.right(void 0),loadCachedMutedCategories:b.Yi,dispose:b.Yi}}}(r=e.Mock||(e.Mock={}))}(i=e.CategoriesModel||(e.CategoriesModel={}))}(i||(i={}))},8171:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var i,r=n(63336),o=n(44297),s=n(63967),a=n(22809);!function(e){e.create=e=>({getAlertMuteCategory:t=>(0,r.pipe)(e.getById(t),o.chain((e=>e.muteCategory)))}),e.getAlerts=function(e,t){const n={byCategory:new Map(t.map((e=>[e,[]]))),all:[]};return(0,r.pipe)(e.get(),a.A.reduce(n,((e,{alert:n})=>(0,r.pipe)(n.muteCategory,o.filter((e=>t.includes(e.id))),o.map((e=>e.id)),o.alt((()=>o.fromNullable(t.find(s.Fc.belongsToSpecialCategory(n))))),o.fold((()=>e),(t=>(e.byCategory.get(t).push(n),e.all.push(n),e)))))))}}(i||(i={}))},41949:(e,t,n)=>{"use strict";n.d(t,{AB:()=>r,fn:()=>i,kr:()=>s});var i,r,o,s,a,l,c,d=n(47370),u=n(94673),p=n(63336),m=n(80074),f=n(30720),h=n(76853),g=n(44297),v=n(58193);(c=i||(i={})).group=h.DT({critical:h.$m,advanced:h.$m,free:h.$m,freePremium:h.$m,paid:h.$m,unread:h.$m,muted:h.$m}),c.eq=d.OW({critical:d.US,advanced:d.US,free:d.US,freePremium:d.US,paid:d.US,unread:d.US,muted:d.US}),c.show=u.pJ({critical:u.Zo,advanced:u.Zo,free:u.Zo,paid:u.Zo,unread:u.Zo,muted:u.Zo}),c.isValid=function(e){return e.critical>=0&&e.advanced>=0&&e.unread>=0},c.isEmpty=function(e){return i.eq.equals(e,i.group.empty)},a=r||(r={}),l=a.MIN_GOALS=3,a.TOTAL_GOALS=l+1,a.calculateCompleteness=function(e){const t=(0,p.pipe)(e.goals,g.exists((e=>e.size>0)));return f.T0.eq.equals(e,f.T0.unset)||(0,p.pipe)(e.domain,v.Lw((e=>"general"===e)))&&!(g.isSome(e.audience)||g.isSome(e.style)||t)?0:Number(t||0)+r.MIN_GOALS},function(e){e.zero={full:0,trimmed:0}}(o||(o={})),function(e){let t;!function(e){e[e.Document=0]="Document",e[e.Plagiarism=1]="Plagiarism"}(t=e.CheckingKind||(e.CheckingKind={})),e.Mock={getCheckingForState:()=>m.s.create({kind:s.CheckingKind.Document,type:"idle"})}}(s||(s={}))},25127:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var i,r=n(80074),o=n(30720),s=n(44297),a=n(29862),l=n(36094),c=n(82636);!function(e){e.create=function(e,t,n,i,d){const u=a.O.unwrap(t.style),p=a.O.unwrap(t.audience),m=a.O.unwrap(o.T0.OutcomeContext.defaultAcademic),f=a.O.unwrap(t.domain),h=r.s.create(e),g=h.lens("style").lens(u),v=h.lens("domain").lens(f),b=h.lens("outcomeContext").lens(m).lens("type"),y=h.lens("outcomeContext").lens(m).lens("citation"),k=n.isStudentsOFE?v.view((e=>"academic"!==e)):r.s.create(!0),w=l.B8(k),E=c.x.Category.Id.create("Citations"),S=w.view((e=>e&&!d().has(E))),C={audience:{items:o.T0.audiences,current:h.lens("audience").lens(p),default:s.some(t.audience),isVisible:k},formality:{items:o.T0.formalityLevels,current:g,default:s.some(t.style),isVisible:k,shouldDisable:e=>v.view((t=>!o.T0.isStyleValidWithDomain(t,e)))},domain:{items:o.T0.domains,current:v,default:s.some(t.domain),isVisible:r.s.create(!0),shouldDisable:e=>g.view((t=>n.isFree?"general"!==e:!o.T0.isStyleValidWithDomain(e,t)))},intent:{items:o.T0.goals.filter((e=>"sell"!==e)),isVisible:k,current:h.lens("goals")},type:{items:o.T0.academicTypes,default:s.some("essay"),isVisible:w,current:b},format:{items:o.T0.citation,default:s.some("apa"),isVisible:S,current:y}};return{localContext:h,blocks:C,showSetGoalsLoader:r.s.create(!n.demoMode&&i)}}}(i||(i={}))},17223:(e,t,n)=>{"use strict";n.d(t,{h:()=>v});var i=n(10334),r=n(17171),o=n(30040),s=n(63336),a=n(80074),l=n(30720),c=n(36840),d=n(44297),u=n(58193),p=n(86562),m=n(80300),f=n(69063),h=n(25127),g=n(61790);function v(e,t,n,v,b,y,k,w,E=c.Yi,S=(()=>new Map)){const C=(0,s.pipe)(e.defaultContext.get(),d.fold((()=>(f.Bx.Logging.getLogger("createSetGoalsFlow").warn("Default context not yet set, using fallback",b),b)),o.identity)),_=h.Q.create(e.context.get(),C,y,w,S),x=a.s.combine(_.showSetGoalsLoader,_.localContext,((e,t)=>({blocks:_.blocks,context:t,showOnLoad:e,features:y,source:v})));return m.n.fromSideEffect((o=>{switch(o.kind){case g.b.ActionsKind.open:E(""),t.goalsPopupShow(o.source);break;case g.b.ActionsKind.upgrade:t.getPremiumButtonClick(),k();break;case g.b.ActionsKind.close:E(""),n.onClose();const s=u.gR("academic")(o.context.domain)&&y.isStudentsOFE&&d.isNone(o.context.outcomeContext)?(0,r._)((0,i._)({},o.context),{outcomeContext:d.some(l.T0.OutcomeContext.defaultAcademic)}):o.context;e.updateContext(s)&&t.goalsFormSuccess(s,C);break;case g.b.ActionsKind.reset:_.localContext.set(l.T0.unset),E("Goals have been reset.");break;case g.b.ActionsKind.showOnLoadChanged:_.showSetGoalsLoader.set(o.value);break;case g.b.ActionsKind.setGoal:E("");break;default:(0,p.xb)(o)}}),x)}},61790:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var i,r=n(50659),o=n(80300),s=n(14973),a=n(2694),l=n(19772),c=n(19711),d=n(95168),u=n(15491);!function(e){let t;e.Modal=o.UI.Node.make((({state:e,view:n,notify:i})=>{l.R.useSubscriptionTo(n("source").pipe(c.$(),d.M((e=>i({kind:t.open,source:e})()))));const o=e.pipe(u.T((e=>i({kind:t.close,source:e.source,context:e.context,showOnLoad:e.showOnLoad}))));return r.createElement(s.Gd,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:o},r.createElement(a.C2,{blocks:n("blocks"),features:n("features"),close:o,upgrade:i({kind:t.upgrade}),reset:i({kind:t.reset}),setGoal:i({kind:t.setGoal}),showOnLoad:n("showOnLoad"),showOnLoadChanged:e=>i({kind:t.showOnLoadChanged,value:e})()}))})),function(e){e.open="open",e.close="close",e.upgrade="upgrade",e.reset="reset",e.setGoal="setGoal",e.showOnLoadChanged="showOnLoadChanged"}(t=e.ActionsKind||(e.ActionsKind={}))}(i||(i={}))},53005:(e,t,n)=>{"use strict";n.d(t,{c:()=>Ue});var i=n(50659),r=n(87574),o=n(86562),s=n(80300),a=n(86922),l=n(19967),c=n(14973);const d=()=>i.createElement("svg",{"aria-hidden":!0,width:"128",height:"177"},i.createElement("defs",null,i.createElement("rect",{id:"a",y:"14",width:"128",height:"128",rx:"64"})),i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("ellipse",{fill:"#F1F2FA",cx:"64",cy:"173",rx:"48",ry:"4"}),i.createElement("path",{d:"M27 0h62a5 5 0 0 1 5 5v91a5 5 0 0 1-5 5H24a5 5 0 0 1-5-5V8a8 8 0 0 1 8-8z",fill:"#F1F2FA"}),i.createElement("mask",{id:"b",fill:"#fff"},i.createElement("use",{xlinkHref:"#a"})),i.createElement("use",{fill:"#A2BCFF",xlinkHref:"#a"}),i.createElement("path",{d:"M116.708 48.783a4.144 4.144 0 0 1 5.672-1.465 4.138 4.138 0 0 1 1.466 5.667l-17.955 30.462a4.141 4.141 0 0 1-3.57 2.039 4.145 4.145 0 0 1-2.879-1.164l-12.527-12.1a4.138 4.138 0 0 1-.099-5.855 4.144 4.144 0 0 1 5.858-.099l8.747 8.45 15.287-25.935zm-63.446 45.53h58.877a4.141 4.141 0 0 1 4.142 4.139 4.141 4.141 0 0 1-4.142 4.14H53.262a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zM8.793 17.33h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm0 17.526h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm4.99 68.985a4.74 4.74 0 0 1-4.686 4.794 4.74 4.74 0 0 1-.111-9.477 4.74 4.74 0 0 1 4.798 4.683zm16.757 16.106a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14c0 9.416-7.665 17.076-17.087 17.076S4.65 129.363 4.65 119.947a4.141 4.141 0 0 1 4.143-4.14 4.141 4.141 0 0 1 4.143 4.14c0 4.85 3.948 8.796 8.802 8.796 4.853 0 8.802-3.946 8.802-8.796zM8.793 76.46c-1.06 0-2.12-.405-2.93-1.213a4.138 4.138 0 0 1 0-5.855l4.274-4.27-4.273-4.27a4.138 4.138 0 0 1 0-5.855 4.145 4.145 0 0 1 5.859 0l4.273 4.27 4.273-4.27a4.144 4.144 0 0 1 5.858 0 4.138 4.138 0 0 1 0 5.855l-4.273 4.27 4.274 4.27a4.138 4.138 0 0 1-2.93 7.068c-1.06 0-2.12-.405-2.929-1.213l-4.273-4.27-4.273 4.27a4.133 4.133 0 0 1-2.93 1.213zm87.342 44.285l13.678 9.075a4.138 4.138 0 0 1 1.16 5.739 4.144 4.144 0 0 1-5.743 1.159l-11.387-7.555-11.386 7.555a4.143 4.143 0 0 1-4.378.128l-12.844-7.478-11.078 7.35c-.705.468-1.5.691-2.288.691a4.14 4.14 0 0 1-2.295-7.589l13.227-8.776a4.144 4.144 0 0 1 4.377-.128l12.844 7.478 11.53-7.65a4.145 4.145 0 0 1 4.583 0zM31.23 86.814a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14v19.402a4.141 4.141 0 0 1-4.143 4.14 4.141 4.141 0 0 1-4.142-4.14V86.814z",fill:"#BDCFFF",mask:"url(#b)"}),i.createElement("path",{d:"M36 12h65a5 5 0 0 1 5 5v88a8 8 0 0 1-8 8H36a5 5 0 0 1-5-5V17a5 5 0 0 1 5-5z",fill:"#7CA1FF",mask:"url(#b)"}),i.createElement("rect",{fill:"#FFF",x:"25",y:"6",width:"75",height:"101",rx:"5"}),i.createElement("path",{d:"M38 21h49a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1zm0 13h32a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1z",fill:"#F1F2FA"})));var u=n(60280),p=n(82608),m=n(19772),f=n(15491),h=n(88e3),g=n(54434),v=n(12174),b=n(80579),y=n(61572),k=n(43919),w=n(17804),E=n(44429),S=n(2181),C=n(38976),_=n(61229),x=n(80764);const A=i.createContext(null),I=()=>{const e=i.useContext(A);if(null==e)throw new Error("Popover components must be wrapped in <Popover />");return e},K=function(e,t,n){const r=({children:e,onShow:t,onHide:n,...r})=>{const o=function({initialOpen:e=!1,placement:t="top",open:n,onOpenChange:r,dismissOnOutsideClick:o=!0}={}){const[s,a]=i.useState(e),l=i.useRef(null),c=i.useRef(null),d=null!=n?n:s,u=null!=r?r:a,p=(0,g.we)({placement:t,open:d,strategy:"absolute",onOpenChange:u,whileElementsMounted:(...e)=>(0,w.ll)(...e,{animationFrame:!0}),middleware:[(0,E.cY)(9),(0,w.UU)({fallbackAxisSideDirection:"start"}),(0,w.BN)({padding:5}),(0,S.UE)({element:l})]}),{context:m}=p,{isMounted:f,status:h}=(0,g.$X)(m),v=(0,g.Mk)(m,{move:!1,enabled:!1}),b=(0,g.iQ)(m,{enabled:!1}),y=(0,g.s9)(m,{outsidePress:o,bubbles:!1,capture:{outsidePress:!0}}),k=(0,g.It)(m,{role:"dialog"}),C=(0,g.kp)(m,{enabled:null==n,toggle:!0}),_=(0,g.bv)([v,b,y,k,C]);return i.useMemo((()=>({open:d,setOpen:u,..._,...p,arrowRef:l,closeButtonRef:c,isMounted:f,status:h})),[d,u,_,p,l,f,h])}(r),s=(0,b.Z)(o.open),a=o.open;return(0,i.useEffect)((()=>{a&&a!==s&&(null==t||t()),a||a===s||null==n||n()}),[o,s]),i.createElement(A.Provider,{value:o},e)};r.displayName=t;for(const e of Object.keys(n)){const i=n[e];i.displayName=`${t}${String(e)}`,r[e]=i}return r}(0,"Popover",{Anchor:i.forwardRef((function({children:e,...t},n){const r=I(),o=e.ref,s=(0,g.SV)([r.refs.setReference,n,o]);return i.isValidElement(e)?i.cloneElement(e,r.getReferenceProps({ref:s,...t,...e.props,"data-state":r.isMounted?"open":"closed","aria-expanded":r.isMounted?"true":"false","aria-haspopup":"dialog","aria-controls":r.context.floatingId})):null})),Content:i.forwardRef((function(e,t){var n,r,o;const s=I(),a=(0,g.SV)([s.refs.setFloating,t]),l=(0,i.useContext)(y.n),{accessibilityLabel:c,children:d,className:u,illustration:p,root:m=null,style:f,title:h,width:b,...w}=e;return s.open?i.createElement(g.XF,{root:null!=(n=null!=m?m:l.popover)?n:l.default},i.createElement(g.s3,{context:s.context,returnFocus:!0,initialFocus:s.closeButtonRef},i.createElement("div",{ref:a,"data-status":s.status,"data-placement":s.placement,style:{position:s.strategy,top:null!=(r=s.y)?r:0,left:null!=(o=s.x)?o:0,visibility:null==s.x?"hidden":"visible",width:b,...f},...s.getFloatingProps({...w,"aria-label":c,"aria-modal":!0,className:(0,v.$)("gds-popover",u),children:[i.createElement("div",{"data-gds-theme":"dark",className:"gds-popover-content",key:"popover1"},i.createElement("span",{className:"gds-popover-close-button"},i.createElement(C.K,{ref:s.closeButtonRef,accessibilityLabel:"Close popover",variant:"tertiary",tooltipProps:{open:!1},icon:k.A,onClick:()=>s.setOpen(!1),size:"small"})),p&&i.createElement(_.s,{marginBottom:4},p),h&&i.createElement(x.D,{variant:"heading-xxsmall",as:"h3",marginRight:5},h),i.createElement(_.s,{marginTop:h?.5:3},d)),i.createElement(g.ie,{key:"popover2",className:"gds-arrow",ref:s.arrowRef,context:s.context,stroke:"var(--color-border-elevated-default)",strokeWidth:.5})]})}))):null}))});var T=n(91047),O=n(74836),M=n(24497),F=n(80152),R=n(19840),B=n(78216),N=n(13607),P=n(34717),D=n(44297),j=n(38908),L=n(27917),U=n(63336),$=n(80074),H=n(38427),V=n(6987),z=n(89769),W=n(65621),Z=n(21216),G=n(14342);const Q=e=>{const{score:t,documentIsEmpty:n,sidebarOpen:o=$.s.create(!0),successIcon:s,progressIcon:a,zeroIcon:l=null}=e,c=t.pipe(f.T(D.map((e=>e.rank)))),d=H.zV(t,n,((e,t)=>(0,U.pipe)(e,D.fold((()=>!1),(({rank:e})=>100===e&&!t))))),u=o.pipe(V.n((e=>e?c.pipe(z.Z(D.none),W.J(),V.n((([e,t])=>(0,U.pipe)(t,D.fold((()=>Z.of(l)),(t=>d.pipe(z.Z(!1),W.J(),V.n((([n,i])=>i?Z.of(s):(0,U.pipe)(e,D.filter((()=>!n)),D.fold((()=>Z.of(a(t)).pipe(G.c(1),z.Z(a(0)))),(()=>Z.of(a(t)))))))))))))):Z.of(null))),z.Z(null));return i.createElement(r.F.Fragment,null,u)};var q=n(51963),J=n(90660),Y=n(11864);const X={display:"flex",flexDirection:"column",maxHeight:"90vh",width:Y.Ks.rem(32),height:Y.Ks.rem(41),background:F.Q.Background.Base.Default},ee={padding:`${Y.Ks.rem(2.75)} ${Y.Ks.rem(1)} 0 ${Y.Ks.rem(2)}`,minHeight:Y.Ks.rem(5.1),height:Y.Ks.rem(5.1),backgroundColor:F.Q.Background.Base.Default},te={marginRight:Y.Ks.rem(1),paddingBottom:Y.Ks.rem(.3),borderBottom:`1px solid ${F.Q.Border.Base.Subdued}`},ne={padding:`0 ${Y.Ks.rem(1)} ${Y.Ks.rem(1)} ${Y.Ks.rem(2)}`},ie={padding:`0 ${Y.Ks.rem(1.9)}`,minHeight:Y.Ks.rem(4),height:Y.Ks.rem(4)},re={position:"absolute",top:Y.Ks.rem(-5.15),right:0,bottom:0,left:0,margin:"auto"},oe={display:"flex",flexDirection:"column",marginTop:Y.Ks.rem(7.15),marginBottom:Y.Ks.rem(2),paddingRight:Y.Ks.rem(1),alignItems:"center"},se={wordSpacing:Y.Ks.rem(.05),fontSize:Y.Ks.rem(.875),lineHeight:Y.Ks.rem(1.5)},ae={padding:`${Y.Ks.rem(1.3)} ${Y.Ks.rem(2.6)}`,textAlign:"center"},le=Y.Ks.prefixedStylesheet("statistics",{wrapper:[X],modalHeader:[ee],modalHeaderUnderline:[te],modalReady:[{transition:"opacity .2s"}],modalEmpty:[{opacity:0}],modalBody:[ne],modalFooter:[ie],loader:[re],zeroStateContainer:[oe],performanceText:[se],zeroStateText:[se,ae]});var ce;!function(e){e.number="number",e.time="time",e.percentage="percentage"}(ce||(ce={}));const de=e=>{switch(e){case ce.number:case ce.percentage:return je.numberRowData;case ce.time:return je.timeRowData;default:return(0,o.xb)(e)}},ue=({metricName:e,info:t})=>{const n=i.useContext(a.S.Context).performance.moreInfo;return i.createElement(K,{placement:"top"},i.createElement(K.Anchor,null,i.createElement(C.K,{variant:"tertiary",accessibilityLabel:n,icon:T.O,size:"small"})),i.createElement(K.Content,{width:"60%",title:e},i.createElement(O.E,{variant:"text-small",as:"p"},t)))},pe=({type:e,value:t,info:n,children:r,dataName:s})=>i.createElement("div",{className:je.row,"data-name":s},i.createElement("div",{className:de(e)},i.createElement("div",{className:je.metricTitle},r),i.createElement("div",{className:je.metric},((e,t)=>{switch(e){case ce.number:return(Math.round(10*t)/10).toLocaleString();case ce.time:return P.Xq(t);case ce.percentage:return Math.round(t)+"%";default:return(0,o.xb)(e)}})(e,t))),n&&i.createElement("div",null,i.createElement(ue,{info:n,metricName:r}))),me=({state:e})=>{const t=i.useContext(a.S.Context).performance,{stats:n,score:r,documentIsEmpty:o}=e;return i.createElement(i.Fragment,null,i.createElement("section",{className:je.titleSection},i.createElement("div",{className:je.titleColumns},i.createElement(c.aF.SpokenDescription,(0,R.Ly)(le.performanceText,je.headerDescription),100===r.rank?t.score100:t.scoreUnder100(r.rank)),i.createElement(Q,{score:Z.of(D.some(r)),documentIsEmpty:Z.of(o),successIcon:i.createElement(L.In.CheckmarkAnimated,{key:"modal-checkmark",width:50,className:je.checkmark}),progressIcon:e=>i.createElement(J._,{key:"modal-performance-progress",colorType:J._.ColorType.green,fontSize:J._.FontSize.small,percentage:e,theme:Le})}))),i.createElement("section",{className:je.wordCountSection},i.createElement(p.Typography.H3,{className:je.sectionHeaderUnderline},t.wordCount),i.createElement("div",{className:je.wordCountColumns},i.createElement("div",{className:je.firstColumn},i.createElement(pe,{type:ce.number,value:Math.max(n.chars-1,0)},t.characters),i.createElement(pe,{type:ce.number,value:n.words},t.words),i.createElement(pe,{type:ce.number,value:n.sentences},j.td(n.sentences,t.sentence,t.sentences))),i.createElement("div",{className:je.secondColumn},i.createElement(pe,{type:ce.time,value:B.R.calculateReadingTime(n.words)},t.readingTime),i.createElement(pe,{type:ce.time,value:B.R.calculateSpeakingTime(n.words)},t.speakingTime)))),i.createElement("section",{className:je.readabilitySection},i.createElement("div",{className:je.sectionHeaderWrapper},i.createElement(p.Typography.H3,null,t.readability),i.createElement(p.Typography.SmallLight,null,t.sectionTitleDescription)),i.createElement("div",{className:je.readabilityColumns},i.createElement("div",{className:je.firstColumn},i.createElement(pe,{type:ce.number,value:n.wordLength},t.wordLengthTitle)),i.createElement("div",{className:je.secondColumn},i.createElement("div",{className:je.row},i.createElement(q.k,{value:n.wordLengthIndex,className:je.progressBar,leftCustomClass:je.leftProgress,rightCustomClass:je.rightProgress}),i.createElement(q.k.Label,{value:n.wordLengthIndex,className:je.progressLabel})),i.createElement("div",{className:je.verticalPillar}))),i.createElement("div",{className:je.readabilityColumns},i.createElement("div",{className:je.firstColumn},i.createElement(pe,{type:ce.number,value:n.sentenceLength},t.sentenceLengthTitle)),i.createElement("div",{className:je.secondColumn},i.createElement("div",{className:je.row},i.createElement(q.k,{value:n.sentenceLengthIndex,className:je.progressBar,leftCustomClass:je.leftProgress,rightCustomClass:je.rightProgress}),i.createElement(q.k.Label,{value:n.sentenceLengthIndex,className:je.progressLabel})),i.createElement("div",{className:je.verticalPillarShort}))),i.createElement("div",{className:je.readabilityColumns},i.createElement("div",{className:je.firstColumn},i.createElement(pe,{type:ce.number,value:n.readabilityScore,info:t.readabilityDescription,dataName:"readability"},t.readabilityScore))),i.createElement(p.Typography.SmallLight,{className:je.readabilityDescr},n.readabilityDescription)),i.createElement("section",null,i.createElement("div",{className:je.sectionHeaderWrapper},i.createElement(p.Typography.H3,null,t.vocabulary),i.createElement(p.Typography.SmallLight,null,t.sectionTitleDescription)),i.createElement("div",{className:je.vocabularyColumns},i.createElement("div",{className:je.firstColumn},i.createElement(pe,{type:ce.percentage,value:n.uniqueWords,info:t.uniqueWords},t.uniqueWordsTitle)),i.createElement("div",{className:je.secondColumn},i.createElement("div",{className:je.row},i.createElement(q.k,{value:n.uniqueWords,className:je.progressBar,leftCustomClass:je.leftProgress,rightCustomClass:je.rightProgress}),i.createElement(q.k.Label,{value:n.uniqueWords,className:je.progressLabel})),i.createElement("div",{className:je.verticalPillar}))),i.createElement("div",{className:je.vocabularyColumns},i.createElement("div",{className:je.firstColumn},i.createElement(pe,{type:ce.percentage,value:n.rareWords,info:t.rareWords},t.rareWordsTitle)),i.createElement("div",{className:je.secondColumn},i.createElement("div",{className:je.row},i.createElement(q.k,{value:n.rareWords,className:je.progressBar,leftCustomClass:je.leftProgress,rightCustomClass:je.rightProgress}),i.createElement(q.k.Label,{value:n.rareWords,className:je.progressLabel})),i.createElement("div",{className:je.verticalPillarShort})))))},fe={marginBottom:Y.Ks.rem(2.4)},he={display:"flex",marginTop:Y.Ks.rem(.9),marginRight:Y.Ks.rem(1),justifyContent:"space-between"},ge={marginBottom:Y.Ks.rem(1.5)},ve={display:"flex",marginTop:Y.Ks.rem(.8)},be={marginBottom:Y.Ks.rem(2.4)},ye={display:"flex",$nest:{"&:first":{marginTop:Y.Ks.rem(.8)}}},ke={display:"flex",$nest:{"&:first":{marginTop:Y.Ks.rem(.8)}}},we={flexBasis:Y.Ks.percent(50)},Ee={position:"relative",paddingLeft:Y.Ks.rem(.5),flexBasis:Y.Ks.percent(50)},Se={display:"flex",height:Y.Ks.rem(2),alignItems:"center"},Ce={display:"flex",justifyContent:"space-between"},_e={width:Y.Ks.rem(10),fontFeatureSettings:`${N.AI}, ${N.UO}`},xe={width:Y.Ks.rem(13)},Ae={marginRight:Y.Ks.rem(1),paddingBottom:Y.Ks.rem(.5),borderBottom:`1px solid ${M.NeutralGray10}`},Ie={width:Y.Ks.percent(80),whiteSpace:"pre-line"},Ke={display:"inline-block",color:F.Q.Text.Brand.Default,textAlign:"right",fontWeight:"bold",fontSize:Y.Ks.rem(.875),lineHeight:Y.Ks.rem(2)},Te={display:"inline-block",color:F.Q.Text.Base.Default,fontSize:Y.Ks.rem(.875),lineHeight:Y.Ks.rem(2)},Oe={width:Y.Ks.rem(3.2),height:Y.Ks.rem(3.2),fontWeight:"bold"},Me={width:Y.Ks.rem(6),backgroundColor:M.NeutralGray20},Fe={marginLeft:Y.Ks.rem(1.125)},Re={backgroundImage:`linear-gradient(to left, ${M.Green30} 0%, ${M.Green60} 100%)`},Be={backgroundImage:`linear-gradient(to right, ${M.Green30} 0%, ${M.Green60} 100%)`},Ne={display:"block",paddingTop:Y.Ks.rem(.5)},Pe={position:"absolute",top:Y.Ks.rem(.5),left:Y.Ks.rem(3.5),width:Y.Ks.rem(.0625),height:Y.Ks.rem(3),backgroundColor:M.NeutralGray10},De={height:Y.Ks.rem(1)},je=Y.Ks.stylesheet({titleSection:[fe],titleColumns:[he],wordCountSection:[ge],wordCountColumns:[ve],readabilitySection:[be],readabilityColumns:[ye],vocabularyColumns:[ke],firstColumn:[we],secondColumn:[Ee],row:[Se],rowData:[Ce],numberRowData:[Ce,_e],timeRowData:[Ce,xe],sectionHeaderUnderline:[Ae],sectionHeaderWrapper:[Ae,{display:"flex",alignItems:"baseline",justifyContent:"space-between"}],headerDescription:[Ie],metric:[Ke],metricTitle:[Te],checkmark:[{alignItems:"center"}],circleProgressBar:[Oe],progressBar:[Me],progressLabel:[Fe],leftProgress:[Re],rightProgress:[Be],readabilityDescr:[Ne],verticalPillar:[Pe],verticalPillarShort:[Pe,De]}),Le={radialProgressBar:je.circleProgressBar};var Ue;!function(e){let t;e.ModalView=s.UI.Grid.make((({slots:e,state:r,notify:o})=>{const s=o({kind:t.close});return i.createElement(c.Gd,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:s},i.createElement(n,{state:r,downloadButton:e.downloadButton,onClose:s}))})),function(e){e.close="close"}(t=e.ActionsKind||(e.ActionsKind={}));var n=e.ModalContent=({state:e,downloadButton:t,onClose:n})=>i.createElement(c.aF,{className:le.wrapper,focusTrapMode:"dynamic",initialFocus:m.R.FocusTrap.InitialFocus.none},i.createElement(c.aF.Header,{className:le.modalHeader},i.createElement(v,{state:e})),i.createElement(c.aF.Body,{name:"performanceBody",className:le.modalBody,wrapperClassName:e.pipe(f.T((e=>e.type===h.K.State.Type.EMPTY?le.modalEmpty:le.modalReady)))},i.createElement(y,{state:e})),i.createElement(c.aF.Footer,{className:le.modalFooter},i.createElement(k,{downloadButton:t,onClose:n})));const g=()=>{const e=i.useContext(a.S.Context);return i.createElement("div",{className:le.zeroStateContainer},i.createElement(d,null),i.createElement(c.aF.SpokenDescription,{className:le.zeroStateText},e.performance.notEnoughTextToCalculateStats))};var v=e.Header=({state:e})=>{const t=i.useContext(a.S.Context),n=i.useContext(c.aF.TitleIdContext);return i.createElement(r.F.Fragment,null,e.pipe(f.T((e=>i.createElement(p.Typography.H2,{key:"statisticsHeader",id:n,className:e.type===h.K.State.Type.READY?le.modalHeaderUnderline:""},t.performance.title)))))};const b=()=>i.createElement(u.y,{size:64,className:le.loader,variation:"blue"});var y=e.Body=({state:e})=>i.createElement(r.F.Fragment,null,e.pipe(f.T((e=>{switch(e.type){case h.K.State.Type.EMPTY:return null;case h.K.State.Type.LOADING:case h.K.State.Type.ERROR:return i.createElement(b,{key:"statisticsLoading"});case h.K.State.Type.SHORT_CONTENT:return i.createElement(g,{key:"statisticsEmpty"});case h.K.State.Type.READY:return i.createElement(me,{key:"statisticsContent",state:e});default:return(0,o.xb)(e)}}))));const k=({downloadButton:e,onClose:t})=>i.createElement(i.Fragment,null,e,i.createElement(l.$n.Primary,{name:"close-stats",onClick:t},"Close"))}(Ue||(Ue={}))},27004:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var i=n(27584);const r=(e,t=0,n=0)=>{let r=null,o=null;const s=()=>{var e;null===(e=r)||void 0===e||e.unsubscribe(),r=null},a=()=>{var e;null===(e=o)||void 0===e||e.unsubscribe(),o=null};return{htmlElementHandlers:{onMouseEnter:()=>{a(),r=(0,i.O)(t).subscribe((()=>e.onHover()))},onMouseLeave:()=>{s(),o=(0,i.O)(n).subscribe((()=>{a(),e.onBlur()}))}},reset:()=>{s(),a()}}}},29862:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var i,r=n(78323),o=n(44297);!function(e){e.unwrap=function(e){return r.J2.create(o.getOrElse((()=>e)),o.some)}}(i||(i={}))},98814:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,l:()=>i});var i,r=n(63336),o=n(17644),s=n(23121),a=n(44297),l=n(94386);!function(e){let t;!function(e){e.getPoints=e=>({index:t,length:n})=>s.zb((()=>{const[i,r]=e(t),[o,s]=0===n?[i,r]:e(t+n);return[[i,r],[o,s]]})),e.isRangeHasBoundaryPoints=([e,t],n)=>n.startContainer===e[0]&&n.startOffset===e[1]&&n.endContainer===t[0]&&n.endOffset===t[1],e.toNativeRange=([e,t])=>s.zb((()=>{const n=document.createRange();return n.setStart(e[0],e[1]),n.setEnd(t[0],t[1]),n})),e.fromNativeRange=e=>[[e.startContainer,e.startOffset],[e.endContainer,e.endOffset]]}(t=e.BoundaryPoint||(e.BoundaryPoint={})),e.createCache=e=>{const n=new l.qK(e),i=e=>`${e.index}_${e.length}`;return{set:(e,r)=>{n.put(i(e),a.some([e,r,t.fromNativeRange(r)]))},get:e=>(0,r.pipe)(n.get(i(e)),a.fromNullable,a.chain(o.D),a.filter((([n,i,r])=>e.index===n.index&&e.length===n.length&&t.isRangeHasBoundaryPoints(r,i))),a.map((([e,t])=>t)))}}}(i||(i={}));const c=()=>s.zb((()=>{const e=window.getSelection();null!==e&&"None"!==e.type&&e.collapseToStart()}))},98514:(e,t,n)=>{"use strict";n.d(t,{Jc:()=>C});var i,r,o=n(23988),s=n(10047),a=n(30040),l=n(63336),c=n(80074),d=n(44297),u=n(58413),p=n(55172),m=n(36840),f=n(22835),h=n(58193),g=n(62597),v=n(15491),b=n(42543),y=n(30396),k=n(46669),w=n(21662),E=n(83541),S=n(45653);!function(e){const t=e=>t=>(0,l.pipe)(t,d.map((0,a.flow)(s.x1((t=>e.getAlertByMark(t))),s.di(u.contramap((({alert:{lensType:e,lensPriority:t}})=>({type:e,priority:t})))(g.J.ord)))));e.fromMarksEvents=(e,n)=>({activeHighlights:(0,l.pipe)(n.activeMarks,v.T(t(e))),hoveredHighlights:(0,l.pipe)(n.hoveredMarks,v.T(t(e)))})}(i||(i={})),function(e){e.Mock=class{constructor(){(0,o._)(this,"alertHovered",new b.B7),(0,o._)(this,"alertClicked",new b.B7),(0,o._)(this,"highlightedAlert",c.s.create(d.none))}}}(r||(r={}));class C{constructor(e,t,n,r,s,a){(0,o._)(this,"_ded",void 0),(0,o._)(this,"_markAlertMapper",void 0),(0,o._)(this,"_alertsReader",void 0),(0,o._)(this,"_activeAlertChanges",void 0),(0,o._)(this,"_alertFilter",void 0),(0,o._)(this,"_resolveClickedAlert",void 0),(0,o._)(this,"_impl",void 0),(0,o._)(this,"alertHovered",void 0),(0,o._)(this,"alertClicked",void 0),this._ded=e,this._markAlertMapper=t,this._alertsReader=n,this._activeAlertChanges=r,this._alertFilter=s,this._resolveClickedAlert=a,this._impl=new _(i.fromMarksEvents(this._markAlertMapper,this._ded),this._alertsReader,this._activeAlertChanges,this._alertFilter,this._resolveClickedAlert),this.alertHovered=this._impl.alertHovered,this.alertClicked=this._impl.alertClicked}}class _{constructor(e,t,n,i,r){(0,o._)(this,"_highlightEvents",void 0),(0,o._)(this,"_alertsReader",void 0),(0,o._)(this,"_activeAlertChanges",void 0),(0,o._)(this,"_alertFilter",void 0),(0,o._)(this,"_resolveClickedAlert",void 0),(0,o._)(this,"alertHovered",void 0),(0,o._)(this,"alertClicked",void 0),this._highlightEvents=e,this._alertsReader=t,this._activeAlertChanges=n,this._alertFilter=i,this._resolveClickedAlert=r,this.alertHovered=this._highlightEvents.hoveredHighlights.pipe(v.T(d.map(s.Tj((({alert:e})=>e)))),y.S(((e,t)=>(0,l.pipe)(t,d.chain((t=>(0,l.pipe)(e,d.filter((e=>-1!==t.indexOf(e))),d.fold((()=>d.fromNullable(t[0])),d.some)))))),d.none),v.T(d.filter((e=>this._alertsReader.isInteractable(e.id)&&!S.A.isPlagiarism(e)))),k.F()),this.alertClicked=this._highlightEvents.activeHighlights.pipe(w.E(this._activeAlertChanges,this._alertFilter),y.S(((e,[t,n,i])=>{const r=t=>(0,l.pipe)(e,d.exists((e=>e.alert.id===t.alert.id))),o=e=>(0,l.pipe)(n,d.exists((t=>t.alert.id===e.alert.id))),s=e=>i(e.alert);var a;return(0,l.pipe)(t,d.chain((e=>(0,l.pipe)(e,null!==(a=this._resolveClickedAlert)&&void 0!==a?a:p.EV([(0,m.M4)(r,o),o,(0,m.M4)(r,s),s,r]),d.fold((()=>d.fromNullable(e[0])),d.some),d.map((e=>f.yo(e,{highlightIndex:e.alert.hasNestedHighlights?0:e.highlightIndex})))))))}),h.Ie()),E.shareReplay({refCount:!0,bufferSize:1}))}}},22814:(e,t,n)=>{"use strict";n.d(t,{v:()=>h});var i=n(10334),r=n(17171),o=n(30040),s=n(63336),a=n(46669),l=n(15491),c=n(36840),d=n(58193),u=n(63967),p=n(62597);const m=(0,c.M4)(u.Fc.isRegistered,(0,o.not)(u.Fc.isMuted)),f=e=>t=>(0,c.M4)(m,e(t));var h;!function(e){e.create=function(e,t){const n=f((t=>e[t]));return{lensFilters:new Map(Object.entries(e)),alertVisibleInText:e=>f((e=>t[e]))(e),alertVisibleInSidebar:n,getLensesFilter:t=>e[t],alertCanBeDisplayed:m,alertIsBulkAcceptable:e=>(0,c.M4)(n(e),u.Fc.isBulkAcceptable)}};const t=e=>t=>e===t.lensId,n=()=>e=>(0,s.pipe)(e.freePremium,d.gR("unlocked"));e.getAlertVisibleInTextFilter=function(e,t){return t.pipe(a.F(((e,t)=>e.currentLens.id===t.currentLens.id)),l.T((t=>({filter:(0,c.Ub)(e.alertVisibleInText(t.currentLens.id),u.Fc.isBulkApplied,(e=>u.Fc.isWithTeaser(e)&&p.J.isCheetah(t.currentLens.id))),lensId:t.currentLens.id}))))};var g=e.defaultLensFilters={[p.J.SpecialId.Clarity]:t(p.J.SpecialId.Clarity),[p.J.SpecialId.Correctness]:t(p.J.SpecialId.Correctness),[p.J.SpecialId.Delivery]:t(p.J.SpecialId.Delivery),[p.J.SpecialId.Engagement]:t(p.J.SpecialId.Engagement),[p.J.SpecialId.Vox]:t(p.J.SpecialId.Vox),[p.J.SpecialId.KnowledgeHub]:t(p.J.SpecialId.KnowledgeHub),[p.J.SpecialId.FreePremiumAlerts]:(0,c.Ub)(n(),t(p.J.SpecialId.Premium)),[p.J.SpecialId.Plagiarism]:t(p.J.SpecialId.Plagiarism),[p.J.SpecialId.DraftAI]:o.constFalse,[p.J.SpecialId.Cheetah]:o.constFalse,[p.J.SpecialId.Premium]:t(p.J.SpecialId.Premium),[p.J.SpecialId.AllAlerts]:u.Fc.belongsToAllAlerts,[p.J.SpecialId.Closed]:o.constFalse,[p.J.SpecialId.PredictionTakeaways]:u.Fc.belongsToPredictionTakeaways,[p.J.SpecialId.PredictionEmogenie]:u.Fc.belongsToPredictionEmogenie,[p.J.SpecialId.RealTimeProofit]:t(p.J.SpecialId.RealTimeProofit)};e.defaultTextFilters=(0,r._)((0,i._)({},g),{[p.J.SpecialId.Closed]:u.Fc.isInline,[p.J.SpecialId.FreePremiumAlerts]:(0,c.Ub)(n(),t(p.J.SpecialId.Premium)),[p.J.SpecialId.Premium]:h.defaultLensFilters[p.J.SpecialId.Premium]})}(h||(h={}))},32260:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var i,r=n(23988),o=n(30040),s=n(44297),a=n(86562),l=n(36840),c=n(69063),d=n(889),u=n(63967),p=n(22809),m=n(45653);!function(e){e.Impl=class{constructor(e,t,n,i){(0,r._)(this,"_checkingState",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alertsReader",void 0),(0,r._)(this,"_alertCanBeDisplayed",void 0),(0,r._)(this,"_log",void 0),(0,r._)(this,"findClosestAlertHighlight",void 0),(0,r._)(this,"findNextAlertInText",void 0),(0,r._)(this,"findPremiumAlert",void 0),this._checkingState=e,this._positionManager=t,this._alertsReader=n,this._alertCanBeDisplayed=i,this._log=c.Bx.Logging.getLogger("AlertSearchService"),this.findClosestAlertHighlight=(e,t)=>(0,o.pipe)(this._positionManager.findClosestToPosition(e,(e=>d.a.is(e)&&d.l.isVisible(e)&&!d.l.isApplied(e)&&(0,o.pipe)(this._alertsReader.getRegistered(e.meta.alertId),s.exists((n=>this._alertCanBeDisplayed(n)&&t(n)&&n.getHighlightRanges().some((t=>t.meta.id===e.meta.id))))))),s.chain((e=>(0,o.pipe)(this._alertsReader.getRegistered(e.meta.alertId),s.map((t=>{const n={alert:m.A.fromModel(t),highlightIndex:t.getHighlightRanges().findIndex((t=>t.meta.id===e.meta.id))};return n.highlightIndex<0&&(this._log.error("findClosestAlertRange returned a range which doesn't exist in alert.highlightRanges",{alert:n.alert.toString(),range:JSON.stringify(e),positionManagerRanges:JSON.stringify(this._positionManager.findRanges((e=>d.a.is(e)&&e.meta.alertId===t.id))),hasPendingRanges:t.hasNewRangesForUpdate}),n.highlightIndex=0),n})))))),this.findNextAlertInText=({alert:e,highlightIndex:t},n)=>{const i=e.getHighlightRanges();return(0,a.V1)(t<i.length,"AHI is out of highlightRanges length",`hr length: ${i.length}, ahi: ${t}`),this.findClosestAlertHighlight(i[t].end,n)},this.findPremiumAlert=()=>(0,o.pipe)(this._checkingState.get(),p.A.find((0,o.flow)(u.Fc.fromAlertModel,(0,l.M4)(u.Fc.isRegistered,u.Fc.isPremium))),s.map((e=>({alert:m.A.fromModel(e.alert),highlightIndex:0}))))}}}(i||(i={}))},30295:(e,t,n)=>{"use strict";n.d(t,{NM:()=>d,Vx:()=>r,yl:()=>i,zQ:()=>o});var i,r,o,s=n(10334),a=n(17171),l=n(47370),c=n(63967);function d(e){return e.from.visualState===o.initial||e.from.visualState===o.hidden||e.to.visualState===o.highlighted}!function(e){e.eq=(0,l.mJ)((e=>e.alert))(c.HJ.ordId),e.isPending=e=>null!==e.state.scheduled&&(e.state.scheduled.visualState!==e.state.current.visualState||e.state.scheduled.updateRanges||e.state.scheduled.forceUpdate),e.isOneOf=(...e)=>t=>e.some((e=>e===t.state.current.visualState));var t=e.notAnyOf=(...e)=>t=>e.every((e=>e!==t.state.current.visualState));e.canBeChanged=e=>n=>Boolean(e)&&o.applied===n.state.current.visualState?e===o.disposed:c.Fc.State.isBulkApplied(n.alert.state)||t(o.applied,o.disposed)(n),e.isOrWillBe=e=>t=>null===t.state.scheduled?t.state.current.visualState===e:t.state.scheduled.visualState===e,e.willBe=e=>t=>null!==t.state.scheduled&&t.state.scheduled.visualState===e}(i||(i={})),function(e){e.updateRanges=function(e,t){return(0,a._)((0,s._)({},e),{updateRanges:t})},e.forceUpdate=function(e,t){return(0,a._)((0,s._)({},e),{forceUpdate:t})},e.updateVisualState=function(e,t){return(0,a._)((0,s._)({},e),{visualState:t})},e.from=function(e){return{visualState:e,updateRanges:!1,forceUpdate:!1}}}(r||(r={})),function(e){e.initial="initial",e.highlighted="highlighted",e.visible="visible",e.faded="faded",e.hidden="hidden",e.success="success",e.applied="applied",e.disposed="disposed"}(o||(o={})),(o||(o={})).isApplied=function(e){return e===o.applied}},38666:(e,t,n)=>{"use strict";n.d(t,{s:()=>x});var i=n(23988),r=n(10334),o=n(17171),s=n(10047),a=n(30040),l=n(63336),c=n(17644),d=n(8138),u=n(55340),p=n(7432),m=n(86562),f=n(44297),h=n(58889),g=n(58193),v=n(55172),b=n(30186),y=n(36840),k=n(69063),w=n(889),E=n(63967),S=n(91485),C=n(45653),_=n(30295);class x{get state(){return{current:this._currentState,scheduled:this._scheduledState}}get alert(){return this._alert()}scheduleApply(e){return this._throwWhenNotAllowedState(e),this._throwWhenInFinaleState(e),(0,m.V1)(e!==_.zQ.initial,`Cannot schedule change ${this.id} from ${this._currentState.visualState} to initial state`),this._currentState.visualState!==_.zQ.initial||e!==_.zQ.disposed&&!_.zQ.isApplied(e)?this._scheduledState&&this._scheduledState.forceUpdate?this._scheduledState=_.Vx.updateVisualState(this._scheduledState,e):this._currentState.visualState!==e||this._currentState.updateRanges?this._scheduledState=_.Vx.updateVisualState(this._currentState,e):this._scheduledState=null:(this._scheduledState=null,this._currentState=_.Vx.from(_.zQ.disposed),this._dispose()),this}scheduleUpdate(){this._throwWhenInFinaleState(),this._scheduledState=_.Vx.updateRanges(this._scheduledState||this._currentState,!0)}scheduleForceUpdate(){this._throwWhenInFinaleState(),this._scheduledState=_.Vx.forceUpdate(this._scheduledState||this._currentState,!0)}apply(){if(!_.yl.isPending(this))return;this._throwWhenInFinaleState();const e=this._getTransition();(0,l.pipe)(this.change(),f.filter((e=>e.rawMark.length>0)),f.map((t=>{this._handleBasicEvent(t.rawMark),t.commit(),this._onTransitionEnd(e,this)})))}applyWith(e){const t=[this,...e];this._handleMultipleHighlights(t,(e=>e.change()))}markByIndex(e){try{return this._throwWhenInFinaleState(),this._shouldInitMark&&(this._shouldInitMark=!1,this.apply()),this._markbyIndex(e)}catch(e){return f.none}}get enclosingMark(){const e=Array.from(this._marksMap.values()).findIndex((0,a.flow)(f.chain((e=>f.fromEither(e.range()))),f.filter(w.l.isEnclosingView),f.isSome));return e>-1?this.markByIndex(e):f.none}get mark(){return this.markByIndex(0)}_iterateOverMarkAlerts(e,t){e.forEach((({change:e,ma:n})=>{e.rawMark.forEach((e=>{"create"===e.action?n._setMarkAndCheckFinaleState(e.id,(0,l.pipe)(t.created.get(e.id)||h.left(new Error("Cannot get unknown mark")),f.fromEither)):"remove"===e.action&&n._removeMark(e.id)})),e.commit(),n._disposeIfEmpty()}))}_handleMultipleHighlights(e,t){const n=e.map((e=>[e,t(e)])).filter((([e,t])=>(0,l.pipe)(t,f.filter((t=>0!==t.rawMark.length||(A("markAlert").warn("rawAction must have rawMark array",{rawAction:t.action,state:(0,o._)((0,r._)({},e.toJSON()),{alert:void 0})}),!1))),f.isSome))).map((([e,t])=>({ma:e,change:g.$v(t)})));if(0===n.length)return;const i=v.qI(n.map((e=>e.change.rawMark))),s=this._changeMarksInDEd(i);this._iterateOverMarkAlerts(n,s)}get _mark(){return this._markbyIndex(0)}_markbyIndex(e){return this._marksMap.size>e?0===e?this._marksMap.values().next().value:Array.from(this._marksMap.values())[e]:f.none}_setMarkAndCheckFinaleState(e,t){this._throwWhenInFinaleState(),this._setMark(e,t)}_setMark(e,t){this._shouldInitMark=!1,this._marksMap.set(e,t)}_removeMark(e){this._marksMap.delete(e)}change(){(0,m.V1)(_.yl.isPending(this),"Next state should be scheduled to change it",(()=>JSON.stringify({currentState:this._currentState,aid:this.id})));const e=this._commitTransition();return e.from.visualState!==e.to.visualState||e.to.forceUpdate||e.to.updateRanges?f.some(this._getRawActionForApply(e)):f.none}_handleBasicEvent(e){const t=this._changeMarksInDEd(e);e.forEach((e=>{if(e.action===u.C.Change.ActionType.remove)this._removeMark(e.id);else{const n=(0,l.pipe)(f.fromNullable(this._marksMap.get(e.id)),f.chain(c.D),f.alt((()=>(0,l.pipe)((e.action===u.C.Change.ActionType.create?t.created.get(e.id):t.updated.get(e.id))||h.left(new Error("Cannot get unknown mark")),f.fromEither))));this._setMark(e.id,n)}})),this._disposeIfEmpty()}_getTransition(){return(0,m.V1)(_.yl.isPending(this),"Next state should be scheduled to change it",(()=>JSON.stringify({currentState:this._currentState,aid:this.id}))),{from:this._currentState,to:this._scheduledState}}_commitTransition(){const e=this._getTransition();return this._currentState=(0,o._)((0,r._)({},e.to),{updateRanges:!1,forceUpdate:!1}),this._scheduledState=null,e}_getRawActionForApply(e){if(e.from.visualState===_.zQ.initial)return(0,l.pipe)(this._tryToUpdateRangesInAlert(e),f.map((e=>e.commit()))),{action:"create",commit:d.l,rawMark:this._getHighlightRanges((t=>this._create((()=>t),e)(t.meta.id)))};switch(e.to.visualState){case _.zQ.disposed:const t=_.zQ.isApplied(e.from.visualState)||E.Fc.State.isRemoved(this.alert.state)&&C.A.isApplicableAlert(this.alert)&&this._getAppliedRanges(a.constVoid).length>0?this._getAppliedRanges(((e,t)=>({id:t().meta.id,range:t}))):this._getHighlightRanges((e=>({id:e.meta.id,range:()=>e})));return{action:"remove",commit:(0,l.pipe)(this._tryToUpdateRangesInAlert(e),f.map((({commit:e})=>e)),f.getOrElse((()=>a.constVoid))),rawMark:t.map((e=>this._remove(e.range)(e.id)))};case _.zQ.applied:const n=this._getHighlightRanges((e=>this._remove((()=>e))(e.meta.id)));return{action:"replace",commit:(0,l.pipe)(this._tryToUpdateRangesInAlert(e),f.map((({commit:e})=>e)),f.getOrElse((()=>a.constVoid))),rawMark:[...n,...this._getAppliedRanges(((t,n)=>this._create(n,e)(n().meta.id)))]};default:const i=()=>E.Fc.State.isBulkApplied(this._alert("_getRawActionForApply").state)?this._getAppliedRanges(((e,t)=>t())):this._getHighlightRanges(c.D);return(0,l.pipe)(this._tryToUpdateRangesInAlert(e),f.map((({commit:t,ranges:n})=>this._getReplaceAction(e,i(),n.removed,t))),f.getOrElse((()=>({action:"update",commit:d.l,rawMark:i().map((t=>this._update((()=>t),e)(t.meta.id)))}))))}}_getReplaceAction(e,t,n,i){return{action:"replace",commit:i,rawMark:[...n.map((e=>this._remove((()=>e))(e.meta.id))),...t.map((t=>this._create((()=>t),e)(t.meta.id)))]}}_getAppliedRanges(e){return(0,l.pipe)(this._alertRangeService.getAppliedRanges(this.id),h.fold((e=>(A("markAlert").error("cannot get applied ranges",{error:e.message,alert:C.A.snapshot(this._alert("_getAppliedRanges"))}),[])),s.rO(e)))}_getHighlightRanges(e){return(0,l.pipe)(this._alertRangeService.getHighlightRanges(this.id),h.fold((t=>(A("markAlert").warn("cannot get highlight ranges via range service",{error:t,alert:this._alert("_getHighlightRanges")}),(0,l.pipe)(this._alert("_getHighlightRanges_Fallback").getHighlightRanges(),s.Tj(e)))),s.Tj(e)))}_throwWhenNotAllowedState(e){const t=this._alert("_throwWhenNotAllowedState");(0,m.V1)(!!C.A.isApplicableAlert(t)||!Boolean(e)||E.Fc.State.isBulkApplied(t.state)||!_.zQ.isApplied(e),`Applied state isn't allowed for ${this.id}`)}_throwWhenInFinaleState(e){(0,m.V1)(Boolean(e)&&_.yl.isOneOf(_.zQ.applied)(this)?e===_.zQ.disposed||E.Fc.State.isBulkApplied(this._alert("_throwWhenInFinaleState").state):_.yl.notAnyOf(_.zQ.disposed)(this),`'${this._currentState.visualState}' MarkAlert '${this.id}' cannot be changed${Boolean(e)?` to '${e}' `:""}`)}toJSON(){return{current:this._currentState,scheduled:this._scheduledState,mark:{id:(0,l.pipe)(this._mark,f.map((e=>e.id)),f.toUndefined),range:(0,l.pipe)(this._mark,f.map((e=>e.range)),f.toUndefined)},alert:this._alert("toJSON")}}equals(e){return _.yl.eq.equals(this,e)}hashCode(){return(0,S.CG)(this.id)}constructor(e,t,n,r,o,s,d,u){(0,i._)(this,"_alert",void 0),(0,i._)(this,"_alertsService",void 0),(0,i._)(this,"_alertRangeService",void 0),(0,i._)(this,"_changeMarksInDEd",void 0),(0,i._)(this,"_create",void 0),(0,i._)(this,"_update",void 0),(0,i._)(this,"_remove",void 0),(0,i._)(this,"_onTransitionEnd",void 0),(0,i._)(this,"_currentState",void 0),(0,i._)(this,"_scheduledState",void 0),(0,i._)(this,"id",void 0),(0,i._)(this,"_marksMap",void 0),(0,i._)(this,"_alertRef",void 0),(0,i._)(this,"_shouldInitMark",void 0),(0,i._)(this,"_tryToUpdateRangesInAlert",void 0),(0,i._)(this,"_dispose",void 0),(0,i._)(this,"_disposeIfEmpty",void 0),this._alert=e,this._alertsService=t,this._alertRangeService=n,this._changeMarksInDEd=r,this._create=o,this._update=s,this._remove=d,this._onTransitionEnd=u,this._currentState=_.Vx.from(_.zQ.initial),this._scheduledState=_.Vx.from(_.zQ.visible),this.id=this._alert("id").id,this._marksMap=new Map,this._alertRef=this._alertsService.takeReference(this._alert("_alertRef"),"mark"),this._shouldInitMark=!0,this._tryToUpdateRangesInAlert=e=>{if(!e.to.updateRanges||!(0,l.pipe)(this._alertRangeService.hasNewRangesForUpdate(this.id),h.fold(a.constFalse,c.D)))return f.none;const t=(0,l.pipe)(this._alertRangeService.applyPendingRangesUpdate(this.id),h.mapLeft((e=>A("markAlert").error("cannot apply pending ranges",e))),f.fromEither,f.chain(c.D),f.filter((({addedHighlightedRanges:e,removedHighlightedRanges:t})=>e.length>0||t.length>0)));return(0,l.pipe)(t,f.map((e=>({commit:()=>e.removedHighlightedRanges[1](),ranges:{added:e.addedHighlightedRanges,removed:e.removedHighlightedRanges[0]}}))))},this._dispose=()=>{this._marksMap.clear(),h.either.map(this._alertRef,(e=>e.dispose()))},this._disposeIfEmpty=()=>{0===this._marksMap.size&&this._dispose()},h.either.mapLeft(this._alertRef,(e=>A("markAlert").warn("can not take alertRef",e)))}}!function(e){e.compareTo=e=>{const t=(0,b.c)(p.vY.distanceFrom)(e);return(e,n)=>(0,y.UD)(Math.min(...e.alert.getHighlightRanges().map(t)),Math.min(...n.alert.getHighlightRanges().map(t)))}}(x||(x={}));const A=(0,y.Bj)(k.Bx.Logging.getLogger)},6471:(e,t,n)=>{"use strict";n.d(t,{B:()=>I});var i,r=n(89606),o=n(30040),s=n(65141),a=n(60246),l=n(42543),c=n(78339),d=n(95168),u=n(71814),p=n(11298),m=n(30396),f=n(89769),h=n(15491),g=n(83541),v=n(6987),b=n(60269),y=n(21216),k=n(46669),w=n(88423),E=n(44297),S=n(10334),C=n(17171),_=n(10047),x=n(80755),A=n(57797);!function(e){var t=e.make=function(e,t,n){return{lefts:e.slice(),focus:t,rights:n.slice()}},n=e.fromReadonlyArray=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return A.Im(e)||A.kI(n,e)?E.none:E.some(t((0,o.pipe)(e.slice(),_.$M(n)),e[n],(0,o.pipe)(e.slice(),_.Zg(n+1))))},i=e.fromArray=n,r=e.fromReadonlyNonEmptyArray=function(e){return t([],e[0],e.slice(1))},s=(e.fromNonEmptyArray=r,e.isOutOfBound=function(e,t){return e<0||e>=a(t)}),a=e.length=function(e){return e.lefts.length+1+e.rights.length},l=e.toNonEmptyArray=function(e){return(0,o.pipe)(x.of(e.focus),(function(t){return x.xW(e.lefts,t)}),(function(t){return x.xW(t,e.rights)}))},c=(e.toReadonlyNonEmptyArray=l,e.toArray=l,e.update=function(e){return function(n){return t(n.lefts,e,n.rights)}}),d=(e.modify=function(e){return function(t){return(0,o.pipe)(t,c(e(t.focus)))}},e.move=function(e,t){var n=e(t.lefts.length);return s(n,t)?E.none:i(l(t),n)}),u=e.findIndex=function(e){return function(t){return(0,o.pipe)(t.lefts,A.SL(e),E.alt((function(){return e(t.focus)?E.some(t.lefts.length):E.none})),E.alt((function(){return(0,o.pipe)(t.rights,A.SL(e),E.map((function(e){return t.lefts.length+1+e})))})))}},p=(e.moveByFindFirst=function(e){return function(t){return(0,o.pipe)(t,u(e),E.chain((function(e){return e===t.lefts.length?E.some(t):d((function(){return e}),t)})))}},e.up=function(e){return d(o.decrement,e)},e.down=function(e){return d(o.increment,e)},e.start=function(e){return _.Im(e.lefts)?e:t([],e.lefts[0],_.Kv((0,o.pipe)(e.lefts,_.Zg(1)),e.focus).concat(e.rights))},e.end=function(e){var n=e.rights.length;return 0===n?e:t(_.Kv(e.lefts,e.focus).concat((0,o.pipe)(e.rights,_.$M(n-1))),e.rights[n-1],[])},e.insertLeft=function(e){return function(n){return t(n.lefts,e,_.qu(n.focus,n.rights))}},e.insertRight=function(e){return function(n){return t(_.Kv(n.lefts,n.focus),e,n.rights)}},e.deleteLeft=function(e){var t=e.lefts.length;return i(e.lefts.concat(e.rights),t>0?t-1:0)},e.deleteRight=function(e){var t=e.lefts.length,n=e.rights.length;return i(e.lefts.concat(e.rights),n>0?t:t-1)},function(e,n){return t(e.lefts.map(n),n(e.focus),e.rights.map(n))}),m=function(e,n){var i=e.lefts.length;return t(e.lefts.map((function(e,t){return n(t,e)})),n(i,e.focus),e.rights.map((function(e,t){return n(i+1+t,e)})))},f=function(e,n){return t(_.YO.ap(e.lefts,n.lefts),e.focus(n.focus),_.YO.ap(e.rights,n.rights))},h=function(e,n){var i=e.lefts.map((function(i,r){return n(t((0,o.pipe)(e.lefts,_.$M(r)),i,_.Kv((0,o.pipe)(e.lefts,_.Zg(r+1)),e.focus).concat(e.rights)))})),r=e.rights.map((function(i,r){return n(t(_.Kv(e.lefts,e.focus).concat((0,o.pipe)(e.rights,_.$M(r))),i,(0,o.pipe)(e.rights,_.Zg(r+1))))}));return t(i,n(e),r)},g=function(e,t,n){return e.rights.reduce(n,n(e.lefts.reduce(n,t),e.focus))},v=function(e,t,n){var i=e.rights.reduceRight((function(e,t){return n(t,e)}),t),r=n(e.focus,i);return e.lefts.reduceRight((function(e,t){return n(t,e)}),r)},b=function(e){return function(t,n){var i=t.lefts.reduce((function(t,i){return e.concat(t,n(i))}),e.empty),r=t.rights.reduce((function(t,i){return e.concat(t,n(i))}),e.empty);return e.concat(e.concat(i,n(t.focus)),r)}},y=function(e){var n=_.YO.traverse(e);return function(i,r){return e.ap(e.ap(e.map(n(i.lefts,r),(function(e){return function(n){return function(i){return t(e,n,i)}}})),r(i.focus)),n(i.rights,r))}},k=e.map=function(e){return function(t){return p(t,e)}},w=(e.mapWithIndex=function(e){return function(t){return m(t,e)}},e.ap=function(e){return function(t){return f(t,e)}}),I=(e.apFirst=function(e){return function(t){return(0,o.pipe)(t,k((function(e){return function(t){return e}})),w(e))}},e.apSecond=function(e){return function(t){return(0,o.pipe)(t,k((function(){return function(e){return e}})),w(e))}},e.of=function(e){return t([],e,[])}),K=e.extend=function(e){return function(t){return h(t,e)}},T=(e.duplicate=K(o.identity),e.foldMap=function(e){return function(t){return function(n){return b(e)(n,t)}}},e.reduce=function(e,t){return function(n){return g(n,e,t)}},e.reduceRight=function(e,t){return function(n){return v(n,e,t)}},e.sequence=function(e){var n=_.YO.sequence(e);return function(i){return e.ap(e.ap(e.map(n(i.lefts),(function(e){return function(n){return function(i){return t(e,n,i)}}})),i.focus),n(i.rights))}}),O=e.extract=function(e){return e.focus},M=e.URI="Zipper",F=(e.getShow=function(e){var t=_.cs(e);return{show:function(n){return"Zipper(".concat(t.show(n.lefts),", ").concat(e.show(n.focus),", ").concat(t.show(n.rights),")")}}},e.getSemigroup=function(e){return{concat:function(n,i){return t(n.lefts.concat(i.lefts),e.concat(n.focus,i.focus),n.rights.concat(i.rights))}}});e.getMonoid=function(e){return(0,C._)((0,S._)({},F(e)),{empty:t([],e.empty,[])})},e.Functor={URI:M,map:p},e.FunctorWithIndex={URI:M,map:p,mapWithIndex:m},e.Applicative={URI:M,map:p,ap:f,of:I},e.Apply={URI:M,map:p,ap:f},e.Foldable={URI:M,foldMap:b,reduce:g,reduceRight:v},e.Traversable={URI:M,map:p,foldMap:b,reduce:g,reduceRight:v,traverse:y,sequence:T},e.Comonad={URI:M,map:p,extend:h,extract:O},e.zipper={URI:M,map:p,of:I,ap:f,extend:h,extract:O,reduce:g,reduceRight:v,foldMap:b,traverse:y,sequence:T,mapWithIndex:m}}(i||(i={}));var I,K=n(58193),T=n(86562),O=n(69063),M=n(12486),F=n(22835);function R(e,t){return n=>(0,o.pipe)(e,i.moveByFindFirst((e=>t.equals(n,e))))}function B(e){return _.J_(e.rights)?i.down(e):E.some(i.start(e))}function N(e){return _.J_(e.lefts)?i.up(e):E.some(i.end(e))}!function(e){let t;var n;!function(e){e.focused="focused",e.proceedForwards="proceedForwards",e.proceedBackwards="proceedBackwards",e.navigationForwards="navigationForwards",e.navigationBackwards="navigationBackwards"}(t=e.FocusEvent||(e.FocusEvent={})),(n=t=e.FocusEvent||(e.FocusEvent={})).isSwitchSectionEvent=e=>[t.proceedForwards,t.proceedBackwards,t.focused].includes(e),n.isInternalNavigationEvent=e=>[t.navigationForwards,t.navigationBackwards].includes(e),e.create=({contentFocusChanges:e,ord:n,eq:S,show:C,contentSection:x,keyboardEvents:A=s.R(document,"keydown")})=>{const P=O.Bx.Logging.getLogger("focus",M.$.DEBUG,M.I.Manager.getColor("focus")),D=(0,o.pipe)(x,E.chain((e=>i.fromArray([e])))),j=new a.m,L=new l.B7,U=A.pipe(c.p((e=>"F6"===e.key)),d.M((e=>e.preventDefault())),d.M((e=>j.next({kind:e.shiftKey?"previous":"next"}))),u.w(),p.u()),$=e.inFocus.pipe(c.p(o.identity),d.M((()=>j.next({kind:"reset"}))),u.w(),p.u()),H=j.pipe(d.M((e=>P.debug("Focus action",e))),m.S(((e,t)=>{switch(t.kind){case"register":return(0,o.pipe)(e,function(e,t){return(0,o.flow)(E.map(i.toNonEmptyArray),E.map((t=>_.Kv(t,e))),E.map(_.di(t)),E.getOrElse((0,o.constant)([e])),i.fromArray)}(t.section,n),E.chain(function(e,t){return n=>(0,o.pipe)(e,E.map(F.Up("focus")),E.chain(R(n,t)),E.alt((0,o.constant)(E.some(n))))}(e,S)));case"deregister":return(0,o.pipe)(e,E.chain((r=t.section,(0,o.flow)(i.toNonEmptyArray,_.pb((e=>e!==r)),i.fromArray))),E.chain(function(e,t){return n=>(0,o.pipe)(e,E.chain((e=>(0,o.pipe)(R(n,t),(t=>(0,o.pipe)(t(e.focus),E.alt((0,o.constant)((0,o.pipe)(e.lefts,_.HV,E.chain(t)))),E.alt((0,o.constant)((0,o.pipe)(e.rights,_.d5,E.chain(t))))))))),E.alt((0,o.constant)(E.some(n))))}(e,S)));case"next":return(0,o.pipe)(e,E.chain(B));case"previous":return(0,o.pipe)(e,E.chain(N));case"reset":return(0,o.pipe)(e,E.map(i.start));case"switch":return(0,o.pipe)(e,E.chain((e=>R(e,S)(t.section))));default:return(0,T.xb)(t)}var r}),D),f.Z(D),h.T(E.map(i.extract)),g.skipBy(E.getEq(S)),d.M((t=>(0,o.pipe)((0,o.tuple)(t,x),(0,o.tupled)((0,r.C)(E.option)),E.map((([e,t])=>S.equals(e,t))),K.Mi(e.updateFocus)))),d.M((e=>P.debug("Item focused",E.getShow(C).show(e)))),v.n((e=>b.h(U,$,y.of(e)))),g.shareReplay({bufferSize:1,refCount:!1}));return{state:H,focusEvents:L,register:(e,n)=>(j.next({kind:"register",section:e}),b.h(n.pipe(d.M((t=>L.next({section:e,kind:t}))),c.p(I.FocusEvent.isSwitchSectionEvent),d.M((n=>{switch(n){case t.focused:j.next({kind:"switch",section:e});break;case t.proceedForwards:j.next({kind:"next"});break;case t.proceedBackwards:j.next({kind:"previous"});break;default:(0,T.xb)(n)}})),u.w()),H.pipe(h.T((n=>E.exists((t=>t===e))(n)?t.focused:t.proceedForwards)),k.F(),w.j((()=>j.next({kind:"deregister",section:e}))))))}}}(I||(I={}))},11089:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var i,r=n(10334),o=n(17171),s=n(50659),a=n(67947),l=n(57797),c=n(30040),d=n(42543),u=n(74168),p=n(28600),m=n(68594),f=n(78339),h=n(58347),g=n(95168),v=n(54988),b=n(90405),y=n(89769),k=n(46669),w=n(6987),E=n(65141),S=n(15491),C=n(36094),_=n(60269),x=n(58193),A=n(50581),I=n(44297),K=n(36840),T=n(38908),O=n(11864),M=n(19772),F=n(6471);!function(e){let t,n;!function(e){e[e.default=0]="default",e[e.captureTab=1]="captureTab",e[e.f6Only=2]="f6Only"}(t=e.FocusBehavior||(e.FocusBehavior={})),function(e){var t=e.from=e=>(0,c.flow)(e,x.Mi((e=>e.focus())));let n;!function(e){const t=e=>(n=A.isFocusable)=>i=>(0,c.pipe)(i,I.fromPredicate((0,K.M4)(A.isHTMLElement,n)),I.alt((()=>(0,c.pipe)(Array.from(i.children),e(t(e)(n))))));var n=e.findFirst=t(l.CX);e.findLast=t(l.a0),e.findByPredicateOrFirstFocusable=(0,c.flow)(n,a.cy(I.fold((()=>i.FocusStrategy.focusRootOrFirstFocusable),(0,c.flow)(I.some,a.of))))}(n=e.Search||(e.Search={})),e.focusRootOrFirstFocusable=t(n.findFirst()),e.focusRootOrLastFocusable=t(n.findLast()),e.focusByPredicateOrFirstFocusable=e=>t(n.findByPredicateOrFirstFocusable(e))}(n=e.FocusStrategy||(e.FocusStrategy={}));const R=O.Ks.stylesheet({focusLeaveTracker:[{position:"fixed"}]}),B=e=>s.createElement("div",{key:`leave-tracker-${T.G7(12)}`,tabIndex:0,onFocus:t=>(t.preventDefault(),e()),"aria-hidden":!0,className:R.focusLeaveTracker});e.create=e=>({component:i,section:a,behavior:l=t.default,focusStrategy:T=n.focusRootOrFirstFocusable,escapeStrategy:O,skipDirection:R="forwards",refocusOnMutation:N=!0})=>n=>{const P=s.useContext(e),{onMount:D,ref:j}=M.R.useElWatcher(),L=new d.B7,U=e=>()=>(0,c.pipe)(T(e),x.jw((()=>L.next("forwards"===R?F.B.FocusEvent.proceedForwards:F.B.FocusEvent.proceedBackwards))));return M.R.useSubscriptionTo(j.pipe(b.oE,w.n((e=>{const n=E.R(e,"keydown").pipe(f.p((e=>"Tab"===e.key))),i=n.pipe(S.T((e=>e.shiftKey?F.B.FocusEvent.navigationBackwards:F.B.FocusEvent.navigationForwards))),r=l===t.captureTab?n.pipe(g.M((e=>e.preventDefault())),S.T((e=>e.shiftKey?F.B.FocusEvent.proceedBackwards:F.B.FocusEvent.proceedForwards))):v.w,o=(0,c.pipe)(O,I.fromNullable,I.map((t=>t(e))),I.getOrElse((()=>v.w))),s=n.pipe(S.T((()=>F.B.FocusEvent.focused))),d=n.pipe(w.n(C._F.rafScheduler),S.T((()=>(0,c.pipe)(document.activeElement,I.fromPredicate((0,K.M4)(A.isHTMLElement,(t=>e.contains(t))))))));return P.register(a,_.h(r,L,o,i,s)).pipe(f.p((e=>e===F.B.FocusEvent.focused)),w.n((T=e,M=d,(0,c.flow)(U(T),I.filter((0,c.constant)(N)),I.fold((()=>v.w),(e=>M.pipe(b.oE,y.Z(e),f.p((e=>e!==T)),k.F(),w.n((e=>t=>u.vB(e,{childList:!0,subtree:!0}).pipe(p.Q(P.state.pipe(m.i(1),f.p(x.Lw((e=>e!==a))))),f.p((()=>!e.contains(t))),h.B(100),g.M(U(e))))(T)))))))));var T,M})))),s.createElement(i,(0,o._)((0,r._)({},n),{mount:e=>{var t,i;D(e),null===(t=(i=n).mount)||void 0===t||t.call(i,e)}}),(0,K.Sw)(B((()=>L.next(F.B.FocusEvent.proceedBackwards))),null)(l===t.default),n.children,(0,K.Sw)(B((()=>L.next(F.B.FocusEvent.proceedForwards))),null)(l===t.default))}}(i||(i={}))},49947:(e,t,n)=>{"use strict";n.d(t,{I8:()=>r,k2:()=>c,tl:()=>i});var i,r,o=n(23988),s=n(10334),a=n(17171),l=n(80074);!function(e){let t;!function(e){e.VerySatisfied="VerySatisfied",e.SomewhatSatisfied="SomewhatSatisfied",e.Neutral="Neutral",e.SomewhatDissatisfied="SomewhatDissatisfied",e.VeryDissatisfied="VeryDissatisfied"}(t=e.Experience||(e.Experience={})),e.adminSatisfactionReasons=["CreatingStrongCompanyBrand","SavingTimeWritingAndEditing","CentrallyManagingGrammarlyAccount","EnablingTeamToCommunicateWithCustomersEffectively","Other"],e.teamMemberSatisfactionReasons=["SavingTimeWritingAndEditing","SoundingFluentInEnglish","SoundingMoreProfessionalAndPolished","ImprovingOverallWritingSkills","FeelingConfidentWhenCommunicating","CommunicatingWithCustomersEffectively","Other"],e.dissatisfactionReasons=["DoesntIntegrateWithAnAppIUse","LowQualitySuggestions","FeaturesAreMissing","TechnicalDifficulties","NotSureWhatGrammarlyBusinessDoes","DidntFindItValuable","Other"]}(i||(i={})),function(e){e.isFirstQuestion=e=>!("answer1"in e)&&!("answer2"in e),e.isSecondQuestion=e=>"answer1"in e&&!("answer2"in e),e.isThirdQuestion=e=>"answer1"in e&&"answer2"in e&&!("answer3"in e),e.isCompleted=e=>"answer1"in e&&"answer2"in e&&"answer3"in e;const t=[i.Experience.Neutral,i.Experience.SomewhatDissatisfied,i.Experience.VeryDissatisfied];e.isSecondQuestionAboutDissatisfaction=e=>"answer1"in e&&t.includes(e.answer1),e.getSecondQuestionAnswer=e=>e.answer2}(r||(r={}));class c{answer(e){const t=this.state.view(r.isFirstQuestion).get(),n=this.state.view(r.isSecondQuestion).get(),i=t?"answer1":n?"answer2":"answer3";this.state.modify((t=>(0,a._)((0,s._)({},t),{[i]:e}))),t?this._tracking.onFirstAnswer(e):n?this._tracking.onSecondAnswer(e):Boolean(e.trim())&&this._tracking.onThirdAnswer(e)}constructor(e,t){(0,o._)(this,"_tracking",void 0),(0,o._)(this,"isAdmin",void 0),(0,o._)(this,"state",void 0),this._tracking=e,this.isAdmin=t,this.state=l.s.create({})}}},95710:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var i,r=n(65141),o=n(78339);!function(e){e.listen=e=>r.R(document,"keydown").pipe(o.p((t=>t.key.toLowerCase()===e&&!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey))))}(i||(i={}))},37262:(e,t,n)=>{"use strict";n.d(t,{h_:()=>M});var i=n(10334),r=n(17171),o=n(69082),s=n(30040),a=n(63336),l=n(80074),c=n(44297),d=n(86562),u=n(36840),p=n(58193),m=n(58889),f=n(22835),h=n(55172),g=n(69063),v=n(12486),b=n(62597),y=n(63967),k=n(65621),w=n(19711),E=n(15491),S=n(89769),C=n(78339),_=n(6987),x=n(83541),A=n(60269),I=n(21662),K=n(95168),T=n(36094),O=n(87275);function M(e,t){return(n,i)=>t.findClosestAlertHighlight(e(i),n)}const F=e=>e.pipe(k.J(),w.$((([e,t])=>"idle"!==e&&"idle"===t)),E.T((()=>{}))),R=e=>e.pipe(S.Z("idle"),k.J(),w.$((([e,t])=>"idle"===t)),C.p((([e])=>"full"===e)),E.T((()=>{}))),B=(e,t)=>{const n=F(e);return t.bigPaste.pipe(_.n((()=>n)),E.T((()=>{})),x.shareReplay({bufferSize:1,refCount:!0}))};var N,P;!function(e){const t=(0,u.Bj)(g.Bx.Logging.getLogger);e.focusFirstCardAfterBigCheck=(e,n,i,r,o)=>{const s=F(n),l=R(n),d=B(n,r);return(0,a.pipe)(A.h(s,l,d),I.E(e,o,i),C.p((([e,t,n,i])=>i&&!n&&O.os.hasCards(t)&&c.isNone(O.Tt.getActiveItem(t.currentLens)))),E.T((()=>O.os.Effect.FocusBehavior.focusFirst)),K.M((e=>t("AutoFocus.sideEffects.focusFirstCardAfterBigCheck").trace("emit: ",e))))},e.getSideEffect=(e,t)=>{const n=(0,a.pipe)(e,E.T((e=>t=>n=>{switch(t.kind){case O.os.Effect.FocusBehaviorType.noFocus:return n;case O.os.Effect.FocusBehaviorType.unFocus:return O.os.Prism.getLensWithItems().modify(e.unselectItem(),n);case O.os.Effect.FocusBehaviorType.focusFirst:return(0,a.pipe)(e.findFirstAlert(n.currentLens),c.fold((()=>n),(t=>O.os.Prism.getLensWithItems().modify(e.selectItemByAlert(t),n))));case O.os.Effect.FocusBehaviorType.focusNext:return(0,a.pipe)(e.findNextAlert(n.currentLens),c.fold((()=>n),(t=>O.os.Prism.getLensWithItems().modify(e.selectItemByAlert(t),n))));case O.os.Effect.FocusBehaviorType.focusAlert:return O.os.Prism.getLensWithItems().modify(e.selectItemByAlert(t.alertHighlight),n);default:(0,d.xb)(t)}})(t)));return{id:"autoFocusEffect",when:b.J.isWithAlertsId,what:O.os.Effect.ItemsApplicator.create(n)}};var n=e.whenFirstOpeningDocumentWithAlerts=e=>()=>e.firstOpeningOfDocumentWithAlerts.get(),f=e.whenShouldVerifyCurrentLens=(e,n)=>i=>{const r="AutoFocus.stateValidator.whenShouldVerifyCurrentLens";return!(!O.os.hasItems(i)||!n.shouldVerify(i.currentLens)||((0,a.pipe)(O.os.getActiveAlert(e)(i),c.filter(y.Fc.isInDuplicatedState),c.fold((()=>t(r).debug("Current alert removed, should verify current lens...")),(e=>t(r).info("Current alert removed as it's a duplicate, should verify current lens...",e.toString())))),0))},h=e.whenNoActiveCard=e=>e.currentLens.items.size>0&&c.isNone(O.Tt.getActiveItem(e.currentLens)),v=e.behaviorToEffect=e=>n=>i=>(0,a.pipe)(n(i)?e(i):c.none,p.Mi((e=>t("AutoFocus.stateValidator").debug(`'behavior triggered: ${e.kind}`))));e.getDefaultBehavior=(e,t)=>(0,a.pipe)([(0,a.pipe)(f(e,t),v((()=>c.some(O.os.Effect.FocusBehavior.focusNext))))],(0,o.fold)((0,o.getFunctionMonoid)(c.getFirstMonoid())())),e.getAlwaysFocusBehavior=(e,t)=>(0,a.pipe)([(0,a.pipe)((0,u.Ub)(h,f(e,t)),v((()=>c.some(O.os.Effect.FocusBehavior.focusNext))))],(0,o.fold)((0,o.getFunctionMonoid)(c.getFirstMonoid())())),e.getFocusFromCacheBehavior=(e,t,i,r,l,d)=>(0,a.pipe)([(0,a.pipe)(f(r,l),v((()=>c.some(O.os.Effect.FocusBehavior.focusNext)))),(0,a.pipe)((0,u.M4)((()=>t.get()),(0,u.M4)((0,u.M4)((0,u.M4)(n(i),(()=>e)),h),(0,a.pipe)(d,c.map((e=>(0,s.not)(e.willShowBulkAccept))),c.getOrElse((()=>s.constTrue))))),v((()=>c.some(O.os.Effect.FocusBehavior.focusFirst))))],(0,o.fold)((0,o.getFunctionMonoid)(c.getFirstMonoid())())),e.getFirstApiAlignmentOverride=function(){const e=l.s.create(!0);return(t,n)=>{let i=n;return e.get()&&n===y.Kz.api&&(i=y.Kz.text),e.set(!1),i}},e.getShouldAutoFocus=(e,t,n)=>i=>e.get()&&(0,a.pipe)(i,O.os.getActiveAlert(n),c.chain((({id:e})=>t.getById(e))),c.filter((0,u.Ub)((e=>"APPLIED"===e.state.type&&"ByCard"===e.state.method),y.Fc.isDuplicated,y.Fc.isCapiDone)),c.isSome),e.getStateTransformer=(e,n,o,s,l,u,p)=>({state:f,metadata:h})=>{const g=t("AutoFocus.stateTransformer");if(!O.os.hasCards(f)||!O.os.hasItems(f))return g.trace("state has no items, returning original state"),m.left({state:f,metadata:h});const v=e(f);if(g.trace("effect: ",{state:f,metadata:h,effect:v}),c.isNone(v))return g.trace("no effect selected, returning original state"),m.left({state:f,metadata:h});if(u(v.value),v.value.kind===O.os.Effect.FocusBehaviorType.unFocus||v.value.kind===O.os.Effect.FocusBehaviorType.noFocus)return m.left({state:O.os.Prism.getLensWithItems().modify(s.unselectItem(),f),metadata:h});const b=l(f);return g.trace("shouldAutoFocus",{alertSource:f.alertSource,shouldAutoFocus:b}),(0,a.pipe)(v,c.chain((e=>{switch(e.kind){case O.os.Effect.FocusBehaviorType.noFocus:case O.os.Effect.FocusBehaviorType.unFocus:return c.none;case O.os.Effect.FocusBehaviorType.focusFirst:return(0,a.pipe)(s.findFirstAlert(f.currentLens),c.map((e=>(0,r._)((0,i._)({},e),{lensId:f.currentLens.id}))));case O.os.Effect.FocusBehaviorType.focusNext:return n(f);case O.os.Effect.FocusBehaviorType.focusAlert:return c.some((0,r._)((0,i._)({},e.alertHighlight),{lensId:f.currentLens.id}));default:(0,d.xb)(e)}})),c.map((e=>((0,d.V1)(c.isSome(o.getRegistered(e.alert.id)),"lens alert should be in registered state",(()=>e.alert.toString())),e))),c.fold((()=>(g.trace("no alert selected, returning original state"),f.currentLens.kind===O.Iw.active?m.right(m.right({lensId:p.get(),alertSource:f.alertSource,options:{order:f.switchOrder,toFocus:O.os.Effect.FocusBehavior.noFocus}})):m.left({state:f,metadata:h}))),(({alert:e,highlightIndex:t,lensId:n})=>{if(g.trace("selected alert to focus",e),f.currentLens.meta.filter(e)){if(b){const n={alert:e,highlightIndex:t};return(0,a.pipe)(f.currentLens.items.find(s.hasAlert(e.id)),c.fold((()=>(g.trace("shouldAutoFocus: true, no such item in a lens for given alert",e.id),m.left({state:f,metadata:h}))),(()=>(g.trace("shouldAutoFocus: true, selecting alert"),m.left({state:O.os.Prism.getLensWithItems().modify(s.selectItemByAlert(n),f),metadata:{sourceId:"LSM.updateActiveState"}})))))}return g.trace("shouldAutoFocus: false"),m.left({state:f,metadata:h})}return g.trace("alert is not from current lens, recreating lens view"),m.right(b?m.left({alertHighlight:{alert:e,highlightIndex:t},alertSource:f.alertSource,options:{lensId:n,order:f.switchOrder,toFocus:O.os.Effect.FocusBehavior.focusFirst}}):m.right({lensId:n,alertSource:f.alertSource,options:{order:f.switchOrder,toFocus:O.os.Effect.FocusBehavior.noFocus}}))})))}}(N||(N={})),function(e){const t=e=>t=>n=>{switch(t.kind){case O.os.Effect.FocusBehaviorType.noFocus:return n;case O.os.Effect.FocusBehaviorType.unFocus:return O.os.Prism.getLensWithItems().modify(e.unselectItem(),n);case O.os.Effect.FocusBehaviorType.focusFirst:return(0,a.pipe)(n.currentLens.items.find((0,s.not)(e.isScheduledToDispose)),c.map(f.Up("value")),c.fold((0,s.constant)(n),(t=>O.os.Prism.getLensWithItems().modify(e.selectItemById(t.id),n))));case O.os.Effect.FocusBehaviorType.focusNext:return(0,a.pipe)(n.currentLens.cardIndex,c.chain((t=>(0,a.pipe)(h.rq(n.currentLens.items.values(),t,c.fromPredicate((0,s.not)(e.isScheduledToDispose))),c.map(f.Up("value"))))),c.fold((0,s.constant)(n),(t=>O.os.Prism.getLensWithItems().modify(e.selectItemById(t.id),n))));case O.os.Effect.FocusBehaviorType.focusAlert:return O.os.Prism.getLensWithItems().modify(e.selectItemByAlert(t.alertHighlight),n);default:(0,d.xb)(t)}},n=(0,u.Bj)(g.Bx.Logging.getLogger);e.focusFirstCardAfterBigCheck=(e,t,i,r)=>{const o=F(t),s=R(t),l=B(t,r);return(0,a.pipe)(A.h(o,s,l),_.n(T._F.rafScheduler),_.n(T._F.rafScheduler),I.E(e,i),C.p((([e,t,n])=>n&&O.os.hasCards(t)&&c.isNone(O.Tt.getActiveItem(t.currentLens)))),E.T((()=>O.os.Effect.FocusBehavior.focusFirst)),K.M((e=>n("AutoFocus.sideEffects.focusFirstCardAfterBigCheck").trace("emit: ",e))))},e.getSideEffect=(e,n)=>{const i=(0,a.pipe)(e,E.T(t(n)));return{id:"sduiAutoFocusEffect",when:b.J.isWithAlertsId,what:O.os.Effect.ItemsApplicator.create(i)}},e.getShouldAutoFocus=(e,t,n)=>i=>e.get()&&(0,a.pipe)(i,O.os.getActiveAlert(n),c.chain((({id:e})=>t.getById(e))),c.filter((0,u.Ub)((e=>!("REMOVED"===e.state.type&&"textChange"===e.state.reason)),y.Fc.isDuplicated,y.Fc.isCapiDone)),c.isSome),e.getStateTransformer=(e,o,s,l,d,u)=>({state:p,metadata:f})=>{const h=n("AutoFocus.stateTransformer",v.$.TRACE);if(!O.os.hasCards(p)||!O.os.hasItems(p))return h.trace("state has no items, returning original state"),m.left({state:p,metadata:f});const g=e(p);if(c.isNone(g))return h.trace("no effect selected, returning original state"),m.left({state:p,metadata:f});if(h.trace("effect: ",{state:p,metadata:f,effect:g}),d(g.value),g.value.kind===O.os.Effect.FocusBehaviorType.unFocus||g.value.kind===O.os.Effect.FocusBehaviorType.noFocus)return m.left({state:O.os.Prism.getLensWithItems().modify(s.unselectItem(),p),metadata:f});const b=l(p);return h.trace("shouldAutoFocus",{alertSource:p.alertSource,shouldAutoFocus:b}),(0,a.pipe)(g,c.map((e=>({effect:e,applicator:t(s)}))),c.fold((()=>(h.trace("no effect selected, returning original state"),p.currentLens.kind===O.Iw.active?m.right(m.right({lensId:u.get(),alertSource:p.alertSource,options:{order:p.switchOrder,toFocus:O.os.Effect.FocusBehavior.noFocus}})):m.left({state:p,metadata:f}))),(({effect:e,applicator:t})=>{h.trace(`effect selected: ${e.kind}`);const n=t(e)(p);return b?(h.trace("shouldAutoFocus: true, selecting an item in the lens"),m.left({state:n,metadata:{sourceId:"LSM.updateActiveState"}})):(h.trace("current lens is empty"),e.kind===O.os.Effect.FocusBehaviorType.focusNext?(h.trace("no items to select in the current lens, trying to switch"),(0,a.pipe)(p,o,c.fold((()=>(h.trace("next alert not found in other lenses, reset cardIndex"),m.left({state:p.patch({currentLens:(0,r._)((0,i._)({},p.currentLens),{cardIndex:c.none})}),metadata:{sourceId:"LSM.updateActiveState"}}))),(({lensId:e})=>(h.trace(`found next alert in lens: ${e}. Switching the lens`),m.right(m.right({lensId:e,alertSource:p.alertSource,options:{order:p.switchOrder,toFocus:O.os.Effect.FocusBehavior.noFocus}}))))))):(h.trace("shouldAutoFocus: false"),m.left({state:p,metadata:f})))})))}}(P||(P={}))},79365:(e,t,n)=>{"use strict";n.d(t,{a:()=>S,m:()=>f});var i,r=n(23988),o=n(63336),s=n(80074),a=n(7432),l=n(86562),c=n(44297),d=n(19147),u=n(6922),p=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;(0,d._)(this,e),(0,r._)(this,"_task",void 0),(0,r._)(this,"_buffer",void 0),(0,r._)(this,"_run",void 0),(0,r._)(this,"_batchSize",void 0),(0,r._)(this,"_sub",void 0),this._task=t,this._buffer=n,this._run=i,this._batchSize=o,this._sub=null}return(0,u._)(e,[{key:"put",value:function(e){this._buffer.put(e),null===this._sub&&this._buffer.nonEmpty&&this._scheduleWork()}},{key:"order",value:function(e){this._buffer.order(e)}},{key:"flush",value:function(){this._task(this._buffer.take(this._buffer.length))}},{key:"length",get:function(){return this._buffer.length}},{key:"_scheduleWork",value:function(){var e=this;this._sub=this._run((function(){e._task(e._buffer.take(e._batchSize)),e._sub=null,e._buffer.nonEmpty&&e._scheduleWork()}))}},{key:"shutdown",value:function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)}}]),e}(),m=n(9899);!function(e){var t=function(){function e(t){(0,d._)(this,e),(0,r._)(this,"_predicate",void 0),(0,r._)(this,"_queueMap",void 0),(0,r._)(this,"_queue",void 0),this._predicate=t,this._queueMap=new Set,this._queue=[]}return(0,u._)(e,[{key:"put",value:function(e){var t,n=this,i=new Set,r=e.reduce((function(e,t){return i.has(t.id)||n._queueMap.has(t.id)||!n._predicate(t)||(i.add(t.id),e.push(t)),e}),[]);(t=this._queue).push.apply(t,(0,m._)(r)),r.forEach((function(e){var t=e.id;return n._queueMap.add(t)}))}},{key:"take",value:function(e){for(var t=0,n=[];t<this._queue.length&&n.length<e;){var i=this._queue[t];this._predicate(i)&&n.push(i),this._queueMap.delete(i.id),t++}return this._queue=this._queue.slice(t),n}},{key:"order",value:function(e){this._queue.sort(e)}},{key:"length",get:function(){return this._queue.length}},{key:"nonEmpty",get:function(){return this._queue.length>0}}]),e}();e.LazyPredicateUniq=t}(i||(i={}));var f,h=n(6987),g=n(36094),v=n(19711),b=n(80837),y=n(83541),k=n(21216),w=n(30295),E=n(38666);!function(e){let t;!function(e){e.immediately="immediately",e.asap="asap",e.low="low"}(t=e.Priority||(e.Priority={}))}(f||(f={}));class S{enqueue(e,t){switch(t){case f.Priority.immediately:e.forEach((e=>e.apply()));break;case f.Priority.asap:this._asapAlertsChangeWorker.put(e);break;case f.Priority.low:this._alertsChangeWorker.put(e);break;default:(0,l.xb)(t)}}flush(){return this._asapAlertsChangeWorker.flush(),this._alertsChangeWorker.flush(),Promise.resolve()}dispose(){this._subs.dispose(),this._alertsChangeWorker.shutdown(),this._asapAlertsChangeWorker.shutdown()}_renderMarks(e){const[t,...n]=e.filter(w.yl.isPending);Boolean(t)&&t.applyWith(n)}_asyncRunner(e,t){return n=>e.pipe(h.n(g.$x(t)),v.$()).subscribe(n)}_listenFocusedMark(){return this._activeAlertChanges.subscribe((e=>{const t=(0,o.pipe)(e,c.map((e=>e.alert.getHighlightRanges()[0])),c.getOrElse((()=>a.vY.empty)));this._alertsChangeWorker.order(E.s.compareTo(t))}))}constructor(e){(0,r._)(this,"_activeAlertChanges",void 0),(0,r._)(this,"_lockMarkUpdate",void 0),(0,r._)(this,"_subs",void 0),(0,r._)(this,"_alertsChangeWorker",void 0),(0,r._)(this,"_asapAlertsChangeWorker",void 0),this._activeAlertChanges=e,this._lockMarkUpdate=s.s.create(!1),this._subs=new b.y.Keeper,this._alertsChangeWorker=new p(this._renderMarks,new i.LazyPredicateUniq(w.yl.isPending),this._asyncRunner(this._lockMarkUpdate,y.timer(50))),this._asapAlertsChangeWorker=new p(this._renderMarks,new i.LazyPredicateUniq(w.yl.isPending),this._asyncRunner(this._lockMarkUpdate,g._F.inRaf(k.of(!0)))),this._subs.push(this._listenFocusedMark())}}},88e3:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var i,r=n(23988),o=n(44297),s=n(36840),a=n(21216),l=n(78674);!function(e){let t,n;!function(e){let t;!function(e){e[e.ERROR=0]="ERROR",e[e.EMPTY=1]="EMPTY",e[e.LOADING=2]="LOADING",e[e.SHORT_CONTENT=3]="SHORT_CONTENT",e[e.READY=4]="READY"}(t=e.Type||(e.Type={}))}(t=e.State||(e.State={})),function(e){e.Mock=class{constructor(e={type:t.Type.EMPTY},n=o.some(new l.p.ViewModel.Mock)){(0,r._)(this,"statisticsState",void 0),(0,r._)(this,"reportViewModel",void 0),(0,r._)(this,"state",void 0),(0,r._)(this,"onModalClose",void 0),this.statisticsState=e,this.reportViewModel=n,this.state=a.of(this.statisticsState),this.onModalClose=s.Yi}}}(n=e.ViewModel||(e.ViewModel={}))}(i||(i={}))},30732:(e,t,n)=>{"use strict";n.d(t,{c5:()=>r,kV:()=>c,r9:()=>i});var i,r,o=n(23988),s=n(10334),a=n(17171),l=n(80074);!function(e){let t,n,i;!function(e){e.VerySatisfied="VerySatisfied",e.SomewhatSatisfied="SomewhatSatisfied",e.Neutral="Neutral",e.SomewhatDissatisfied="SomewhatDissatisfied",e.VeryDissatisfied="VeryDissatisfied"}(t=e.Experience||(e.Experience={})),function(e){e.PlagiarismChecker="PlagiarismChecker",e.ClaritySuggestions="ClaritySuggestions",e.EngagementSuggestions="EngagementSuggestions",e.ToneSuggestions="ToneSuggestions",e.UsingMultipleDevices="UsingMultipleDevices"}(n=e.SatisfactionReason||(e.SatisfactionReason={})),function(e){e.LowQualitySuggestions="LowQualitySuggestions",e.PoorPlagiarismSuggestions="PoorPlagiarismSuggestions",e.NoSupportForDesirableApp="NoSupportForDesirableApp",e.AggressivePremiumPromotion="AggressivePremiumPromotion",e.NoPremiumSuggestions="NoPremiumSuggestions",e.PremiumAndFreeAreIdentical="PremiumAndFreeAreIdentical"}(i=e.DissatisfactionReason||(e.DissatisfactionReason={}))}(i||(i={})),function(e){var t=e.isCompleted=e=>"answer1"in e&&"answer2"in e;e.isFirstQuestion=e=>!("answer1"in e)&&!("answer2"in e),e.isSecondQuestion=e=>"answer1"in e&&!("answer2"in e);const n=[i.Experience.Neutral,i.Experience.SomewhatDissatisfied,i.Experience.VeryDissatisfied];e.isSecondQuestionAboutDissatisfaction=e=>"answer1"in e&&n.includes(e.answer1),e.isSecondAnswerAboutDissatisfaction=e=>t(e)&&Object.keys(i.DissatisfactionReason).includes(e.answer2)}(r||(r={}));class c{answer(e){const t=this.state.view(r.isFirstQuestion).get(),n=t?"answer1":"answer2";this.state.modify((t=>(0,a._)((0,s._)({},t),{[n]:e}))),t?this._tracking.onFirstAnswer(e):this._tracking.onSecondAnswer(e)}constructor(e){(0,o._)(this,"_tracking",void 0),(0,o._)(this,"state",void 0),this._tracking=e,this.state=l.s.create({})}}},78674:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var i,r=n(23988),o=n(80074),s=n(36840),a=n(44297);!function(e){let t,n;!function(e){e[e.CHECKED=0]="CHECKED",e[e.NOT_CHECKED=1]="NOT_CHECKED"}(t=e.PlagiarismCheckingState||(e.PlagiarismCheckingState={})),function(e){e.Mock=class{constructor(){(0,r._)(this,"downloadStarted",o.s.create(!1)),(0,r._)(this,"beginDownload",s.Yi),(0,r._)(this,"tryToInterrupt",s.Yi),(0,r._)(this,"generateReport",(()=>{throw new Error("Method not implemented.")})),(0,r._)(this,"reportData",o.s.create(a.none)),(0,r._)(this,"dedHTML",""),(0,r._)(this,"dispose",s.Yi),(0,r._)(this,"sortedAlerts",[]),(0,r._)(this,"sortedPlagiarismAlerts",[])}}}(n=e.ViewModel||(e.ViewModel={}))}(i||(i={}))},40808:(e,t,n)=>{"use strict";n.d(t,{M7:()=>P,cm:()=>N});var i,r=n(10047),o=n(31784),s=n(30040),a=n(63336),l=n(66799),c=n(86562),d=n(58889),u=n(59042),p=n(44297),m=n(69063),f=n(63967),h=n(62597),g=n(22809),v=n(95168),b=n(78339),y=n(15491),k=n(68533),w=n(62822),E=n(19711),S=n(82718),C=n(7323),_=n(11298),x=n(6987),A=n(36094),I=n(65621),K=n(88423),T=n(90405),O=n(80159),M=n(60269),F=n(92141);!function(e){let t;!function(e){e.apply="apply",e.dismiss="dismiss",e.bulkUndo="bulkUndo",e.ignore="ignore",e.highlight="highlight",e.individualUndo="individualUndo",e.confirmed="confirmed",e.confirmedAll="confirmedAll"}(t=e.Kind||(e.Kind={})),e.isApply=function(e){return e.kind===t.apply},e.isBulkUndo=function(e){return e.kind===t.bulkUndo},e.isConfirmAll=function(e){return e.kind===t.confirmedAll},e.isHighlight=function(e){return e.kind===t.highlight},e.isIndividualUndo=function(e){return e.kind===t.individualUndo},e.create=(e,n)=>M.h(e.pipe(b.p(F.X9.isBulkAction),y.T((e=>{switch(e.type){case F.X9.Type.bulkApply:return{kind:t.apply,alertIds:e.alertIds};case F.X9.Type.bulkDismiss:return{kind:t.dismiss};case F.X9.Type.bulkHighlight:return{kind:t.highlight,alert:e.alert,clickPoint:e.clickPoint};case F.X9.Type.bulkIgnore:return{kind:t.ignore,alertId:e.alertId};case F.X9.Type.bulkIndividualUndo:return{kind:t.individualUndo,alertId:e.alertId};case F.X9.Type.bulkLooksGood:return{kind:t.confirmedAll,alertIds:e.alertIds};case F.X9.Type.bulkUndo:return{kind:t.bulkUndo,alertIds:e.alertIds};default:(0,c.xb)(e)}}))),n.pipe(b.p(O.G.isBulkAction),y.T((e=>{switch(e.type){case O.G.Type.confirmed:return{kind:t.confirmed,alertId:e.alertId};case O.G.Type.undone:return{kind:t.individualUndo,alertId:e.alertHighlight.alert.id};default:(0,c.xb)(e)}}))))}(i||(i={}));var R=n(45653),B=n(87275);const N=e=>{const t=e[0];switch((0,c.V1)(void 0!==t,"undoables should had at least one item"),t.action){case l.yp.IGNORE:return{kind:"ignore"};case l.yp.ADD_TO_DICTIONARY:return{kind:"addToDictionary",word:t.replacement};case l.yp.WRONG_SUGGESTION:case l.yp.OFFENSIVE_CONTENT:return{kind:"report"};case l.yp.ACCEPTED:return e.length>1?{kind:"bulkAccept",count:e.length}:{kind:"replace",word:t.replacement};case l.Fc.SYNONYM_ACCEPTED:return{kind:"replaceSynonym"};case l.yj.DISMISS_BY_LENS:return{kind:"ignoreAll",alerts:e.length};case l.yp.LIKE:return{kind:"markAsHelpful"};case l.yp.DISLIKE:return{kind:"markAsNotHelpful"};case l.yp.ACKNOWLEDGED:return{kind:"acknowledge"};default:throw new Error("Invalid undoable action "+t.action)}};function P(e,t,n){return e().pipe(v.M((e=>{"closedByUser"===e&&t()})),b.p((e=>"shown"!==e)),y.T((e=>["undo","bulkUndo"].includes(e)?e:"commit")),k.h(n().pipe(w.u("commit"))),E.$())}var D,j,L;function U(e,t){return[{id:`${e}_showUndoNotifications`,when:s.constTrue,what:B.os.Effect.Applicator.create(t.pipe(S.K(C.t)))},{id:`${e}_changeLensWhenThereWasNoPreviouslyFocusedAlert`,when:e=>e!==h.J.SpecialId.Closed,what:B.os.Effect.SwitchLens.create(t.pipe(b.p((e=>p.isNone(e.previouslyFocused))),y.T((({lensId:e})=>({lensId:e,alertSource:f.Kz.sidebar,options:{toFocus:B.os.Effect.FocusBehavior.noFocus}})))))},{id:`${e}_focusPreviouslyActiveAlert`,when:e=>e!==h.J.SpecialId.Closed,what:B.os.Effect.SwitchAlert.create(t.pipe(y.T((e=>(0,a.pipe)(e.previouslyFocused,p.map((t=>({alertHighlight:t,alertSource:f.Kz.sidebar,options:{lensId:e.lensId}})))))),T.oE))}]}function $(e){return!f.Fc.isCitationDetection(e)}function H(e,t,n){return(0,a.pipe)(e,p.map((e=>{const i=t.find((t=>t.id===e.activeAlert.id));return(0,c.V1)(void 0!==i,"Undone alerts should contain previously focused alert",e.activeAlert.id),(0,c.V1)((0,a.pipe)(n.getById(i.id),p.isSome),"Undone alerts should exist in alert list",i.id),(0,c.V1)(f.Fc.isRegistered(i),"Undoed alert should be in registered state",(()=>String(i))),{alert:R.A.fromModel(i),highlightIndex:e.activeHighlightIndex}})))}!function(e){e.create=function(e,t,n){return U("individual_undo_applied",e.pipe(b.p(i.isIndividualUndo),v.M((({alertId:e})=>(0,a.pipe)(e,t.getById,d.fromOption((()=>new c.zU("Could not find alert by id while processing individual undo event",e))),d.filterOrElse(f.Fc.isApplied,(e=>new c.zU("Alert is not in the applied state",e.toString()))),d.chain((e=>n.undoApplied([e],f.Fc.State.Applied.Method.Bulk)())),d.getOrElse((e=>m.Bx.Logging.getLogger("BulkAcceptedIndividualUndoSideEffect").error("Could not process an individual undo event",e)))))),S.K(C.t),_.u()))}}(D||(D={})),function(e){e.create=function(e,t,n,o){return U("bulk_undo_applied",e.pipe(b.p(i.isBulkUndo),x.n(A._F.rafScheduler),y.T((({alertIds:e})=>e.map(t.getById))),y.T(r.oE),v.M((e=>{(0,a.pipe)(n.undoApplied(e,f.Fc.State.Applied.Method.Bulk)(),d.fold((e=>m.Bx.Logging.getLogger("BulkUndoSideEffect").error("Could not perform bulk undo",e)),(()=>o.onBulkUndo(e.length))))})),S.K(C.t),_.u()))}}(j||(j={})),function(e){e.create=function(e,t,n,i,l,c){return U("undo_applied",e.state.pipe(I.J(),y.T((([e,t])=>(0,a.pipe)(g.A.diff(e,t),u.b.reduce([],s.identity,((e,t)=>(f.Fc.isApplied(t.alert)&&!f.Fc.isBulkApplied(t.alert)&&e.push(t.alert),e)),s.identity)))),y.T((0,s.flow)(r.pb($),r.Tj((e=>(0,a.pipe)(e.takeReference("undoNotification"),d.bimap((t=>(0,s.tuple)(e,t)),(t=>(0,s.tuple)(e,t)))))))),y.T(r.sj),y.T((({left:e,right:t})=>(r.J_(e)&&c.warn("can not take alertRef",e),t))),b.p(r.J_),x.n((r=>{const s=n.get(),u=r.map((([e])=>e)),m=u.map((e=>e.state.undoable)),h=r.map(o.gp);return l(m).pipe(y.T((n=>"undo"===n?(0,a.pipe)(e.undoApplied(u,f.Fc.State.Applied.Method.ByCard)(),d.fold((e=>(c.error("Got error during undo",e),p.none)),(()=>B.os.hasCards(s)?p.some({lensId:s.currentLens.id,previouslyFocused:H(B.os.getActiveItem(i)(s),u,t)}):p.none))):p.none)),K.j((()=>h.forEach((e=>e.dispose())))),T.oE)})),_.u()))}}(L||(L={}))},56122:(e,t,n)=>{"use strict";n.d(t,{w:()=>Q});var i=n(50659),r=n(87574),o=n(36840),s=n(96011),a=n(19967),l=n(27917),c=n(49947),d=n(86922),u=n(65873),p=n(27199),m=n(11864),f=n(72747);const h={position:"fixed",bottom:m.Ks.rem(1),right:m.Ks.rem(1),zIndex:f.do,width:m.Ks.rem(20),padding:m.Ks.rem(2),background:p.Q1.CoreNeutral0,transition:`transform ${m.Ks.seconds(.1)} linear ${m.Ks.seconds(.1)}`,transform:"perspective(100)",borderRadius:m.Ks.rem(f.Am),boxShadow:"0 12px 48px 0 rgba(96, 101, 123, .24)"},g={transitionDelay:m.Ks.seconds(0),transform:"perspective(100) rotateY(90deg)"},v={paddingBottom:m.Ks.rem(1)},b={marginBottom:m.Ks.rem(1)},y={width:m.Ks.percent(100),borderRadius:m.Ks.rem(f.H0),padding:`${m.Ks.rem(.5)} 0 ${m.Ks.rem(.5)} ${m.Ks.rem(.5)}`,lineHeight:m.Ks.rem(1.3125),margin:"0 2px"},k={width:m.Ks.rem(1),height:m.Ks.rem(1),minHeight:m.Ks.rem(1),display:"inline-block",verticalAlign:"top",marginLeft:m.Ks.rem(.25)},w={color:p.Q1.CoreBlue50,textDecoration:"none"},E={paddingTop:m.Ks.rem(2),height:m.Ks.rem(15),flexGrow:1},S={marginBottom:m.Ks.rem(.5)},C={$nest:{"& p":{marginTop:m.Ks.rem(1),marginBottom:m.Ks.rem(1)},"& p:last-child":{marginBottom:0},"& ul":{paddingLeft:m.Ks.rem(2)},"& a":{color:p.Q1.CoreBlue50,textDecoration:"none"}}},_={marginTop:m.Ks.rem(1),marginBottom:m.Ks.rem(1)},x={marginTop:m.Ks.rem(1)},A=m.Ks.stylesheet({notification:[h],rotateHide:[h,g],rotateShow:[h,{transform:"perspective(100) rotateY(-90deg)"}],closeIcon:[{position:"absolute",top:0,right:0}],question:[v],questionText:[b],answerBtn:[y],answer:[{whiteSpace:"normal"}],outcomeIcon:[k],learnMoreLink:[w],completionScreen:[{display:"flex",flexDirection:"column",alignItems:"flex-start"}],completionContent:[E],completionHeader:[S],badExperience:[C],openQuestion:[_],contactSupport:[x]}),I=({onComplete:e})=>{const t=i.useContext(d.S.Context).gbSatisfactionSurvey.thankYou;return i.createElement(r.F.div,{className:A.completionScreen},i.createElement(l.In.NotificationInfo,{width:40}),i.createElement("div",{className:A.completionContent},i.createElement(u.H3,{className:A.completionHeader},t)," "),i.createElement(a.$n.Primary,{name:"survey.done",onClick:e},"done"))};var K=n(37099);const T=({answerType:e,viewModel:t,children:n})=>i.createElement(a.$n.Flat,{className:A.answerBtn,name:`answer.${e}`,onClick:()=>t.answer(e)},i.createElement("span",{className:A.answer},n));var O=c.tl.Experience;const M=({viewModel:e})=>{const t=i.useContext(d.S.Context).premiumOnboardingSurvey.firstQuestion;return i.createElement("div",{className:A.question},i.createElement(u.H3,{className:A.questionText},t.question),i.createElement(T,{answerType:O.VerySatisfied,viewModel:e},i.createElement(K.zT,null,"😄")," ",t.answers.verySatisfied),i.createElement(T,{answerType:O.SomewhatSatisfied,viewModel:e},i.createElement(K.zT,null,"🙂")," ",t.answers.somewhatSatisfied),i.createElement(T,{answerType:O.Neutral,viewModel:e},i.createElement(K.zT,null,"😐")," ",t.answers.neutral),i.createElement(T,{answerType:O.SomewhatDissatisfied,viewModel:e},i.createElement(K.zT,null,"🙁")," ",t.answers.somewhatDissatisfied),i.createElement(T,{answerType:O.VeryDissatisfied,viewModel:e},i.createElement(K.zT,null,"😞")," ",t.answers.veryDissatisfied))};var F=c.tl.dissatisfactionReasons,R=c.tl.adminSatisfactionReasons,B=c.tl.teamMemberSatisfactionReasons;const N=({viewModel:e})=>i.createElement(r.F.div,{className:A.question},e.state.view(c.I8.isSecondQuestionAboutDissatisfaction).view((0,o.Sw)(i.createElement(P,{viewModel:e}),i.createElement(D,{viewModel:e})))),P=({viewModel:e})=>{const t=i.useContext(d.S.Context).gbSatisfactionSurvey.secondDissatisfactionQuestion,n=t.answers[e.isAdmin?"admin":"teamMember"];return i.createElement(i.Fragment,null,i.createElement(u.H3,{className:A.questionText},t.question),F.map((t=>i.createElement(T,{key:t,answerType:t,viewModel:e},n[t]))))},D=({viewModel:e})=>{const t=i.useContext(d.S.Context).gbSatisfactionSurvey.secondSatisfactionQuestion,n=e.isAdmin?R.map((n=>i.createElement(T,{key:n,answerType:n,viewModel:e},t.answers.admin[n]))):B.map((n=>i.createElement(T,{key:n,answerType:n,viewModel:e},t.answers.teamMember[n])));return i.createElement(i.Fragment,null,i.createElement(u.H3,{className:A.questionText},t.question),n)};var j=n(80074),L=n(76720),U=n(20408),$=n(21476),H=n(10486);const V=({viewModel:e,onComplete:t})=>i.createElement(r.F.div,{className:A.question},e.state.view(c.I8.isSecondQuestionAboutDissatisfaction).view((0,o.Sw)(i.createElement(Z,{viewModel:e,onComplete:t}),i.createElement(G,{viewModel:e})))),z=({onComplete:e})=>{const t=i.useContext(U._.Context),n=i.useContext($.f.Context),r=i.useContext(d.S.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion;return i.createElement(i.Fragment,null,i.createElement(u.C6,{className:A.badExperience},r.admin.TechnicalDifficulties),i.createElement(a.$n.Primary,{className:A.contactSupport,name:"survey.done",onClick:()=>{e(),n.actions.openPopup(new L.U(t.support.newRequest))}},"Contact support"))},W=({viewModel:e})=>{const t=i.useContext(d.S.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion[e.isAdmin?"admin":"teamMember"].DidntFindItValuable,{title:n,answers:r}=t;return i.createElement(i.Fragment,null,i.createElement(u.H3,{className:A.questionText},n),Object.keys(r).map((t=>{const n=r[t];return i.createElement(T,{key:t,answerType:t,viewModel:e},n)})))},Z=({viewModel:e,onComplete:t})=>{const n=i.useContext(U._.Context),r=[n.extension.chrome.installURL,n.extension.edge.infoURL,n.extension.firefox.installURL,n.extension.safari.installURL,n.funnel.keyboardInstall,n.funnel.desktopAppInstall],o=i.useContext(d.S.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion,s=j.s.create(""),l=e.state.view(c.I8.getSecondQuestionAnswer).get();return e.isAdmin&&"TechnicalDifficulties"===l?i.createElement(z,{onComplete:t}):"DidntFindItValuable"===l?i.createElement(W,{viewModel:e}):i.createElement(i.Fragment,null,i.createElement(u.C6,{className:A.badExperience},(()=>{if(e.isAdmin){if("DoesntIntegrateWithAnAppIUse"===l)return o.admin.DoesntIntegrateWithAnAppIUse(...r)}else{if("DoesntIntegrateWithAnAppIUse"===l)return o.teamMember.DoesntIntegrateWithAnAppIUse(...r);if("NotSureWhatGrammarlyBusinessDoes"===l)return o.teamMember.NotSureWhatGrammarlyBusinessDoes(...r)}return o[e.isAdmin?"admin":"teamMember"][l]})()),i.createElement(H.fs,{name:"survey-feedback-disliked",className:A.openQuestion,autofocus:!0,value:s}),i.createElement(a.$n.Primary,{name:"survey.done",disabled:s.view((e=>!e)),onClick:()=>e.answer(s.get())},"Share feedback"))},G=({viewModel:e})=>{const t=i.useContext(d.S.Context).gbSatisfactionSurvey.thirdSatisfactionQuestion,n=j.s.create("");return i.createElement(i.Fragment,null,i.createElement(u.H3,{className:A.questionText},t.title),i.createElement(u.C6,null,t.question),i.createElement(H.fs,{name:"survey-feedback-liked",className:A.openQuestion,autofocus:!0,value:n}),i.createElement(a.$n.Primary,{name:"survey.done",disabled:n.view((e=>!e)),onClick:()=>e.answer(n.get())},"Share feedback"))},Q=({viewModel:e,onClose:t,onComplete:n})=>i.createElement(q,{viewModel:e},(r=>i.createElement(i.Fragment,null,c.I8.isFirstQuestion(r)?i.createElement(M,{viewModel:e}):c.I8.isSecondQuestion(r)?i.createElement(N,{viewModel:e}):c.I8.isThirdQuestion(r)?i.createElement(V,{viewModel:e,onComplete:n}):i.createElement(I,{onComplete:n}),i.createElement(a.$n,{name:"survey-close",className:A.closeIcon,onClick:c.I8.isThirdQuestion(r)?n:t},i.createElement(l.In.Close,null))))),q=({viewModel:e,children:t})=>i.createElement(s.kp,{state:e.state,stateToClassMapper:(e,t)=>{const[n,i]=e&&c.I8.isFirstQuestion(e)&&c.I8.isSecondQuestion(t)||e&&c.I8.isSecondQuestion(e)&&c.I8.isThirdQuestion(t)||e&&c.I8.isThirdQuestion(e)&&c.I8.isCompleted(t)?[A.rotateHide,A.rotateShow]:[A.notification,A.notification];return{prev:{start:A.notification,end:n},next:{start:i,end:A.notification}}}},(e=>i.createElement(r.F.div,{className:e.view,onTransitionEnd:"prev"===e.type?e.done:o.Yi},t(e.state))))},97291:(e,t,n)=>{"use strict";n.d(t,{$6:()=>_,Be:()=>C,rp:()=>S});var i=n(23988),r=n(10334),o=n(50659),s=n(80074),a=n(19840),l=n(87574),c=n(44297),d=n(58193),u=n(27199),p=n(41548),m=n(11864),f=n(4885),h=n(72747),g=n(38427),v=n(74168),b=n(89769),y=n(36094),k=n(6987),w=n(78339);class E extends o.Component{componentDidMount(){this._subs.push(g.zV(this.context,v.L5.pipe(b.Z(y.q6)),(e=>e)).pipe(k.n((e=>s.s.combine(this._wrapper,this._title,((t,n)=>({wrapper:t,title:n,remSize:e}))))),w.p((({wrapper:e,title:t})=>c.isSome(e)&&c.isSome(t))),k.n(y._F.rafScheduler),k.n(y._F.rafScheduler)).subscribe((({wrapper:e,title:t,remSize:n})=>{const i=Math.floor((d.$v(e).offsetHeight-d.$v(t).offsetHeight)/n);this._linesHeight.set(i)})))}componentWillUnmount(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[]}render(){const{wrapperClass:e}=this.props;return o.createElement("div",(0,r._)({ref:e=>this._wrapper.set(c.fromNullable(e))},(0,a.Ly)(H.wrapper,e)),o.createElement("div",{className:H.loaderInitial}),o.createElement("div",{className:H.loader1}),o.createElement("div",{className:H.loader2}),o.createElement("div",{className:H.titleWrap,ref:e=>this._title.set(c.fromNullable(e))},this.props.children),o.createElement(l.F.div,(0,r._)({style:this._linesHeight.view((e=>({height:`${e}rem`})))},(0,a.Ly)(H.lines,this.props.linesClass))),o.createElement("div",{className:H.empty}))}constructor(...e){super(...e),(0,i._)(this,"context",void 0),(0,i._)(this,"_linesCount",Boolean(this.props.defaultLinesCount)?this.props.defaultLinesCount:40),(0,i._)(this,"_wrapper",s.s.create(c.none)),(0,i._)(this,"_title",s.s.create(c.none)),(0,i._)(this,"_linesHeight",s.s.create(this._linesCount)),(0,i._)(this,"_subs",[])}}(0,i._)(E,"contextType",p.q.Context);const S=()=>o.createElement(E,{linesClass:H.documentLines},o.createElement("div",{className:H.documentTitleWrap},o.createElement("div",{className:H.documentTitle}))),C=({children:e})=>o.createElement(E,{linesClass:H.lensviewLines,wrapperClass:H.lensviewWrapper},e),_=()=>o.createElement(C,null,o.createElement(o.Fragment,null,o.createElement("div",{className:H.lensviewTitle}),o.createElement("div",{className:H.lensviewOpenCard}))),x=`calc(${m.Ks.rem(2)} + 5px)`,A=m.Ks.keyframes({from:{transform:"translateY(-50%)"},to:{transform:"translateY(100%)"}}),I=m.Ks.keyframes({from:{transform:"translateY(-100%)"},to:{transform:"translateY(100%)"}}),K={position:"relative",overflow:"hidden",width:m.Ks.percent(100),height:m.Ks.percent(100),background:u.Q1.CoreNeutral0},T={position:"absolute",top:0,width:m.Ks.percent(100),height:m.Ks.percent(100),backgroundImage:`linear-gradient(-179deg, ${u.Q1.CoreNeutral0} 0%, ${f.mc} 30%, ${u.Q1.CoreNeutral0} 60%)`,backgroundSize:m.Ks.percent(100),backgroundRepeat:"no-repeat",opacity:.45,animation:`${I} ${m.Ks.seconds(3)} linear forwards infinite`,willChange:"transform"},O={animation:`${A} ${m.Ks.seconds(2.25)} linear forwards`},M={transform:"translateY(-100%)",animationDelay:m.Ks.seconds(.75)},F={transform:"translateY(-100%)",animationDelay:m.Ks.seconds(2.25)},R={position:"relative",zIndex:1,width:m.Ks.percent(100),backgroundColor:"transparent",backgroundImage:`repeating-linear-gradient(180deg, ${f.JO}, ${f.JO} ${m.Ks.rem(1)}, ${u.Q1.CoreNeutral0} ${m.Ks.rem(1)}, ${u.Q1.CoreNeutral0} ${m.Ks.rem(2)})`,backgroundPosition:"0 0"},B={position:"relative",height:m.Ks.percent(100),backgroundColor:u.Q1.CoreNeutral0},N={position:"relative",$nest:{"&:before":{display:"block",width:m.Ks.percent(100),height:m.Ks.rem(1.2),background:u.Q1.CoreNeutral0,content:"''"}}},P={position:"relative",zIndex:1,marginTop:x,width:m.Ks.percent(100),height:m.Ks.rem(1.5),borderRadius:m.Ks.rem(h.OC),backgroundColor:u.Q1.CoreNeutral0},D={backgroundImage:`repeating-linear-gradient(180deg, ${f.JO}, ${f.JO} ${m.Ks.rem(1)}, ${u.Q1.CoreNeutral0} ${m.Ks.rem(1)}, ${u.Q1.CoreNeutral0} ${m.Ks.rem(2)})`},j={top:m.Ks.rem(1.6)},L={marginTop:m.Ks.rem(1.5),height:m.Ks.rem(1.8),backgroundColor:u.Q1.CoreNeutral0},U={marginTop:m.Ks.rem(10.5),height:m.Ks.rem(2.7),backgroundColor:u.Q1.CoreNeutral0},$={backgroundImage:`repeating-linear-gradient(180deg, ${f.JO}, ${f.JO} ${m.Ks.rem(1)}, ${u.Q1.CoreNeutral0} ${m.Ks.rem(1)}, ${u.Q1.CoreNeutral0} ${m.Ks.rem(3)})`},H=m.Ks.stylesheet({wrapper:[K],loader:[T],loaderInitial:[T,O],loader1:[T,M],loader2:[T,F],lines:[R],empty:[B],titleWrap:[{position:"relative"}],documentTitleWrap:[N],documentTitle:[P],documentLines:[D],lensviewWrapper:[j],lensviewTitle:[L],lensviewOpenCard:[U],lensviewLines:[$]})},92954:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var i=n(50659),r=n(27199),o=n(19967),s=n(38548),a=n(11864),l=n(72747);const c=e=>i.createElement(o.$n.Animated,(0,o.Ez)(e,p.gray)),d={position:"relative",display:"inline-block",overflow:"hidden",outline:"none",border:0,verticalAlign:"middle",whiteSpace:"nowrap",cursor:"default",userSelect:"none",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer"}}},u={overflow:"hidden",padding:`0 ${a.Ks.rem(.5)}`,borderRadius:a.Ks.rem(l.H0),backgroundColor:r.Q1.CoreNeutral60,color:r.Q1.CoreNeutral0,textTransform:"none",letterSpacing:a.Ks.rem(r.EY.ButtonLetterSpacing),fontSize:a.Ks.rem(r.EY.ButtonSize),lineHeight:a.Ks.rem(r.EY.ButtonLineHeight),transitionDuration:a.Ks.seconds(.2),$nest:{"&[data-active='true'] > i[role='icon'] > svg, &:not([data-disabled='true']):hover > i[role='icon'] > svg, &:not([data-disabled='true'])[data-hovered='true'] > i[role='icon'] > svg":{fill:r.Q1.CoreNeutral0},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:r.Q1.CoreNeutral50,color:r.Q1.CoreNeutral0},"&:not([data-disabled='true'])[data-active='true']":{backgroundColor:r.Q1.CoreNeutral50,color:r.Q1.CoreNeutral0,$nest:{"&:hover":{backgroundColor:r.Q1.CoreNeutral50,color:r.Q1.CoreNeutral0}}},"&[data-disabled='true']":{backgroundColor:r.Q1.CoreNeutral60,color:r.Q1.CoreNeutral50},[`.${s.dF} &`]:{padding:`0 ${a.Ks.rem(.5)}`,marginRight:a.Ks.px(2),borderRadius:0,backgroundColor:r.Q1.CoreNeutral60,$nest:{"&:first-child":{borderRadius:`${a.Ks.rem(l.H0)} 0 0 ${a.Ks.rem(l.H0)}`},"&:last-child":{marginRight:0,borderRight:"none",borderRadius:`0 ${a.Ks.rem(l.H0)} ${a.Ks.rem(l.H0)} 0`},"&[data-active='true']":{backgroundColor:r.Q1.CoreBlue50,color:r.Q1.CoreNeutral0,$nest:{"&:hover":{backgroundColor:r.Q1.CoreBlue40,color:r.Q1.CoreNeutral0}}}}}}},p=a.Ks.stylesheet({button:[d],gray:[d,u]})},77272:(e,t,n)=>{"use strict";n.d(t,{k:()=>g});var i=n(10334),r=n(17171),o=n(50659),s=n(87574),a=n(86562),l=n(27199),c=n(20408),d=n(69063),u=n(86922),p=n(19967),m=n(64191),f=n(11864),h=n(92954);const g={unauthorizedError:(e,t)=>o.createElement(v.UnauthorizedError,{action:t("gotoLogin")}),offline:(e,t)=>o.createElement(v.Offline,{reconnect:t("reconnect"),reconnectTime:e.args.reconnectTime}),serverError:()=>o.createElement(v.ServerError,null),connectionWSError:()=>o.createElement(v.ConnectionWSError,null),clientConnectionError:()=>o.createElement(v.ClientConnectionError,null),documentNotFoundError:(e,t)=>o.createElement(v.DocumentNotFoundError,{navigateToDocuments:t("navigateToDocuments")}),selfUpdate:()=>o.createElement(v.SelfUpdate,null),slowNetwork:()=>o.createElement(v.SlowNetworkError,null),checkingIsDown:()=>o.createElement(v.CheckingIsDownError,null),error:()=>o.createElement(v.Error,null),paymentSuccess:()=>o.createElement(v.PaymentSuccessMessage,null),paymentError:()=>o.createElement(v.PaymentErrorMessage,null),proofitPaymentDeclinedError:(e,t)=>o.createElement(v.ProofitPaymentDeclinedError,{paymentMethod:e.args.paymentMethod,navigateToSubscription:t("navigateToSubscription")}),proofitEmptyDocumentError:()=>o.createElement(v.ProofitEmptyDocumentError,null),proofitComplexInternalStructureError:(e,t)=>o.createElement(v.ProofitComplexInternalStructureError,{navigateToDocuments:t("navigateToDocuments")}),proofitDocumentProofreadError:(e,t)=>o.createElement(v.ProofitDocumentProofreadError,{navigateToDocuments:t("navigateToDocuments")}),copyToClipboardFailed:()=>o.createElement(v.CopyToClipboardError,null),proofitCancelled:()=>o.createElement(v.ProofitCancelled,null),proofitCompleted:e=>o.createElement(v.ProofitCompleted,{documentTitle:e.args.documentTitle,documentDownloadUrl:e.args.documentDownloadUrl,email:e.args.email}),denaliDocumentUploaded:(e,t)=>o.createElement(v.DenaliDocumentUploaded,{navigateToDocuments:t("navigateToDocuments")}),denaliFormattingCompatibility:()=>o.createElement(v.DenaliFormattingCompatibility,null),alertsNothingFound:()=>o.createElement(v.AlertsNothingFound,null),switchToDenali:()=>o.createElement(v.Generic,{type:w.switchToDenali}),feedbackSend:()=>o.createElement(v.Generic,{type:w.feedbackSend}),statisticsError:()=>o.createElement(v.Generic,{type:w.statisticsError}),copySuccess:e=>o.createElement(v.Generic,{type:"referenceCopied"===e.args.copyType?w.referenceCopied:"documentCopied"===e.args.copyType?w.documentCopied:w.somethingCopied}),downloadDocumentNotFoundError:()=>o.createElement(v.DownloadDocumentNotFoundError,null),isTemporaryDownloadError:()=>o.createElement(v.Generic,{type:w.isTemporaryDownloadError}),clipboardNotSupported:e=>o.createElement(v.ClipboardNotSupported,{hotkey:e.args.hotkey}),documentSizeExceeded:e=>o.createElement(v.DocumentSizeExceeded,{os:e.args.os,officeAddinUrl:e.args.officeAddinUrl}),documentUploaded:(e,t)=>o.createElement(v.DocumentUploaded,{navigateToDocument:t("navigateToDocument")}),documentTypeUnsupported:()=>o.createElement(v.DocumentTypeUnsupported,null),trackedChangesIsUnsupported:e=>o.createElement(v.DocumentWithTrackedChangesIsUnsupported,{link:e.args.link}),documentUploadGeneralError:()=>o.createElement(v.Generic,{type:w.documentUploadGeneralError}),documentIsEmpty:()=>o.createElement(v.Generic,{type:w.documentIsEmpty}),noFileToUpload:()=>o.createElement(v.Generic,{type:w.noFileToUpload}),oneDocumentIsAllowed:()=>o.createElement(v.Generic,{type:w.oneDocumentIsAllowed})};var v;!function(e){e.UnauthorizedError=({action:e})=>o.createElement(m.Rx.TitledContent,{title:"You've Been Logged Out"},"This occurs due to inactivity or logging out on another device.",o.createElement("br",null),o.createElement(h.U,{name:"login",className:k.footerLink,onClick:e},"Log Back In")),e.Offline=({reconnect:e,reconnectTime:t})=>o.createElement(m.Rx.TitledContent,{title:"Lost Connection"},"Your Internet session was interrupted. We’ll try to reconnect you in"," ",o.createElement(s.F.span,null,t.view((e=>e)))," seconds.",o.createElement("br",null),o.createElement(h.U,{name:"reconnect",className:k.footerLink,onClick:e},"Reconnect Now")),e.ServerError=()=>{const e=t(h.U,"UnknownConnectionError"),n=o.useContext(c._.Context);return o.createElement(m.Rx.TitledContent,{title:"Grammarly couldn’t establish a connection to the server"},"Try reloading the page in 5 minutes. If the issue persists, check"," ",o.createElement(p.$n,{name:"serverEncounteredAnError",className:k.link,href:n.support.troubleshooting.serverEncounteredAnError,target:"_blank"},"this article"),".",o.createElement("br",null),o.createElement(e,{name:"reload-page",className:k.footerLink},"Reload This Page"))},e.ConnectionWSError=()=>{const e=o.useContext(c._.Context);return o.createElement(m.Rx.TitledContent,{title:"Can’t Connect to Grammarly"},"Your network configuration currently blocks Grammarly services on this computer. ",o.createElement("br",null),o.createElement(h.U,{name:"troubleshoot",className:k.footerLink,href:e.support.troubleshooting.diagnosticTestPath,target:"_blank"},"Troubleshoot This Issue"))},e.ClientConnectionError=()=>{const e=t(h.U,"ClientConnectionErrorNotification"),n=o.useContext(c._.Context);return o.createElement(m.Rx.TitledContent,{title:"Grammarly couldn’t establish a connection to the server"},"Try reloading the page in 5 minutes. If the issue persists, check"," ",o.createElement(p.$n,{name:"serverEncounteredAnError",className:k.link,href:n.support.troubleshooting.serverEncounteredAnError,target:"_blank"},"this article"),".",o.createElement("br",null),o.createElement(e,{name:"reload-page",className:k.footerLink},"Reload Page Now"))},e.DocumentNotFoundError=({navigateToDocuments:e})=>o.createElement(m.Rx.TitledContent,{title:"Can’t find this document"},"It looks like this document was removed or URL is incorrect.",o.createElement("br",null),o.createElement(h.U,{name:"goto-docs",className:k.footerLink,onClick:e},"Go to your documents")),e.SelfUpdate=()=>{const e=o.useContext(u.S.Context),n=t(p.$n,"SelfUpdateBlocker");return o.createElement(m.Rx.TitledContent,{title:"Grammarly needs to refresh this page"},"Don't worry - your documents have already been saved. Please"," ",o.createElement(n,{name:"reload-page",className:k.link},"reload")," ","the page ",e.hotkeyLabelR,".")},e.SlowNetworkError=()=>{const e=o.useContext(c._.Context);return o.createElement(m.Rx.TitledContent,{title:"Your internet connection is unstable"},"Check"," ",o.createElement(p.$n,{name:"connectionIsUnstable",className:k.link,href:e.support.troubleshooting.connectionIsUnstable,target:"_blank"},"this article")," ","to resolve the issue.")},e.CheckingIsDownError=()=>{const e=o.useContext(c._.Context);return o.createElement(m.Rx.TitledContent,{title:"Text checking is temporarily unavailable"},"To resolve the issue, check"," ",o.createElement(p.$n,{name:"textCheckingUnavailable",className:k.link,href:e.support.troubleshooting.textCheckingUnavailable,target:"_blank"},"this article"),".")},e.Error=()=>{const e=o.useContext(c._.Context);return o.createElement(m.Rx.TitledContent,{title:"We couldn’t perform this action"},o.createElement(p.$n,{name:"howDoIClearCacheAndCookies",className:k.link,href:e.support.troubleshooting.howDoIClearCacheAndCookies,target:"_blank"},"Clear cache")," ","and try again.")},e.ProofitPaymentDeclinedError=({paymentMethod:e,navigateToSubscription:t})=>{const n=o.useContext(u.S.Context).proofitPayment,i=function(e,t,n){switch(e){case"creditCard":return t;case"payPal":return n;default:const i=`Unknown payment method: ${e}`;throw d.Bx.Logging.getLogger("ProofitView").warn(i),new Error(i)}}(e,n.creditCard,n.payPal);return o.createElement(m.Rx.TitledContent,{title:"Order can not be processed"},o.createElement("div",null,i),"Please update your credit card information in the Manage Subscription section.",o.createElement("br",null),o.createElement(h.U,{name:"manage-subscription",className:k.footerLink,onClick:t},"Go to Manage Subscription"))},e.PaymentSuccessMessage=()=>{const e=o.useContext(u.S.Context).proofitOrderModal.card.paymentSuccess;return o.createElement(m.Rx.TitledContent,{title:e.title},o.createElement("div",null,e.message))},e.PaymentErrorMessage=()=>{const e=o.useContext(u.S.Context).proofitOrderModal.card.paymentError,t=o.useContext(c._.Context);return o.createElement(m.Rx.TitledContent,{title:e.title},o.createElement("div",null,e.message(t.support.login)))},e.ProofitEmptyDocumentError=()=>o.createElement(m.Rx.TitledContent,{title:"Document is empty"},"The document you are trying to submit is empty. Please write something and try again."),e.ProofitDocumentProofreadError=({navigateToDocuments:e})=>o.createElement(m.Rx.TitledContent,{title:"This document is a recent submission"},"The text you are trying to send for human proofreading was reviewed by our team. Please edit your text or select another document before you re-submit.",o.createElement("br",null),o.createElement(h.U,{name:"goto-docs",className:k.footerLink,onClick:e},"Go to your documents")),e.ProofitComplexInternalStructureError=({navigateToDocuments:e})=>o.createElement(m.Rx.TitledContent,{title:"This document cannot be corrected"},"The text you are trying to send for human proofreading is either too long or has a complex internal structure. Please edit your text (e.g., reduce length, remove significantly long tables) or select another document.",o.createElement("br",null),o.createElement(h.U,{name:"goto-docs",className:k.footerLink,onClick:e},"Go to your documents"));var t=e.withReload=(e,t)=>{class n extends o.Component{render(){return o.createElement(e,(0,r._)((0,i._)({},this.props),{onClick:()=>{try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()}}))}}return n};e.CopyToClipboardError=()=>{const e=o.useContext(u.S.Context);return o.createElement(m.Rx.TitledContent,{title:"Copying Is Not Supported by Your Browser"},"Please use ",e.hotkeyLabelC," instead.")},e.ProofitCancelled=()=>{const e=o.useContext(c._.Context);return o.createElement(m.Rx.TitledContent,{title:"Your order has been cancelled"},"Your proofreading order has been cancelled and the payment refunded. Please check your email for more information, or contact"," ",o.createElement(h.U,{name:"support",className:k.footerLink,href:e.support.login,target:"_blank"},"Grammarly support"))},e.ProofitCompleted=({documentTitle:e,documentDownloadUrl:t,email:n})=>o.createElement(m.Rx.TitledContent,{title:`${e||"Your"} document has been proofread`},"A version of this document with proofreaders’ marks has been emailed to you at ",n," in .docx format.",o.createElement("br",null),o.createElement(h.U,{name:"download",className:k.footerLink,href:t,target:"_blank"},"Download .docx")),e.DenaliFormattingCompatibility=()=>{const e=o.useContext(u.S.Context),t=o.useContext(c._.Context);return o.createElement(m.Rx.TitledContent,{title:e.rtfCompatibilityModeNotificationTitle},"To preserve your document’s formatting, Grammarly’s formatting tools are temporarily not available.",o.createElement("br",null),o.createElement(h.U,{name:"support",className:k.footerLink,href:t.support.rtfCompatibilityUrl,target:"_blank"},"Learn more"))},e.DenaliDocumentUploaded=({navigateToDocuments:e})=>{const{denaliDocumentUploadNotification:t}=o.useContext(u.S.Context);return o.createElement(m.Rx.TitledContent,{title:t.title},t.text," ",o.createElement(p.$n,{name:"goto-docs",className:k.link,onClick:e},t.link))},e.AlertsNothingFound=()=>o.createElement(m.Rx.Content,null,"Grammarly found no critical writing issues in this text. Keep up the great work!"),e.DownloadDocumentNotFoundError=()=>{const e=o.useContext(u.S.Context);return o.createElement(m.Rx.TitledContent,{"data-name":"document-not-found",title:e.downloadDocumentNotFoundError})},e.ClipboardNotSupported=({hotkey:e})=>{const t=o.useContext(u.S.Context);return o.createElement(m.Rx.Content,null,t.hotkeyUnsupported,o.createElement("b",null,e))},e.DocumentSizeExceeded=({os:e,officeAddinUrl:t})=>{const n=o.useContext(u.S.Context).fileSizeExceededNotification;return o.createElement(m.Rx.TitledContent,{title:n.title},n.body,"windows"===e&&o.createElement(h.U,{name:"officeAddin",className:k.footerLink,href:t,target:"_blank"},n.link))},e.DocumentUploaded=({navigateToDocument:e})=>{const t=o.useContext(u.S.Context).documentUploaded;return o.createElement(m.Rx.Content,null,t.message,o.createElement("br",null),o.createElement(h.U,{name:"goto-doc",className:k.footerLink,onClick:e},t.link))},e.DocumentTypeUnsupported=()=>{const e=o.useContext(u.S.Context);return o.createElement(m.Rx.Content,null,"Unsupported file type. ",e.notificationUploadFileText,": Microsoft Word (.doc, .docx), OpenOffice (.odt), TXT and RTF.")},e.DocumentWithTrackedChangesIsUnsupported=({link:e})=>o.createElement(m.Rx.Content,null,"Your document contains revisions. Accept all revisions and try uploading again. Click"," ",o.createElement(p.$n,{name:"document-accept-tracked-changes",className:k.link,href:e,target:"_blank"},"here")," ","for details.");const n=(e,t)=>{switch(e){case w.switchToDenali:return t.switchToDenali;case w.feedbackSend:return t.feedbackSend;case w.statisticsError:return t.statisticsError;case w.referenceCopied:return t.referenceCopied;case w.documentCopied:return t.documentCopied;case w.somethingCopied:return t.somethingCopied;case w.isTemporaryDownloadError:return t.isTemporaryDownloadError;case w.documentUploadGeneralError:return t.documentUploadGeneralError;case w.documentIsEmpty:return t.documentIsEmpty;case w.noFileToUpload:return t.noFileToUpload;case w.oneDocumentIsAllowed:return t.oneDocumentIsAllowed;default:return(0,a.xb)(e)}};e.Generic=({type:e})=>{const t=o.useContext(u.S.Context);return o.createElement(m.Rx.TitledContent,{title:n(e,t)})}}(v||(v={}));const b={display:"inline-flex",overflow:"unset",color:l.Q1.CoreNeutral0,verticalAlign:"baseline",textDecoration:"underline",fontWeight:"bold",cursor:"pointer"},y={marginTop:f.Ks.rem(.5),textDecoration:"none"},k=f.Ks.stylesheet({link:[b],footerLink:[b,y]});var w;!function(e){e.switchToDenali="switchToDenali",e.feedbackSend="feedbackSend",e.statisticsError="statisticsError",e.referenceCopied="referenceCopied",e.documentCopied="documentCopied",e.somethingCopied="somethingCopied",e.isTemporaryDownloadError="isTemporaryDownloadError",e.documentUploadGeneralError="documentUploadGeneralError",e.documentIsEmpty="documentIsEmpty",e.noFileToUpload="noFileToUpload",e.oneDocumentIsAllowed="oneDocumentIsAllowed"}(w||(w={}))},78799:(e,t,n)=>{"use strict";n.d(t,{Q:()=>k});var i=n(10334),r=n(17171),o=n(50659),s=n(38908),a=n(27199),l=n(86922),c=n(27917),d=n(64191),u=n(11864),p=n(92954);const m=(e,t)=>{switch(e.kind){case"ignore":return"Dismissed";case"ignoreAll":return o.createElement(o.Fragment,null,o.createElement("span",null,e.alerts)," ",s.td(e.alerts,"alert has been","alerts have been")," dismissed");case"replace":return"Corrected";case"replaceSynonym":return"Replaced";case"replaceTransform":return o.createElement(o.Fragment,null,e.transform);case"addToDictionary":return o.createElement(o.Fragment,null,o.createElement("b",{className:t&&t.addToDictionary},e.word)," has been added to dictionary");case"report":return"Your report has been sent";case"markAsHelpful":return"Marked as “Will address”";case"markAsNotHelpful":return"Marked as “Not helpful”";case"acknowledge":return"Acknowledged";default:return""}},f={display:"flex",marginTop:u.Ks.rem(-1.1),marginBottom:u.Ks.rem(-.5),alignItems:"center",justifyContent:"space-between"},h={marginTop:u.Ks.rem(.6),marginRight:u.Ks.rem(1),color:a.Q1.CoreNeutral0,flexGrow:0,flexShrink:0},g={marginTop:u.Ks.rem(-.25),paddingRight:u.Ks.rem(.5),minWidth:"auto",minHeight:"auto",justifyContent:"space-between"},v={marginTop:u.Ks.rem(.6),maxWidth:u.Ks.rem(14),wordWrap:"break-word",flexBasis:"auto",flexGrow:1},b={marginRight:u.Ks.rem(1.4)},y=u.Ks.stylesheet({alertUndoWrapper:[f],alertUndoWrapperFlexible:[f,{flexWrap:"nowrap"}],alertUndoWrapperFullWidth:[f,{flexWrap:"wrap"}],alertUndoBtn:[h],alertUndoIcon:[g],alertUndoContent:[v],alertUndoContentFlexible:[v,b],addToDictionary:[{wordBreak:"break-all"}]});var k;!function(e){const t={wrapper:y.alertUndoWrapperFlexible,content:y.alertUndoContent,icon:y.alertUndoIcon,button:y.alertUndoBtn};e.Standard=({action:e,params:s})=>o.createElement(d.Rx.Content,null,o.createElement(n,{action:e,content:m(s),theme:(0,r._)((0,i._)({},t),{wrapper:y.alertUndoWrapperFullWidth})})),e.Flexible=({notification:e,onClose:s,action:a,params:l})=>o.createElement(d.q0.Wrapper,{notification:e,onClose:s},o.createElement(d.Rx.Content,null,o.createElement(n,{action:a,content:m(l,{addToDictionary:y.addToDictionary}),theme:(0,r._)((0,i._)({},t),{wrapper:y.alertUndoWrapperFlexible,content:y.alertUndoContentFlexible})})));var n=e.Content=({action:e,content:n,theme:i=t})=>{const r=o.useContext(l.S.Context);return o.createElement("div",{className:i.wrapper},o.createElement("div",{className:i.content},n),o.createElement(p.U,{name:"alertUndoButton",className:i.button,onClick:e},o.createElement(c.In.Undo,{className:i.icon}),r.undo))}}(k||(k={}))},16624:(e,t,n)=>{"use strict";n.d(t,{a:()=>L});var i=n(50659),r=n(87574),o=n(36840),s=n(96011),a=n(19967),l=n(27917),c=n(30732),d=n(20408),u=n(86922),p=n(65873),m=n(27199),f=n(11864),h=n(72747);const g={position:"fixed",bottom:f.Ks.rem(1),right:f.Ks.rem(1),zIndex:h.do,width:f.Ks.rem(20),padding:f.Ks.rem(2),background:m.Q1.CoreNeutral0,transition:`transform ${f.Ks.seconds(.1)} linear ${f.Ks.seconds(.1)}`,transform:"perspective(100)",borderRadius:f.Ks.rem(h.Am),boxShadow:"0 12px 48px 0 rgba(96, 101, 123, .24)"},v={transitionDelay:f.Ks.seconds(0),transform:"perspective(100) rotateY(90deg)"},b={paddingBottom:f.Ks.rem(1)},y={marginBottom:f.Ks.rem(1)},k={width:f.Ks.percent(100),borderRadius:f.Ks.rem(h.H0),padding:`${f.Ks.rem(.5)} 0 ${f.Ks.rem(.5)} ${f.Ks.rem(.5)}`,lineHeight:f.Ks.rem(1.3125),margin:"0 2px"},w={width:f.Ks.rem(1),height:f.Ks.rem(1),minHeight:f.Ks.rem(1),display:"inline-block",verticalAlign:"top",marginLeft:f.Ks.rem(.25)},E={color:m.Q1.CoreBlue50,textDecoration:"none"},S={paddingTop:f.Ks.rem(2),height:f.Ks.rem(15),flexGrow:1},C={marginBottom:f.Ks.rem(.5)},_={$nest:{"& ul":{paddingLeft:f.Ks.rem(2)},"& a":{color:m.Q1.CoreBlue50,textDecoration:"none"}}},x=f.Ks.stylesheet({notification:[g],rotateHide:[g,v],rotateShow:[g,{transform:"perspective(100) rotateY(-90deg)"}],closeIcon:[{position:"absolute",top:0,right:0}],question:[b],questionText:[y],answerBtn:[k],answer:[{whiteSpace:"normal"}],outcomeIcon:[w],learnMoreLink:[E],completionScreen:[{display:"flex",flexDirection:"column",alignItems:"flex-start"}],completionContent:[S],completionHeader:[C],badExperience:[_]}),A=({viewModel:e,onClose:t})=>i.createElement(r.F.div,{className:x.completionScreen},e.state.view((e=>c.c5.isSecondAnswerAboutDissatisfaction(e)?i.createElement(K,{reason:e.answer2}):i.createElement(I,null))),i.createElement(a.$n.Primary,{name:"survey.done",onClick:t},"done")),I=()=>{const e=i.useContext(u.S.Context).premiumOnboardingSurvey.completion;return i.createElement(i.Fragment,null,i.createElement(l.In.NotificationInfo,{width:40}),i.createElement("div",{className:x.completionContent},i.createElement(p.H3,{className:x.completionHeader},e.enjoyment.header),i.createElement(p.C6,null,e.enjoyment.sub)))},K=({reason:e})=>{const t=i.useContext(d._.Context),n=i.useContext(u.S.Context).premiumOnboardingSurvey.completion.badExperience,r=(()=>{switch(e){case c.r9.DissatisfactionReason.LowQualitySuggestions:return n.lowQuality;case c.r9.DissatisfactionReason.PoorPlagiarismSuggestions:return n.noPlagiarism;case c.r9.DissatisfactionReason.NoSupportForDesirableApp:return n.noSupportForDesirableApp(t.extension.chrome.installURL,t.extension.edge.infoURL,t.extension.firefox.installURL,t.extension.safari.installURL,t.funnel.keyboardInstall,t.funnel.desktopAppInstall);case c.r9.DissatisfactionReason.AggressivePremiumPromotion:case c.r9.DissatisfactionReason.NoPremiumSuggestions:case c.r9.DissatisfactionReason.PremiumAndFreeAreIdentical:default:return n.possibleMultipleAccounts}})();return i.createElement("div",null,i.createElement(p.C6,{className:x.badExperience},r),i.createElement("br",null))};var T=n(37099);const O=({answerType:e,viewModel:t,children:n})=>i.createElement(a.$n.Flat,{className:x.answerBtn,name:`answer.${e}`,onClick:()=>t.answer(e)},i.createElement("span",{className:x.answer},n));var M=c.r9.Experience;const F=({viewModel:e})=>{const t=i.useContext(u.S.Context).premiumOnboardingSurvey.firstQuestion;return i.createElement("div",{className:x.question},i.createElement(p.H3,{className:x.questionText},t.question),i.createElement(O,{answerType:M.VerySatisfied,viewModel:e},i.createElement(T.zT,null,"😄")," ",t.answers.verySatisfied),i.createElement(O,{answerType:M.SomewhatSatisfied,viewModel:e},i.createElement(T.zT,null,"🙂")," ",t.answers.somewhatSatisfied),i.createElement(O,{answerType:M.Neutral,viewModel:e},i.createElement(T.zT,null,"😐")," ",t.answers.neutral),i.createElement(O,{answerType:M.SomewhatDissatisfied,viewModel:e},i.createElement(T.zT,null,"🙁")," ",t.answers.somewhatDissatisfied),i.createElement(O,{answerType:M.VeryDissatisfied,viewModel:e},i.createElement(T.zT,null,"😞")," ",t.answers.veryDissatisfied))};var R=n(55172),B=c.r9.SatisfactionReason,N=c.r9.DissatisfactionReason;const P=({viewModel:e})=>i.createElement(r.F.div,{className:x.question},e.state.view(c.c5.isSecondQuestionAboutDissatisfaction).view((0,o.Sw)(i.createElement(D,{viewModel:e}),i.createElement(j,{viewModel:e})))),D=({viewModel:e})=>{const t=i.useContext(u.S.Context).premiumOnboardingSurvey.secondDissatisfactionQuestion;return i.createElement(i.Fragment,null,i.createElement(p.H3,{className:x.questionText},t.question),R.k4([i.createElement(O,{answerType:N.LowQualitySuggestions,viewModel:e},t.answers.lowQualitySuggestions),i.createElement(O,{answerType:N.PoorPlagiarismSuggestions,viewModel:e},t.answers.poorPlagiarismSuggestions),i.createElement(O,{answerType:N.NoSupportForDesirableApp,viewModel:e},t.answers.noSupportForDesirableApp),i.createElement(O,{answerType:N.AggressivePremiumPromotion,viewModel:e},t.answers.aggressivePremiumPromotion),i.createElement(O,{answerType:N.NoPremiumSuggestions,viewModel:e},t.answers.noPremiumSuggestions),i.createElement(O,{answerType:N.PremiumAndFreeAreIdentical,viewModel:e},t.answers.premiumAndFreeAreIdentical)]))},j=({viewModel:e})=>{const t=i.useContext(d._.Context),n=i.useContext(u.S.Context).premiumOnboardingSurvey.secondSatisfactionQuestion;return i.createElement(i.Fragment,null,i.createElement(p.H3,{className:x.questionText},n.question),R.k4([i.createElement(O,{answerType:B.PlagiarismChecker,viewModel:e},n.answers.plagiarismChecker," ",i.createElement(l.In.PlagiarismOutcome,{className:x.outcomeIcon})),i.createElement(O,{answerType:B.ClaritySuggestions,viewModel:e},n.answers.claritySuggestions," ",i.createElement(l.In.ClarityOutcome,{className:x.outcomeIcon})),i.createElement(O,{answerType:B.EngagementSuggestions,viewModel:e},n.answers.engagementSuggestions," ",i.createElement(l.In.EngagementOutcome,{className:x.outcomeIcon})),i.createElement(O,{answerType:B.ToneSuggestions,viewModel:e},n.answers.toneSuggestions," ",i.createElement(l.In.DeliveryOutcome,{className:x.outcomeIcon})),i.createElement(O,{answerType:B.UsingMultipleDevices,viewModel:e},i.createElement(i.Fragment,null,n.answers.usingMultipleDevices," ",i.createElement("a",{href:t.funnel.keyboardInstall,onClick:e=>e.stopPropagation(),className:x.learnMoreLink,target:"_blank"},n.learnMoreLink)))]))},L=({viewModel:e,onClose:t})=>i.createElement(U,{viewModel:e},(n=>i.createElement(i.Fragment,null,c.c5.isFirstQuestion(n)?i.createElement(F,{viewModel:e}):c.c5.isSecondQuestion(n)?i.createElement(P,{viewModel:e}):i.createElement(A,{viewModel:e,onClose:t}),i.createElement(a.$n,{name:"survey-close",className:x.closeIcon,onClick:t},i.createElement(l.In.Close,null))))),U=({viewModel:e,children:t})=>i.createElement(s.kp,{state:e.state,stateToClassMapper:(e,t)=>{const[n,i]=e&&c.c5.isFirstQuestion(e)&&c.c5.isSecondQuestion(t)||e&&c.c5.isSecondQuestion(e)&&c.c5.isCompleted(t)?[x.rotateHide,x.rotateShow]:[x.notification,x.notification];return{prev:{start:x.notification,end:n},next:{start:i,end:x.notification}}}},(e=>i.createElement(r.F.div,{className:e.view,onTransitionEnd:"prev"===e.type?e.done:o.Yi},t(e.state))))},74380:(e,t,n)=>{"use strict";n.d(t,{e:()=>f});var i=n(30040),r=n(38908),o=n(23121),s=n(58889),a=n(76720),l=["http","https","mailto","tel"],c=function(e){return o.zb((function(){return new URL(e)}))},d=(0,i.flow)(c,s.fold((function(){return!1}),(function(e){return l.includes(e.protocol.replace(":",""))}))),u=s.fromPredicate((function(e){return e.length<=a.U.MAX_URL_LENGTH}),(function(){return new Error("URL is too long")})),p=s.fromPredicate((function(e){return e.length>0}),(function(){return new Error("URL is too short")})),m=s.fromPredicate(d,(function(){return new Error("Url contains invalid protocol")})),f=(0,i.flow)(r.aj,p,s.map((function(e){return r.dV(e)?e:"http://"+e})),s.chain((function(e){return(0,i.pipe)(e,c,s.map((function(){return e})))})),s.chain(m),s.chain(u))},86460:(e,t,n)=>{"use strict";n.d(t,{$R:()=>b,Nv:()=>P});var i=n(50659),r=n(30040),o=n(86562),s=n(10047),a=n(20294),l=n(345),c=n(24497),d=n(19967),u=n(11864),p=n(38548),m=n(50422),f=n(863);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){h(e,t,n[t])}))}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return{primary:(0,f.B)((function(t){return i.createElement(d.$n.Primary,v(g({},N(t)),{className:u.Ks.joinClasses([e.main,e.primary,t.shape===m.aH.Round?B.round:void 0,t.verticalAlign===m.G4.Middle?B.textMiddleAlign:void 0,O(t.horizontalAlign)])}),t.text)})),secondary:(0,f.B)((function(t){return i.createElement(d.$n.Tertiary,v(g({},N(t)),{className:u.Ks.joinClasses([e.secondary,e.main,t.shape===m.aH.Round?B.round:void 0,t.verticalAlign===m.G4.Middle?B.textMiddleAlign:void 0,O(t.horizontalAlign)])}),t.text)})),toggle:(0,f.B)((function(t){return i.createElement(d.$n.Secondary,v(g({},N(t)),{className:u.Ks.joinClasses([p.x6,e.toggle,e.main,t.shape===m.aH.Round?B.round:void 0,t.verticalAlign===m.G4.Middle?B.textMiddleAlign:void 0,O(t.horizontalAlign)])}),t.text)})),yellow:(0,f.B)((function(t){return i.createElement(d.$n.Primary,v(g({},N(t)),{className:u.Ks.joinClasses([e.yellow,t.shape===m.aH.Round?B.round:void 0,t.verticalAlign===m.G4.Middle?B.textMiddleAlign:void 0,O(t.horizontalAlign)])}),t.text)})),outlined:(0,f.B)((function(t){return i.createElement(d.$n.Secondary,v(g({},N(t)),{className:u.Ks.joinClasses([e.outlined,e.main,t.shape===m.aH.Round?B.round:void 0,t.verticalAlign===m.G4.Middle?B.textMiddleAlign:void 0,O(t.horizontalAlign)])}),t.text)})),link:(0,f.B)((function(t){return i.createElement(d.$n,v(g({},N(t)),{className:u.Ks.joinClasses([e.link,e.main])}),t.text)})),darkPrimary:(0,f.B)((function(t){return i.createElement(d.$n.Tertiary,v(g({},N(t)),{className:u.Ks.joinClasses([e.darkPrimary,e.main,t.shape===m.aH.Round?B.round:void 0,t.verticalAlign===m.G4.Middle?B.textMiddleAlign:void 0,O(t.horizontalAlign)])}),t.text)})),darkSecondary:(0,f.B)((function(t){return i.createElement(d.$n.Tertiary,v(g({},N(t)),{className:u.Ks.joinClasses([e.darkSecondary,e.main,t.shape===m.aH.Round?B.round:void 0,t.verticalAlign===m.G4.Middle?B.textMiddleAlign:void 0,O(t.horizontalAlign)])}),t.text)})),ggoPrimary:(0,f.B)((function(t){return i.createElement(d.$n.Tertiary,v(g({},N(t)),{className:u.Ks.joinClasses([e.ggoPrimary,e.main,t.shape===m.aH.Round?B.round:void 0,t.verticalAlign===m.G4.Middle?B.textMiddleAlign:void 0,O(t.horizontalAlign)])}),t.text)}))}}var y,k={lineHeight:"calc(2px * var(--rem) - 2px)",padding:0},w={flexShrink:0,minHeight:u.Ks.rem(2),justifyContent:"initial",$nest:{"& span":k," & > div":{width:u.Ks.percent(100)}}},E=[{$nest:{"&[data-textpos]":{padding:0}}},(0,p.cq)({default:{backgroundColor:a.Q1.Background.Base.Default,border:"1px solid ".concat(l.CoreNeutral20),whiteSpace:"normal",lineHeight:"calc(2px * var(--rem) - 2px)",fontWeight:700},hovered:{},disabled:{},clicked:{},toggled:{backgroundColor:l.CoreNeutral1,borderColor:a.KA.InteractiveBranded.Primary.Default},hidden:{}})],S={fill:l.CoreNeutral0,stroke:l.CoreNeutral0},C=(0,p.cq)({default:{display:"inline-flex",color:l.CoreNeutral40,border:"1px solid ".concat(l.CoreNeutral20),lineHeight:"calc(1.75px * var(--rem) - 1px)"},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}}),_=g({},(0,p.cq)({default:{color:l.CoreBlue40,minHeight:"auto"},hovered:{opacity:.75},clicked:{},disabled:{},toggled:{},hidden:{}})),x=v(g({},(0,p.cq)({default:{},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}})),{$nest:{"& span":k,"& i":S,"&:not([data-disabled='true'])[data-hovered='true'] i":S}}),A=g({},(0,p.cq)({default:{},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}})),I={borderRadius:u.Ks.rem(100)},K=[w,(0,p.cq)({default:{backgroundColor:l.CoreYellow20,color:l.CoreYellow80,lineHeight:u.Ks.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:l.CoreYellow30,$nest:{"& i":{fill:l.CoreYellow80,stroke:l.CoreYellow80}}},disabled:{},clicked:{},toggled:{},hidden:{}}),{$nest:{"& i":{fill:l.CoreYellow80,stroke:l.CoreYellow80}}}],T=(h(y={},m.wq.Left,u.Ks.style({textAlign:"left"})),h(y,m.wq.Center,u.Ks.style({textAlign:"center"})),h(y,m.wq.Right,u.Ks.style({textAlign:"end"})),y);function O(e){return null!=e?T[e]:T[m.wq.Left]}var M=g({},(0,p.cq)({default:{backgroundColor:c.Blue30,color:c.NeutralGray90,lineHeight:u.Ks.rem(2),transitionDuration:".2s",fontWeight:600},hovered:{backgroundColor:l.CoreBlue40,$nest:{"& i":{fill:l.CoreNeutral90,stroke:l.CoreNeutral90}}},disabled:{},clicked:{},toggled:{},hidden:{}})),F=g({},(0,p.cq)({default:{backgroundColor:"transparent",color:l.CoreNeutral30,lineHeight:u.Ks.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:l.CoreNeutral60,$nest:{"& i":{fill:l.CoreNeutral30,stroke:l.CoreNeutral30}}},disabled:{},clicked:{},toggled:{},hidden:{}})),R=v(g({},(0,p.cq)({default:{backgroundColor:c.Green60},hovered:{backgroundColor:c.Green80},disabled:{},clicked:{},toggled:{},hidden:{}})),{$nest:{"& svg":S}}),B=u.Ks.stylesheet({textMiddleAlign:[{$nest:{"& span":{verticalAlign:"initial"}}}],main:[w],primary:[x],secondary:[A],toggle:E,round:[I],yellow:K,outlined:[C,{$nest:{"& span":{lineHeight:"calc(1.75px * var(--rem) - 1px)",padding:0}}}],link:[_],darkPrimary:[M],darkSecondary:[F],ggoPrimary:[R]});function N(e){return g({name:e.name,role:e.role||"button",onClick:e.onClick,"aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],title:void 0!==e.tooltip&&e.state!==m.w.Disabled?P(e.tooltip):void 0},function(e){switch(e){case m.w.Enabled:return{disabled:!1};case m.w.Disabled:return{disabled:!0};case m.w.Selected:return{disabled:!1,active:!0};case m.w.Deselected:return{disabled:!1,active:!1};case m.w.Hidden:return{hidden:!0};default:return(0,o.xb)(e)}}(e.state))}function P(e){return i.createElement(i.Fragment,null,(0,r.pipe)(e.split("\n"),(function(e){var t=e.length;return 0===t?e:s.qu(e[0],e.slice(1,t).map((function(e,t){return i.createElement(i.Fragment,{key:t},i.createElement("br",null),e)})))})))}},19377:(e,t,n)=>{"use strict";n.d(t,{J:()=>Pi});var i=n(50659),r=n(47908);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(11864);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){var t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["children","className"]);return i.createElement("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){a(e,t,n[t])}))}return e}({"data-role":"column-layout",className:s.Ks.joinClasses([c.holder,n])},r),t)},c=s.Ks.stylesheet({holder:[{display:"flex",flexDirection:"column"}]}),d=n(863),u=n(94386);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=new u.qK(100);var f=(0,d.B)((function(e){var t=e.child,n=e.footer,r=e.id,o=e.meta,s=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["child","footer","id","meta"]);return i.createElement(l,{id:"".concat(r,"-container"),role:"region","aria-label":o.label,"aria-describedby":s["aria-describedby"]},t,n?i.createElement("div",{className:h.wrapper},n):null)})),h=s.Ks.stylesheet({wrapper:[{display:"flex",flexDirection:"column"}]}),g=n(50422),v=n(57797),b=n(30040),y=n(44297),k=n(58889),w=n(69063),E=n(52804),S=n(15363);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){C(e,t,n[t])}))}return e}function x(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var A=function(e){return"selectAlternative"===e.type?y.some(e.alternativeIndex):y.none};function I(e){return function(t){return(0,b.pipe)(t,v.i8((0,b.flow)(A,y.exists((function(t){return t===e})))),y.isSome)}}var K=n(87574);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){T(e,t,n[t])}))}return e}var M,F=n(86460),R=n(345);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function D(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}!function(e){e[e.HeadingLevel4LetterSpacing=0]="HeadingLevel4LetterSpacing",e[e.HeadingLevel3LetterSpacing=0]="HeadingLevel3LetterSpacing",e[e.HeadingLevel1LetterSpacing=-.0025]="HeadingLevel1LetterSpacing",e[e.BodyLetterSpacing=0]="BodyLetterSpacing",e[e.MediumLetterSpacing=0]="MediumLetterSpacing",e[e.SmallLetterSpacing=0]="SmallLetterSpacing",e[e.HeadingLevel4Size=1]="HeadingLevel4Size",e[e.HeadingLevel3Size=1.25]="HeadingLevel3Size",e[e.HeadingLevel1Size=1.75]="HeadingLevel1Size",e[e.BodySize=.875]="BodySize",e[e.MediumLetterSize=1]="MediumLetterSize",e[e.SmallSize=.75]="SmallSize"}(M||(M={}));var j,L,U=s.Ks.style({padding:"".concat(s.Ks.rem(.15625)," 0")}),$=s.Ks.style({position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:0}),H=s.Ks.style({$nest:{"&::before":{clipPath:"inset(100%)",clip:"rect(1px, 1px, 1px, 1px)",height:s.Ks.px(1),overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:s.Ks.px(1)}}}),V=function(e){return s.Ks.style({$nest:{"&::before":{content:'"'.concat(e.replace(/\"/g,'\\"'),'"')}}})},z=function(e){var t,n=e.size,r=e.format,o=e.textColor,a=e.backgroundColor,l=e.outlineColor,c=e.text,d=e.meta,u=e.selectable,p=e.removeImplicitPadding,m=void 0!==p&&p,f=function(e,t){var n="".concat(e,"-").concat(t),i=ce.get(n);if(void 0!==i)return i;var r=s.Ks.style({color:R[e],backgroundColor:Boolean(t)?R[t]:t});return ce.put(n,r),r}(o,a),h=function(e){if(Array.isArray(e))return e}(t=r)||P(t)||D(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=h[0],b=h.slice(1),y=void 0!==v?ae[v]:{name:"span",canHaveAriaLabel:!1},k=b.map((function(e){return e===g.lk.StrikeoutDiagonal?function(e){var t="sd-".concat(e),n=ce.get(t);if(void 0!==n)return n;var i=s.Ks.style(le(e));return ce.put(t,i),i}(null!=l?l:o):oe[e]}));void 0!==l&&k.push(function(e){var t="ol-".concat(e),n=ce.get(t);if(void 0!==n)return n;var i=s.Ks.style({borderColor:R[e]});return ce.put(t,i),i}(l)),m||k.push(U),!1===u&&k.push(se);var w=s.Ks.joinClasses([f,re[n]].concat(function(e){return function(e){if(Array.isArray(e))return B(e)}(e)||P(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(k)));if(d.label&&!y.canHaveAriaLabel){var E=i.createElement(y.name,{className:w,"aria-hidden":!0,children:c});return i.createElement(i.Fragment,null,u?i.createElement("span",{className:s.Ks.joinClasses([V(d.label),H])}):i.createElement("span",{className:$},d.label),E)}return i.createElement(y.name,{className:w,"aria-label":d.label,children:c})},W=s.Ks.rem(1.5),Z=s.Ks.rem(1.5),G=s.Ks.rem(2),Q=s.Ks.rem(1.5),q=s.Ks.rem(21/16),J=s.Ks.rem(.875),Y={letterSpacing:s.Ks.rem(M.HeadingLevel4LetterSpacing),fontSize:s.Ks.rem(M.HeadingLevel4Size),lineHeight:W},X={letterSpacing:s.Ks.rem(M.HeadingLevel3LetterSpacing),fontSize:s.Ks.rem(M.HeadingLevel3Size),lineHeight:Z},ee={letterSpacing:"".concat(M.HeadingLevel1LetterSpacing,"em"),fontSize:s.Ks.rem(M.HeadingLevel1Size),lineHeight:G},te={letterSpacing:s.Ks.rem(M.MediumLetterSpacing),fontSize:s.Ks.rem(M.MediumLetterSize),lineHeight:Q},ne={letterSpacing:s.Ks.rem(M.BodyLetterSpacing),fontSize:s.Ks.rem(M.BodySize),lineHeight:q},ie={letterSpacing:s.Ks.rem(M.SmallLetterSpacing),fontSize:s.Ks.rem(M.SmallSize),lineHeight:J},re=s.Ks.stylesheet((N(j={},g.$C.HeadingLevel4,[Y]),N(j,g.$C.HeadingLevel3,[X]),N(j,g.$C.HeadingLevel1,[ee]),N(j,g.$C.Medium,[te]),N(j,g.$C.Regular,[ne]),N(j,g.$C.Small,[ie]),j)),oe=s.Ks.stylesheet((N(L={},g.lk.Bold,[{fontWeight:"bolder"}]),N(L,g.lk.Italic,[{fontStyle:"italic"}]),N(L,g.lk.StrikeoutHorizontal,[{textDecoration:"line-through"}]),N(L,g.lk.StrikeoutDiagonal,[]),N(L,g.lk.Outline,[{padding:"".concat(s.Ks.rem(1/16)," ").concat(s.Ks.rem(3.5/16)," ").concat(s.Ks.rem(1/16)," ").concat(s.Ks.rem(3.5/16)),border:"1px solid",borderRadius:"2px"}]),L)),se=s.Ks.style({userSelect:"none"}),ae={strikeoutHorizontal:{name:"s",canHaveAriaLabel:!1},strikeoutDiagonal:{name:"span",canHaveAriaLabel:!1},outline:{name:"span",canHaveAriaLabel:!1},bold:{name:"strong",canHaveAriaLabel:!1},italic:{name:"em",canHaveAriaLabel:!1}},le=function(e){return{backgroundImage:"linear-gradient(to top left,\n    rgba(0,0,0,0) 0%,\n    rgba(0,0,0,0) calc(50% - 0.5px),\n    ".concat(R[e]," 50%,\n    rgba(0,0,0,0) calc(50% + 0.5px),\n    rgba(0,0,0,0) 100%)")}},ce=new u.qK(100);function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=function(e){return i.createElement("div",{"data-role":"box",className:(t=e,n=t.padding,r=t.borderRadius,o=t.backgroundColor,a=t.minWidth,l=[fe.base],void 0!==n&&l.push(function(e){var t,n,i,r,o="p-".concat(null===(t=e)||void 0===t?void 0:t.top,"-").concat(null===(n=e)||void 0===n?void 0:n.bottom,"-").concat(null===(i=e)||void 0===i?void 0:i.left,"-").concat(null===(r=e)||void 0===r?void 0:r.right),a=he.get(o);if(void 0!==a)return a;var l={$debugName:"padding"};void 0!==e&&(l.paddingRight=s.Ks.rem(Number(e.right)),l.paddingBottom=s.Ks.rem(Number(e.bottom)),l.paddingTop=s.Ks.rem(Number(e.top)),l.paddingLeft=s.Ks.rem(Number(e.left)));var c=s.Ks.style(l);return he.put(o,c),c}(n)),void 0!==r&&l.push(function(e){var t=e.topLeft,n=e.topRight,i=e.bottomRight,r=e.bottomLeft,o="bdr-".concat(t,"-").concat(n,"-").concat(i,"-").concat(r),a=he.get(o);if(void 0!==a)return a;var l={$debugName:"borderRadius"};void 0!==e&&(l.borderTopLeftRadius=s.Ks.rem(Number(ge[t])),l.borderTopRightRadius=s.Ks.rem(Number(ge[n])),l.borderBottomRightRadius=s.Ks.rem(Number(ge[i])),l.borderBottomLeftRadius=s.Ks.rem(Number(ge[r])));var c=s.Ks.style(l);return he.put(o,c),c}(r)),void 0!==o&&l.push(function(e){var t="bgc-".concat(e),n=he.get(t);if(void 0!==n)return n;var i=s.Ks.style({backgroundColor:R[e]});return he.put(t,i),i}(o)),void 0!==a&&l.push(function(e){var t="minW-".concat(e),n=he.get(t);if(void 0!==n)return n;var i={$debugName:"minwidth"};void 0!==e&&(i.minWidth=s.Ks.rem(Number(e)));var r=s.Ks.style(i);return he.put(t,r),r}(a)),l.length>0?s.Ks.joinClasses(l):void 0)},e.children);var t,n,r,o,a,l};var pe,me={display:"block",fontSize:s.Ks.rem(1),lineHeight:s.Ks.rem(1.15)},fe=s.Ks.stylesheet({base:[me]}),he=new u.qK(100),ge=(de(pe={},g.TI.Radius0,0),de(pe,g.TI.RadiusHalf,.125),de(pe,g.TI.Radius1,.25),de(pe,g.TI.Radius2,.5),de(pe,g.TI.Radius3,.75),pe);function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){var t,n,r,o,a,l,c,d,u=i.useRef(null);return i.useEffect((function(){var t,n=e.maxLines&&(null===(t=u.current)||void 0===t?void 0:t.querySelector("*:last-child"));if(u.current&&n){var i=setTimeout((function(){var e,t,i=window.getComputedStyle(n,null),r=i.getPropertyValue("color"),o=i.getPropertyValue("font-size"),s=i.getPropertyValue("line-height"),a=i.getPropertyValue("letter-spacing");Object.assign(null!==(t=null===(e=u.current)||void 0===e?void 0:e.style)&&void 0!==t?t:{},{color:r,fontSize:o,lineHeight:s,letterSpacing:a})}),0);return function(){return clearTimeout(i)}}return function(){}}),[e.maxLines]),i.createElement("div",{ref:u,"data-role":"block-layout",role:e.role,"aria-label":e["aria-label"],"aria-live":e["aria-live"],"aria-atomic":e["aria-atomic"],className:(t=e,n=t.spacing,r=t.innerSpacing,o=t.horizontalAlign,a=t.verticalAlign,l=t.fraction,c=t.maxLines,d=[we.base],void 0!==c&&d.push(function(e){var t="m-".concat(e),n=Ee.get(t);if(void 0!==n)return n;var i=s.Ks.style({display:"-webkit-inline-box",overflow:"hidden",WebkitBoxOrient:"vertical","-webkit-line-clamp":e});return Ee.put(t,i),i}(c)),void 0===n&&void 0===r||d.push(function(e){var t,n,i,r,o,a,l=e.spacing,c=e.innerSpacing,d="".concat(null===(t=l)||void 0===t?void 0:t.top,"-").concat(null===(n=l)||void 0===n?void 0:n.bottom,"-").concat(null===(i=l)||void 0===i?void 0:i.left,"-").concat(null===(r=l)||void 0===r?void 0:r.right,"-").concat(null===(o=c)||void 0===o?void 0:o.vertical,"-").concat(null===(a=c)||void 0===a?void 0:a.horizontal),u=Ee.get(d);if(void 0!==u)return u;var p,m,f,h,g={$debugName:"spacing"};void 0!==l&&(g.marginRight=s.Ks.rem(Number(l.right)),g.marginBottom=s.Ks.rem(Number(l.bottom)),g.marginTop=s.Ks.rem(Number(l.top)),g.marginLeft=s.Ks.rem(Number(l.left))),void 0!==c&&(g.marginRight=s.Ks.rem(Number(null!==(f=null===(p=l)||void 0===p?void 0:p.right)&&void 0!==f?f:0)-Number(c.horizontal)),g.marginBottom=s.Ks.rem(Number(null!==(h=null===(m=l)||void 0===m?void 0:m.bottom)&&void 0!==h?h:0)-Number(c.vertical)),g.$nest={"& > *":{marginRight:s.Ks.rem(Number(c.horizontal)),marginBottom:s.Ks.rem(Number(c.vertical))}});var v=s.Ks.style(g);return Ee.put(d,v),v}({spacing:n,innerSpacing:r})),void 0!==o&&d.push(Se[o]),void 0!==a&&d.push(Ce[a]),void 0!==l&&d.push(function(e){var t="f-".concat(e),n=Ee.get(t);if(void 0!==n)return n;var i=s.Ks.style({flex:e,overflow:"hidden"});return Ee.put(t,i),i}(l)),d.length>0?s.Ks.joinClasses(d):void 0)},e.children)};var ye,ke,we=s.Ks.stylesheet({base:[{overflowWrap:"anywhere",display:"inline-block"}]}),Ee=new u.qK(100),Se=s.Ks.stylesheet((ve(ye={},g.wq.Left,[{textAlign:"left"}]),ve(ye,g.wq.Center,[{textAlign:"center"}]),ve(ye,g.wq.Right,[{textAlign:"right"}]),ye)),Ce=s.Ks.stylesheet((ve(ke={},g.G4.Top,[{$nest:{"& > *":{verticalAlign:"top"}}}]),ve(ke,g.G4.Middle,[{$nest:{"& > *":{verticalAlign:"middle"}}}]),ve(ke,g.G4.Bottom,[{$nest:{"& > *":{verticalAlign:"bottom"}}}]),ke)),_e=n(25225),xe={width:s.Ks.rem(.85),height:s.Ks.rem(.85)},Ae={width:s.Ks.rem(1.5),height:s.Ks.rem(1.5),borderRadius:s.Ks.rem(1.5),display:"inline-flex",justifyContent:"center",alignItems:"center"},Ie=s.Ks.stylesheet({main:[{objectFit:"contain",alignSelf:"center",overflow:"hidden"}],defaultSize:[xe],wrapper:[Ae]});function Ke(e){return void 0===e?Ie.wrapper:s.Ks.joinClasses([Ie.wrapper,(0,_e.A)(e)])}function Te(e){return void 0===e?s.Ks.joinClasses([Ie.main,Ie.defaultSize]):s.Ks.joinClasses([Ie.main,Oe(e)])}function Oe(e){var t=Me.get(e);if(void 0!==t)return t;var n=s.Ks.style({width:s.Ks.rem(Number(e)),height:s.Ks.rem(Number(e))});return Me.put(e,n),n}var Me=new u.qK(100);function Fe(e,t,n){var i="wrapper-".concat(e,"-").concat(t,"-backgroundColor"),r=Be.get(i);if(void 0!==r)return r;var o=s.Ks.style({width:s.Ks.rem(Number(t)),height:s.Ks.rem(Number(e)),display:"inline-flex",justifyContent:"center",alignItems:"center",margin:0});return void 0!==n&&(o=s.Ks.joinClasses([o,(0,_e.A)(n)])),Be.put(i,o),o}function Re(e,t,n){var i=n?"content-".concat(e,"-").concat(t,"-").concat(n):"content-".concat(e,"-").concat(t),r=Be.get(i);if(void 0!==r)return r;var o=s.Ks.style({width:s.Ks.rem(Number(t)),height:s.Ks.rem(Number(e)),borderRadius:n?s.Ks.rem(Number(n)):void 0});return Be.put(i,o),o}var Be=new u.qK(100);function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Ne(e,t,n[t])}))}return e}function De(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var je={display:"flex",flexWrap:"nowrap",alignItems:"inherit",maxWidth:"100%"},Le=De(Pe({},je),{flexGrow:1}),Ue=De(Pe({},je),{marginLeft:"auto",flexShrink:0,alignSelf:"stretch"}),$e=s.Ks.stylesheet({row:[{display:"flex",flexDirection:"row",alignItems:"center"}],rowLeft:[Le],rowRight:[Ue]});function He(e){return void 0===e?$e.row:s.Ks.joinClasses([$e.row,We(e)])}function Ve(e){return void 0===e?$e.rowLeft:s.Ks.joinClasses([$e.rowLeft,Qe[e]])}function ze(e){return void 0===e?$e.rowRight:s.Ks.joinClasses([$e.rowRight,Qe[e]])}function We(e){var t=e.top,n=e.bottom,i=e.left,r=e.right,o="".concat(t,"-").concat(n,"-").concat(i,"-").concat(r),a=Ge.get(o);if(void 0!==a)return a;var l=s.Ks.style({marginTop:s.Ks.rem(Number(t)),marginLeft:s.Ks.rem(Number(i)),marginRight:s.Ks.rem(Number(r)),marginBottom:s.Ks.rem(Number(n))});return Ge.put(o,l),l}var Ze,Ge=new u.qK(100),Qe=s.Ks.stylesheet((Ne(Ze={},g.G4.Top,[{alignItems:"start"}]),Ne(Ze,g.G4.Middle,[{alignItems:"center"}]),Ne(Ze,g.G4.Bottom,[{alignItems:"end"}]),Ze)),qe=n(61670);const Je=.25;var Ye=n(94713),Xe=(0,d.B)((function(e){return i.createElement(qe.F.List,{"data-role":"list",selectionMode:"single",selectionBehavior:"toggle","aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],assistiveScroll:!0,theme:{list:et.list,item:{base:s.Ks.joinClasses([et.listItem,nt(e.itemHoveredColor)]),focused:it(e.itemFocusedColor)}},onSelectionChange:function(t){return("all"===t?e.items:e.items.filter((function(e){return t.has(e.id)}))).forEach(e.onSelect)},onClick:function(t){return e.onClick({id:t.key.toString(),clickPoint:t.clickPoint})}},e.items.map((function(t,n){return i.createElement(qe.F.Item,{key:t.id,textValue:t.meta.label},e.renderItem(t,n))})))})),et=s.Ks.stylesheet({list:[{margin:0,display:"flex",flexDirection:"column"}],listItem:[{display:"flex",minHeight:s.Ks.rem(2),cursor:"pointer",outline:"none",border:"none",backgroundColor:R.CoreNeutral0,borderRadius:s.Ks.rem(Je),padding:"0 0 0 ".concat(s.Ks.rem(Ye.v$)),boxSizing:"border-box"}]}),tt=new u.qK(100);function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.Q1.CoreNeutral10,t="ihc-".concat(e),n=tt.get(t);if(void 0!==n)return n;var i=s.Ks.style({$nest:{"&:hover":{backgroundColor:R[e],$nest:{'& [data-role="list-item-secondary-button"]':{opacity:1}}}}});return tt.put(t,i),i}function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.Q1.CoreNeutral10,t="ifc-".concat(e),n=tt.get(t);if(void 0!==n)return n;var i=s.Ks.style({backgroundColor:R[e],$nest:{'& [data-role="list-item-secondary-button"]':{opacity:1}}});return tt.put(t,i),i}var rt=n(40046);function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st={width:"calc(".concat(s.Ks.rem(Ye.Oh)," - ").concat(s.Ks.rem(Ye.sp),")"),height:"calc(".concat(s.Ks.rem(Ye.Oh)," - ").concat(s.Ks.rem(Ye.or),")"),margin:"".concat(s.Ks.rem(Ye.sp)),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",border:"none",backgroundColor:R.CoreNeutral10,borderRadius:s.Ks.rem(Je),$nest:{"&:active, &:hover, &:focus-visible":{backgroundColor:R.CoreNeutral20,opacity:1}}},at={listItemPrimaryButton:s.Ks.joinClasses(["listItemPrimaryButton",s.Ks.style({cursor:"pointer",outline:"none",border:"none",background:"transparent",padding:0})]),listItemLabel:s.Ks.joinClasses(["listItemLabel",s.Ks.style({display:"inline-flex",textAlign:"left"})]),listItemSecondaryButtonsContainer:s.Ks.joinClasses(["listItemSecondaryButtonsContainer",s.Ks.style({display:"flex",alignItems:"center",opacity:0,$nest:{"&:focus-within":{opacity:1}}})]),listItemSecondaryButton:s.Ks.joinClasses(["listItemSecondaryButton",s.Ks.style(st)])},lt=n(21607),ct=n(58193);function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ut={flexShrink:0,alignItems:"center",justifyContent:"center",height:s.Ks.rem(2),width:s.Ks.rem(2)},pt={$nest:{"& i":{height:s.Ks.rem(2),width:s.Ks.rem(2)}}},mt=s.Ks.stylesheet({button:[ut],item:[pt]}),ft=n(74168),ht=n(90405),gt=n(80074),vt=n(47370),bt=n(78339),yt=n(15491),kt=n(89769),wt=n(6987),Et=n(60946),St=n(21216),Ct=n(38427),_t=n(46669),xt=n(10047);function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(e,t){var n={root:e,rootMargin:"0px",threshold:[0,1]};return ft.ht(t,n).pipe(bt.p(xt.J_),yt.T((function(e){return 1!==e[0].intersectionRatio})),kt.Z(t.offsetHeight>e.offsetHeight))},Tt=function(e,t){return gt.s.combine(e,t,ct.fP(Kt)).pipe(ht.oE,wt.n(b.identity),Et.g(St.of(!0)))},Ot=vt.OW({topOverflow:vt.zF,bottomOverflow:vt.zF}),Mt=new u.qK(100),Ft=s.Ks.stylesheet({"scroll-main":[{display:"flex",flexDirection:"column",borderTop:"1px solid transparent",borderBottom:"1px solid transparent",transitionProperty:"border-top-color, border-bottom-color",transitionDuration:".2s",pointerEvents:"auto"}],overflowBottom:[{borderBottomColor:s.Ks.important(R.CoreNeutral20)}],overflowTop:[{borderTopColor:s.Ks.important(R.CoreNeutral20)}]}),Rt=n(73921),Bt=n(19840),Nt=n(42543),Pt=n(68745),Dt=n(60269),jt=n(62822),Lt=n(21662),Ut=n(95168),$t=n(19772);function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Vt(e,t,n[t])}))}return e}function Wt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Gt="sliderSliderDivisionPoint",Qt={fontWeight:700,fontSize:s.Ks.rem(.875),lineHeight:s.Ks.rem(1),width:s.Ks.rem(8)},qt={height:s.Ks.rem(2.625),display:"flex",flexDirection:"column",justifyContent:"center"},Jt={position:"relative",width:s.Ks.percent(100),backgroundColor:R.CoreNeutral40,borderRadius:s.Ks.rem(.375),transition:"height 0.15s ease-in-out",$nest:Vt({"&:hover":{height:s.Ks.rem(.5)}},"&:hover .".concat(Gt),{visibility:"visible"})},Yt={height:s.Ks.rem(.125)},Xt={height:s.Ks.rem(.5),$nest:Vt({},"& .".concat(Gt),{visibility:"visible"})},en={position:"absolute",height:s.Ks.rem(.25),backgroundColor:R.CoreNeutral0,top:s.Ks.rem(.125),bottom:s.Ks.rem(.125),borderRadius:s.Ks.percent(100),visibility:"hidden"},tn={background:R.CoreNeutral90,opacity:0,height:s.Ks.rem(1.5),position:"absolute",borderRadius:s.Ks.percent(100),cursor:"pointer",top:s.Ks.rem(-.5),zIndex:1,$nest:{"&:hover":{opacity:.1}}},nn={position:"relative",display:"flex",alignItems:"center",backgroundColor:R.CorePurple40,height:s.Ks.percent(100),borderRadius:s.Ks.rem(.375)},rn=s.Ks.keyframes({from:{width:"100%"},to:{width:"calc(100% - ".concat(s.Ks.rem(1.5),")")}}),on=s.Ks.keyframes({from:{width:"calc(100% - ".concat(s.Ks.rem(1.5),")")},to:{width:"100%"}}),sn={animation:"".concat(rn," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(on," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards")},an=s.Ks.keyframes({from:{transform:"none"},to:{transform:"translateX(".concat(s.Ks.rem(-.75),")")}}),ln=s.Ks.keyframes({from:{transform:"translateX(".concat(s.Ks.rem(-.75),")")},to:{transform:"none"}}),cn={animation:"".concat(an," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(ln," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards")},dn={position:"absolute",right:s.Ks.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:R.CoreNeutral0,borderRadius:s.Ks.rem(1.875),cursor:"ew-resize",transitionProperty:"width, height",transitionDuration:"0.15s",transitionTimingFunction:"ease-in-out",zIndex:1,$nest:{"&:hover":{width:s.Ks.rem(2),height:s.Ks.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},un={width:s.Ks.rem(1.75),height:s.Ks.rem(1.75),boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)"},pn={width:s.Ks.rem(2),height:s.Ks.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},mn={width:s.Ks.rem(.9375),height:s.Ks.rem(.9375),pointerEvents:"none"},fn={outerContainer:s.Ks.joinClasses(["sliderOuterContainer",s.Ks.style({display:"flex",alignItems:"center"})]),label:s.Ks.joinClasses(["sliderLabel",s.Ks.style(Qt)]),container:s.Ks.joinClasses(["sliderContainer",s.Ks.style(qt)]),slider:s.Ks.joinClasses(["slider",s.Ks.style(Jt)]),sliderNotDragging:s.Ks.joinClasses(["sliderNotDragging",s.Ks.style(Yt)]),sliderDragging:s.Ks.joinClasses(["sliderDragging",s.Ks.style(Xt)]),sliderDivisionPoint:s.Ks.joinClasses([Gt,s.Ks.style(en)]),sliderDivisionPointHoverArea:s.Ks.joinClasses(["sliderDivisionPointHoverArea",s.Ks.style(tn)]),sliderInner:s.Ks.joinClasses(["sliderInner",s.Ks.style(nn)]),sliderInnerNotDragging:s.Ks.joinClasses(["sliderInnerNotDragging",s.Ks.style({transition:"width 0.15s ease-in-out"})]),sliderInnerDragging:s.Ks.joinClasses(["sliderInnerDragging",s.Ks.style({transition:"none"})]),sliderInnerJiggle:s.Ks.joinClasses(["sliderInnerJiggle",s.Ks.style(sn)]),knob:s.Ks.joinClasses(["sliderKnob",s.Ks.style(dn)]),knobJiggle:s.Ks.joinClasses(["sliderKnobJiggle",s.Ks.style(cn)]),knobNotDragging:s.Ks.joinClasses(["sliderKnobNotDragging",s.Ks.style(un)]),knobDragging:s.Ks.joinClasses(["sliderKnobDragging",s.Ks.style(pn)]),knobEmoji:s.Ks.joinClasses(["sliderKnobEmoji",s.Ks.style(mn)])},hn=n(19967),gn=n(38548);function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bn=s.Ks.stylesheet({default:[{overflow:"initial",userSelect:"initial",verticalAlign:"initial"}]}),yn=n(87715),kn=n(23625),wn=n(34050);function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Sn(e,t,n[t])}))}return e}function _n(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var xn=(0,d.B)((function(e){var t=i.useRef(null),n=(0,kn.s)({"aria-label":e.meta.label,"aria-labelledby":null==e.meta.label?e.contentId:void 0,"aria-describedby":e["aria-describedby"],onPress:function(t){return e.onPress(t.target.getBoundingClientRect())},elementType:"div"},t).buttonProps;return i.createElement("div",Cn({className:An.button},n))})),An=s.Ks.stylesheet({container:[{position:"relative",minHeight:s.Ks.rem(3.5),display:"grid"}],content:[{display:"flex",alignItems:"center",$nest:{"& > div:first-of-type":{flexGrow:1}}}],button:[{position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"transparent",cursor:"pointer"}]}),In=n(86562);function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Tn=function(e){return s.Ks.rem(null!=e?e:.25)},On=function(e){return s.Ks.rem(1.25*(null!=e?e:.25))},Mn=function(e,t){return s.Ks.style({height:"calc(".concat(Tn(t)," + ").concat(void 0!==e?On(t):0,")")})},Fn=function(e,t,n){return s.Ks.style({height:Tn(n),backgroundColor:"".concat(R[e]),border:t?"1px solid ".concat(R[t]):"none",borderRadius:Tn(n)})},Rn=function(e,t,n){return s.Ks.style({width:"".concat(e,"%"),height:Tn(n),backgroundColor:"".concat(R[t])})},Bn=function(e,t){return s.Ks.style({left:"calc(".concat((r=e,o=[2,98],n=o,i=2,a=function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kn(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],c=a[1],Math.min(c,Math.max(l,r))),"% - ").concat(Tn(t),")"),borderLeft:"".concat(Tn(t)," solid transparent"),borderRight:"".concat(Tn(t)," solid transparent"),borderTop:"".concat(On(t)," solid ").concat(R.CoreNeutral50)});var n,i,r,o,a,l,c},Nn=s.Ks.stylesheet({outerContainer:[{position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-end"}],pinPoint:[{position:"absolute",top:0,width:0,height:0}],background:[{width:"100%",overflow:"hidden"}],fill:[{position:"relative"}],loading:[{position:"absolute",width:"100%",backgroundImage:"linear-gradient(-45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent)",backgroundSize:"20px 20px"}]}),Pn=n(89606),Dn=n(93629);function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||Un(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){if(e){if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}function $n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,b.pipe)(e.parentElement,y.fromNullable,y.chain((function(e){return $n(e,(n=t,function(e){if(Array.isArray(e))return jn(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||Un(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e]));var n})),y.alt((function(){return Dn.ci(t)})))}var Hn=function(e,t){return{$nest:{"@media (prefers-reduced-motion: no-preference)":{animation:"".concat(e," ").concat(s.Ks.seconds(.3)," ").concat(t)}}}},Vn=s.Ks.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),zn=s.Ks.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}});function Wn(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}var Zn,Gn,Qn,qn,Jn,Yn,Xn,ei=s.Ks.stylesheet({default:[{height:"1px",backgroundColor:R[g.Q1.CoreNeutral20],border:"none",flex:1}]}),ti=n(13607),ni=n(83541),ii=n(82718),ri=n(30451),oi=n(22835),si=n(50581);function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ai(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Qn=(Gn=Zn||(Zn={})).pointerWidth=Math.sqrt(200),Gn.slightMargin=17.5,qn={position:"absolute",zIndex:ti.ry,width:220,backgroundColor:ri.w_,borderRadius:s.Ks.rem(ti.Am),$nest:{"& button i path":{fill:R.CoreNeutral30,stroke:R.CoreNeutral30}}},Jn={position:"absolute",top:s.Ks.rem(.75),right:s.Ks.rem(.75),color:ri.Wc,textDecoration:"none"},Yn={display:"block",position:"absolute",width:0,height:0,borderTop:"".concat(Zn.pointerWidth,"px solid transparent"),borderBottom:"".concat(Zn.pointerWidth,"px solid transparent"),borderLeft:"".concat(Zn.pointerWidth,"px solid transparent"),borderRight:"".concat(Zn.pointerWidth,"px solid transparent")},Xn=Gn.stylesheet=s.Ks.stylesheet({wrapper:[{position:"relative"}],popover:[qn],closeButton:[Jn],anchorPointer:[Yn]}),Gn.modifiers=s.Ks.stylesheet({preCheck:[{$nest:li({},"&.".concat(Xn.anchorPointer),{visibility:"hidden",position:"fixed",top:-1e3,left:-1e3})}],top:[{$nest:li({},"&.".concat(Xn.anchorPointer),{borderTopColor:ri.w_,top:-Qn,left:"calc(50% - ".concat(Qn,"px)")})}],bottom:[{$nest:li({},"&.".concat(Xn.anchorPointer),{borderBottomColor:ri.w_,bottom:-Qn,left:"calc(50% - ".concat(Qn,"px)")})}],left:[{$nest:li({},"&.".concat(Xn.anchorPointer),{borderLeftColor:ri.w_,left:-Qn,top:"calc(50% - ".concat(Qn,"px)")})}],right:[{$nest:li({},"&.".concat(Xn.anchorPointer),{borderRightColor:ri.w_,right:-Qn,top:"calc(50% - ".concat(Qn,"px)")})}]});var di=function(e,t){return e.left>=t.left&&e.top>=t.top&&e.left+e.width<t.left+t.width&&e.top+e.height<t.top+t.height},ui=function(e,t,n,i){switch(e){case g.yX.Left:return y.some(n.left-t.width-Zn.pointerWidth/2);case g.yX.Right:return y.some(n.right+Zn.pointerWidth/2);case g.yX.Top:case g.yX.Bottom:var r=-t.width/2,o=-t.width+Zn.pointerWidth/2+Zn.slightMargin,s=-Zn.slightMargin;return(0,b.pipe)(pi(e,t,n,i),y.chain((function(e){return y.fromNullable([r,o,s].find((function(r){return di({top:e,left:n.left+n.width/2+r,width:t.width,height:t.height},i)})))})));default:(0,In.xb)(e)}},pi=function(e,t,n,i){switch(e){case g.yX.Top:return y.some(n.top-t.height-Zn.pointerWidth/2);case g.yX.Bottom:return y.some(n.bottom+Zn.pointerWidth/2);case g.yX.Left:case g.yX.Right:var r=-t.height/2,o=-t.height+Zn.pointerWidth+Zn.slightMargin,s=-Zn.slightMargin;return(0,b.pipe)(ui(e,t,n,i),y.chain((function(e){return y.fromNullable([r,o,s].find((function(r){return di({top:n.top+n.height/2+r,left:e,width:t.width,height:t.height},i)})))})));default:(0,In.xb)(e)}},mi=n(14109),fi={flexShrink:0,alignItems:"center",justifyContent:"center",height:s.Ks.rem(2),width:s.Ks.rem(2)},hi={$nest:{"& i":{height:s.Ks.rem(2),width:s.Ks.rem(2)}}},gi=s.Ks.stylesheet({button:[fi],item:[hi]});function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bi,yi="stickerBackgroundWithCutOut",ki="stickerBackgroundTriangle",wi=s.Ks.px(-4),Ei={display:"flex",width:"100%",flexDirection:"column",justifyContent:"flex-end",position:"relative",minHeight:s.Ks.rem(3.9375)},Si={display:"inline-block",border:"none",padding:0,position:"absolute",width:"calc(100% + ".concat(s.Ks.px(8),")"),left:wi,top:wi,right:wi,bottom:wi,overflow:"hidden",cursor:"pointer",backgroundColor:"transparent",textAlign:"initial"},Ci=s.Ks.px(35),_i=s.Ks.px(38),xi={zIndex:2,position:"relative",display:"inline-flex",flexDirection:"column",padding:"0 ".concat(s.Ks.rem(Ye.Jj)," 0 ").concat(Ci)},Ai={transitionDuration:"300ms",transitionTimingFunction:"ease"},Ii={position:"absolute",width:"100%",height:"100%",zIndex:1,top:0,left:0,borderRadius:s.Ks.rem(Je),overflow:"hidden",transform:"rotateX(180deg)",transitionProperty:"clip-path",clipPath:"polygon(".concat(Ci," 0, 100% 0, 100% 100%, 0 100%, 0 ").concat(_i,")")},Ki={position:"absolute",width:Ci,height:_i,zIndex:3,left:0,bottom:0,transitionProperty:"clip-path, width, height",clipPath:'path("M0 0.5L35 38L31.3648 9.37293C31.1471 7.6587 29.8533 6.27805 28.1568 5.9497L0 0.5Z")'},Ti=s.Ks.px(40),Oi=s.Ks.px(47),Mi={$nest:(bi={},vi(bi,"&:hover .".concat(yi),{clipPath:"polygon(".concat(Ti," 0, 100% 0, 100% 100%, 0 100%, 0 ").concat(Oi,")")}),vi(bi,"&:hover .".concat(ki),{width:Ti,height:Oi,clipPath:'path("M0 0.5L40 47L39.0836 5.7635C39.0366 3.64906 37.3518 1.93661 35.2383 1.85532L0 0.5Z")'}),bi)},Fi={outerContainer:s.Ks.joinClasses(["stickerContainer",s.Ks.style(Ei)]),sticker:s.Ks.joinClasses(["sticker",s.Ks.style(Si),s.Ks.style(Mi)]),label:s.Ks.joinClasses(["stickerLabel",s.Ks.style(xi)]),backgroundContainer:s.Ks.joinClasses(["stickerBackgroundContainer",s.Ks.style({position:"absolute",width:"100%",height:"100%",left:0,top:0})]),backgroundWithCutOut:s.Ks.joinClasses([yi,s.Ks.style(Ai),s.Ks.style(Ii)]),backgroundTriangle:s.Ks.joinClasses([ki,s.Ks.style(Ai),s.Ks.style(Ki)])},Ri=new u.qK(100);function Bi(e){var t="bgc-".concat(e),n=Ri.get(t);if(void 0!==n)return n;var i=s.Ks.style({backgroundColor:R[e]});return Ri.put(t,i),i}var Ni=function(e){var t=e.type;return i.createElement("div",null,t," not implemented")},Pi={animation:function(e){var t=i.useRef(null),n=function(e,t){switch(e){case"behavior:animation:fadeIn":return{className:s.Ks.style(Hn(Vn,Wn(t))),direction:"in"};case"behavior:animation:fadeOut":return{className:s.Ks.style(Hn(zn,Wn(t))),direction:"out"};default:(0,In.xb)(e)}}(e.type,e.timeCurve),r=Ln(i.useState("in"===n.direction?n.className:void 0),2),o=r[0],a=r[1];return i.useEffect((function(){return function(){var e,i;(null!==(i=null===(e=t.current.shadowRoot)||void 0===e?void 0:e.ownerDocument.defaultView)&&void 0!==i?i:window).matchMedia("(prefers-reduced-motion: reduce)").matches||function(e,t){(0,b.pipe)((0,b.tuple)((0,b.pipe)(t,y.fromPredicate((function(e){return"out"===e.direction}))),$n(e)),(0,b.tupled)(Pn.C(y.option)),ct.Mi((function(t){var n,i,r=Ln(t,2),o=r[0],s=r[1],a=null!==(i=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)&&void 0!==i?i:document,l=e.getBoundingClientRect(),c=e.cloneNode(!0);c.classList.add(o.className),c.style.position="absolute",c.style.top="".concat(l.top,"px"),c.style.left="".concat(l.left,"px"),c.style.width="".concat(l.width,"px"),c.style.height="".concat(l.height,"px"),requestAnimationFrame((function(){(0,b.pipe)(s.find((function(e){return a.contains(e)})),y.fromNullable,ct.Mi((function(e){c.addEventListener("animationend",(function(){a.contains(c)&&c.remove()})),e.appendChild(c)})))}))})))}(t.current,n)}}),[n]),i.createElement("div",{"data-name":"behavior-animation-wrapper","data-animation":e.type,ref:t,className:o,onAnimationEnd:function(){return a(void 0)}},e.children)},button:(0,F.$R)(),alternativeChoice:function(e){var t=e.id,n=e.designSystem,r=e.content,o=e.activeIndex,s=e.notify,a=e.meta,l=w.Bx.Logging.getLogger("AlternativeChoiceView");return i.createElement("div",{role:"group","aria-describedby":"".concat(t,"-description"),children:[i.createElement(n.column,{children:[(0,b.pipe)(y.fromNullable(r[o]),k.fromOption((function(){return"Cannot render alternative choice preview if there's no choice that matches the current alternative index."})),k.map((function(e){return e.preview})),k.filterOrElse(E.eB.isBlock,(function(){return"Cannot render alternative choice preview if it's not of type `block.`"})),k.filterOrElse(E.eB.hasOnlyTextParts,(function(){return"Cannot render alternative choice preview `block` if not every part is of type `text.`"})),k.map((function(e){return e.parts.length>0?i.createElement(n.block,x(_({},e),{children:e.parts.map((function(e,t){return i.createElement(n.text,_({key:t},e))})),spacing:{top:g.$x.D0,right:g.$x.D0,bottom:g.$x.D1,left:g.$x.D0},key:"preview","aria-live":"polite","aria-atomic":"true"})):null})),k.getOrElse((function(e){return l.warn(e),null}))),i.createElement(n.block,{innerSpacing:{horizontal:g.$x.D05,vertical:g.$x.D05},verticalAlign:g.G4.Top,children:r.map((function(e,t){return"button"===e.label.type&&"block"===e.label.label.type?i.createElement(n.button.toggle,{key:t,id:e.label.id,text:n.block(x(_({},e.label.label),{children:e.label.label.parts.map((function(e,t){return"text"===e.type?e.text:"icon"===e.type&&"known"===e.source.kind?i.createElement(n.icon[e.source.name],_({key:t},e)):null}))})),name:e.label.name.value,state:I(o)(e.label.actions)?g.w.Selected:g.w.Deselected,tooltip:void 0,shape:g.aH.Square,meta:{},role:"radio",onClick:s(e.label.actions,e.label.id)}):l.warn("Content where `label.type` is not `button` and `label.label.type` is not `block` are not supported (yet)",{content:e})})),role:"radiogroup","aria-label":a.label,key:"control",id:E.Hh.from("AlternativeChoiceView-control")}),(0,b.pipe)(y.fromNullable(a.description),y.map((function(e){return i.createElement(S.s,{id:"".concat(t,"-description"),key:"description",children:[e]})})),y.toNullable)],key:"AlternativeChoiceView",id:E.Hh.from("AlternativeChoiceView")})]})},text:z,clickableText:function(e){var t,n,r=e.textView,o=e.onClick,a=e.name,l=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["textView","onClick","name"]);return i.createElement(hn.$n,{name:a,onClick:o,className:s.Ks.joinClasses([gn.x6,bn.default])},i.createElement(r,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){vn(e,t,n[t])}))}return e}({},l),n=null!=(n={text:l.text,selectable:!1})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t)))},image:function(e){var t=e.name,n=e.url,r=e.size,o=e.backgroundColor;return i.createElement("div",{className:Ke(o),"data-role":"icon"},i.createElement("img",{src:n,className:Te(r),alt:t}))},imageSized:function(e){var t,n=e.name,r=e.url,o=e.height,s=e.width,a=e.backgroundColor,l=e.borderRadius,c=e.meta;return i.createElement("figure",{className:Fe(o,s,a),"data-role":"icon"},i.createElement("img",{src:r,className:Re(o,s,l),alt:null!==(t=c.label)&&void 0!==t?t:n.value}))},icon:_e.s,alertsCount:function(e){var t,n,s=e.textView,a=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["textView"]),l=i.useContext(r.F.Context).alertIds.length;return l>0?i.createElement(s,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){o(e,t,n[t])}))}return e}({key:"alertsCountText"},a),n=null!=(n={text:"".concat(l),removeImplicitPadding:!0,selectable:!1})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t)):null},assistantCard:f,count:function(e){var t=e.backgroundColor,n=e.value,r=e.id,o=e.textColor,s=void 0===o?g.Q1.CoreNeutral0:o,a=e.meta;return i.createElement(be,{id:r,"aria-label":a.label,"aria-description":a.description},i.createElement(ue,{id:r,backgroundColor:t,borderRadius:{topLeft:g.TI.Radius3,topRight:g.TI.Radius3,bottomRight:g.TI.Radius3,bottomLeft:g.TI.Radius3},minWidth:.75,padding:{top:g.$x.D0,right:g.$x.D025,bottom:g.$x.D0125,left:g.$x.D025}},i.createElement(z,{size:g.$C.Small,format:[g.lk.Bold],textColor:s,text:n,meta:a,removeImplicitPadding:!0,selectable:!1})))},block:be,row:function(e){var t=e.left,n=e.right,r=e.spacing,o=e.verticalAlign,s=Array.isArray(t)&&0===t.length,a=Array.isArray(n)&&0===n.length;return s&&a?null:i.createElement("div",{"data-role":"row-layout",className:He(r)},s?null:i.createElement("div",{"data-role":"row-content",className:Ve(o)},t),a?null:i.createElement("div",{"data-role":"row-content",className:ze(o)},n))},column:l,slider:function(e){var t=e.fillColor,n=e.segmentSize,r=e.choices,o=e.designSystem,a=e.meta,l=e.onChoiceSelected,c=$t.R.useElWatcher(),d=c.ref,u=c.onMount,p=(0,Rt.Bi)(),m=new Nt.B7,f=new Nt.B7,h=new Nt.B7,v=new Nt.B7,k=new Nt.B7,E=new Nt.B7,S=new Pt.t(!0),C=r.length-1,_=C>0?100/C:0,x=r.reduce((function(e){var t=e[e.length-1],n=0;return void 0!==t&&(n=t+_),e.push(n),e}),[]),A=new Pt.t(x[1]),I=Dt.h(k.pipe(jt.u(!0)),h.pipe(jt.u(!1)),v.pipe(jt.u(!1))).pipe(kt.Z(!1)),T=Dt.h(k,f).pipe(Lt.E(I),bt.p((function(e){var t=Zt(e,2);return t[0],t[1]})),yt.T((function(e){return Zt(e,1)[0]})),Lt.E(d),yt.T((function(e){var t=Zt(e,2),n=t[0],i=t[1];return(0,b.pipe)(i,y.map((function(e){return e.getBoundingClientRect()})),y.bindTo("sliderClientRect"),y.apS("containerMouseEventVal",y.some(n)))})),ht.oE,yt.T((function(e){var t=e.containerMouseEventVal,n=e.sliderClientRect,i=n.x,r=n.x+n.width;return t.clientX<=i?0:t.clientX>=r?100:(t.clientX-i)/(r-i)*100}))),O=A.pipe(_t.F(),yt.T((function(e){for(var t=-1,n=0;n<x.length-1;n++){var i=x[n],r=x[n+1];e>=i&&e<=r&&(t=e>=(i+r)/2?n+1:n)}return t}))),M=O.pipe(_t.F(),yt.T((function(e){return r[e]})));return $t.R.useSubscriptionTo(Dt.h(T.pipe(_t.F()),I.pipe(_t.F(),bt.p((function(e){return!e})),Lt.E(T),yt.T((function(e){var t=Zt(e,2);return t[0],t[1]})),yt.T((function(e){var t,n=0,i=!0,r=!1,o=void 0;try{for(var s,a=x[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var l=s.value,c=Math.abs(e-l);(void 0===t||c<t)&&(t=c,n=l)}}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}))),m.pipe(bt.p((function(e){return"ArrowRight"===e.key||"ArrowLeft"===e.key})),Ut.M((function(e){e.preventDefault(),e.stopPropagation()})),yt.T((function(e){return e.key})),bt.p((function(e){return"ArrowRight"===e||"ArrowLeft"===e})),Lt.E(A),yt.T((function(e){var t,n=Zt(e,2),i=n[0],r=n[1];return(t="ArrowRight"===i?r+_:r-_)>100?100:t<0?0:t}))),E.pipe(yt.T((function(e){return x[e]})))).pipe(Ut.M((function(e){return A.next(e)})))),$t.R.useSubscriptionTo(M.pipe(yt.T((function(e){return l(e.actions,e.id,g.nm.SelectSliderChoice)})),Ut.M((function(e){return e()})))),r.length<2?(w.Bx.Logging.getLogger("SliderView").warn("Cannot render slider with less than 2 choices.",{choicesLength:r.length}),null):i.createElement(K.F.div,{className:fn.outerContainer,onKeyDown:function(e){return m.next(e)},role:"group","aria-label":a.label},i.createElement(K.F.div,{className:fn.label,id:p},M.pipe(yt.T((function(e){return e.label})))),i.createElement(K.F.div,{className:fn.container,style:{width:s.Ks.rem(C*n)},onMouseMove:function(e){return f.next(e)},onMouseUp:function(e){return h.next(e)},onMouseLeave:function(e){return v.next(e)}},i.createElement(K.F.div,Wt(zt({},(0,Bt.Ly)(fn.slider,I.pipe(yt.T((function(e){return e?fn.sliderDragging:fn.sliderNotDragging}))))),{mount:u,onMouseOver:function(){return S.next(!1)},onFocus:function(){return S.next(!1)}}),i.createElement(K.F.div,Wt(zt({},(0,Bt.Ly)(fn.sliderInner,I.pipe(yt.T((function(e){return e?fn.sliderInnerDragging:fn.sliderInnerNotDragging}))),S.pipe(yt.T((function(e){return e&&1===C?fn.sliderInnerJiggle:null}))))),{style:{width:A.pipe(yt.T(s.Ks.percent)),color:R[t]}}),i.createElement(K.F.div,Wt(zt({},(0,Bt.Ly)(fn.knob,I.pipe(yt.T((function(e){return e?fn.knobDragging:fn.knobNotDragging}))),S.pipe(yt.T((function(e){return e&&C>1?fn.knobJiggle:null}))))),{onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),k.next(e)},tabIndex:0,role:"slider","aria-labelledby":p}),M.pipe(yt.T((function(e){return"known"===e.icon.source.kind?i.createElement(o.icon[e.icon.source.name],{key:e.icon.source.name,backgroundColor:e.icon.backgroundColor}):i.createElement(o.image,zt({key:e.icon.source.name,backgroundColor:e.icon.backgroundColor},e.icon.source))}))))),I.pipe(yt.T((function(e){return r.map((function(t,r){var o={width:s.Ks.rem(.25),left:s.Ks.rem(0===r?.125:r===C?r*n-.25-.125:r*n-.25)};return i.createElement(K.F.Fragment,{key:t.id},i.createElement("div",{className:fn.sliderDivisionPoint,style:o}),O.pipe(yt.T((function(t){return t===r||e?null:i.createElement(K.F.div,{className:fn.sliderDivisionPointHoverArea,style:Wt(zt({},o),{transform:"scaleX(6)"}),onClick:function(){return E.next(r)}})}))))}))}))))))},box:ue,alternativeSlider:function(e){var t=e.fillColor,n=e.segmentSize,r=e.choices,o=e.designSystem,s=e.activeAltIndex,a=e.meta,l=e.notify;return i.createElement(o.column,{children:[i.createElement(o.slider,{fillColor:t,segmentSize:n,meta:a,choices:r.map((function(e){return{id:e.id,icon:e.icon,label:e.label,actions:e.actions}})),designSystem:o,onChoiceSelected:l,key:"select"}),i.createElement(K.F.Fragment,{key:"preview"},s.view((function(e){return(0,b.pipe)(y.fromNullable(r[e+1]),k.fromOption((function(){return"Cannot render alternative slider preview if there's no choice that matches the current alternative index."})),k.map((function(e){return e.preview})),k.filterOrElse(E.eB.isBlock,(function(){return"Cannot render alternative slider preview if it's not of type `block.`"})),k.filterOrElse(E.eB.hasOnlyTextParts,(function(){return"Cannot render alternative slider preview `block` if not every part is of type `text.`"})),k.map((function(e){return i.createElement(o.block,(t=O({},e),n=null!=(n={children:e.parts.map((function(e,t){return i.createElement(o.text,O({key:t},e))}))})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t));var t,n})),k.getOrElse((function(e){return w.Bx.Logging.getLogger("AlternativeSliderView").warn(e),null})))})))],id:E.Hh.from("AlternativeSlider")})},scroll:function(e){var t=gt.s.create(y.none),n=gt.s.create(y.none),r=gt.s.create(y.none),o=Tt(t,n),a=Tt(t,r),l=Ct.zV([o,a]).pipe(yt.T((function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{topOverflow:i[0],bottomOverflow:i[1]}})),kt.Z({topOverflow:!1,bottomOverflow:!1}),_t.F(Ot.equals));return i.createElement(i.Fragment,null,i.createElement("style",null,'div[data-role="scroll"] {\n            border-color: transparent;\n          }'),i.createElement(K.F.div,{"data-role":"scroll",className:l.pipe(yt.T((function(t){return function(e){var t=e.maxHeight,n=e.topOverflow,i=e.bottomOverflow,r=[];return r.push(Ft["scroll-main"]),n&&r.push(Ft.overflowTop),i&&r.push(Ft.overflowBottom),void 0!==t&&r.push(function(e){var t="overflow-".concat(e),n=Mt.get(t);if(void 0!==n)return n;var i=s.Ks.style({$debugName:"overflow",maxHeight:s.Ks.rem(e),overflowY:"auto",overflowX:"hidden",$nest:{"& > *":{overflow:"visible"}}});return Mt.put(t,i),i}(t)),r.length>0?s.Ks.joinClasses(r):void 0}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){It(e,t,n[t])}))}return e}({},e,t))}))),mount:function(e){return t.set(y.fromNullable(e))}},i.createElement("div",{style:{margin:0},ref:function(e){return n.set(y.fromNullable(e))}}),e.children,i.createElement("div",{style:{margin:0},ref:function(e){return r.set(y.fromNullable(e))}})))},list:Xe,listItem:function(e){var t=i.createElement(i.Fragment,null,i.createElement("div",{"data-role":"list-item",className:at.listItemPrimaryButton},i.createElement("div",{"data-role":"list-item-label",className:at.listItemLabel},e.label)),e.secondaryButtons.length>0?i.createElement("div",{"data-role":"list-item-secondary-buttons",className:at.listItemSecondaryButtonsContainer},e.secondaryButtons.map((function(t){var n=(0,d.B)((function(t){return i.createElement("button",{key:t.id,"data-role":"list-item-secondary-button",onClick:function(e){e.stopPropagation(),t.onClick()},onKeyDown:function(e){return e.stopPropagation()},onPointerDown:function(e){return e.stopPropagation()},className:at.listItemSecondaryButton,"aria-label":t.meta.label,"aria-describedby":t["aria-describedby"]},"icon"===t.label.type?"known"===t.label.icon.source.kind?i.createElement(e.designSystem.icon[t.label.icon.source.name],{key:t.label.icon.source.name,backgroundColor:t.label.icon.backgroundColor}):i.createElement(e.designSystem.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){ot(e,t,n[t])}))}return e}({key:t.label.icon.source.name,backgroundColor:t.label.icon.backgroundColor},t.label.icon.source)):t.label.text)}))(t);return t.tooltip?i.createElement(rt.m_,{key:t.id,title:t.tooltip},n):n}))):null);return e.tooltip?i.createElement(rt.m_,{title:(0,F.Nv)(e.tooltip)},t):t},strongAlertRef:r.m,popoverAnchor:function(e){var t=$t.R.useElWatcher(),n=$t.R.useElWatcher(),r=$t.R.useMemoOnDidMount((function(){return gt.s.create(s.Ks.joinClasses([Zn.modifiers.preCheck,Zn.modifiers[e.positionHint]]))})),o=$t.R.useMemoOnDidMount((function(){return gt.s.create({top:0,left:0})}));i.useEffect((function(){e.onShow()}),[]),i.useEffect((function(){var i=ni.timer(0,500).pipe(ii.K(t.ref),yt.T(y.map((function(e){return e.getBoundingClientRect()}))),_t.F(y.getEq(si.Rect.eq).equals)),s=ni.timer(0,500).pipe(ii.K(n.ref),yt.T(y.map((function(e){return e.getBoundingClientRect()}))),_t.F(y.getEq(si.Box.eq).equals)),a=Ct.zV([i,s]).subscribe((function(t){var n=ci(t,2),i=n[0],s=n[1];(0,b.pipe)((0,Pn.C)(y.option)(i,s),y.chain((function(t){var n=ci(t,2),i=n[0],r=n[1];return function(e,t,n,i){var r=[e,g.yX.Top,g.yX.Left,g.yX.Right,g.yX.Bottom].filter((function(e,t,n){return n.indexOf(e)===t}));return(0,b.pipe)(r,v.CX((function(e){return(0,b.pipe)(function(e,t,n,i){var r="".concat(Zn.pointerWidth/2,"px");switch(e){case g.yX.Top:return(0,b.pipe)(ui(e,t,n,i),y.map((function(e){return{left:e,bottom:r}})));case g.yX.Bottom:return(0,b.pipe)(ui(e,t,n,i),y.map((function(e){return{left:e,top:r}})));case g.yX.Left:return(0,b.pipe)(pi(e,t,n,i),y.map((function(e){return{top:e,right:r}})));case g.yX.Right:return(0,b.pipe)(pi(e,t,n,i),y.map((function(e){return{top:e,left:r}})));default:(0,In.xb)(e)}}(e,t,n,i),y.map((function(t){return{position:e,adjustment:t}})))})))}(e.positionHint,r,i,{top:0,left:0,right:document.documentElement.scrollWidth,bottom:document.documentElement.scrollHeight,width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight})})),y.fold((function(){return r.set(Zn.modifiers.preCheck)}),(function(e){var t=e.position,n=e.adjustment;r.set(Zn.modifiers[t]),o.set(n)})))}));return function(){return a.unsubscribe()}}),[]);var a=r.pipe(_t.F(),yt.T((function(e){return s.Ks.joinClasses([Zn.stylesheet.anchorPointer,e])}))),l=o.pipe(_t.F(oi.n4));return i.createElement(K.F.div,{className:Zn.stylesheet.wrapper,mount:t.onMount,style:{display:e.inlineWrapper?"inline-block":"block"}},i.createElement(K.F.div,{className:a},i.createElement(K.F.div,{className:Zn.stylesheet.popover,style:l,mount:n.onMount},e.popover)),e.children)},nativeSkillsModal:Ni,nativeSkillsList:function(e){var t=e.designSystem,n=e.notify,r=e.onSelect;return i.createElement(t.block,{innerSpacing:{horizontal:g.$x.D05,vertical:g.$x.D05},verticalAlign:g.G4.Top,horizontalAlign:g.wq.Center,children:[i.createElement("p",{key:"header"},"Mock implementation of Skills list"),i.createElement(t.radioButtonsGroup,{id:"skills-list-radio-group",type:"radioButtonsGroup",onClick:function(){return n},meta:{label:"select-a-skill",description:"Select a skill"},options:[{id:"translate",label:"Translate",onSelect:r,meta:{label:"translate",description:"Access the translate skill"}},{id:"paraphrase",label:"Paraphrase",onSelect:r,meta:{label:"paraphrase",description:"Access the paraphrase skill"}}],designSystem:t})],key:"block",id:E.Hh.from("container-block")})},nativeSkillsView:function(){return i.createElement(be,{innerSpacing:{horizontal:g.$x.D05,vertical:g.$x.D05},verticalAlign:g.G4.Top,horizontalAlign:g.wq.Center,children:[i.createElement("p",{key:"header"},"Mock implementation of Skills View")],key:"block",id:E.Hh.from("container-block")})},nativeToneInsightsModal:Ni,nativeLearnMoreModal:Ni,nativeSettingsModal:Ni,nativeFeedbackModal:Ni,nativeInlineCardContent:Ni,inlineCard:(0,d.B)((function(e){var t=e.child,n=e.id,r=e.meta,o=e.minWidth,a=e.maxWidth,c=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["child","id","meta","minWidth","maxWidth"]),d=function(e,t){var n="".concat(e,"-").concat(t),i=m.get(n);if(void 0!==i)return i;var r=s.Ks.style(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){p(e,t,n[t])}))}return e}({display:"inline-block"},e?{minWidth:s.Ks.rem(e)}:{},t?{maxWidth:s.Ks.rem(t)}:{}));return m.put(n,r),r}(null!=o?o:undefined,null!=a?a:undefined);return i.createElement(l,{id:"".concat(n,"-container"),role:"region","aria-label":r.label,"aria-describedby":c["aria-describedby"],className:d},t)})),nativeGetStartedChecklistModal:function(e){var t=e.designSystem,n=e.notify;return i.createElement(t.block,{innerSpacing:{horizontal:g.$x.D05,vertical:g.$x.D05},verticalAlign:g.G4.Top,horizontalAlign:g.wq.Center,children:[i.createElement("p",{key:"header"},"Mock Implementation of nativeGetStartedChecklistModal"),i.createElement(t.button.primary,{key:"complete-all-items-btn",id:"complete-all-items-btn",text:"Complete all items",name:"fire-actions",state:g.w.Enabled,tooltip:void 0,shape:g.aH.Square,meta:{},onClick:n}),i.createElement("p",{key:"footer"},"")],key:"block",id:E.Hh.from("container-block")})},nativeKeyTakeawaysAssistantCard:Ni,nativeProofitModal:Ni,dropDownMenuButton:function(e){var t=function(t){return"known"===t.source.kind?i.createElement(e.designSystem.icon[t.source.name],{key:t.source.name,backgroundColor:t.backgroundColor}):i.createElement(e.designSystem.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){dt(e,t,n[t])}))}return e}({key:t.source.name,backgroundColor:t.backgroundColor},t.source))};return i.createElement(lt.W.Dropdown,{label:t(e.icon),placement:"bottom right",theme:{button:mt.button,item:mt.item},"aria-label":e.menu.meta.label,onAction:function(t){return(0,b.pipe)(e.menu.sections,v.cy((function(e){return e.items})),v.i8((function(e){return e.id===String(t)})),ct.Mi((function(t){return e.onClick(t.onClickActions,t.id)()})))}},e.menu.sections.map((function(e,n){return i.createElement(lt.W.Section,{key:n,title:e.title},e.items.map((function(e){return i.createElement(lt.W.Item,{key:e.id,textValue:e.id},e.icon&&t(e.icon),e.text)})))})))},selectableDropDownMenu:function(e){return i.createElement(mi.l.Component,{placeholder:e.placeholder,placement:"bottom left",theme:{button:gi.button},"aria-label":e.select.meta.label,defaultSelectedKey:e.selectedItem,onSelectionChange:function(t){return(0,b.pipe)(e.select.items,v.i8((function(e){return e.id===String(t)})),ct.Mi((function(t){return e.onClick(t.onClickActions,t.id)()})))}},e.select.items.map((function(e){return i.createElement(mi.l.Item,{key:e.id},e.label)})))},radioButtonsGroup:function(e){var t=e.id,n=e.options,r=e.onClick,o=e.meta;return i.createElement(yn.s.Group,{name:t,"aria-label":o.label,description:o.description,onChange:function(e){return(0,b.pipe)(n,xt.i8((function(t){return t.id===e})),ct.Mi((function(e){return r(e.onSelect,e.id)})))}},n.map((function(e){return i.createElement(yn.s.Item,{id:e.id,key:e.id,value:e.id,"aria-label":e.meta.label,"aria-description":e.meta.description},e.label)})))},nativeExperimentalGBConsistencyUpsellFooter:Ni,nativeExperimentalGBToneInsightsUpsellFooter:Ni,collapsedCard:function(e){var t,n,r="".concat(e.id,"-collapsed-content"),o=(t=i.useState(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return En(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],a=o[1],l=i.useCallback((function(t){a(t),e.onHoverChanged(t)}),[]),c=(0,wn.Mk)({onHoverChange:l}).hoverProps,d=(0,wn.Rb)({onFocusWithinChange:l}).focusWithinProps;return i.createElement("div",_n(Cn({},c,d),{className:An.container}),i.createElement(xn,_n(Cn({},e),{contentId:r})),i.createElement("div",{id:r,className:An.content},e.child,i.createElement("div",{role:"tooltip",style:{opacity:s?1:0}},e.quickActions)))},longFormCard:function(e){return i.createElement(i.Fragment,null,function(e,t,n){switch(e){case"focused":return t;case"collapsed":return n;case"hidden":return null;default:return(0,In.xb)(e)}}(e.viewKind,e.fullContent,e.collapsedContent))},progressBar:function(e){var t=e.value,n=e.backgroundColor,r=e.fillColor,o=e.borderColor,a=e.height,l=e.pinPointValue,c=e.state;return i.createElement("div",{role:"progressbar","aria-label":"Progress","aria-valuenow":t,className:s.Ks.joinClasses([Nn.outerContainer,Mn(l,a)])},void 0!==l&&i.createElement("div",{"aria-label":"Progress starting point",className:s.Ks.joinClasses([Nn.pinPoint,Bn(l,a)])}),i.createElement("div",{className:s.Ks.joinClasses([Nn.background,Fn(n,o,a)])},i.createElement("div",{className:s.Ks.joinClasses([Nn.fill,Rn(t,r,a)])},c===g.R$.Loading&&i.createElement("div",{className:Nn.loading,style:{height:Tn(a)}}))))},horizontalRule:function(){return i.createElement("hr",{className:ei.default})},tooltip:function(e){var t=e.text,n=e.child,r=e.alignment;return i.createElement(rt.m_,{title:(0,F.Nv)(t),align:r},n)},sticker:function(e){var t=e.label,n=e.children,r=e.onClick,o=e.stickerColor,a=e.stickerReverseColor,l=e.meta,c=Bi(o),d=Bi(a);return i.createElement("div",{className:Fi.outerContainer},i.createElement("div",{className:"sticker-content","aria-hidden":"true"},n),i.createElement("button",{className:Fi.sticker,onClick:r,"aria-label":l.label},i.createElement("span",{className:Fi.backgroundContainer},i.createElement("span",{className:s.Ks.joinClasses([Fi.backgroundWithCutOut,Fi.backgroundWithCutOut,c])}),i.createElement("span",{className:s.Ks.joinClasses([Fi.backgroundTriangle,Fi.backgroundTriangle,d])})),i.createElement("span",{className:Fi.label},t)))},lifecycle:function(e){var t=e.onMountHandler,n=e.onUnmountHandler,r=e.children;return i.useEffect((function(){return t(),function(){return n()}}),[]),i.createElement(i.Fragment,null,r)},globalPartPlaceholder:function(e){var t=e.children;return i.createElement(i.Fragment,null,t)}}},25225:(e,t,n)=>{"use strict";n.d(t,{s:()=>k,A:()=>x});var i=n(50659),r=n(19840),o=n(345),s=n(94386),a=n(27917),l=n(11864);const c=({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H17v2.5a.5.5 0 0 1-1 0V7h-2.5a.5.5 0 0 1 0-1H16V3.5a.5.5 0 0 1 .5-.5ZM6 8.5A2.5 2.5 0 0 1 8.5 6h2a.5.5 0 0 1 0 1h-2A1.5 1.5 0 0 0 7 8.5v7a2.49 2.49 0 0 1 1.5-.5H16v-2.5a.5.5 0 0 1 1 0v3a.5.5 0 0 1-.5.5h-8a1.5 1.5 0 0 0 0 3h8a.5.5 0 0 1 0 1h-8A2.5 2.5 0 0 1 6 17.5v-9Zm2 9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Z",fill:"#646B81"}));c.__brand="color";const d=({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.139 7.684a.5.5 0 0 1 .387-.184h6.948a.5.5 0 0 1 .387.184l2.527 3.104a.5.5 0 0 1-.038.672l-6 5.897a.5.5 0 0 1-.7 0l-6-5.897a.5.5 0 0 1-.038-.672L8.14 7.684Zm.625.816-1.712 2.103h2.115l1.07-2.103H8.764Zm2.595 0-1.07 2.103h3.178L12.611 8.5H11.36Zm2.332 0 .856 2.103h2.401L15.236 8.5h-1.545Zm3.087 3.103h-2.22l-1.296 3.456 3.516-3.456Zm-4.809 4.055 1.52-4.055h-3.257l1.737 4.055Zm-2.825-4.055 1.398 3.263-3.32-3.263h1.922Z",fill:"#646B81"}));d.__brand="color";const u=({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 5a1 1 0 0 0-1 1v1h4V6a1 1 0 0 0-1-1h-2Zm4 2V6a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v1H5a.5.5 0 0 0 0 1h1.54l.809 9.708A2.5 2.5 0 0 0 9.84 20h4.32a2.5 2.5 0 0 0 2.491-2.292L17.461 8H19a.5.5 0 0 0 0-1h-4Zm1.457 1H7.543l.802 9.625A1.5 1.5 0 0 0 9.84 19h4.32a1.5 1.5 0 0 0 1.495-1.375L16.457 8ZM10.5 10a.5.5 0 0 1 .5.5V16a.5.5 0 0 1-1 0v-5.5a.5.5 0 0 1 .5-.5Zm3 0a.5.5 0 0 1 .5.5V16a.5.5 0 0 1-1 0v-5.5a.5.5 0 0 1 .5-.5Z",fill:"#646B81"}));u.__brand="color";const p=({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9ZM6.5 12a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0ZM12 9a.5.5 0 0 1 .5.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2A.5.5 0 0 1 12 9Z",fill:"#646B81"}));p.__brand="color";const m=({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.276 3c-.034.001-.1.02-.173.096l-.643.66 1.165 1.195.665-.682a.207.207 0 0 0 .004-.295l-.382-.392-.505-.517.357-.347-.357.347c-.06-.062-.104-.067-.13-.066Zm-.349 2.667L9.762 4.472l-5.208 5.34v1.21h1.152l5.221-5.355ZM11.224 2c.334-.018.653.112.9.366l.502.515.384.393a1.207 1.207 0 0 1-.004 1.692L6.274 11.87l-.147.151H3.554V9.406l.142-.146 6.69-6.862c.22-.226.513-.38.838-.397ZM2 13.498a.5.5 0 0 1 .5-.5h11.002a.5.5 0 1 1 0 1H2.499a.5.5 0 0 1-.5-.5Z",fill:"#646B81"}));m.__brand="color";const f=({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"m3.714 12 2.11-.88a2.143 2.143 0 0 0 1.319-1.977M12.286 12l-2.11-.88a2.143 2.143 0 0 1-1.319-1.977M6 6.286v1.143a2 2 0 1 0 4 0V6.286a2 2 0 1 0-4 0ZM14 8A6 6 0 1 1 2 8a6 6 0 0 1 12 0Z",stroke:"#646B81"}));f.__brand="color";const h=({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M9.75 11.25a1.5 1.5 0 0 1 1.5-1.5h5.25a1.5 1.5 0 0 1 1.5 1.5v5.25a1.5 1.5 0 0 1-1.5 1.5h-5.25a1.5 1.5 0 0 1-1.5-1.5v-5.25Z",fill:"#5CDAE6"}),i.createElement("path",{d:"M6 7.5A1.5 1.5 0 0 1 7.5 6h5.25a1.5 1.5 0 0 1 1.5 1.5v5.25a1.5 1.5 0 0 1-1.5 1.5H7.5a1.5 1.5 0 0 1-1.5-1.5V7.5Z",fill:"#99F7FF"}),i.createElement("g",{filter:"url(#outcome_plagiarism_a)"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.25 9.75v3a1.5 1.5 0 0 1-1.5 1.5h-3v-3a1.5 1.5 0 0 1 1.5-1.5h3Z",fill:"#79E8F2"})),i.createElement("defs",null,i.createElement("filter",{id:"outcome_plagiarism_a",x:4.75,y:4.75,width:14.5,height:14.5,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),i.createElement("feOffset",null),i.createElement("feGaussianBlur",{stdDeviation:2.5}),i.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.07 0"}),i.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5231_1828"}),i.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5231_1828",result:"shape"}))));h.__brand="nocolor";const g=({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.94 2.629a1.21 1.21 0 0 1 2.12 0l4.774 8.485c.472.838-.118 1.886-1.06 1.886H3.226c-.943 0-1.533-1.048-1.061-1.886L6.939 2.63ZM8 5a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 5Zm0 6.5A.75.75 0 1 0 8 10a.75.75 0 0 0 0 1.5Z",fill:"#D67400"}));function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){v(e,t,n[t])}))}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}g.__brand="nocolor";var k={close:function(e){return i.createElement(a.In.Close,{className:_(e)})},"arrow-right":function(e){return i.createElement(a.In.Arrow,{direction:a.bO.right,className:_(e)})},"arrow-left":function(e){return i.createElement(a.In.Arrow,{direction:a.bO.left,className:_(e)})},gear:function(e){return i.createElement(a.In.Gear,{enforceStroke:!0,width:13,className:_(e)})},dictionary:function(e){return i.createElement(c,{className:_(e)})},clarity:function(e){return i.createElement(a.In.ClarityOutcome,{className:_(e)})},correctness:function(e){return i.createElement(a.In.Correctness,{className:_(e)})},engagement:function(e){return i.createElement(a.In.EngagementOutcome,{className:_(e)})},delivery:function(e){return i.createElement(a.In.DeliveryOutcome,{className:_(e)})},diamond:function(e){return i.createElement(a.In.Paid,{width:20,className:_(e)})},diamondSmall:function(e){return i.createElement(d,(0,r.Ly)(_(e),C.premium))},feedback:function(e){return i.createElement(a.In.AssistantFeedback,{className:_(e)})},sensitivity:function(e){return i.createElement(a.In.Sensitivity,{className:_(e)})},"external-link":function(e){return i.createElement(a.In.ExternalLink,{className:_(e)})},sparkles:function(e){return i.createElement(a.In.Sparkles,{className:_(e)})},ignore:function(e){return i.createElement(u,{className:_(e)})},info:function(e){return i.createElement(a.In.Info,{className:_(e)})},report:function(e){return i.createElement(a.In.Report,{width:12,className:_(e)})},proofreader:function(e){return i.createElement(a.In.Proofread,{width:16,className:_(e)})},mute:function(e){return i.createElement(a.In.Mute,{width:16,className:_(e)})},more:function(e){return i.createElement(a.hh,y(b({},(0,r.Ly)(_(e))),{width:14,viewBox:"0 0 14 4"}),i.createElement("path",{d:"M6.99951 0.5C7.82794 0.5 8.49951 1.17157 8.49951 2C8.49951 2.82843 7.82794 3.5 6.99951 3.5C6.17108 3.5 5.49951 2.82843 5.49951 2C5.49951 1.17157 6.17108 0.5 6.99951 0.5Z",fill:"#6D758D"}),i.createElement("path",{d:"M11.9995 0.5C12.8279 0.5 13.4995 1.17157 13.4995 2C13.4995 2.82843 12.8279 3.5 11.9995 3.5C11.1711 3.5 10.4995 2.82843 10.4995 2C10.4995 1.17157 11.1711 0.5 11.9995 0.5Z",fill:"#6D758D"}),i.createElement("path",{d:"M1.99951 0.5C2.82794 0.5 3.49951 1.17157 3.49951 2C3.49951 2.82843 2.82794 3.5 1.99951 3.5C1.17108 3.5 0.499512 2.82843 0.499512 2C0.499512 1.17157 1.17108 0.5 1.99951 0.5Z",fill:"#6D758D"}))},controls:function(e){return i.createElement(a.hh,{className:_(e),width:24,height:24,viewBox:"0 0 24 24",fill:"none"},i.createElement("path",{d:"M12 5.5H21M3 5.5H7M7 5.5C7 6.32843 7.67157 7 8.5 7C9.32843 7 10 6.32843 10 5.5C10 4.67157 9.32843 4 8.5 4C7.67157 4 7 4.67157 7 5.5ZM3 11.5H12M17 11.5H21M17 11.5C17 12.3284 16.3284 13 15.5 13C14.6716 13 14 12.3284 14 11.5C14 10.6716 14.6716 10 15.5 10C16.3284 10 17 10.6716 17 11.5ZM14 17.5H21M3 17.5H9M9 17.5C9 18.3284 9.67157 19 10.5 19C11.3284 19 12 18.3284 12 17.5C12 16.6716 11.3284 16 10.5 16C9.67157 16 9 16.6716 9 17.5Z",stroke:"#6D758D","stroke-linecap":"round"}))},performance:function(e){return i.createElement(a.In.Performance,{className:_(e)})},"bullet-list":function(e){return i.createElement(a.In.Formatting.BulletList,{className:_(e)})},accept:function(e){return i.createElement(a.In.Yes,{className:_(e)})},copy:function(e){return i.createElement(a.In.Copy,{className:_(e)})},newSmall:function(e){return i.createElement(p,{className:_(e)})},gButtonSmall:function(e){return i.createElement(a.hh,{className:_(e),width:20,height:20,viewBox:"0 0 20 20",fill:"none",stroke:"none"},i.createElement("path",{d:"M0 10C0 4.478 4.477 0 10 0c5.524 0 10 4.477 10 10 0 4.833-3.426 8.864-7.983 9.797-.65.134-1.325.203-2.014.203H0V10Z",fill:"#027E6F"}),i.createElement("path",{d:"M16.92 9.053h-4.506l-1.061 1.838h3.716c-.583 3.197-4.138 5.374-7.691 3.533a4.184 4.184 0 0 1-1.788-1.771c-2.044-3.892.748-7.807 4.433-7.807 1.519 0 2.887.665 3.827 1.72l.952-1.65a6.925 6.925 0 0 0-5.27-1.888c-3.477.24-6.295 3.121-6.464 6.6-.193 3.996 3 7.305 6.952 7.305 3.953 0 6.963-3.124 6.963-6.963 0-.312-.024-.618-.063-.917Z",fill:"#fff"}))},edit:function(e){return i.createElement(m,{className:_(e)})},user:function(e){return i.createElement(f,{className:_(e)})},plagiarism:function(e){return i.createElement(h,{className:_(e)})},questionMark:function(e){return i.createElement(a.In.QuestionMark,{width:12,className:_(e)})},newFeature:function(e){return i.createElement(a.hh,y(b({},(0,r.Ly)(_(e),C.newFeature)),{width:66,height:38,viewBox:"0 0 66 38",fill:"none"}),i.createElement("g",{filter:"url(#filter0_d_162_10246)"},i.createElement("rect",{x:"10.8281",y:"8.33301",width:"45.7239",height:"21.033",rx:"10.5165",fill:"url(#paint0_linear_162_10246)"}),i.createElement("path",{d:"M26.5115 14.5216V22.333H25.2529L21.5722 17.0122H21.5073V22.333H20.0923V14.5216H21.3586L25.0355 19.8462H25.1041V14.5216H26.5115ZM29.7719 22.333V14.5216H34.8524V15.7078H31.187V17.8285H34.5893V19.0147H31.187V21.1468H34.8829V22.333H29.7719ZM39.6585 22.333L37.4539 14.5216H38.9758L40.3832 20.2619H40.4557L41.9585 14.5216H43.343L44.8496 20.2657H44.9183L46.3257 14.5216H47.8476L45.643 22.333H44.247L42.6832 16.852H42.6222L41.0545 22.333H39.6585Z",fill:"#0E101A",stroke:"none"})),i.createElement("path",{d:"M62.6293 10.667L63.4395 12.8567L65.6293 13.667L63.4395 14.4773L62.6293 16.667L61.819 14.4773L59.6293 13.667L61.819 12.8567L62.6293 10.667Z",fill:"white",stroke:"none"}),i.createElement("path",{d:"M57.9672 0L59.3176 3.64955L62.9672 5L59.3176 6.35045L57.9672 10L56.6167 6.35045L52.9672 5L56.6167 3.64955L57.9672 0Z",fill:"white",stroke:"none"}),i.createElement("path",{d:"M4.70349 20.333L5.78385 23.2526L8.70349 24.333L5.78385 25.4134L4.70349 28.333L3.62313 25.4134L0.703491 24.333L3.62313 23.2526L4.70349 20.333Z",fill:"white",stroke:"none"}),i.createElement("defs",null,i.createElement("filter",{id:"filter0_d_162_10246",x:"7.17021",y:"8.33301",width:"49.3818",height:"24.6909",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},i.createElement("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),i.createElement("feMorphology",{radius:"9.14479",operator:"erode",in:"SourceAlpha",result:"effect1_dropShadow_162_10246"}),i.createElement("feOffset",{dx:"-3.65792",dy:"3.65792"}),i.createElement("feGaussianBlur",{stdDeviation:"4.57239"}),i.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),i.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_162_10246"}),i.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_162_10246",result:"shape"})),i.createElement("linearGradient",{id:"paint0_linear_162_10246",x1:"10.8281",y1:"18.8495",x2:"56.5521",y2:"18.8495",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{"stop-color":"#FBEFB7"}),i.createElement("stop",{offset:"1","stop-color":"#F9C7C7"}))))},assistant:function(e){return i.createElement(a.hh,{className:_(e),width:20,height:20,viewBox:"0 0 20 20",fill:"none"},i.createElement("path",{d:"M12 15H14C15.1046 15 16 14.1046 16 13V6.00004C16 4.89547 15.1046 4.00004 14 4.00004L7.00001 4.00001C5.89544 4 5 4.89544 5 6.00001V10",stroke:"#646B81","stroke-linecap":"round"}),i.createElement("path",{d:"M4 13C4 12.4477 4.44772 12 5.00001 12L9.00001 12C9.55229 12 10 12.4478 10 13V15C10 15.5523 9.55228 16 9 16H5C4.44772 16 4 15.5523 4 15V13Z",stroke:"#646B81","stroke-linecap":"round"}))},warning:function(e){return i.createElement(g,{className:_(e)})}},w={width:l.Ks.rem(1.5),height:l.Ks.rem(1.5),minWidth:l.Ks.rem(1.5),minHeight:l.Ks.rem(1.5),borderRadius:l.Ks.rem(1.5)},E={$nest:{"& path":{fill:o.CoreYellow80}}},S={width:l.Ks.rem(4.125),height:l.Ks.rem(2.375)},C=l.Ks.stylesheet({main:[w],premium:[E],newFeature:[S]});function _(e){return void 0===e.backgroundColor?C.main:l.Ks.joinClasses([C.main,x(e.backgroundColor)])}function x(e){var t=A.get(e);if(void 0!==t)return t;var n=l.Ks.style({backgroundColor:o[e]});return A.put(e,n),n}var A=new s.qK(100)},863:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var i=n(50659),r=n(15363);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return function(t){return i.createElement(i.Fragment,null,i.createElement(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){o(e,t,n[t])}))}return e}({},t),s=null!=(s={"aria-describedby":Boolean(t.meta.description)?"".concat(t.id,"-description"):void 0})?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(s)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(s,e))})),n)),Boolean(t.meta.description)&&i.createElement(r.s,{id:"".concat(t.id,"-description")},t.meta.description));var n,s}}},57980:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var i,r=n(69082),o=n(94673),s=n(57797),a=n(47370),l=n(85262);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){var t;(t=e.AlertId||(e.AlertId={})).eq=a.kK,t.show=o.N4,t.from=function(e){return"".concat(e)},function(e){var t;!function(e){e.eq=a.kK,e.show=o.N4,e.from=function(e){return"".concat(e)}}(t=e.Id||(e.Id={}));var n=e.eqId=a.mJ((function(e){return e.id}))(t.eq),i=e.eqContent=a.mJ((function(e){return e.content}))(l.cK.eq),d=e.eqAlerts=a.mJ((function(e){return e.alertIds}))(s.nZ(a.kK)),u=e.eqInvalid=a.mJ((function(e){return Boolean(e.invalid)}))(a.zF),p=e.eq=(0,r.fold)(a.JI())([n,i,d,u]),m=e.show={show:function(e){return"SDUI Item [".concat(Boolean(e.invalid)?"invalid":"valid","] #(").concat(e.id," ").concat(0===e.alertIds.length?"":"with alertIds:"+e.alertIds.join(", "),")")}};e.eqShow=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){c(e,t,n[t])}))}return e}({},p,m)}(e.Item||(e.Item={}))}(i||(i={}))},92490:(e,t,n)=>{"use strict";n.d(t,{u:()=>Q,Z:()=>oe});var i,r,o,s=n(57797),a=n(93629),l=n(30040),c=n(80074),d=n(67947),u=n(96719),p=n(59042),m=n(70057),f=n(44297),h=n(58889),g=n(10047),v=n(22835),b=n(58193),y=n(86562),k=n(36840),w=n(69063),E=n(12486),S=n(57980),C=n(76807),_=n(2365);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(r=i||(i={})).iso=function(){return _.KH()},r.empty=function(){return{sduiQueue:new Map}},r.removeAllBySduiId=function(e){return function(t){return(0,l.pipe)(i.toQueueValuesArray(t),g.pb((function(t){return 0===t.id.indexOf("".concat(e.event.sduiRootId,"_"))})),(function(e){return i.removeItems(e)(t),e}))}},r.removeEarlierItemsBySduiId=function(e){return function(t){return(0,l.pipe)(i.toQueueValuesArray(t),g.pb((function(t){return 0===t.id.indexOf("".concat(e.event.sduiRootId,"_"))&&t.order<e.order})),(function(e){return i.removeItems(e)(t),e}))}},r.addItem=function(e){return function(t){t.sduiQueue.set(e.id,e)}},r.removeItems=function(e){return function(t){e.forEach((function(e){return t.sduiQueue.delete(e.id)}))}},r.toQueueValuesArray=function(e){return Array.from(e.sduiQueue.values())},r.size=function(e){return e.sduiQueue.size},function(e){var t,n,r,o,s=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};(n="QueueCounter")in(t=s)?Object.defineProperty(t,n,{value:0,enumerable:!0,configurable:!0,writable:!0}):t[n]=0,e.show={show:function(e){return Array.from(i.iso().unwrap(e).sduiQueue.entries()).map((function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[0],o=i[1];return"".concat(r," - { id: ").concat(o.id," sduiRootId: ").concat(o.event.sduiRootId,", kind: ").concat(o.event.kind)})).join(";\n")}},r=e.Item||(e.Item={}),function(e){e.from=function(e){return"".concat(e)}}(o=r.Id||(r.Id={})),r.fromEvent=function(e){return{id:o.from("".concat(e.sduiRootId,"_").concat(++s.QueueCounter)),order:s.QueueCounter,event:e}},e.empty=function(){return i.iso().wrap(i.empty())},e.removeAllBySduiId=function(e){return function(t){return(0,l.pipe)(i.iso().unwrap(t),i.removeAllBySduiId(e))}},e.addItem=function(e){return function(t){return(0,l.pipe)(i.iso().unwrap(t),i.addItem(e))}},e.removeItems=function(e){return function(t){return(0,l.pipe)(i.iso().unwrap(t),i.removeItems(e))}},e.removeEarlierItemsBySduiId=function(e){return function(t){return(0,l.pipe)(i.iso().unwrap(t),i.removeEarlierItemsBySduiId(e))}},e.toQueueValuesArray=function(e){return(0,l.pipe)(i.iso().unwrap(e),i.toQueueValuesArray)},e.size=function(e){return(0,l.pipe)(i.iso().unwrap(e),i.size)}}(o||(o={}));var A=n(14018),I=n(3924),K=n(12884),T=n(89769),O=n(41139),M=n(68745),F=n(46669),R=n(42543),B=n(80837),N=n(60269),P=n(15491),D=n(95168),j=n(30396),L=n(90405),U=n(78339),$=n(21662),H=n(83375),V=n(85262),z=n(97997),W=n(36094);function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q,q=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),G(this,"_globalPartsState",c.s.create(new Map)),G(this,"_subs",new B.y.Keeper),G(this,"globalPartsAvailable",this._globalPartsState.view((function(e){return 0!==e.size}))),G(this,"getGlobalPartById",(function(e){return f.fromNullable(n._globalPartsState.get().get(S.W.Item.Id.from(e)))})),this._subs.push(t.pipe(P.T((function(e){return A.k.reduce(new Map,(function(e,t){return"globalPart"===t.content.type&&e.set(t.id,t.content),e}))(e)}))).subscribe(W.H9(this._globalPartsState)))}var t,n;return t=e,(n=[{key:"dispose",value:function(){this._subs.dispose()}}])&&Z(t.prototype,n),e}();function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){X(e,t,n[t])}))}return e}function te(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.create=function(e,t){return{card:e,parentStrongAlertRef:t}},e.isAssistantCardContent=function(e){return"assistantCard"===e.card.type},e.isInlineCardContent=function(e){return"inlineCard"===e.card.type}}(Q||(Q={}));var ie,re,oe=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new z.n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:K.Y(100).pipe(T.Z(0)),_=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O.r,x=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,"alertIdResolver",void 0),X(this,"popoverManager",void 0),X(this,"_sduiEventsBufferNotifier",void 0),X(this,"_sduiEventsBuffer",void 0),X(this,"_state",void 0),X(this,"state",void 0),X(this,"globalPartManager",void 0),X(this,"_unresolvedItemsQueueSize",void 0),X(this,"unresolvedItemsQueueSize",void 0),X(this,"_onAlertsRefEmpty",void 0),X(this,"_removedAlerts",void 0),X(this,"_removedRoot",void 0),X(this,"_switchView",void 0),X(this,"_sessionEvents",void 0),X(this,"_reviseSduiQueue",void 0),X(this,"_flush",void 0),X(this,"_flushViewSwitch",void 0),X(this,"_subs",void 0),X(this,"_log",void 0),X(this,"loadItems",void 0),X(this,"_arrayToDiff",void 0),X(this,"findFirstCardWithContent",void 0),X(this,"notifyAlertsChanged",void 0),X(this,"onSessionStarted",void 0),X(this,"onFirstCheckingFinished",void 0),X(this,"_processEvents",void 0),X(this,"_getAllAlertsIdsFromEvent",void 0),X(this,"_getAlertsIdsFromAlertRef",void 0),X(this,"_getAlertsIdsFromDSL",void 0),X(this,"_resolveAlertIds",void 0),X(this,"_hasAllAlerts",void 0),X(this,"_toInternalDiff",void 0),X(this,"_preserveViewStackForCAPIUpdates",void 0),X(this,"_normalizeSDUIEvents",void 0),X(this,"_toSDUIItem",void 0),X(this,"_emitDomainEvent",void 0),X(this,"_debugLogState",void 0),X(this,"_getBufferObs",void 0),this.alertIdResolver=n,this.popoverManager=i,this._sduiEventsBufferNotifier=r,this._sduiEventsBuffer=_,this._state=c.s.create(I.p.empty),this.state=this._state.view((function(e){return I.p.iso.wrap(e)})),this.globalPartManager=new q(this.state),this._unresolvedItemsQueueSize=new M.t(0),this.unresolvedItemsQueueSize=this._unresolvedItemsQueueSize.pipe(F.F()),this._onAlertsRefEmpty=new R.B7,this._removedAlerts=new R.B7,this._removedRoot=new R.B7,this._switchView=new R.B7,this._sessionEvents=new R.B7,this._reviseSduiQueue=new R.B7,this._flush=new R.B7,this._flushViewSwitch=new R.B7,this._subs=new B.y.Keeper,this._log=w.Bx.Logging.getLogger("SDUIManager",E.$.TRACE,E.I.Manager.getColor()),this.loadItems=function(e){var t=(0,l.pipe)(e,s.jB((function(e){return"popoverStack"===e.content.type}))),n=t.right,i=t.left;n.forEach((function(e){var t=e.content;"popoverStack"===t.type&&x.popoverManager.addPopover(t)})),(0,l.pipe)(i,s.Tj((function(e){return te(ee({},e),{invalid:!0})})),x._arrayToDiff,I.p.applyDiff,d.Tj(u.s.recover((function(e){return x._log.debug("conflicts on diff apply",e)}))),(function(e){return x._state.modify(e)}))},this._arrayToDiff=function(e){return p.b.fromMutation((function(t){return s.Tj((function(e){t.set(e.id,m.pG(e))}))(e)}))},this.findFirstCardWithContent=function(e){return(0,l.pipe)(x.state.get(),A.k.get(e),f.map((function(e){var t=e.content;return V.cK.reduce(t,(function(e,t){return(0,l.pipe)(e,h.fold((function(e){return"strongAlertRef"===t.type?h.left(f.some(t)):"assistantCard"===t.type||"inlineCard"===t.type?h.right(Q.create(t,e)):h.left(e)}),h.right))}),V.cK.TreeTraversal.PreOrder,h.left(f.none))})),f.chain(f.fromEither))},this.notifyAlertsChanged=function(){return x._reviseSduiQueue.next()},this.onSessionStarted=function(){return x._sessionEvents.next(re.Start)},this.onFirstCheckingFinished=function(){return x._sessionEvents.next(re.FirstCheckingFinished)},this._processEvents=function(e){return function(t,n){var i=(0,l.pipe)(n,h.fold((function(n){return(0,l.pipe)(o.toQueueValuesArray(t),g.pb(e))}),(function(n){if(n.kind===H.Q.SduiEventKind.Remove){x._log.debug("[IN - ".concat(n.kind,", {id: ").concat(n.sduiRootId,"}] removeAllBySduiId"));var i=o.Item.fromEvent(n);return o.removeAllBySduiId(i)(t),[i]}var r=o.Item.fromEvent(n);return e(r)?(x._log.debug("[IN - ".concat(r.event.kind," {sduiRootId: ").concat(r.event.sduiRootId,", id: ").concat(r.id," refs: ").concat(JSON.stringify(V.cK.getAlertIds(r.event.sdui)),"}, ] hasAllAlerts")),[r]):(o.addItem(r)(t),x._log.debug("[IN - ".concat(r.event.kind," {sduiRootId: ").concat(r.event.sduiRootId,", id: ").concat(r.id," refs: ").concat(JSON.stringify(V.cK.getAlertIds(r.event.sdui)),"}] add to queue, [queue]: ").concat(o.show.show(t))),[])})),(function(e){return x._log.debug("[completeItems] ".concat(e.map((function(e){return e.id})).join(", "),", [queue]: ").concat(o.show.show(t))),o.removeItems(e)(t),e.forEach((function(e){return o.removeEarlierItemsBySduiId(e)(t)})),e}),g.Tj(v.Up("event")));return te(ee({},t),{completeEvents:i})}},this._getAllAlertsIdsFromEvent=function(e,t){return(0,l.flow)((function(e){return e.sdui}),x._getAlertsIdsFromDSL(e,t))},this._getAlertsIdsFromAlertRef=function(e,t){return function(n){return(0,l.pipe)(n,V.cK.getAlertIds,b.jw((function(){return t===ie.Silent?{}:x._log.debug("Provided SDUI dsl doesn't contain alertIds array. StrongAlertRef: ".concat(JSON.stringify({id:n.id,type:n.type,name:n.name,alertIds:n.alertIds})))})),f.fold((function(){return[]}),l.identity),x._resolveAlertIds(e,t))}},this._getAlertsIdsFromDSL=function(e,t){return function(n){return(0,l.pipe)(n,V.cK.getAllAlertIds,(function(e){return Array.from(new Set(e))}),(function(e){return s.Im(e)?(x._log.trace("Provided SDUI dsl doesn't contain any alertIds references. DSL id: ".concat(n.id)),e):e}),x._resolveAlertIds(e,t))}},this._resolveAlertIds=function(e,t){return function(n){return(0,l.pipe)(n,s.Tj((function(n){return(0,l.pipe)(S.W.AlertId.from(n),e,b.jw((function(){return t===ie.Silent?{}:x._log.error("Alert with raw id ".concat(n,", can not be found. It was either deleted or was not added yet."))})))})),s.K2(f.option))}},this._hasAllAlerts=function(e,t){return(0,l.flow)(x._getAllAlertsIdsFromEvent(e,t),f.isSome)},this._toInternalDiff=function(e){return function(t){var n=ne(t,2),i=n[0],r=n[1],o=I.p.MutableInternalDiff.empty();return(0,l.pipe)(i,a.TS(o,(function(t,n){return n.kind===H.Q.SduiEventKind.Remove?x._handleSDUIRemove(n,r,t):(0,l.pipe)(x._getAllAlertsIdsFromEvent(e,ie.Silent)(n),f.map(x._toSDUIItem(n)),f.fold((function(){return x._log.trace(se.internalDiffParsingError([V.cK.getAllAlertIds(n.sdui).join(", "),n.sduiRootId]))}),(function(e){var i=n.kind;switch(i){case H.Q.SduiEventKind.Add:x._handleSDUIAdd(e,n.rev,r,t);break;case H.Q.SduiEventKind.Update:x._handleSDUIUpdate(e,r,t);break;default:(0,y.xb)(i)}})),(function(e){return t}))})))}},this._preserveViewStackForCAPIUpdates=function(e){return(0,l.pipe)(e,a.Tj((function(e){return e.kind!==H.Q.SduiEventKind.Update||e.source!==C.BG.CAPI?e:C.GX.of(e.sduiRootId,e.source,e.rev)(f.fold((function(){return f.some(e.sdui)}),(0,l.flow)(V.cK.toContentMap,(function(t){return(0,l.pipe)(t,Object.values,g.x1((function(e){var t=e.content;return"viewStack"===t.type?f.some({type:"switchView",where:t.id,selected:t.selected}):f.none})),(function(n){return V.cK.bulkSwitchView(e.sdui,n,t)}))}),f.some)))})))},this._normalizeSDUIEvents=function(e){var t=ne(e,2),n=t[0],i=t[1];return(0,l.pipe)(n,s.x1((function(e){return"sdui_lazy_update"!==e.kind?f.some(e):x._handleSDUILazyUpdate(e,i)})))},this._toSDUIItem=function(e){return function(t){return{id:S.W.Item.Id.from(e.sduiRootId),content:e.sdui,alertIds:t}}},this._emitDomainEvent=function(e){x._log.debug("internalDiff",I.p.InternalDiff.show.show(e)),(0,l.pipe)(e,I.p.createDiff,u.s.recover((function(e){return x._log.debug("conflicts on diff creating",e)})),(function(e){return x._log.debug("SDUIItemsCollectionDiff",I.p.diffShow.show(e)),e}),I.p.applyDiff,d.Tj(u.s.recover((function(e){return x._log.debug("conflicts on diff apply",e)}))),(function(e){return x._state.modify(e)}))},this._debugLogState=function(e){return x._log.debug("[SDUIManagerState] (SDUIItemsCollection)","_latestChangeDiff: ".concat(I.p.diffShow.show(e.latestChangeDiff),",\n _entriesIds: ").concat(I.p.InternalDiff.showMapKeys.show(e.entries),"}"))},this._getBufferObs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K.Y(100).pipe(T.Z(0));return{bufferObsForSDUIEvents:N.h(e,x._flush),bufferObsForViewSwitchEvents:N.h(K.Y(100).pipe(T.Z(0)),x._flushViewSwitch)}},this._subs.push(this.globalPartManager);var W=t.pipe(P.T(C.nK.fromSource(C.BG.CAPI))),Z=this._getBufferObs(this._sduiEventsBufferNotifier),G=Z.bufferObsForSDUIEvents,J=Z.bufferObsForViewSwitchEvents,Y=(0,C.cY)(this._removedAlerts.asObservable(),this._removedRoot.asObservable(),this.state,this._switchView.asObservable(),this.popoverManager,this.globalPartManager,this._log,J),oe=Y.emptyAlertsRefReasonTuple,ae=Y.optimisticRemoveSDUIEvent,le=Y.emptyStrongAlertRefUpdate,ce=Y.viewStackUpdates,de=Y.activePopoverUpdates,ue=Y.globalPartPlaceholderUpdates,pe=N.h(W,ae,le).pipe(D.M((function(e){return x._log.debug("Received SDUI event: ".concat(C.nK.show.show(e)," from: ").concat(e.source))})),j.S((function(e,t){var n=t.source;switch(n){case C.BG.RemoveAlertsSDUIAction:case C.BG.RemoveRootSDUIAction:case C.BG.RemoveDuplicate:case C.BG.TextChange:return t.kind===H.Q.SduiEventKind.Remove&&e.optRemovedSDUIRootIds.add(t.sduiRootId),te(ee({},e),{event:f.some(t)});case C.BG.CAPI:return(0,l.pipe)(t,f.fromPredicate((function(t){return e.optRemovedSDUIRootIds.has(t.sduiRootId)})),b.Mi((function(t){return e.optRemovedSDUIRootIds.delete(t.sduiRootId)})),f.chain(f.fromPredicate((0,k.Ub)(C.F9,C.Kq))),f.fold((function(){return te(ee({},e),{event:f.some(t)})}),(function(t){return t.kind===H.Q.SduiEventKind.Remove?te(ee({},e),{event:f.none}):te(ee({},e),{event:f.some(te(ee({},t),{kind:H.Q.SduiEventKind.Add}))})})));case C.BG.SwitchView:return te(ee({},e),{event:f.some(t)});default:(0,y.xb)(n)}}),{optRemovedSDUIRootIds:new Set,event:f.none}),P.T(v.Up("event")),L.oE,P.T(h.right)),me=(0,l.flow)(v.Up("event"),this._hasAllAlerts(this.alertIdResolver,ie.Silent)),fe=N.h(pe,this._reviseSduiQueue.pipe(P.T(h.left))).pipe(j.S(this._processEvents(me),te(ee({},o.empty()),{completeEvents:[]})),D.M((function(e){return x._unresolvedItemsQueueSize.next(o.size(e))})),P.T(v.Up("completeEvents"))),he=N.h(fe,ce,de,ue).pipe(this._sduiEventsBuffer(G),P.T((function(e){return s.Bq(e)})),U.p(s.J_)).pipe(P.T(this._preserveViewStackForCAPIUpdates),$.E(this._state),P.T(this._normalizeSDUIEvents),U.p(s.J_)),ge=this._sessionEvents.pipe(U.p((function(e){return e===re.Start})),$.E(this._state),P.T((function(e){var t=ne(e,2);return t[0],t[1]})),U.p((function(e){return e.entries.size>0})),P.T(I.p.MutableInternalDiff.fromState((function(e,t){var n=te(ee({},t),{invalid:!0});return S.W.Item.eq.equals(t,n)||e.updated.set(t.id,[t,n]),e})))),ve=this._sessionEvents.pipe(U.p((function(e){return e===re.FirstCheckingFinished})),$.E(this._state),P.T((function(e){var t=ne(e,2);return t[0],t[1]})),U.p((function(e){return e.entries.size>0})),P.T(I.p.MutableInternalDiff.fromState((function(e,t){var n;return null!==(n=t.invalid)&&void 0!==n&&n&&e.removed.set(t.id,t),e})))),be=N.h(ge,ve);this._subs.push(this._state.pipe(D.M(this._debugLogState)).subscribe(),oe.subscribe((function(e){var t=ne(e,1)[0];return x._onAlertsRefEmpty.next(t)})),he.pipe($.E(this._state),P.T(this._toInternalDiff(this.alertIdResolver)),U.p((0,l.not)(I.p.InternalDiff.isEmpty)),P.T(this._emitDomainEvent)).subscribe(),be.subscribe(this._emitDomainEvent))}var t,n;return t=e,(n=[{key:"onAlertsRefEmpty",get:function(){return this._onAlertsRefEmpty.asObservable()}},{key:"pushRemovedRoot",value:function(e){this._removedRoot.next(e)}},{key:"pushRemovedAlerts",value:function(e){this._removedAlerts.next(e)}},{key:"pushSwitchView",value:function(e){this._switchView.next(e)}},{key:"flush",value:function(){this._flush.next(),this._flushViewSwitch.next(),this._flush.next()}},{key:"resolveStrongAlertRefAlerts",value:function(e){var t=this;return(0,l.pipe)(this._getAlertsIdsFromAlertRef(this.alertIdResolver,ie.Error)(e),b.jw((function(){return t._log.debug("Alert ids from the provided component were not removed, because AlertIds for the provided DSL was not resolved. SDUI content ".concat(JSON.stringify({id:e.id,type:e.type,name:e.name,alertIds:e.alertIds})))})))}},{key:"_handleSDUIAdd",value:function(e,t,n,i){var r=this;return"popoverStack"===e.content.type?(this.popoverManager.addPopover(e.content,t),I.p.MutableInternalDiff.empty()):((0,l.pipe)(n,I.p.get(e.id),f.fold((function(){if((0,y.V1)(!i.updated.has(e.id),"SDUI item can not be in the diff.updated until it gets to the collection",(function(){return I.p.InternalDiff.show.show(i)+I.p.diffShow.show(I.p.diff(I.p.empty,n))})),i.removed.has(e.id))return r._log.trace(se.actionOnRemovedItem([e.id,"added"]));i.added.set(e.id,e)}),(function(t){if((0,y.V1)(!i.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection",(function(){return I.p.InternalDiff.show.show(i)+I.p.diffShow.show(I.p.diff(I.p.empty,n))})),i.removed.has(e.id))return r._log.trace(se.actionOnRemovedItem([e.id,"added"]));i.updated.set(e.id,[t,e])}))),i)}},{key:"_handleSDUIUpdate",value:function(e,t,n){var i=this;return(0,l.pipe)(t,I.p.get(e.id),f.fold((function(){return(0,y.V1)(!n.updated.has(e.id),"SDUI item can not be in the diff.updated until it gets to the collection"+I.p.InternalDiff.show.show(n)+I.p.diffShow.show(I.p.diff(I.p.empty,t))),n.removed.has(e.id)?i._log.trace(se.actionOnRemovedItem([e.id,"updated"])):n.added.has(e.id)?(i._log.trace(se.updateIdMissingFound([e.id])),void n.added.set(e.id,e)):i._log.error(se.updateIdMissingNotFound([e.id]))}),(function(r){return(0,y.V1)(!n.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection"+I.p.InternalDiff.show.show(n)+I.p.diffShow.show(I.p.diff(I.p.empty,t))),n.removed.has(e.id)?i._log.trace(se.actionOnRemovedItem([e.id,"update"])):S.W.Item.eq.equals(r,e)?i._log.trace(se.updateItemsAreEqual([e.id])):void n.updated.set(e.id,[r,e])}))),n}},{key:"_handleSDUIRemove",value:function(e,t,n){var i=this,r=S.W.Item.Id.from(e.sduiRootId);return this.popoverManager.removePopover(r,e.rev),(0,l.pipe)(t,I.p.get(r),f.fold((function(){if((0,y.V1)(!n.updated.has(r),"SDUI item can not be in the diff.updated until it gets to the collection"+I.p.InternalDiff.show.show(n)+I.p.diffShow.show(I.p.diff(I.p.empty,t))),!n.added.has(r))return i._log.trace(se.removeIdMissingNotFound([r]));i._log.trace(se.removeIdMissingFound([r])),n.added.delete(r)}),(function(e){(0,y.V1)(!n.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection"+I.p.InternalDiff.show.show(n)+I.p.diffShow.show(I.p.diff(I.p.empty,t))),n.updated.delete(r)?i._log.trace(se.idRemovedFrom([r,"diff.updated"])):(0,l.constVoid)(),n.removed.set(r,e)}))),n}},{key:"_handleSDUILazyUpdate",value:function(e,t){var n=this;return(0,l.pipe)(t,I.p.get(e.sduiRootId),b.jw((function(){return n._log.trace("SDUI Item with sduiRootId ".concat(e.sduiRootId,"  was not found"))})),f.fold((function(){return e.toContent(f.none)}),(function(t){var i=t.content;return(0,l.pipe)(e.toContent(f.some(i)),f.filter((function(e){return!V.cK.eq.equals(e,i)})),b.jw((function(){return n._log.trace("SDUI Update event ".concat(JSON.stringify(e)," will be skipped, because the new DSL is the same as an old one"))})))})),f.map((function(t){return{kind:H.Q.SduiEventKind.Update,sdui:t,sduiRootId:H.Q.RawSduiItem.Id.create(e.sduiRootId),rev:e.rev,source:e.source}})))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&Y(t.prototype,n),e}(),se={removeIdMissingFound:function(e){var t=ne(e,1)[0];return"[Remove] SDUI item with ID ".concat(t," was found in the added messages. Removing it.")},removeIdMissingNotFound:function(e){var t=ne(e,1)[0];return"[Remove] It is not possible to remove SDUI item with ID ".concat(t,". It is missing from SDUIItemsCollectionInternal and diff.add, probably it was deleted earlier. Skipping the message")},idRemovedFrom:function(e){var t=ne(e,2),n=t[0],i=t[1];return"[Remove] SDUI item with ID ".concat(n," is going to be removed. ").concat(i," contains the item with ID ").concat(n," too. Remove ").concat(n," from ").concat(i)},actionOnRemovedItem:function(e){var t=ne(e,2),n=t[0],i=t[1];return"[".concat(i,"] It is not possible to ").concat(i," SDUI item with ID ").concat(n,". Because it was already removed. Skipping the ").concat(i,".")},viewStackUpdateIdMissing:function(e){var t=ne(e,1)[0];return"[ViewStackUpdate] SDUI item with ID ".concat(t," was found. Skipping the update.")},updateIdMissingFound:function(e){var t=ne(e,1)[0];return"[Update] SDUI item with ID ".concat(t," was found in added messages. Updating it in added messages")},updateIdMissingNotFound:function(e){var t=ne(e,1)[0];return"[Update] It is not possible to update SDUI item with ID ".concat(t,". It is missing from SDUIItemsCollectionInternal and diff.added, probably it was deleted earlier. Skipping the message")},updateItemsAreEqual:function(e){var t=ne(e,1)[0];return"[Update] Received sdui item (sduiId: ".concat(t,") is the same as in the state. Skipping the update message")},internalDiffMissingAlertsIds:function(){return"missing AlertIDs"},internalDiffParsingError:function(e){var t=ne(e,2),n=t[0],i=t[1];return"toInternalDiff, either can not resolve ".concat(n," for ").concat(i," or id of the sdui item is missing . The item will be skipped")}};!function(e){e.Silent="Silent",e.Error="Error"}(ie||(ie={})),function(e){e.Start="Start",e.FirstCheckingFinished="FirstCheckingFinished"}(re||(re={}))},76807:(e,t,n)=>{"use strict";n.d(t,{nK:()=>U,GX:()=>H,BG:()=>$,cY:()=>j,Kq:()=>z,F9:()=>V});var i,r,o,s,a,l,c=n(93629),d=n(57797),u=n(98423),p=n(30040),m=n(10047),f=n(44297),h=n(21662),g=n(95168),v=n(15491),b=n(6987),y=n(41797),k=n(11298),w=n(78339),E=n(60269),S=n(41139),C=n(38427),_=n(52869),x=n(83375),A=n(85262),I=n(57980),K=n(14018),T=n(2365),O=n(58193),M=n(52804);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o=(s=i||(i={})).EmptyMessage||(s.EmptyMessage={})).fromItem=function(e){return e.alertIds,function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["alertIds"])},o.show={show:function(e){var t=e.sduiId,n=e.sduiRootId;return JSON.stringify({sduiId:t,sduiRootId:n})}},(s.EmptyItem||(s.EmptyItem={})).isRootItem=function(e){return e.sduiId===e.sduiRootId},function(e){e.fromSDUI=function(e){return function(i){return A.cK.reduce(i.content,(function(r,o){return(0,p.pipe)(r,f.chain((function(t){return(0,p.pipe)(o,A.cK.getAlertIds,f.chain(e),f.map(n(t)),f.alt((function(){return r})))})),f.alt((function(){return(0,p.pipe)(o,A.cK.getAlertRefs,f.chain(t(i.id,e)))})))}),A.cK.TreeTraversal.PreOrder,f.none)}};var t=function(e,t){return function(i){return i.reduce((function(i,r){return(0,p.pipe)(i,f.map((function(e){return(0,p.pipe)(r.alertIds,t,f.fold((function(){return e}),n(e)))})),f.alt((function(){return f.some({emptyStrongAlertRef:r,sduiId:e,sduiRootId:e,alertIds:new Set((0,p.pipe)(r.alertIds,t,f.getOrElse((0,p.constant)(m.Ie))))})})))}),f.none)}},n=(e.fromStrongAlertRef=function(e){return function(t,n){return(0,p.pipe)(e(t.alertIds),f.map((function(e){return{sduiRootId:n,sduiId:I.W.Item.Id.from(t.id),emptyStrongAlertRef:t,alertIds:new Set(e)}})))}},e.fromStrongAlertRefBehavior=function(e){return function(t,n,i){return(0,p.pipe)(e(t.alertIds),f.map((function(e){return{sduiRootId:i,sduiId:n,emptyStrongAlertRef:t,alertIds:new Set(e)}})))}},e.show={show:function(e){return"StrAlertRef.Item: { sduiId: ".concat(e.sduiId,", sduiRootId: ").concat(e.sduiRootId,", alertIds: [").concat(Array.from(e.alertIds.values()).join(", "),"]}")}},e.addAlertIds=function(e){return function(t){return t.forEach((function(t){return e.alertIds.add(t)})),e}})}(a=s.Item||(s.Item={})),function(e){e.iso=T.KH(),e.empty=function(){return{alertRefMapping:new Map}},e.size=function(e){return e.alertRefMapping.size},e.show={show:function(e){return Array.from(e.alertRefMapping.entries()).map((function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[0],o=i[1];return"".concat(r,": [\n").concat(o.map(a.show.show).join("\n"),"\n]")})).join("\n")}};var t=function(e){return function(t){return(0,p.pipe)(t.alertRefMapping.get(e),f.fromNullable)}},n=(e.get=function(e){return function(n){return(0,p.pipe)(t(e)(n),f.map(m.Tj((function(e){return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){R(e,t,n[t])}))}return e}({},e),n=null!=(n={alertIds:new Set(e.alertIds)})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t;var t,n}))))}},e.updateWithRemovedAlerts=function(e){return function(n){return(0,p.pipe)(e,d.cy((function(e){return(0,p.pipe)(n,t(e),f.map(m.pb((function(t){return t.alertIds.delete(e)&&0===t.alertIds.size}))),f.fold((function(){return[]}),(function(t){return n.alertRefMapping.delete(e),t.map(i.EmptyMessage.fromItem)})))})))}},e.add=function(e,t){return function(i){M.wM.isStrongAlertRefBehavior(e.emptyStrongAlertRef)?(0,p.pipe)(a.fromStrongAlertRefBehavior(t)(e.emptyStrongAlertRef,e.sduiId,e.sduiRootId),O.Mi(n(i))):A.cK.forEach(e.emptyStrongAlertRef,(0,p.flow)(function(e,t){return function(n){return(0,p.pipe)(n,A.cK.getAlertRefs,f.fold((0,p.constant)(d.Ie),d.x1((function(i){return M.wM.isStrongAlertRefBehavior(i)?a.fromStrongAlertRefBehavior(t)(i,I.W.Item.Id.from(n.id),e):a.fromStrongAlertRef(t)(i,e)}))))}}(e.sduiRootId,t),m.Tj(n(i))),A.cK.TreeTraversal.PostOrder)}},function(e){var t=r(e);return function(e){e.alertIds.forEach((function(n){return t(n,[e])}))}}),r=function(e){return function(t,n){var i=e.alertRefMapping.get(t);e.alertRefMapping.set(t,null!=i?i.concat(n):n)}};e.remove=function(e){return function(n){return(0,p.pipe)(Array.from(e.alertIds.keys()),m.TS(new Array,(function(i,o){return(0,p.pipe)(n,t(o),f.map(m.pb((function(t){return t.sduiRootId!==e.sduiRootId}))),f.fold((function(){i.push("failed to remove SDUI by alertId ".concat(o,", alertRefMapping doesn't contain alertId ").concat(o))}),(function(e){return function(e){return function(t,n){0===n.length?e.alertRefMapping.delete(t):r(e)(t,n)}}(n)(o,e)}))),i})))}}}(l||(l={})),(r=s.Collection||(s.Collection={})).empty=function(){return l.iso.wrap(l.empty())},r.size=function(e){return(0,p.pipe)(l.iso.unwrap(e),l.size)},r.show={show:function(e){return(0,p.pipe)(l.iso.unwrap(e),l.show.show)}},r.get=function(e){return function(t){return(0,p.pipe)(l.iso.unwrap(t),l.get(e))}},r.add=function(e,t){return function(n){return(0,p.pipe)(l.iso.unwrap(n),l.add(e,t))}},r.remove=function(e){return function(t){return(0,p.pipe)(l.iso.unwrap(e),l.remove(t))}},r.updateWithRemovedAlerts=function(e){return function(t){return(0,p.pipe)(l.iso.unwrap(t),l.updateWithRemovedAlerts(e))}};var D=(0,p.flow)(m.Tj(I.W.AlertId.from),f.some),j=function(e,t,n,r,o,s,a,l){var T=e.pipe(h.E(n),g.M((function(e){var t=P(e,1),n=P(t[0],2),i=n[0],r=n[1];a.trace("[Optimistic update] emptyAlertsRefReasonTuple > Removed alerts. Reason: ".concat(r,", removedAlertIds: [").concat(i.join(", "),"]"))})),v.T((function(e){var t=P(e,2),n=P(t[0],2),r=n[0],o=n[1],s=t[1];return[(0,p.pipe)(s,L(a),i.Collection.updateWithRemovedAlerts(r)),o]})),g.M((function(e){var t=P(e,2),n=t[0],r=t[1];return a.trace("[Optimistic update] emptyAlertsRefReasonTuple > Reason: ".concat(r," found emptyAlertsRef: [").concat(n.map(i.EmptyMessage.show.show).join(", "),"]"))})),b.n((function(e){var t=P(e,2),n=t[0],i=t[1];return(0,p.pipe)(n,d.Tj((function(e){return[e,i]})),(function(e){return y.H(e)}))})),k.u()),O=T.pipe(w.p((function(e){var t=P(e,1)[0];return i.EmptyItem.isRootItem(t)})),v.T((function(e){var t=P(e,2),n=t[0],i=t[1];return U.toRemovedEvent(i)(x.Q.RawSduiItem.Id.create(n.sduiRootId))}))),M=t.pipe(v.T((function(e){var t=P(e,2),n=t[0],i=t[1];return U.toRemovedEvent(i)(x.Q.RawSduiItem.Id.create(n))}))),F=E.h(O,M),R=T.pipe(w.p((function(e){var t=P(e,1)[0];return!i.EmptyItem.isRootItem(t)})),h.E(n),v.T((function(e){var t=P(e,2),n=P(t[0],2),i=n[0],r=n[1],o=t[1],s=x.Q.RawSduiItem.Id.create(i.sduiRootId);return(0,p.pipe)(K.k.get(I.W.Item.Id.from(i.sduiRootId))(o),f.chain((function(e){return A.cK.removeStrongAlertRef(e.content)([i.emptyStrongAlertRef])})),f.fold((function(){return U.toRemovedEvent(r)(x.Q.RawSduiItem.Id.create(i.sduiRootId))}),(function(e){return U.toUpdatedEvent(r)(e,s)})))})));return{emptyAlertsRefReasonTuple:T,optimisticRemoveSDUIEvent:F,emptyStrongAlertRefUpdate:R,viewStackUpdates:r.pipe(S.r(l),w.p(m.J_),v.T((0,p.flow)(c.$z((function(e){return e.sduiRootId})),u.h3,d.Tj((function(e){var t=P(e,2),n=t[0],i=t[1];return i.forEach((function(e){return o.switchView(e)})),H.of(n,"switchView")(f.chain((function(e){return(0,p.pipe)(A.cK.bulkSwitchView(e,i.map((function(e){return{where:e.where,selected:e.selected,type:"switchView"}}))),f.some)})))}))))),activePopoverUpdates:C.zV([o.activePopoverView.pipe(_.j(f.isNone)),n.pipe(v.T(K.k.sduiRoots()))]).pipe(v.T((function(e){var t=P(e,2),n=t[0];return t[1].map((function(e){return H.of(e,"switchView")(f.chain((function(e){return A.cK.setPopoverView(e,n)})))}))}))),globalPartPlaceholderUpdates:s.globalPartsAvailable.pipe(w.p(p.identity),b.n((function(){return n})),v.T(K.k.sduiRoots()),v.T((function(e){return e.map((function(e){return H.of(e,"capi")(f.chain((function(e){return A.cK.setGlobalPartPlaceholderContent(e,s.getGlobalPartById)})))}))})))}};function L(e){return K.k.reduce(i.Collection.empty(),(function(t,n){return(0,p.pipe)(i.Item.fromSDUI(D)(n),f.fold((function(){return e.trace("SDUI item ".concat(I.W.Item.show.show(n)," does not contain AlertRef, skipping it"))}),(function(e){return i.Collection.add(e,D)(t)})),(function(e){return t}))}))}var U,$,H,V=function(e){return e.kind==x.Q.SduiEventKind.Update},z=function(e){return e.kind==x.Q.SduiEventKind.Remove};!function(e){e.fromSource=function(e){return function(t){return function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){N(e,t,n[t])}))}return e}({},t),{source:e})}},e.toRemovedEvent=function(e){return function(t){return{kind:x.Q.SduiEventKind.Remove,sduiRootId:t,source:e,rev:0}}},e.toUpdatedEvent=function(e){return function(t,n){return{kind:x.Q.SduiEventKind.Update,sdui:t,sduiRootId:n,source:e,rev:0}}},e.show={show:function(e){return"SduiRootId: ".concat(e.sduiRootId,", Kind: ").concat(e.kind,", Source: ").concat(e.source)}}}(U||(U={})),function(e){e.CAPI="capi",e.TextChange="textChange",e.RemoveAlertsSDUIAction="removeAlerts",e.RemoveRootSDUIAction="removeRoot",e.RemoveDuplicate="removeDuplicate",e.SwitchView="switchView"}($||($={})),function(e){e.of=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(i){return{kind:"sdui_lazy_update",toContent:i,sduiRootId:I.W.Item.Id.from(e),rev:n,source:t}}}}(H||(H={}))},97997:(e,t,n)=>{"use strict";n.d(t,{n:()=>u});var i=n(80074),r=n(44297),o=n(86562),s=n(50422),a=n(30040),l=n(85262);function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"activePopoverStack",void 0),d(this,"activePopoverView",void 0),d(this,"_state",void 0),this._state=i.s.create({dsl:r.none,revision:-1}),this.activePopoverStack=this._state.view("dsl"),this.activePopoverView=this.activePopoverStack.view(r.chain((function(e){return r.fromNullable(e.views[e.selected])})))}var t,n;return t=e,(n=[{key:"getInteractionActions",value:function(e,t,n){return(0,a.pipe)(this._state.get(),(function(e){return e.dsl}),r.filter((function(n){return n.id===e&&n.selected===t})),r.map((function(e){return e.views[e.selected]})),r.fold((function(){return[]}),(function(e){switch(n){case s.gm.Fulfill:return e.onFulfill||[];case s.gm.Dismiss:return e.onDismiss||[];default:(0,o.AS)(n)}})))}},{key:"addPopover",value:function(e,t){this._state.modify((function(n){var i=void 0!==t&&n.revision>t,o=void 0!==t&&n.revision===t,s=(0,a.pipe)(n.dsl,r.exists((function(t){return t.id===e.id}))),l=!r.isNone(n.dsl);return i||s||o&&l?n:{dsl:r.some(e),revision:null!=t?t:n.revision}}))}},{key:"removePopover",value:function(e,t){this._state.modify((function(n){var i=void 0!==t&&n.revision>t,o=(0,a.pipe)(n.dsl,r.exists((function(t){return t.id===e})));return i||!o?n:{dsl:r.none,revision:null!=t?t:n.revision}}))}},{key:"switchView",value:function(e){this._state.modify((function(t){return(0,a.pipe)(t.dsl,r.filter((function(t){return t.id===e.sduiRootId})),r.map((function(t){return l.cK.bulkSwitchView(t,[{where:e.where,selected:e.selected,type:"switchView"}])})),r.filter((function(e){return"popoverStack"===e.type})),r.fold((function(){return t}),(function(e){return{dsl:r.some(e),revision:t.revision}})))}))}}])&&c(t.prototype,n),e}()},14018:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var i,r=n(94673),o=n(30040),s=n(59042),a=n(57980),l=n(3924);!function(e){var t;(t=e.Diff||(e.Diff={})).show=s.b.getShow(r.N4,a.W.Item.show),t.empty=s.b.empty,e.empty=l.p.iso.wrap(l.p.empty),e.get=function(e){return(0,o.flow)(l.p.iso.unwrap,l.p.get(e))},e.reduce=function(e,t){return(0,o.flow)(l.p.iso.unwrap,l.p.reduce(e,t))},e.diff=function(e,t){return l.p.diff(l.p.iso.unwrap(e),l.p.iso.unwrap(t))},e.isEmpty=function(e){return 0===l.p.iso.unwrap(e).entries.size},e.find=function(e){return(0,o.flow)(l.p.iso.unwrap,l.p.find(e))},e.size=function(){return(0,o.flow)(l.p.iso.unwrap,l.p.size)},e.sduiRoots=function(){return(0,o.flow)(l.p.iso.unwrap,(function(e){return Array.from(e.entries.keys())}))}}(i||(i={}))},3924:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var i,r,o,s,a,l,c,d,u,p=n(30040),m=n(2365),f=n(44297),h=n(23121),g=n(74816),v=n(58889),b=n(59042),y=n(70057),k=n(57980);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n){return{entries:e,latestChangeDiff:t,diffVersion:n+1}}r=i||(i={}),c=function(e,t){return function(n){return Array.from(n.entries.values()).reduce((function(e,n){return t(e,n)}),e)}},d=function(e,t){return g.H_(k.W.Item.eq)(e,t)},u=function(e){var t=e.added,n=void 0===t?new Map:t,i=e.updated,r=void 0===i?new Map:i,o=e.removed,s=void 0===o?new Map:o,a=new Map,l=b.b.fromMutation((function(e){s.forEach((function(t,n){e.set(n,y.kb(t))})),n.forEach((function(t,n){e.has(n)?a.set(n,"sdui item add overlaps with sdui item remove: toAdd(".concat(k.W.Item.show.show(t)," overlapWith(").concat(y.cs(k.W.Item.show,k.W.Item.show).show(e.get(n)),"))")):e.set(n,y.pG(t))})),r.forEach((function(t,n){var i,r,o=(r=2,function(e){if(Array.isArray(e))return e}(i=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(i,r)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],l=o[1];e.has(n)?a.set(n,"sdui item update overlaps with unexpected sdui item add/remove: toUpdate(".concat(k.W.Item.show.show(l),") overlapWith(").concat(y.cs(k.W.Item.show,k.W.Item.show).show(e.get(n)),"))")):e.set(n,y.WP(s,l))}))}));return a.size>0?v.left({recovered:l,rejected:a}):v.right(l)},r.iso=m.KH(),r.empty={entries:new Map,latestChangeDiff:b.b.empty(),diffVersion:0},r.get=function(e){return function(t){return f.fromNullable(t.entries.get(e))}},r.find=function(e){return c(f.none,(function(t,n){return(0,p.pipe)(t,f.alt((function(){return f.fromPredicate(e)(n)})))}))},r.reduce=c,r.size=function(e){return e.entries.size},r.diff=function(e,t){return 0===e.diffVersion?h.$v(u({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:d(e.entries,t.entries)},r.diffFromEntries=d,r.applyDiff=function(e){return function(t){var n=g.bt(g.n.createStrict(k.W.Item.eqShow),t.entries,e);return(0,p.pipe)(n,v.bimap((function(n){var i=b.b.fromMutation((function(t){(0,p.pipe)(e,b.b.forEach((function(e,i){return!n.rejected.has(i)&&t.set(i,y.kb(e))}),(function(e,i,r){return!n.rejected.has(r)&&t.set(r,y.WP(e,i))}),(function(e,i){return!n.rejected.has(i)&&t.set(i,y.pG(e))})))}));return{recovered:S(n.recovered,i,t.diffVersion),rejected:n.rejected}}),(function(n){return S(n,e,t.diffVersion)})))}},r.applyDiffLoose=function(e){return function(t){var n=g.bt(g.n.createLoose(k.W.Item.eqShow),t.entries,e);return(0,p.pipe)(n,v.bimap((function(n){return{recovered:S(n.recovered,e,t.diffVersion),rejected:n.rejected}}),(function(n){return S(n,e,t.diffVersion)})))}},r.createDiff=u,r.toJSON=function(e){return{entries:Array.from(e.entries),latestChangeDiff:b.b.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}},r.diffShow=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){E(e,t,n[t])}))}return e}({},b.b.getShow(k.W.Item.Id.show,k.W.Item.show)),a=r.InternalDiff||(r.InternalDiff={}),l=a.showMapKeys={show:function(e){return null==e?"None":Array.from(e.keys()).join(", ")}},a.show={show:function(e){return"added: ".concat(l.show(e.added),"\n        \n removed: ").concat(l.show(e.removed),"\n updated: ").concat(l.show(e.removed))}},a.isEmpty=function(e){var t=e.added,n=e.updated,i=e.removed;return!(null!=t&&0!==t.size||null!=n&&0!==n.size||null!=i&&0!==i.size)},o=r.MutableInternalDiff||(r.MutableInternalDiff={}),s=o.empty=function(){return{added:new Map,updated:new Map,removed:new Map}},o.fromState=function(e){return i.reduce(s(),e)}},83375:(e,t,n)=>{"use strict";var i;n.d(t,{Q:()=>i}),function(e){var t,n;((n=e.RawSduiItem||(e.RawSduiItem={})).Id||(n.Id={})).create=function(e){return e.toString()},function(e){e.Add="sdui_add",e.Remove="sdui_remove",e.Update="sdui_update"}(t=e.SduiEventKind||(e.SduiEventKind={})),e.isSduiEvent=function(e){return e.kind===t.Add||e.kind===t.Remove||e.kind===t.Update}}(i||(i={}))},79535:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var i=n(30040),r=n(59697);n(95717),r.Yj,r.ai,r.zM,r.S$,r.S6;var o,s,a,l,c,d,u,p,m=n(31679),f=n(87626),h=n(47370),g=n(58889),v=n(86562),b=n(92141),y=n(23815);s=o||(o={}),a=s.Type=b.X9.Type.sduiCardAction,l=f.n(m.Pw)(y.En),s.eq=h.ee((function(e,t){return e.type===a&&e.type===t.type&&e.cardId===t.cardId&&l.equals(e.actions,t.actions)&&e.scope===t.scope})),u=f.n(r.Pw)(y.En),p={encode:function(e){return e}},c={decode:u.decode,encode:p.encode},d=(0,i.flow)(c.decode,g.mapLeft((function(e){return new Error(r.$2(e))}))),s.isSduiCardAction=function(e){return e.type===o.Type&&(n=e.actions,g.isRight(d(n)))&&"object"==typeof(t=e.scope)&&null!=t&&Object.keys(t).every((function(e){var n=t[e];return"alertRefs"===e?Array.isArray(n):((0,v.AS)(e),!1)}));var t,n}},12068:(e,t,n)=>{"use strict";n.d(t,{W:()=>N});var i=n(30040),r=n(44297),o=n(86562),s=n(10047),a=n(58193),l=n(58889),c=n(57797),d=n(69063),u=n(12486),p=n(21476),m=n(79535),f=n(80837),h=n(42543),g=n(21662),v=n(78339),b=n(15491),y=n(65621),k=n(90405),w=n(95168),E=n(83541),S=n(19711),C=n(14018),_=n(92490),x=n(57980),A=n(76807),I=n(76720),K=n(85262);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){M(e,t,n[t])}))}return e}function R(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=function(){function e(t,n,o,s,l){var m,g,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new p.$;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"_sduiService",void 0),M(this,"_sduiManager",void 0),M(this,"_sduiFeedManager",void 0),M(this,"_capiClient",void 0),M(this,"_focusedItem",void 0),M(this,"_platformEnvironment",void 0),M(this,"_log",void 0),M(this,"_subs",void 0),M(this,"_sduiAlertIdResolver",void 0),M(this,"sduiActionEvents",void 0),this._sduiService=t,this._sduiManager=n,this._sduiFeedManager=o,this._capiClient=s,this._focusedItem=l,this._platformEnvironment=v,this._log=d.Bx.Logging.getLogger("SduiViewModelImpl",u.$.DEBUG),this._subs=new f.y.Keeper,this.sduiActionEvents=new h.B7,this._sduiAlertIdResolver=(m=this._sduiManager.alertIdResolver,g=this._log,function(e){return(0,i.pipe)(e,c.Tj(m),c.K2(r.option),a.jw((function(){return g.error("Could not resolve strong alert ref for ".concat(JSON.stringify(e)))})),r.filter(c.J_),a.jw((function(){return g.error("Strong alert refs are empty")})))}),this._subs.push(this._handleSduiActions(),this._handleSduiCardOnFocus(),this._handleSduiCardOnBlur(),this._handleSduiFeedRemove(),this._handleSduiFeedEmpty(),this._handleSduiOnEmptyEvents())}var t,n;return t=e,(n=[{key:"onAssistantClose",value:function(){var e=this;(0,i.pipe)(this._sduiFeedManager.currentFeed,r.map((function(e){return e.feedId})),r.chain((function(t){return C.k.get(t)(e._sduiManager.state.get())})),r.chain((function(e){return(0,i.pipe)(K.cK.findFirst(e.content,"assistantFeed"),r.filter((function(e){return Array.isArray(e.onAssistantClose)&&e.onAssistantClose.length>0})),r.map((function(t){return[t,e]})))})),r.map((function(t){var n=B(t,2),i=n[0],r=n[1];return e.sduiActionEvents.next({type:m.G.Type,sourceId:i.id,cardId:r.id,actions:i.onAssistantClose,scope:{alertRefs:r.alertIds}})})))}},{key:"_handleSduiOnEmptyEvents",value:function(){var e=this;return this._sduiManager.onAlertsRefEmpty.pipe(g.E(this._focusedItem),v.p((function(e){var t=B(e,2),n=t[0].sduiRootId,o=t[1];return(0,i.pipe)(o,r.filter((function(e){return e===n})),r.isSome)})),b.T((function(e){return B(e,1)[0]}))).subscribe((function(t){var n=t.sduiId,i=t.sduiRootId,r=t.emptyStrongAlertRef;return e.sduiActionEvents.next({type:m.G.Type,sourceId:n,cardId:i,actions:r.onEmpty,scope:{alertRefs:r.alertIds}})}))}},{key:"_handleSduiFeedRemove",value:function(){var e=this;return this._sduiFeedManager.onFeedRemove.subscribe((function(t){(0,o.V1)("assistantFeed"===t.content.type),e.sduiActionEvents.next({type:m.G.Type,sourceId:t.id,cardId:t.id,actions:t.content.onRemove,scope:{alertRefs:[]}})}))}},{key:"_handleSduiFeedEmpty",value:function(){var e=this;return this._sduiFeedManager.onFeedEmpty.subscribe((function(t){(0,o.V1)("assistantFeed"===t.content.type),t.content.onEmpty&&e.sduiActionEvents.next({type:m.G.Type,sourceId:t.id,cardId:t.id,actions:t.content.onEmpty,scope:{alertRefs:[]}})}))}},{key:"_handleSduiCardOnBlur",value:function(){var e=this;return this._focusedItem.pipe(y.J(),b.T((function(t){var n=B(t,1)[0];return(0,i.pipe)(n,r.chain((function(t){return(0,i.pipe)(e._sduiManager.findFirstCardWithContent(t),r.filter(_.u.isAssistantCardContent),r.map((function(e){return[e,t]})))})))})),k.oE,w.M((function(t){var n=B(t,2),o=n[0],a=o.card,l=o.parentStrongAlertRef,c=n[1];e.sduiActionEvents.next({type:m.G.Type,sourceId:a.id,cardId:c,actions:a.onBlur,scope:{alertRefs:(0,i.pipe)(l,r.map((function(e){return e.alertIds})),r.getOrElse((0,i.constant)(s.Ie)))}})}))).subscribe()}},{key:"_handleSduiCardOnFocus",value:function(){var e=this;return this._focusedItem.pipe(k.oE,b.T((function(t){return(0,i.pipe)(e._sduiManager.findFirstCardWithContent(t),r.map((function(e){return[e,t]})))})),k.oE).subscribe((function(t){var n=B(t,2),o=n[0],s=o.card,a=o.parentStrongAlertRef,l=n[1];e._sduiFeedManager.notifyCardFocused(l),e.sduiActionEvents.next({type:m.G.Type,sourceId:s.id,cardId:l,actions:s.onFocus,scope:{alertRefs:(0,i.pipe)(a,r.map((function(e){return e.alertIds})),r.getOrElse((function(){return[]})))}})}))}},{key:"_handleSduiActions",value:function(){var e=this;return this.sduiActionEvents.pipe(E.skipBy(m.G.eq),w.M((function(t){var n=t.cardId,s=t.sourceId,c=t.actions,d=t.scope;e._log.info("sdui card action:",{cardId:n,actions:c,scope:d}),c.forEach((function(t){switch(t.type){case"notify":return void e._sduiService.sendUserAction(t.sourceId||s,t.userAction);case"removeRoot":return void requestAnimationFrame((function(){e._sduiManager.pushRemovedRoot([x.W.Item.Id.from(n),A.BG.RemoveRootSDUIAction])}));case"applyAlerts":case"closeCard":case"highlightAlert":case"nextCard":case"prevCard":case"openSettings":case"openToneDetector":case"openFeedback":case"upgradeToPremium":case"openLearnMore":case"transition":case"openCreateSnippetModal":case"nativeOpenAssistant":case"showHighlights":case"hideHighlights":case"stopApplyingAlerts":case"selectAlternative":case"copyToClipboard":case"newRevision":case"openGrammarlyGo":case"openPerformanceScore":case"nativeOpenUserSatisfactionFeedback":return;case"removeAlerts":return void(0,i.pipe)(e._sduiAlertIdResolver(d.alertRefs),a.Mi((function(){requestAnimationFrame((function(){e._sduiManager.pushRemovedAlerts([d.alertRefs.map(x.W.AlertId.from),A.BG.RemoveAlertsSDUIAction])}))})));case"openLink":return void e._platformEnvironment.actions.openPopup(new I.U(t.url));case"pushAssistantFeed":return void requestAnimationFrame((function(){return(0,i.pipe)(e._sduiFeedManager.pushFeed(x.W.Item.Id.from(t.feedId),t.cardId),l.mapLeft((function(t){return e._log.error(t),t})))}));case"popAssistantFeed":return void requestAnimationFrame((function(){return e._sduiFeedManager.popFeed(r.fromNullable(t.fallbackFeed))}));case"focusAssistantCard":return void requestAnimationFrame((function(){return e._sduiFeedManager.focusCard(t.cardId)}));case"switchView":var c={where:t.where,selected:t.selected,sduiRootId:x.W.Item.Id.from(n)};return e._switchCallerCard(c),e._switchActiveCard(c),e._switchActiveFeed(c),void e._switchActivePopover(c);case"interactPopover":var u=e._sduiManager.popoverManager.getInteractionActions(t.rootPopoverId,t.popoverViewId,t.interaction);return void(u.length>0&&e.sduiActionEvents.next({type:m.G.Type,sourceId:t.rootPopoverId,cardId:t.popoverViewId,actions:u,scope:d}));case"closePopover":return e._sduiManager.popoverManager.removePopover(t.rootPopoverId),void e.sduiActionEvents.next({type:m.G.Type,sourceId:t.rootPopoverId,cardId:t.rootPopoverId,actions:[{type:"removeRoot"}],scope:d});case"enablePlagiarismCheck":return void e._capiClient.enablePlagiarismSearch();case"disablePlagiarismCheck":return void e._capiClient.disablePlagiarismSearch();case"enableWritingExpertCheck":return void e._capiClient.enableWritingExpert();case"disableWritingExpertCheck":return void e._capiClient.disableWritingExpert();default:(0,o.AS)(t)}}))}))).subscribe()}},{key:"_switchCallerCard",value:function(e){this._sduiManager.pushSwitchView(e)}},{key:"_switchActiveCard",value:function(e){var t=this;(0,i.pipe)(this._focusedItem.get(),r.filter((function(t){return e.sduiRootId!==t})),a.Mi((function(n){return t._sduiManager.pushSwitchView(R(F({},e),{sduiRootId:x.W.Item.Id.from(n)}))})))}},{key:"_switchActiveFeed",value:function(e){var t=this;(0,i.pipe)(this._sduiFeedManager.currentFeed,r.filter((function(t){return t.feedId!==e.sduiRootId})),a.Mi((function(n){var i=n.feedId;return t._sduiManager.pushSwitchView(R(F({},e),{sduiRootId:i}))})))}},{key:"_switchActivePopover",value:function(e){var t=this;this._sduiManager.popoverManager.activePopoverView.pipe(S.$()).subscribe(a.Mi((function(n){var i=n.rootPopoverId;t._sduiManager.pushSwitchView(R(F({},e),{sduiRootId:i}))})))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&O(t.prototype,n),e}()},41271:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new r(i,o||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,r,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,d=this._events[a],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,i),!0;case 4:return d.fn.call(d.context,t,i,r),!0;case 5:return d.fn.call(d.context,t,i,r,o),!0;case 6:return d.fn.call(d.context,t,i,r,o,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var p,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,i);break;case 4:d[c].fn.call(d[c].context,t,i,r);break;default:if(!l)for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];d[c].fn.apply(d[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||i&&a.context!==i||s(this,o);else{for(var l=0,c=[],d=a.length;l<d;l++)(a[l].fn!==t||r&&!a[l].once||i&&a[l].context!==i)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},73072:e=>{var t=-1,n=1,i=0;function r(e,h,g,v,b){if(e===h)return e?[[i,e]]:[];if(null!=g){var k=function(e,t,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,r="number"==typeof n?null:n.newRange,o=e.length,s=t.length;if(0===i.length&&(null===r||0===r.length)){var a=i.index,l=e.slice(0,a),c=e.slice(a),d=r?r.index:null,u=a+s-o;if((null===d||d===u)&&!(u<0||u>s)){var p=t.slice(0,u);if((h=t.slice(u))===c){var m=Math.min(a,u);if((v=l.slice(0,m))===(k=p.slice(0,m)))return y(v,l.slice(m),p.slice(m),c)}}if(null===d||d===a){var f=a,h=(p=t.slice(0,f),t.slice(f));if(p===l){var g=Math.min(o-f,s-f);if((b=c.slice(c.length-g))===(w=h.slice(h.length-g)))return y(l,c.slice(0,c.length-g),h.slice(0,h.length-g),b)}}}if(i.length>0&&r&&0===r.length){var v=e.slice(0,i.index),b=e.slice(i.index+i.length);if(!(s<(m=v.length)+(g=b.length))){var k=t.slice(0,m),w=t.slice(s-g);if(v===k&&b===w)return y(v,e.slice(m,o-g),t.slice(m,s-g),b)}}return null}(e,h,g);if(k)return k}var w=s(e,h),E=e.substring(0,w);w=l(e=e.substring(w),h=h.substring(w));var S=e.substring(e.length-w),C=function(e,a){var c;if(!e)return[[n,a]];if(!a)return[[t,e]];var d=e.length>a.length?e:a,u=e.length>a.length?a:e,p=d.indexOf(u);if(-1!==p)return c=[[n,d.substring(0,p)],[i,u],[n,d.substring(p+u.length)]],e.length>a.length&&(c[0][0]=c[2][0]=t),c;if(1===u.length)return[[t,e],[n,a]];var m=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function r(e,t,n){for(var i,r,o,a,c=e.substring(n,n+Math.floor(e.length/4)),d=-1,u="";-1!==(d=t.indexOf(c,d+1));){var p=s(e.substring(n),t.substring(d)),m=l(e.substring(0,n),t.substring(0,d));u.length<m+p&&(u=t.substring(d-m,d)+t.substring(d,d+p),i=e.substring(0,n-m),r=e.substring(n+p),o=t.substring(0,d-m),a=t.substring(d+p))}return 2*u.length>=e.length?[i,r,o,a,u]:null}var o,a,c,d,u,p=r(n,i,Math.ceil(n.length/4)),m=r(n,i,Math.ceil(n.length/2));return p||m?(o=m?p&&p[4].length>m[4].length?p:m:p,e.length>t.length?(a=o[0],c=o[1],d=o[2],u=o[3]):(d=o[0],u=o[1],a=o[2],c=o[3]),[a,c,d,u,o[4]]):null}(e,a);if(m){var f=m[0],h=m[1],g=m[2],v=m[3],b=m[4],y=r(f,g),k=r(h,v);return y.concat([[i,b]],k)}return function(e,i){for(var r=e.length,s=i.length,a=Math.ceil((r+s)/2),l=a,c=2*a,d=new Array(c),u=new Array(c),p=0;p<c;p++)d[p]=-1,u[p]=-1;d[l+1]=0,u[l+1]=0;for(var m=r-s,f=m%2!=0,h=0,g=0,v=0,b=0,y=0;y<a;y++){for(var k=-y+h;k<=y-g;k+=2){for(var w=l+k,E=(A=k===-y||k!==y&&d[w-1]<d[w+1]?d[w+1]:d[w-1]+1)-k;A<r&&E<s&&e.charAt(A)===i.charAt(E);)A++,E++;if(d[w]=A,A>r)g+=2;else if(E>s)h+=2;else if(f&&(_=l+m-k)>=0&&_<c&&-1!==u[_]&&A>=(C=r-u[_]))return o(e,i,A,E)}for(var S=-y+v;S<=y-b;S+=2){for(var C,_=l+S,x=(C=S===-y||S!==y&&u[_-1]<u[_+1]?u[_+1]:u[_-1]+1)-S;C<r&&x<s&&e.charAt(r-C-1)===i.charAt(s-x-1);)C++,x++;if(u[_]=C,C>r)b+=2;else if(x>s)v+=2;else if(!f){var A;if((w=l+m-S)>=0&&w<c&&-1!==d[w])if(E=l+(A=d[w])-w,A>=(C=r-C))return o(e,i,A,E)}}}return[[t,e],[n,i]]}(e,a)}(e=e.substring(0,e.length-w),h=h.substring(0,h.length-w));return E&&C.unshift([i,E]),S&&C.push([i,S]),f(C,b),v&&function(e){for(var r=!1,o=[],s=0,h=null,g=0,v=0,b=0,y=0,k=0;g<e.length;)e[g][0]==i?(o[s++]=g,v=y,b=k,y=0,k=0,h=e[g][1]):(e[g][0]==n?y+=e[g][1].length:k+=e[g][1].length,h&&h.length<=Math.max(v,b)&&h.length<=Math.max(y,k)&&(e.splice(o[s-1],0,[t,h]),e[o[s-1]+1][0]=n,s--,g=--s>0?o[s-1]:-1,v=0,b=0,y=0,k=0,h=null,r=!0)),g++;for(r&&f(e),function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),r=n.match(c),o=i.match(c),s=r&&n.match(d),a=o&&i.match(d),l=s&&n.match(u),f=a&&i.match(u),h=l&&e.match(p),g=f&&t.match(m);return h||g?5:l||f?4:r&&!s&&a?3:s||a?2:r||o?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==i&&e[n+1][0]==i){var r=e[n-1][1],o=e[n][1],s=e[n+1][1],a=l(r,o);if(a){var f=o.substring(o.length-a);r=r.substring(0,r.length-a),o=f+o.substring(0,o.length-a),s=f+s}for(var h=r,g=o,v=s,b=t(r,o)+t(o,s);o.charAt(0)===s.charAt(0);){r+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var y=t(r,o)+t(o,s);y>=b&&(b=y,h=r,g=o,v=s)}e[n-1][1]!=h&&(h?e[n-1][1]=h:(e.splice(n-1,1),n--),e[n][1]=g,v?e[n+1][1]=v:(e.splice(n+1,1),n--))}n++}}(e),g=1;g<e.length;){if(e[g-1][0]==t&&e[g][0]==n){var w=e[g-1][1],E=e[g][1],S=a(w,E),C=a(E,w);S>=C?(S>=w.length/2||S>=E.length/2)&&(e.splice(g,0,[i,E.substring(0,S)]),e[g-1][1]=w.substring(0,w.length-S),e[g+1][1]=E.substring(S),g++):(C>=w.length/2||C>=E.length/2)&&(e.splice(g,0,[i,w.substring(0,C)]),e[g-1][0]=n,e[g-1][1]=E.substring(0,E.length-C),e[g+1][0]=t,e[g+1][1]=w.substring(C),g++),g++}g++}}(C),C}function o(e,t,n,i){var o=e.substring(0,n),s=t.substring(0,i),a=e.substring(n),l=t.substring(i),c=r(o,s),d=r(a,l);return c.concat(d)}function s(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return h(e.charCodeAt(r-1))&&r--,r}function a(e,t){var n=e.length,i=t.length;if(0==n||0==i)return 0;n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n));var r=Math.min(n,i);if(e==t)return r;for(var o=0,s=1;;){var a=e.substring(r-s),l=t.indexOf(a);if(-1==l)return o;s+=l,0!=l&&e.substring(r-s)!=t.substring(0,s)||(o=s,s++)}}function l(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return g(e.charCodeAt(e.length-r))&&r--,r}var c=/[^a-zA-Z0-9]/,d=/\s/,u=/[\r\n]/,p=/\n\r?\n$/,m=/^\r?\n\r?\n/;function f(e,r){e.push([i,""]);for(var o,a=0,c=0,d=0,u="",p="";a<e.length;)if(a<e.length-1&&!e[a][1])e.splice(a,1);else switch(e[a][0]){case n:d++,p+=e[a][1],a++;break;case t:c++,u+=e[a][1],a++;break;case i:var m=a-d-c-1;if(r){if(m>=0&&b(e[m][1])){var h=e[m][1].slice(-1);if(e[m][1]=e[m][1].slice(0,-1),u=h+u,p=h+p,!e[m][1]){e.splice(m,1),a--;var g=m-1;e[g]&&e[g][0]===n&&(d++,p=e[g][1]+p,g--),e[g]&&e[g][0]===t&&(c++,u=e[g][1]+u,g--),m=g}}v(e[a][1])&&(h=e[a][1].charAt(0),e[a][1]=e[a][1].slice(1),u+=h,p+=h)}if(a<e.length-1&&!e[a][1]){e.splice(a,1);break}if(u.length>0||p.length>0){u.length>0&&p.length>0&&(0!==(o=s(p,u))&&(m>=0?e[m][1]+=p.substring(0,o):(e.splice(0,0,[i,p.substring(0,o)]),a++),p=p.substring(o),u=u.substring(o)),0!==(o=l(p,u))&&(e[a][1]=p.substring(p.length-o)+e[a][1],p=p.substring(0,p.length-o),u=u.substring(0,u.length-o)));var y=d+c;0===u.length&&0===p.length?(e.splice(a-y,y),a-=y):0===u.length?(e.splice(a-y,y,[n,p]),a=a-y+1):0===p.length?(e.splice(a-y,y,[t,u]),a=a-y+1):(e.splice(a-y,y,[t,u],[n,p]),a=a-y+2)}0!==a&&e[a-1][0]===i?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,d=0,c=0,u="",p=""}""===e[e.length-1][1]&&e.pop();var k=!1;for(a=1;a<e.length-1;)e[a-1][0]===i&&e[a+1][0]===i&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)===e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),k=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),k=!0)),a++;k&&f(e,r)}function h(e){return e>=55296&&e<=56319}function g(e){return e>=56320&&e<=57343}function v(e){return g(e.charCodeAt(0))}function b(e){return h(e.charCodeAt(e.length-1))}function y(e,r,o,s){return b(e)||v(s)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[i,e],[t,r],[n,o],[i,s]])}function k(e,t,n,i){return r(e,t,n,i,!0)}k.INSERT=n,k.DELETE=t,k.EQUAL=i,e.exports=k},57297:function(e,t,n){var i,r=r||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},l=function(e){setTimeout((function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()}),4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},d=function(t,d,u){u||(t=c(t));var p,m=this,f="application/octet-stream"===t.type,h=function(){!function(e,t,n){for(var i=(t=[].concat(t)).length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,e)}catch(e){a(e)}}}(m,"writestart progress write writeend".split(" "))};if(m.readyState=m.INIT,r)return p=n().createObjectURL(t),void setTimeout((function(){var e,t;i.href=p,i.download=d,e=i,t=new MouseEvent("click"),e.dispatchEvent(t),h(),l(p),m.readyState=m.DONE}));!function(){if((s||f&&o)&&e.FileReader){var i=new FileReader;return i.onloadend=function(){var t=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,m.readyState=m.DONE,h()},i.readAsDataURL(t),void(m.readyState=m.INIT)}p||(p=n().createObjectURL(t)),f?e.location.href=p:e.open(p,"_blank")||(e.location.href=p),m.readyState=m.DONE,h(),l(p)}()},u=d.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(e,t,n){return new d(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);e.exports?e.exports.saveAs=r:null!==n.amdD&&null!==n.amdO&&(void 0===(i=function(){return r}.call(t,n,t,e))||(e.exports=i))},21422:(e,t,n)=>{e=n.nmd(e);var i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Boolean]",a="[object Date]",l="[object Function]",c="[object GeneratorFunction]",d="[object Map]",u="[object Number]",p="[object Object]",m="[object Promise]",f="[object RegExp]",h="[object Set]",g="[object String]",v="[object Symbol]",b="[object WeakMap]",y="[object ArrayBuffer]",k="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",C="[object Int16Array]",_="[object Int32Array]",x="[object Uint8Array]",A="[object Uint8ClampedArray]",I="[object Uint16Array]",K="[object Uint32Array]",T=/\w*$/,O=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,F={};F[o]=F["[object Array]"]=F[y]=F[k]=F[s]=F[a]=F[w]=F[E]=F[S]=F[C]=F[_]=F[d]=F[u]=F[p]=F[f]=F[h]=F[g]=F[v]=F[x]=F[A]=F[I]=F[K]=!0,F["[object Error]"]=F[l]=F[b]=!1;var R="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,B="object"==typeof self&&self&&self.Object===Object&&self,N=R||B||Function("return this")(),P=t&&!t.nodeType&&t,D=P&&e&&!e.nodeType&&e,j=D&&D.exports===P;function L(e,t){return e.set(t[0],t[1]),e}function U(e,t){return e.add(t),e}function $(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function z(e,t){return function(n){return e(t(n))}}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Z,G=Array.prototype,Q=Function.prototype,q=Object.prototype,J=N["__core-js_shared__"],Y=(Z=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",X=Q.toString,ee=q.hasOwnProperty,te=q.toString,ne=RegExp("^"+X.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=j?N.Buffer:void 0,re=N.Symbol,oe=N.Uint8Array,se=z(Object.getPrototypeOf,Object),ae=Object.create,le=q.propertyIsEnumerable,ce=G.splice,de=Object.getOwnPropertySymbols,ue=ie?ie.isBuffer:void 0,pe=z(Object.keys,Object),me=Ne(N,"DataView"),fe=Ne(N,"Map"),he=Ne(N,"Promise"),ge=Ne(N,"Set"),ve=Ne(N,"WeakMap"),be=Ne(Object,"create"),ye=Ue(me),ke=Ue(fe),we=Ue(he),Ee=Ue(ge),Se=Ue(ve),Ce=re?re.prototype:void 0,_e=Ce?Ce.valueOf:void 0;function xe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ke(e){this.__data__=new Ae(e)}function Te(e,t,n){var i=e[t];ee.call(e,t)&&$e(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function Oe(e,t){for(var n=e.length;n--;)if($e(e[n][0],t))return n;return-1}function Me(e,t,n,i,r,m,b){var O;if(i&&(O=m?i(e,r,m,b):i(e)),void 0!==O)return O;if(!Ze(e))return e;var M=He(e);if(M){if(O=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(e,O)}else{var R=De(e),B=R==l||R==c;if(ze(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(R==p||R==o||B&&!m){if(H(e))return m?e:{};if(O=function(e){return"function"!=typeof e.constructor||Le(e)?{}:Ze(t=se(e))?ae(t):{};var t}(B?{}:e),!t)return function(e,t){return Re(e,Pe(e),t)}(e,function(e,t){return e&&Re(t,Ge(t),e)}(O,e))}else{if(!F[R])return m?e:{};O=function(e,t,n,i){var r,o=e.constructor;switch(t){case y:return Fe(e);case s:case a:return new o(+e);case k:return function(e,t){var n=t?Fe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,i);case w:case E:case S:case C:case _:case x:case A:case I:case K:return function(e,t){var n=t?Fe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,i);case d:return function(e,t,n){return $(t?n(V(e),!0):V(e),L,new e.constructor)}(e,i,n);case u:case g:return new o(e);case f:return function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t}(e);case h:return function(e,t,n){return $(t?n(W(e),!0):W(e),U,new e.constructor)}(e,i,n);case v:return r=e,_e?Object(_e.call(r)):{}}}(e,R,Me,t)}}b||(b=new Ke);var N=b.get(e);if(N)return N;if(b.set(e,O),!M)var P=n?function(e){return function(e,t,n){var i=t(e);return He(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Ge,Pe)}(e):Ge(e);return function(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n););}(P||e,(function(r,o){P&&(r=e[o=r]),Te(O,o,Me(r,t,n,i,o,e,b))})),O}function Fe(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Re(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var s=t[r],a=i?i(n[s],e[s],s,n,e):void 0;Te(n,s,void 0===a?e[s]:a)}return n}function Be(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ze(e)||(t=e,Y&&Y in t))&&(We(e)||H(e)?ne:O).test(Ue(e));var t}(n)?n:void 0}xe.prototype.clear=function(){this.__data__=be?be(null):{}},xe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},xe.prototype.get=function(e){var t=this.__data__;if(be){var n=t[e];return n===i?void 0:n}return ee.call(t,e)?t[e]:void 0},xe.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:ee.call(t,e)},xe.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?i:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,n=Oe(t,e);return!(n<0||(n==t.length-1?t.pop():ce.call(t,n,1),0))},Ae.prototype.get=function(e){var t=this.__data__,n=Oe(t,e);return n<0?void 0:t[n][1]},Ae.prototype.has=function(e){return Oe(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var n=this.__data__,i=Oe(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},Ie.prototype.clear=function(){this.__data__={hash:new xe,map:new(fe||Ae),string:new xe}},Ie.prototype.delete=function(e){return Be(this,e).delete(e)},Ie.prototype.get=function(e){return Be(this,e).get(e)},Ie.prototype.has=function(e){return Be(this,e).has(e)},Ie.prototype.set=function(e,t){return Be(this,e).set(e,t),this},Ke.prototype.clear=function(){this.__data__=new Ae},Ke.prototype.delete=function(e){return this.__data__.delete(e)},Ke.prototype.get=function(e){return this.__data__.get(e)},Ke.prototype.has=function(e){return this.__data__.has(e)},Ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ae){var i=n.__data__;if(!fe||i.length<199)return i.push([e,t]),this;n=this.__data__=new Ie(i)}return n.set(e,t),this};var Pe=de?z(de,Object):function(){return[]},De=function(e){return te.call(e)};function je(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function Le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||q)}function Ue(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $e(e,t){return e===t||e!=e&&t!=t}(me&&De(new me(new ArrayBuffer(1)))!=k||fe&&De(new fe)!=d||he&&De(he.resolve())!=m||ge&&De(new ge)!=h||ve&&De(new ve)!=b)&&(De=function(e){var t=te.call(e),n=t==p?e.constructor:void 0,i=n?Ue(n):void 0;if(i)switch(i){case ye:return k;case ke:return d;case we:return m;case Ee:return h;case Se:return b}return t});var He=Array.isArray;function Ve(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!We(e)}var ze=ue||function(){return!1};function We(e){var t=Ze(e)?te.call(e):"";return t==l||t==c}function Ze(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ge(e){return Ve(e)?function(e,t){var n=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ve(e)}(e)&&ee.call(e,"callee")&&(!le.call(e,"callee")||te.call(e)==o)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],i=n.length,r=!!i;for(var s in e)!t&&!ee.call(e,s)||r&&("length"==s||je(s,i))||n.push(s);return n}(e):function(e){if(!Le(e))return pe(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Me(e,!0,!0)}},68986:(e,t,n)=>{e=n.nmd(e);var i="__lodash_hash_undefined__",r=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",u="[object Date]",p="[object Error]",m="[object Function]",f="[object GeneratorFunction]",h="[object Map]",g="[object Number]",v="[object Null]",b="[object Object]",y="[object Promise]",k="[object Proxy]",w="[object RegExp]",E="[object Set]",S="[object String]",C="[object Undefined]",_="[object WeakMap]",x="[object ArrayBuffer]",A="[object DataView]",I=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[a]=T[l]=T[x]=T[d]=T[A]=T[u]=T[p]=T[m]=T[h]=T[g]=T[b]=T[w]=T[E]=T[S]=T[_]=!1;var O="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,M="object"==typeof self&&self&&self.Object===Object&&self,F=O||M||Function("return this")(),R=t&&!t.nodeType&&t,B=R&&e&&!e.nodeType&&e,N=B&&B.exports===R,P=N&&O.process,D=function(){try{return P&&P.binding&&P.binding("util")}catch(e){}}(),j=D&&D.isTypedArray;function L(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function U(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var H,V,z,W=Array.prototype,Z=Function.prototype,G=Object.prototype,Q=F["__core-js_shared__"],q=Z.toString,J=G.hasOwnProperty,Y=(H=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",X=G.toString,ee=RegExp("^"+q.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=N?F.Buffer:void 0,ne=F.Symbol,ie=F.Uint8Array,re=G.propertyIsEnumerable,oe=W.splice,se=ne?ne.toStringTag:void 0,ae=Object.getOwnPropertySymbols,le=te?te.isBuffer:void 0,ce=(V=Object.keys,z=Object,function(e){return V(z(e))}),de=Be(F,"DataView"),ue=Be(F,"Map"),pe=Be(F,"Promise"),me=Be(F,"Set"),fe=Be(F,"WeakMap"),he=Be(Object,"create"),ge=je(de),ve=je(ue),be=je(pe),ye=je(me),ke=je(fe),we=ne?ne.prototype:void 0,Ee=we?we.valueOf:void 0;function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _e;++t<n;)this.add(e[t])}function Ae(e){var t=this.__data__=new Ce(e);this.size=t.size}function Ie(e,t){for(var n=e.length;n--;)if(Le(e[n][0],t))return n;return-1}function Ke(e){return null==e?void 0===e?C:v:se&&se in Object(e)?function(e){var t=J.call(e,se),n=e[se];try{e[se]=void 0;var i=!0}catch(e){}var r=X.call(e);return i&&(t?e[se]=n:delete e[se]),r}(e):function(e){return X.call(e)}(e)}function Te(e){return Ze(e)&&Ke(e)==a}function Oe(e,t,n,i,s){return e===t||(null==e||null==t||!Ze(e)&&!Ze(t)?e!=e&&t!=t:function(e,t,n,i,s,c){var m=$e(e),f=$e(t),v=m?l:Pe(e),y=f?l:Pe(t),k=(v=v==a?b:v)==b,C=(y=y==a?b:y)==b,_=v==y;if(_&&He(e)){if(!He(t))return!1;m=!0,k=!1}if(_&&!k)return c||(c=new Ae),m||Ge(e)?Me(e,t,n,i,s,c):function(e,t,n,i,s,a,l){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!a(new ie(e),new ie(t)));case d:case u:case g:return Le(+e,+t);case p:return e.name==t.name&&e.message==t.message;case w:case S:return e==t+"";case h:var c=U;case E:var m=i&r;if(c||(c=$),e.size!=t.size&&!m)return!1;var f=l.get(e);if(f)return f==t;i|=o,l.set(e,t);var v=Me(c(e),c(t),i,s,a,l);return l.delete(e),v;case"[object Symbol]":if(Ee)return Ee.call(e)==Ee.call(t)}return!1}(e,t,v,n,i,s,c);if(!(n&r)){var I=k&&J.call(e,"__wrapped__"),K=C&&J.call(t,"__wrapped__");if(I||K){var T=I?e.value():e,O=K?t.value():t;return c||(c=new Ae),s(T,O,n,i,c)}}return!!_&&(c||(c=new Ae),function(e,t,n,i,o,s){var a=n&r,l=Fe(e),c=l.length;if(c!=Fe(t).length&&!a)return!1;for(var d=c;d--;){var u=l[d];if(!(a?u in t:J.call(t,u)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var m=!0;s.set(e,t),s.set(t,e);for(var f=a;++d<c;){var h=e[u=l[d]],g=t[u];if(i)var v=a?i(g,h,u,t,e,s):i(h,g,u,e,t,s);if(!(void 0===v?h===g||o(h,g,n,i,s):v)){m=!1;break}f||(f="constructor"==u)}if(m&&!f){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(m=!1)}return s.delete(e),s.delete(t),m}(e,t,n,i,s,c))}(e,t,n,i,Oe,s))}function Me(e,t,n,i,s,a){var l=n&r,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var p=-1,m=!0,f=n&o?new xe:void 0;for(a.set(e,t),a.set(t,e);++p<c;){var h=e[p],g=t[p];if(i)var v=l?i(g,h,p,t,e,a):i(h,g,p,e,t,a);if(void 0!==v){if(v)continue;m=!1;break}if(f){if(!L(t,(function(e,t){if(r=t,!f.has(r)&&(h===e||s(h,e,n,i,a)))return f.push(t);var r}))){m=!1;break}}else if(h!==g&&!s(h,g,n,i,a)){m=!1;break}}return a.delete(e),a.delete(t),m}function Fe(e){return function(e,t,n){var i=t(e);return $e(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Qe,Ne)}function Re(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Be(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!We(e)||function(e){return!!Y&&Y in e}(e))&&(Ve(e)?ee:I).test(je(e))}(n)?n:void 0}Se.prototype.clear=function(){this.__data__=he?he(null):{},this.size=0},Se.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Se.prototype.get=function(e){var t=this.__data__;if(he){var n=t[e];return n===i?void 0:n}return J.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return he?void 0!==t[e]:J.call(t,e)},Se.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=he&&void 0===t?i:t,this},Ce.prototype.clear=function(){this.__data__=[],this.size=0},Ce.prototype.delete=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0||(n==t.length-1?t.pop():oe.call(t,n,1),--this.size,0))},Ce.prototype.get=function(e){var t=this.__data__,n=Ie(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return Ie(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,i=Ie(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},_e.prototype.clear=function(){this.size=0,this.__data__={hash:new Se,map:new(ue||Ce),string:new Se}},_e.prototype.delete=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},_e.prototype.get=function(e){return Re(this,e).get(e)},_e.prototype.has=function(e){return Re(this,e).has(e)},_e.prototype.set=function(e,t){var n=Re(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},xe.prototype.add=xe.prototype.push=function(e){return this.__data__.set(e,i),this},xe.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.clear=function(){this.__data__=new Ce,this.size=0},Ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var i=n.__data__;if(!ue||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new _e(i)}return n.set(e,t),this.size=n.size,this};var Ne=ae?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,r=null==t?0:t.length,o=0,s=[];++i<r;){var a=t[i];l=a,re.call(e,l)&&(s[o++]=a)}var l;return s}(ae(e)))}:function(){return[]},Pe=Ke;function De(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||K.test(e))&&e>-1&&e%1==0&&e<t}function je(e){if(null!=e){try{return q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Le(e,t){return e===t||e!=e&&t!=t}(de&&Pe(new de(new ArrayBuffer(1)))!=A||ue&&Pe(new ue)!=h||pe&&Pe(pe.resolve())!=y||me&&Pe(new me)!=E||fe&&Pe(new fe)!=_)&&(Pe=function(e){var t=Ke(e),n=t==b?e.constructor:void 0,i=n?je(n):"";if(i)switch(i){case ge:return A;case ve:return h;case be:return y;case ye:return E;case ke:return _}return t});var Ue=Te(function(){return arguments}())?Te:function(e){return Ze(e)&&J.call(e,"callee")&&!re.call(e,"callee")},$e=Array.isArray,He=le||function(){return!1};function Ve(e){if(!We(e))return!1;var t=Ke(e);return t==m||t==f||t==c||t==k}function ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function We(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ze(e){return null!=e&&"object"==typeof e}var Ge=j?function(e){return function(t){return e(t)}}(j):function(e){return Ze(e)&&ze(e.length)&&!!T[Ke(e)]};function Qe(e){return null!=(t=e)&&ze(t.length)&&!Ve(t)?function(e,t){var n=$e(e),i=!n&&Ue(e),r=!n&&!i&&He(e),o=!n&&!i&&!r&&Ge(e),s=n||i||r||o,a=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)!t&&!J.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||De(c,l))||a.push(c);return a}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||G))return ce(e);var t,n,i=[];for(var r in Object(e))J.call(e,r)&&"constructor"!=r&&i.push(r);return i}(e);var t}e.exports=function(e,t){return Oe(e,t)}},19361:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,i="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,d;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(!o(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!s.has(l.value[0]))return!1;for(d=e.entries();!(l=d.next()).done;)if(!o(l.value[1],s.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof s.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!=l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],s[c[l]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},31488:(e,t,n)=>{"use strict";n.d(t,{E:()=>be});var i=n(50659),r=n(53493);function o(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function s(e){return e instanceof o(e).Element||e instanceof Element}function a(e){return e instanceof o(e).HTMLElement||e instanceof HTMLElement}function l(e){return"undefined"!=typeof ShadowRoot&&(e instanceof o(e).ShadowRoot||e instanceof ShadowRoot)}var c=Math.max,d=Math.min,u=Math.round;function p(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function m(){return!/^((?!chrome|android).)*safari/i.test(p())}function f(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,l=1;t&&a(e)&&(r=e.offsetWidth>0&&u(i.width)/e.offsetWidth||1,l=e.offsetHeight>0&&u(i.height)/e.offsetHeight||1);var c=(s(e)?o(e):window).visualViewport,d=!m()&&n,p=(i.left+(d&&c?c.offsetLeft:0))/r,f=(i.top+(d&&c?c.offsetTop:0))/l,h=i.width/r,g=i.height/l;return{width:h,height:g,top:f,right:p+h,bottom:f+g,left:p,x:p,y:f}}function h(e){var t=o(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function g(e){return e?(e.nodeName||"").toLowerCase():null}function v(e){return((s(e)?e.ownerDocument:e.document)||window.document).documentElement}function b(e){return f(v(e)).left+h(e).scrollLeft}function y(e){return o(e).getComputedStyle(e)}function k(e){var t=y(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function w(e,t,n){void 0===n&&(n=!1);var i,r,s=a(t),l=a(t)&&function(e){var t=e.getBoundingClientRect(),n=u(t.width)/e.offsetWidth||1,i=u(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),c=v(t),d=f(e,l,n),p={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(s||!s&&!n)&&(("body"!==g(t)||k(c))&&(p=(i=t)!==o(i)&&a(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:h(i)),a(t)?((m=f(t,!0)).x+=t.clientLeft,m.y+=t.clientTop):c&&(m.x=b(c))),{x:d.left+p.scrollLeft-m.x,y:d.top+p.scrollTop-m.y,width:d.width,height:d.height}}function E(e){var t=f(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function S(e){return"html"===g(e)?e:e.assignedSlot||e.parentNode||(l(e)?e.host:null)||v(e)}function C(e){return["html","body","#document"].indexOf(g(e))>=0?e.ownerDocument.body:a(e)&&k(e)?e:C(S(e))}function _(e,t){var n;void 0===t&&(t=[]);var i=C(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),s=o(i),a=r?[s].concat(s.visualViewport||[],k(i)?i:[]):i,l=t.concat(a);return r?l:l.concat(_(S(a)))}function x(e){return["table","td","th"].indexOf(g(e))>=0}function A(e){return a(e)&&"fixed"!==y(e).position?e.offsetParent:null}function I(e){for(var t=o(e),n=A(e);n&&x(n)&&"static"===y(n).position;)n=A(n);return n&&("html"===g(n)||"body"===g(n)&&"static"===y(n).position)?t:n||function(e){var t=/firefox/i.test(p());if(/Trident/i.test(p())&&a(e)&&"fixed"===y(e).position)return null;var n=S(e);for(l(n)&&(n=n.host);a(n)&&["html","body"].indexOf(g(n))<0;){var i=y(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var K="top",T="bottom",O="right",M="left",F="auto",R=[K,T,O,M],B="start",N="end",P="viewport",D="popper",j=R.reduce((function(e,t){return e.concat([t+"-"+B,t+"-"+N])}),[]),L=[].concat(R,[F]).reduce((function(e,t){return e.concat([t,t+"-"+B,t+"-"+N])}),[]),U=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function $(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}var H={placement:"bottom",modifiers:[],strategy:"absolute"};function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function z(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?H:r;return function(e,t,n){void 0===n&&(n=o);var r,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},H,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],d=!1,u={state:l,setOptions:function(n){var r="function"==typeof n?n(l.options):n;p(),l.options=Object.assign({},o,l.options,r),l.scrollParents={reference:s(e)?_(e):e.contextElement?_(e.contextElement):[],popper:_(t)};var a,d,m=function(e){var t=$(e);return U.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(i,l.options.modifiers),d=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(d).map((function(e){return d[e]}))));return l.orderedModifiers=m.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:l,name:t,instance:u,options:i});c.push(o||function(){})}})),u.update()},forceUpdate:function(){if(!d){var e=l.elements,t=e.reference,n=e.popper;if(V(t,n)){l.rects={reference:w(t,I(n),"fixed"===l.options.strategy),popper:E(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var r=l.orderedModifiers[i],o=r.fn,s=r.options,a=void 0===s?{}:s,c=r.name;"function"==typeof o&&(l=o({state:l,options:a,name:c,instance:u})||l)}else l.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(r())}))}))),a}),destroy:function(){p(),d=!0}};if(!V(e,t))return u;function p(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!d&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var W={passive:!0};function Z(e){return e.split("-")[0]}function G(e){return e.split("-")[1]}function Q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function q(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?Z(r):null,s=r?G(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case K:t={x:a,y:n.y-i.height};break;case T:t={x:a,y:n.y+n.height};break;case O:t={x:n.x+n.width,y:l};break;case M:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?Q(o):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case B:t[c]=t[c]-(n[d]/2-i[d]/2);break;case N:t[c]=t[c]+(n[d]/2-i[d]/2)}}return t}var J={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Y(e){var t,n=e.popper,i=e.popperRect,r=e.placement,s=e.variation,a=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,p=e.roundOffsets,m=e.isFixed,f=a.x,h=void 0===f?0:f,g=a.y,b=void 0===g?0:g,k="function"==typeof p?p({x:h,y:b}):{x:h,y:b};h=k.x,b=k.y;var w=a.hasOwnProperty("x"),E=a.hasOwnProperty("y"),S=M,C=K,_=window;if(d){var x=I(n),A="clientHeight",F="clientWidth";x===o(n)&&"static"!==y(x=v(n)).position&&"absolute"===l&&(A="scrollHeight",F="scrollWidth"),(r===K||(r===M||r===O)&&s===N)&&(C=T,b-=(m&&x===_&&_.visualViewport?_.visualViewport.height:x[A])-i.height,b*=c?1:-1),r!==M&&(r!==K&&r!==T||s!==N)||(S=O,h-=(m&&x===_&&_.visualViewport?_.visualViewport.width:x[F])-i.width,h*=c?1:-1)}var R,B=Object.assign({position:l},d&&J),P=!0===p?function(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:u(n*r)/r||0,y:u(i*r)/r||0}}({x:h,y:b},o(n)):{x:h,y:b};return h=P.x,b=P.y,c?Object.assign({},B,((R={})[C]=E?"0":"",R[S]=w?"0":"",R.transform=(_.devicePixelRatio||1)<=1?"translate("+h+"px, "+b+"px)":"translate3d("+h+"px, "+b+"px, 0)",R)):Object.assign({},B,((t={})[C]=E?b+"px":"",t[S]=w?h+"px":"",t.transform="",t))}var X={left:"right",right:"left",bottom:"top",top:"bottom"};function ee(e){return e.replace(/left|right|bottom|top/g,(function(e){return X[e]}))}var te={start:"end",end:"start"};function ne(e){return e.replace(/start|end/g,(function(e){return te[e]}))}function ie(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&l(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function re(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oe(e,t,n){return t===P?re(function(e,t){var n=o(e),i=v(e),r=n.visualViewport,s=i.clientWidth,a=i.clientHeight,l=0,c=0;if(r){s=r.width,a=r.height;var d=m();(d||!d&&"fixed"===t)&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:a,x:l+b(e),y:c}}(e,n)):s(t)?function(e,t){var n=f(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):re(function(e){var t,n=v(e),i=h(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=c(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=c(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+b(e),l=-i.scrollTop;return"rtl"===y(r||n).direction&&(a+=c(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(v(e)))}function se(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ae(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function le(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,o=n.strategy,l=void 0===o?e.strategy:o,u=n.boundary,p=void 0===u?"clippingParents":u,m=n.rootBoundary,h=void 0===m?P:m,b=n.elementContext,k=void 0===b?D:b,w=n.altBoundary,E=void 0!==w&&w,C=n.padding,x=void 0===C?0:C,A=se("number"!=typeof x?x:ae(x,R)),M=k===D?"reference":D,F=e.rects.popper,B=e.elements[E?M:k],N=function(e,t,n,i){var r="clippingParents"===t?function(e){var t=_(S(e)),n=["absolute","fixed"].indexOf(y(e).position)>=0&&a(e)?I(e):e;return s(n)?t.filter((function(e){return s(e)&&ie(e,n)&&"body"!==g(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),l=o[0],u=o.reduce((function(t,n){var r=oe(e,n,i);return t.top=c(r.top,t.top),t.right=d(r.right,t.right),t.bottom=d(r.bottom,t.bottom),t.left=c(r.left,t.left),t}),oe(e,l,i));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}(s(B)?B:B.contextElement||v(e.elements.popper),p,h,l),j=f(e.elements.reference),L=q({reference:j,element:F,strategy:"absolute",placement:r}),U=re(Object.assign({},F,L)),$=k===D?U:j,H={top:N.top-$.top+A.top,bottom:$.bottom-N.bottom+A.bottom,left:N.left-$.left+A.left,right:$.right-N.right+A.right},V=e.modifiersData.offset;if(k===D&&V){var z=V[r];Object.keys(H).forEach((function(e){var t=[O,T].indexOf(e)>=0?1:-1,n=[K,T].indexOf(e)>=0?"y":"x";H[e]+=z[n]*t}))}return H}function ce(e,t,n){return c(e,d(t,n))}function de(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ue(e){return[K,O,T,M].some((function(t){return e[t]>=0}))}var pe=z({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,s=void 0===r||r,a=i.resize,l=void 0===a||a,c=o(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach((function(e){e.addEventListener("scroll",n.update,W)})),l&&c.addEventListener("resize",n.update,W),function(){s&&d.forEach((function(e){e.removeEventListener("scroll",n.update,W)})),l&&c.removeEventListener("resize",n.update,W)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:Z(t.placement),variation:G(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Y(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Y(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];a(r)&&g(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});a(i)&&g(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=L.reduce((function(e,n){return e[n]=function(e,t,n){var i=Z(e),r=[M,K].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[M,O].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,f=void 0===m||m,h=n.allowedAutoPlacements,g=t.options.placement,v=Z(g),b=l||(v!==g&&f?function(e){if(Z(e)===F)return[];var t=ee(e);return[ne(e),t,ne(t)]}(g):[ee(g)]),y=[g].concat(b).reduce((function(e,n){return e.concat(Z(n)===F?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?L:l,d=G(i),u=d?a?j:j.filter((function(e){return G(e)===d})):R,p=u.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=u);var m=p.reduce((function(t,n){return t[n]=le(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[Z(n)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:h}):n)}),[]),k=t.rects.reference,w=t.rects.popper,E=new Map,S=!0,C=y[0],_=0;_<y.length;_++){var x=y[_],A=Z(x),I=G(x)===B,N=[K,T].indexOf(A)>=0,P=N?"width":"height",D=le(t,{placement:x,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),U=N?I?O:M:I?T:K;k[P]>w[P]&&(U=ee(U));var $=ee(U),H=[];if(o&&H.push(D[A]<=0),a&&H.push(D[U]<=0,D[$]<=0),H.every((function(e){return e}))){C=x,S=!1;break}E.set(x,H)}if(S)for(var V=function(e){var t=y.find((function(t){var n=E.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},z=f?3:1;z>0&&"break"!==V(z);z--);t.placement!==C&&(t.modifiersData[i]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,u=n.rootBoundary,p=n.altBoundary,m=n.padding,f=n.tether,h=void 0===f||f,g=n.tetherOffset,v=void 0===g?0:g,b=le(t,{boundary:l,rootBoundary:u,padding:m,altBoundary:p}),y=Z(t.placement),k=G(t.placement),w=!k,S=Q(y),C="x"===S?"y":"x",_=t.modifiersData.popperOffsets,x=t.rects.reference,A=t.rects.popper,F="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,R="number"==typeof F?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(_){if(o){var D,j="y"===S?K:M,L="y"===S?T:O,U="y"===S?"height":"width",$=_[S],H=$+b[j],V=$-b[L],z=h?-A[U]/2:0,W=k===B?x[U]:A[U],q=k===B?-A[U]:-x[U],J=t.elements.arrow,Y=h&&J?E(J):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=X[j],te=X[L],ne=ce(0,x[U],Y[U]),ie=w?x[U]/2-z-ne-ee-R.mainAxis:W-ne-ee-R.mainAxis,re=w?-x[U]/2+z+ne+te+R.mainAxis:q+ne+te+R.mainAxis,oe=t.elements.arrow&&I(t.elements.arrow),se=oe?"y"===S?oe.clientTop||0:oe.clientLeft||0:0,ae=null!=(D=null==N?void 0:N[S])?D:0,de=$+re-ae,ue=ce(h?d(H,$+ie-ae-se):H,$,h?c(V,de):V);_[S]=ue,P[S]=ue-$}if(a){var pe,me="x"===S?K:M,fe="x"===S?T:O,he=_[C],ge="y"===C?"height":"width",ve=he+b[me],be=he-b[fe],ye=-1!==[K,M].indexOf(y),ke=null!=(pe=null==N?void 0:N[C])?pe:0,we=ye?ve:he-x[ge]-A[ge]-ke+R.altAxis,Ee=ye?he+x[ge]+A[ge]-ke-R.altAxis:be,Se=h&&ye?function(e,t,n){var i=ce(e,t,n);return i>n?n:i}(we,he,Ee):ce(h?we:ve,he,h?Ee:be);_[C]=Se,P[C]=Se-he}t.modifiersData[i]=P}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Z(n.placement),l=Q(a),c=[M,O].indexOf(a)>=0?"height":"width";if(o&&s){var d=function(e,t){return se("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ae(e,R))}(r.padding,n),u=E(o),p="y"===l?K:M,m="y"===l?T:O,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],h=s[l]-n.rects.reference[l],g=I(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-h/2,y=d[p],k=v-u[c]-d[m],w=v/2-u[c]/2+b,S=ce(y,w,k),C=l;n.modifiersData[i]=((t={})[C]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&ie(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=le(t,{elementContext:"reference"}),a=le(t,{altBoundary:!0}),l=de(s,i),c=de(a,r,o),d=ue(l),u=ue(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),me=n(19361),fe=n.n(me),he=function(e){return e.reduce((function(e,t){var n=t[0],i=t[1];return e[n]=i,e}),{})},ge="undefined"!=typeof window&&window.document&&window.document.createElement?i.useLayoutEffect:i.useEffect,ve=[],be=function(e,t,n){void 0===n&&(n={});var o=i.useRef(null),s={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||ve},a=i.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=a[0],c=a[1],d=i.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);r.flushSync((function(){c({styles:he(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:he(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),u=i.useMemo((function(){var e={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[d,{name:"applyStyles",enabled:!1}])};return fe()(o.current,e)?o.current||e:(o.current=e,e)}),[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,d]),p=i.useRef();return ge((function(){p.current&&p.current.setOptions(u)}),[u]),ge((function(){if(null!=e&&null!=t){var i=(n.createPopper||pe)(e,t,u);return p.current=i,function(){i.destroy(),p.current=null}}}),[e,t,n.createPopper]),{state:p.current?p.current.state:null,styles:l.styles,attributes:l.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}}},69619:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var i,r=n(30040),o=n(63336),s=n(28986),a=n(44297),l=n(36840),c=n(47370),d=n(55172),u=n(22835),p=n(80755);(e=>{e.isInsert=e=>"insert"in e,e.isInsertString=t=>(0,e.isInsert)(t)&&"string"==typeof t.insert,e.isInsertEmbed=t=>(0,e.isInsert)(t)&&!(0,e.isInsertString)(t),e.isDelete=e=>"delete"in e,e.isRetain=e=>"retain"in e,e.containsInsertsOnly=t=>t.ops.every(e.isInsert),e.getInsertLength=s.R.Op.length,e.getTrimmedInsertLength=t=>(0,e.isInsertString)(t)?t.insert.trim().length:1,e.match=(t,n,i)=>r=>(0,e.isInsert)(r)?t(r):(0,e.isDelete)(r)?n(r):i(r),e.getAttr=function(t,n){return(0,e.isDelete)(t)||!t.attributes?a.none:"function"==typeof n?(0,o.pipe)(a.fromNullable(Object.keys(t.attributes).find(n)),a.map((e=>t.attributes[e]))):a.fromNullable(t.attributes[n])},e.operationLength=s.R.Op.length;const t=e=>-e.delete;e.getOperationOffset=(0,e.match)(s.R.Op.length,t,s.R.Op.length);const n=e=>t=>t.ops.map(e).reduce(l.cz,0),i=()=>0;e.calcDiffLength=n((0,e.match)(s.R.Op.length,t,i)),e.calcAmountLength=n((0,e.match)(s.R.Op.length,s.R.Op.length,i)),e.calcAffectedLength=n((0,e.match)(i,s.R.Op.length,s.R.Op.length)),e.rangeOfTheChange=function(t){const n=(0,e.match)(r.constTrue,r.constTrue,(e=>Boolean(e.attributes)));return t.ops.reduce((([t,i],r)=>{const s=(0,e.operationLength)(r),l=i+s;return[(0,o.pipe)(t,a.fold((()=>n(r)?a.some([i,l]):a.none),(e=>n(r)?a.some([e[0],l]):a.some(e)))),l]}),[a.none,0])[0]},e.isEqual=t=>(n,i)=>(0,e.match)((n=>(0,e.isInsert)(i)&&n.insert===i.insert&&t(n.attributes,i.attributes)),(t=>(0,e.isDelete)(i)&&t.delete===i.delete),(n=>(0,e.isRetain)(i)&&n.retain===i.retain&&t(n.attributes,i.attributes)))(n),e.deltaEq=c.ee(((t,n)=>t.ops.length===n.ops.length&&d.qm(t.ops,n.ops,(0,e.isEqual)(u.bD)))),e.normalizeDelta=e=>(new s.R).compose(e);const m=e=>e&&Object.keys(e).reduce(((t,n)=>(t[n]="string"==typeof e[n]?`<${e[n].length}>`:e[n],t)),{});e.anonymizeTextAndStringAttrs=function(t){return t.ops.reduce(((t,n)=>(0,e.match)((n=>t.insert("string"==typeof n.insert?`<${(0,e.getInsertLength)(n)}>`:"<embed>",m(n.attributes))),(e=>t.delete(e.delete)),(e=>t.retain(e.retain,m(e.attributes))))(n)),new s.R)},e.squash=function(e){return e.reduce(((e,t)=>e.compose(new s.R(t))),new s.R)},e.cleanAllAttrs=function(t){return t.reduce(((t,n)=>(0,e.match)((e=>t.insert(e.insert)),(e=>t.delete(e.delete)),(e=>t.retain(e.retain)))(n)),new s.R)};const f=e=>a.fromNullable(e.attributes);e.getAttrs=(0,e.match)(f,(()=>a.none),f),e.skipAny=r.constFalse,e.cleanDelta=(t,n)=>i=>{const r=e=>e&&Object.keys(e).filter(((e,t,i)=>n(e,i.slice(0)))).reduce(((t,n)=>(t[n]=e[n],t)),{});return i.reduce(((n,i)=>(0,e.match)((e=>n.insert("string"==typeof e.insert||t(e.insert)?e.insert:" ",r(e.attributes))),(e=>n.delete(e.delete)),(e=>n.retain(e.retain,r(e.attributes))))(i)),new s.R)},e.splitToDeleteThenInsert=t=>t.reduce((([t,n],i)=>e.match((e=>[t,n.push(e)]),(e=>[t.push(e),n]),(e=>[t.push({retain:e.retain}),n.push(e)]))(i)),[new s.R,new s.R]).map((e=>e.chop())),e.nonEmpty=e=>e.ops.length>0,e.findInDelta=function(e,t=i){return n=>{let i=0,r=0;for(;i<n.ops.length;){const o=n.ops[i];if(e(o))return r+=t(o),a.some(r);r+=s.R.Op.length(o),i+=1}return a.none}},e.getOps=(0,r.flow)(u.Up("ops"),a.fromNullable,a.chain(p.ci))})(i||(i={}))},9198:(e,t,n)=>{"use strict";n.d(t,{lY:()=>r});var i,r,o,s=n(30040),a=n(28986),l=n(23121),c=n(58889),d=n(69619);(i||(i={})).split=(e,t)=>[e],(e=>{e.fromArrayOfDeltas=(t,n)=>{let i=n;return t.map((t=>{const n=e.delta(t,i);return i+=d.E.calcDiffLength(t),n}))};class t{constructor(e,t){this.delta=e,this.prevLen=t,this.kind="delta",this._length=void 0,this._amount=void 0,this._text=void 0}get length(){return this._length||(this._length=d.E.calcDiffLength(this.delta))}get amount(){return this._amount||(this._amount=d.E.calcAmountLength(this.delta))}get text(){return this._text||(this._text=l.zb((()=>this.delta.ops.reduce(((e,t)=>d.E.match((t=>`${e}${t.insert}`),(()=>{throw new Error("can not get text on delta with deletes")}),(()=>{throw new Error("can not get text on delta with retains")}))(t)),""))))}get isEmpty(){return 0===this.delta.ops.length}compose(e){const n=this.delta.compose(e.delta);return new t(n,this.prevLen)}transform(e,n=!0){const i=e.delta.transform(this.delta,n),r=this.prevLen+e.length;return new t(i,r)}toJSON(){return{kind:this.kind,delta:d.E.anonymizeTextAndStringAttrs(this.delta),prevLen:this.prevLen,length:this.length,amount:this.amount}}toString(){return`Delta(${this.delta}, pl: ${this.prevLen})`}}class n{constructor(){this.kind="flush"}toString(){return"Flush()"}}class i{constructor(e){this.delta=e,this.kind="reset"}get text(){return this._text||(this._text=l.zb((()=>this.delta.ops.reduce(((e,t)=>{if(d.E.isInsert(t))return`${e}${t.insert}`;throw d.E.isDelete(t)?new Error("can not get text on delta with deletes"):new Error("can not get text on delta with retains")}),""))))}get length(){return this._length||(this._length=d.E.calcDiffLength(this.delta))}compose(e){return o(this.delta.compose(e.delta))}toJSON(){return{kind:this.kind,delta:d.E.anonymizeTextAndStringAttrs(this.delta),length:this.length}}toString(){return`Reset(${this.delta})`}}function r(e,n=0){return new t(e,n)}function o(e){return d.E.containsInsertsOnly(e)?c.right(new i(e)):c.left(new Error(`Delta should contains only inserts to be Reset, but got ${JSON.stringify(d.E.anonymizeTextAndStringAttrs(e))}`))}e.delta=r,e.ins=function(e,t,n=0){return r((new a.R).retain(e).insert(t),n)},e.del=function(e,t,n=0){return r((new a.R).retain(e).delete(t),n)},e.ret=function(e,t=0,n){return r((new a.R).retain(e,n),t)},e.res=o,e.unsafeRes=(0,s.flow)(o,l.$v),e.resFromText=function(e){return l.$v(o((new a.R).insert(e)))},e.flush=function(){return new n},e.isDelta=function(e){return"delta"===e.kind},e.isReset=function(e){return"reset"===e.kind},e.isFlush=function(e){return"flush"===e.kind}})(r||(r={})),(o||(o={})).diffAsChanges=function(e,t){const n=(new a.R).insert(e),i=(new a.R).insert(t);return r.delta(n.diff(i),e.length)}},97972:(e,t,n)=>{"use strict";n.d(t,{Vi:()=>c,pE:()=>l});var i=n(50659),r=n(76140),o=n(66836),s=n(19037);class a{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(null==t?void 0:t.childNodes)||[]}constructor(e){this.keyMap=new Map,this.iterable=e;let t,n=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&"section"===e.type)for(let t of e.childNodes)n(t)};for(let t of e)n(t);let i=0;for(let[e,n]of this.keyMap)t?(t.nextKey=e,n.prevKey=t.key):(this.firstKey=e,n.prevKey=void 0),"item"===n.type&&(n.index=i++),t=n,t.nextKey=void 0;this.lastKey=null==t?void 0:t.key}}function l(e){let{filter:t}=e,n=(0,r.R)(e),s=(0,i.useMemo)((()=>e.disabledKeys?new Set(e.disabledKeys):new Set),[e.disabledKeys]),l=(0,i.useCallback)((e=>new a(t?t(e):e)),[t]),c=(0,i.useMemo)((()=>({suppressTextValueWarning:e.suppressTextValueWarning})),[e.suppressTextValueWarning]),d=(0,o.Ge)(e,l,c),u=(0,i.useMemo)((()=>new(0,r.Y)(d,n)),[d,n]);const p=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(null!=n.focusedKey&&!d.getItem(n.focusedKey)){const e=p.current.getItem(n.focusedKey),t=[...p.current.getKeys()].map((e=>{const t=p.current.getItem(e);return"item"===t.type?t:null})).filter((e=>null!==e)),i=[...d.getKeys()].map((e=>{const t=d.getItem(e);return"item"===t.type?t:null})).filter((e=>null!==e)),r=t.length-i.length;let o,s=Math.min(r>1?Math.max(e.index-r+1,0):e.index,i.length-1);for(;s>=0;){if(!u.isDisabled(i[s].key)){o=i[s];break}s<i.length-1?s++:(s>e.index&&(s=e.index),s--)}n.setFocusedKey(o?o.key:null)}p.current=d}),[d,u,n,n.focusedKey]),{collection:d,disabledKeys:s,selectionManager:u}}function c(e){var t;let[n,r]=(0,s.PW)(e.selectedKey,null!==(t=e.defaultSelectedKey)&&void 0!==t?t:null,e.onSelectionChange),o=(0,i.useMemo)((()=>null!=n?[n]:[]),[n]),{collection:a,disabledKeys:c,selectionManager:d}=l({...e,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:o,onSelectionChange:t=>{let i=t.values().next().value;i===n&&e.onSelectionChange&&e.onSelectionChange(i),r(i)}}),u=null!=n?a.getItem(n):null;return{collection:a,disabledKeys:c,selectionManager:d,selectedKey:n,setSelectedKey:r,selectedItem:u}}},5949:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var i=n(41271)},44429:(e,t,n)=>{"use strict";n.d(t,{BN:()=>d,UE:()=>a,UU:()=>l,cY:()=>c,rD:()=>o});var i=n(37644);function r(e,t,n){let{reference:r,floating:o}=e;const s=(0,i.TV)(t),a=(0,i.Dz)(t),l=(0,i.sq)(a),c=(0,i.C0)(t),d="y"===s,u=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,m=r[l]/2-o[l]/2;let f;switch(c){case"top":f={x:u,y:r.y-o.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:p};break;case"left":f={x:r.x-o.width,y:p};break;default:f={x:r.x,y:r.y}}switch((0,i.Sg)(t)){case"start":f[a]-=m*(n&&d?-1:1);break;case"end":f[a]+=m*(n&&d?-1:1)}return f}const o=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:p}=r(d,i,c),m=i,f={},h=0;for(let n=0;n<l.length;n++){const{name:s,fn:g}=l[n],{x:v,y:b,data:y,reset:k}=await g({x:u,y:p,initialPlacement:i,placement:m,strategy:o,middlewareData:f,rects:d,platform:a,elements:{reference:e,floating:t}});u=null!=v?v:u,p=null!=b?b:p,f={...f,[s]:{...f[s],...y}},k&&h<=50&&(h++,"object"==typeof k&&(k.placement&&(m=k.placement),k.rects&&(d=!0===k.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):k.rects),({x:u,y:p}=r(d,m,c))),n=-1)}return{x:u,y:p,placement:m,strategy:o,middlewareData:f}};async function s(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:m=!1,padding:f=0}=(0,i._3)(t,e),h=(0,i.nI)(f),g=l[m?"floating"===p?"reference":"floating":p],v=(0,i.B1)(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(g)))||n?g:g.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b="floating"===p?{...a.floating,x:r,y:o}:a.reference,y=await(null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),k=await(null==s.isElement?void 0:s.isElement(y))&&await(null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},w=(0,i.B1)(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:y,strategy:c}):b);return{top:(v.top-w.top+h.top)/k.y,bottom:(w.bottom-v.bottom+h.bottom)/k.y,left:(v.left-w.left+h.left)/k.x,right:(w.right-v.right+h.right)/k.x}}const a=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=(0,i._3)(e,t)||{};if(null==d)return{};const p=(0,i.nI)(u),m={x:n,y:r},f=(0,i.Dz)(o),h=(0,i.sq)(f),g=await a.getDimensions(d),v="y"===f,b=v?"top":"left",y=v?"bottom":"right",k=v?"clientHeight":"clientWidth",w=s.reference[h]+s.reference[f]-m[f]-s.floating[h],E=m[f]-s.reference[f],S=await(null==a.getOffsetParent?void 0:a.getOffsetParent(d));let C=S?S[k]:0;C&&await(null==a.isElement?void 0:a.isElement(S))||(C=l.floating[k]||s.floating[h]);const _=w/2-E/2,x=C/2-g[h]/2-1,A=(0,i.jk)(p[b],x),I=(0,i.jk)(p[y],x),K=A,T=C-g[h]-I,O=C/2-g[h]/2+_,M=(0,i.qE)(K,O,T),F=!c.arrow&&null!=(0,i.Sg)(o)&&O!=M&&s.reference[h]/2-(O<K?A:I)-g[h]/2<0,R=F?O<K?O-K:O-T:0;return{[f]:m[f]+R,data:{[f]:M,centerOffset:O-M-R,...F&&{alignmentOffset:R}},reset:F}}}),l=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=(0,i._3)(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const y=(0,i.C0)(o),k=(0,i.C0)(c)===c,w=await(null==d.isRTL?void 0:d.isRTL(u.floating)),E=f||(k||!v?[(0,i.bV)(c)]:(0,i.WJ)(c));f||"none"===g||E.push(...(0,i.lP)(c,v,g,w));const S=[c,...E],C=await s(t,b),_=[];let x=(null==(r=a.flip)?void 0:r.overflows)||[];if(p&&_.push(C[y]),m){const e=(0,i.w7)(o,l,w);_.push(C[e[0]],C[e[1]])}if(x=[...x,{placement:o,overflows:_}],!_.every((e=>e<=0))){var A,I;const e=((null==(A=a.flip)?void 0:A.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:x},reset:{placement:t}};let n=null==(I=x.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:I.placement;if(!n)switch(h){case"bestFit":{var K;const e=null==(K=x.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:K[0];e&&(n=e);break}case"initialPlacement":n=c}if(o!==n)return{reset:{placement:n}}}return{}}}},c=function(e){return{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(e,t){const{placement:n,platform:r,elements:o}=e,s=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=(0,i.C0)(n),l=(0,i.Sg)(n),c="y"===(0,i.TV)(n),d=["left","top"].includes(a)?-1:1,u=s&&c?-1:1,p=(0,i._3)(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:h}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return l&&"number"==typeof h&&(f="end"===l?-1*h:h),c?{x:f*u,y:m*d}:{x:m*d,y:f*u}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},d=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...d}=(0,i._3)(e,t),u={x:n,y:r},p=await s(t,d),m=(0,i.TV)((0,i.C0)(o)),f=(0,i.PG)(m);let h=u[f],g=u[m];if(a){const e="y"===f?"bottom":"right",t=h+p["y"===f?"top":"left"],n=h-p[e];h=(0,i.qE)(t,h,n)}if(l){const e="y"===m?"bottom":"right",t=g+p["y"===m?"top":"left"],n=g-p[e];g=(0,i.qE)(t,g,n)}const v=c.fn({...t,[f]:h,[m]:g});return{...v,data:{x:v.x-n,y:v.y-r}}}}}},17804:(e,t,n)=>{"use strict";n.d(t,{UE:()=>K,ll:()=>x,rD:()=>T,UU:()=>I,iD:()=>_,BN:()=>A});var i=n(44429);const r=Math.min,o=Math.max,s=Math.round,a=Math.floor,l=e=>({x:e,y:e});var c=n(57792),d=n(37644);function u(e){const t=(0,c.L9)(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=(0,c.sb)(e),o=r?e.offsetWidth:n,a=r?e.offsetHeight:i,l=s(n)!==o||s(i)!==a;return l&&(n=o,i=a),{width:n,height:i,$:l}}function p(e){return(0,c.vq)(e)?e:e.contextElement}function m(e){const t=p(e);if(!(0,c.sb)(t))return l(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:o}=u(t);let a=(o?s(n.width):n.width)/i,d=(o?s(n.height):n.height)/r;return a&&Number.isFinite(a)||(a=1),d&&Number.isFinite(d)||(d=1),{x:a,y:d}}const f=l(0);function h(e){const t=(0,c.zk)(e);return(0,c.Tc)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:f}function g(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),o=p(e);let s=l(1);t&&(i?(0,c.vq)(i)&&(s=m(i)):s=m(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,c.zk)(e))&&t}(o,n,i)?h(o):l(0);let u=(r.left+a.x)/s.x,f=(r.top+a.y)/s.y,g=r.width/s.x,v=r.height/s.y;if(o){const e=(0,c.zk)(o),t=i&&(0,c.vq)(i)?(0,c.zk)(i):i;let n=e,r=n.frameElement;for(;r&&i&&t!==n;){const e=m(r),t=r.getBoundingClientRect(),i=(0,c.L9)(r),o=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,s=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;u*=e.x,f*=e.y,g*=e.x,v*=e.y,u+=o,f+=s,n=(0,c.zk)(r),r=n.frameElement}}return(0,d.B1)({width:g,height:v,x:u,y:f})}const v=[":popover-open",":modal"];function b(e){return v.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function y(e){return g((0,c.ep)(e)).left+(0,c.CP)(e).scrollLeft}function k(e,t,n){let i;if("viewport"===t)i=function(e,t){const n=(0,c.zk)(e),i=(0,c.ep)(e),r=n.visualViewport;let o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;const e=(0,c.Tc)();(!e||e&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a,y:l}}(e,n);else if("document"===t)i=function(e){const t=(0,c.ep)(e),n=(0,c.CP)(e),i=e.ownerDocument.body,r=o(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=o(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+y(e);const l=-n.scrollTop;return"rtl"===(0,c.L9)(i).direction&&(a+=o(t.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:l}}((0,c.ep)(e));else if((0,c.vq)(t))i=function(e,t){const n=g(e,!0,"fixed"===t),i=n.top+e.clientTop,r=n.left+e.clientLeft,o=(0,c.sb)(e)?m(e):l(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:r*o.x,y:i*o.y}}(t,n);else{const n=h(e);i={...t,x:t.x-n.x,y:t.y-n.y}}return(0,d.B1)(i)}function w(e,t){const n=(0,c.$4)(e);return!(n===t||!(0,c.vq)(n)||(0,c.eu)(n))&&("fixed"===(0,c.L9)(n).position||w(n,t))}function E(e,t,n){const i=(0,c.sb)(t),r=(0,c.ep)(t),o="fixed"===n,s=g(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const d=l(0);if(i||!i&&!o)if(("body"!==(0,c.mq)(t)||(0,c.ZU)(r))&&(a=(0,c.CP)(t)),i){const e=g(t,!0,o,t);d.x=e.x+t.clientLeft,d.y=e.y+t.clientTop}else r&&(d.x=y(r));return{x:s.left+a.scrollLeft-d.x,y:s.top+a.scrollTop-d.y,width:s.width,height:s.height}}function S(e,t){return(0,c.sb)(e)&&"fixed"!==(0,c.L9)(e).position?t?t(e):e.offsetParent:null}function C(e,t){const n=(0,c.zk)(e);if(!(0,c.sb)(e)||b(e))return n;let i=S(e,t);for(;i&&(0,c.Lv)(i)&&"static"===(0,c.L9)(i).position;)i=S(i,t);return i&&("html"===(0,c.mq)(i)||"body"===(0,c.mq)(i)&&"static"===(0,c.L9)(i).position&&!(0,c.sQ)(i))?n:i||(0,c.gJ)(e)||n}const _={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e;const o="fixed"===r,s=(0,c.ep)(i),a=!!t&&b(t.floating);if(i===s||a&&o)return n;let d={scrollLeft:0,scrollTop:0},u=l(1);const p=l(0),f=(0,c.sb)(i);if((f||!f&&!o)&&(("body"!==(0,c.mq)(i)||(0,c.ZU)(s))&&(d=(0,c.CP)(i)),(0,c.sb)(i))){const e=g(i);u=m(i),p.x=e.x+i.clientLeft,p.y=e.y+i.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+p.x,y:n.y*u.y-d.scrollTop*u.y+p.y}},getDocumentElement:c.ep,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const a=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let i=(0,c.v9)(e,[],!1).filter((e=>(0,c.vq)(e)&&"body"!==(0,c.mq)(e))),r=null;const o="fixed"===(0,c.L9)(e).position;let s=o?(0,c.$4)(e):e;for(;(0,c.vq)(s)&&!(0,c.eu)(s);){const t=(0,c.L9)(s),n=(0,c.sQ)(s);n||"fixed"!==t.position||(r=null),(o?!n&&!r:!n&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||(0,c.ZU)(s)&&!n&&w(e,s))?i=i.filter((e=>e!==s)):r=t,s=(0,c.$4)(s)}return t.set(e,i),i}(t,this._c):[].concat(n),i],l=a[0],d=a.reduce(((e,n)=>{const i=k(t,n,s);return e.top=o(i.top,e.top),e.right=r(i.right,e.right),e.bottom=r(i.bottom,e.bottom),e.left=o(i.left,e.left),e}),k(t,l,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}},getOffsetParent:C,getElementRects:async function(e){const t=this.getOffsetParent||C,n=this.getDimensions;return{reference:E(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=u(e);return{width:t,height:n}},getScale:m,isElement:c.vq,isRTL:function(e){return"rtl"===(0,c.L9)(e).direction}};function x(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:d="function"==typeof ResizeObserver,layoutShift:u="function"==typeof IntersectionObserver,animationFrame:m=!1}=i,f=p(e),h=s||l?[...f?(0,c.v9)(f):[],...(0,c.v9)(t)]:[];h.forEach((e=>{s&&e.addEventListener("scroll",n,{passive:!0}),l&&e.addEventListener("resize",n)}));const v=f&&u?function(e,t){let n,i=null;const s=(0,c.ep)(e);function l(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function c(d,u){void 0===d&&(d=!1),void 0===u&&(u=1),l();const{left:p,top:m,width:f,height:h}=e.getBoundingClientRect();if(d||t(),!f||!h)return;const g={rootMargin:-a(m)+"px "+-a(s.clientWidth-(p+f))+"px "+-a(s.clientHeight-(m+h))+"px "+-a(p)+"px",threshold:o(0,r(1,u))||1};let v=!0;function b(e){const t=e[0].intersectionRatio;if(t!==u){if(!v)return c();t?c(!1,t):n=setTimeout((()=>{c(!1,1e-7)}),100)}v=!1}try{i=new IntersectionObserver(b,{...g,root:s.ownerDocument})}catch(e){i=new IntersectionObserver(b,g)}i.observe(e)}(!0),l}(f,n):null;let b,y=-1,k=null;d&&(k=new ResizeObserver((e=>{let[i]=e;i&&i.target===f&&k&&(k.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{var e;null==(e=k)||e.observe(t)}))),n()})),f&&!m&&k.observe(f),k.observe(t));let w=m?g(e):null;return m&&function t(){const i=g(e);!w||i.x===w.x&&i.y===w.y&&i.width===w.width&&i.height===w.height||n(),w=i,b=requestAnimationFrame(t)}(),n(),()=>{var e;h.forEach((e=>{s&&e.removeEventListener("scroll",n),l&&e.removeEventListener("resize",n)})),null==v||v(),null==(e=k)||e.disconnect(),k=null,m&&cancelAnimationFrame(b)}}const A=i.BN,I=i.UU,K=i.UE,T=(e,t,n)=>{const r=new Map,o={platform:_,...n},s={...o.platform,_c:r};return(0,i.rD)(e,t,{...o,platform:s})}},2181:(e,t,n)=>{"use strict";n.d(t,{UE:()=>s,we:()=>p});var i=n(17804),r=n(50659),o=n(53493);const s=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?(0,i.UE)({element:n.current,padding:r}).fn(t):{}:n?(0,i.UE)({element:n,padding:r}).fn(t):{};var o}});var a="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;function l(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,i,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;0!=i--;)if(!l(e[i],t[i]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(i=n;0!=i--;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=n;0!=i--;){const n=r[i];if(!("_owner"===n&&e.$$typeof||l(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function c(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function d(e,t){const n=c(e);return Math.round(t*n)/n}function u(e){const t=r.useRef(e);return a((()=>{t.current=e})),t}function p(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:p,elements:{reference:m,floating:f}={},transform:h=!0,whileElementsMounted:g,open:v}=e,[b,y]=r.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[k,w]=r.useState(s);l(k,s)||w(s);const[E,S]=r.useState(null),[C,_]=r.useState(null),x=r.useCallback((e=>{e!==T.current&&(T.current=e,S(e))}),[]),A=r.useCallback((e=>{e!==O.current&&(O.current=e,_(e))}),[]),I=m||E,K=f||C,T=r.useRef(null),O=r.useRef(null),M=r.useRef(b),F=null!=g,R=u(g),B=u(p),N=r.useCallback((()=>{if(!T.current||!O.current)return;const e={placement:t,strategy:n,middleware:k};B.current&&(e.platform=B.current),(0,i.rD)(T.current,O.current,e).then((e=>{const t={...e,isPositioned:!0};P.current&&!l(M.current,t)&&(M.current=t,o.flushSync((()=>{y(t)})))}))}),[k,t,n,B]);a((()=>{!1===v&&M.current.isPositioned&&(M.current.isPositioned=!1,y((e=>({...e,isPositioned:!1}))))}),[v]);const P=r.useRef(!1);a((()=>(P.current=!0,()=>{P.current=!1})),[]),a((()=>{if(I&&(T.current=I),K&&(O.current=K),I&&K){if(R.current)return R.current(I,K,N);N()}}),[I,K,N,R,F]);const D=r.useMemo((()=>({reference:T,floating:O,setReference:x,setFloating:A})),[x,A]),j=r.useMemo((()=>({reference:I,floating:K})),[I,K]),L=r.useMemo((()=>{const e={position:n,left:0,top:0};if(!j.floating)return e;const t=d(j.floating,b.x),i=d(j.floating,b.y);return h?{...e,transform:"translate("+t+"px, "+i+"px)",...c(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:i}}),[n,h,j.floating,b.x,b.y]);return r.useMemo((()=>({...b,update:N,refs:D,elements:j,floatingStyles:L})),[b,N,D,j,L])}},54434:(e,t,n)=>{"use strict";n.d(t,{ie:()=>Q,s3:()=>Fe,XF:()=>xe,kp:()=>Ne,s9:()=>Le,we:()=>Ue,iQ:()=>$e,Mk:()=>re,bv:()=>We,SV:()=>D,It:()=>Ge,$X:()=>Qe});var i=n(50659),r=n.t(i,2),o=n(57792);function s(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function a(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&(0,o.Ng)(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function l(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function c(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function d(e){return!c().includes("jsdom/")&&(!p()&&0===e.width&&0===e.height||p()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function u(){return/apple/i.test(navigator.vendor)}function p(){const e=/android/i;return e.test(l())||e.test(c())}function m(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function f(e){return(null==e?void 0:e.ownerDocument)||document}function h(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function g(e){return"composedPath"in e?e.composedPath()[0]:e.target}const v="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function b(e){return(0,o.sb)(e)&&e.matches(v)}function y(e){e.preventDefault(),e.stopPropagation()}var k=n(2181),w=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),E="undefined"==typeof Element,S=E?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,C=!E&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},_=function e(t,n){var i;void 0===n&&(n=!0);var r=null==t||null===(i=t.getAttribute)||void 0===i?void 0:i.call(t,"inert");return""===r||"true"===r||n&&t&&e(t.parentNode)},x=function e(t,n,i){for(var r=[],o=Array.from(t);o.length;){var s=o.shift();if(!_(s,!1))if("SLOT"===s.tagName){var a=s.assignedElements(),l=e(a.length?a:s.children,!0,i);i.flatten?r.push.apply(r,l):r.push({scopeParent:s,candidates:l})}else{S.call(s,w)&&i.filter(s)&&(n||!t.includes(s))&&r.push(s);var c=s.shadowRoot||"function"==typeof i.getShadowRoot&&i.getShadowRoot(s),d=!_(c,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(s));if(c&&d){var u=e(!0===c?s.children:c.children,!0,i);i.flatten?r.push.apply(r,u):r.push({scopeParent:s,candidates:u})}else o.unshift.apply(o,s.children)}}return r},A=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},I=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},K=function(e){return"INPUT"===e.tagName},T=function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return 0===n&&0===i},O=function(e,t){return!(t.disabled||_(t)||function(e){return K(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,i=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var r=S.call(e,"details>summary:first-of-type")?e.parentElement:e;if(S.call(r,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return T(e)}else{if("function"==typeof i){for(var o=e;e;){var s=e.parentElement,a=C(e);if(s&&!s.shadowRoot&&!0===i(s))return T(e);e=e.assignedSlot?e.assignedSlot:s||a===e.ownerDocument?s:a.host}e=o}if(function(e){var t,n,i,r,o=e&&C(e),s=null===(t=o)||void 0===t?void 0:t.host,a=!1;if(o&&o!==e)for(a=!!(null!==(n=s)&&void 0!==n&&null!==(i=n.ownerDocument)&&void 0!==i&&i.contains(s)||null!=e&&null!==(r=e.ownerDocument)&&void 0!==r&&r.contains(e));!a&&s;){var l,c,d;a=!(null===(c=s=null===(l=o=C(s))||void 0===l?void 0:l.host)||void 0===c||null===(d=c.ownerDocument)||void 0===d||!d.contains(s))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var i=t.children.item(n);if("LEGEND"===i.tagName)return!!S.call(t,"fieldset[disabled] *")||!i.contains(e)}return!0}t=t.parentElement}return!1}(t))},M=function(e,t){return!(function(e){return function(e){return K(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||C(e),i=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=i(window.CSS.escape(e.name));else try{t=i(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var r=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!r||r===e}(e)}(t)||A(t)<0||!O(e,t))},F=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},R=function e(t){var n=[],i=[];return t.forEach((function(t,r){var o=!!t.scopeParent,s=o?t.scopeParent:t,a=A(s,o),l=o?e(t.candidates):s;0===a?o?n.push.apply(n,l):n.push(s):i.push({documentOrder:r,tabIndex:a,item:t,isScope:o,content:l})})),i.sort(I).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},B=function(e,t){var n;return n=(t=t||{}).getShadowRoot?x([e],t.includeContainer,{filter:M.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:F}):function(e,t,n){if(_(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(w));return t&&S.call(e,w)&&i.unshift(e),i.filter(n)}(e,t.includeContainer,M.bind(null,t)),R(n)},N=n(53493),P=n(17804);function D(e){return i.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}),e)}const j=r["useInsertionEffect".toString()]||(e=>e());function L(e){const t=i.useRef((()=>{}));return j((()=>{t.current=e})),i.useCallback((function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return null==t.current?void 0:t.current(...n)}),[])}let U=0;function $(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:i=!0,sync:r=!1}=t;i&&cancelAnimationFrame(U);const o=()=>null==e?void 0:e.focus({preventScroll:n});r?o():U=requestAnimationFrame(o)}var H="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},V.apply(this,arguments)}let z=!1,W=0;const Z=()=>"floating-ui-"+W++,G=r["useId".toString()]||function(){const[e,t]=i.useState((()=>z?Z():void 0));return H((()=>{null==e&&t(Z())}),[]),i.useEffect((()=>{z||(z=!0)}),[]),e},Q=i.forwardRef((function(e,t){let{context:{placement:n,elements:{floating:r},middlewareData:{arrow:o}},width:s=14,height:a=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:d,stroke:u,d:p,style:{transform:m,...f}={},...h}=e;const g=G();if(!r)return null;c*=2;const v=c/2,b=s/2*(l/-8+1),y=a/2*l/4,[k,w]=n.split("-"),E=P.iD.isRTL(r),S=!!p,C="top"===k||"bottom"===k,_=d&&"end"===w?"bottom":"top";let x=d&&"end"===w?"right":"left";d&&E&&(x="end"===w?"left":"right");const A=null!=(null==o?void 0:o.x)?d||o.x:"",I=null!=(null==o?void 0:o.y)?d||o.y:"",K=p||"M0,0 H"+s+" L"+(s-b)+","+(a-y)+" Q"+s/2+","+a+" "+b+","+(a-y)+" Z",T={top:S?"rotate(180deg)":"",left:S?"rotate(90deg)":"rotate(-90deg)",bottom:S?"":"rotate(180deg)",right:S?"rotate(-90deg)":"rotate(90deg)"}[k];return i.createElement("svg",V({},h,{"aria-hidden":!0,ref:t,width:S?s:s+c,height:s,viewBox:"0 0 "+s+" "+(a>s?a:s),style:{position:"absolute",pointerEvents:"none",[x]:A,[_]:I,[k]:C||S?"100%":"calc(100% - "+c/2+"px)",transform:""+T+(null!=m?m:""),...f}}),c>0&&i.createElement("path",{clipPath:"url(#"+g+")",fill:"none",stroke:u,strokeWidth:c+(p?0:1),d:K}),i.createElement("path",{stroke:c&&!p?h.fill:"none",d:K}),i.createElement("clipPath",{id:g},i.createElement("rect",{x:-v,y:v*(S?-1:1),width:s+c,height:s})))})),q=i.createContext(null),J=i.createContext(null),Y=()=>{var e;return(null==(e=i.useContext(q))?void 0:e.id)||null},X=()=>i.useContext(J);function ee(e){return"data-floating-ui-"+e}function te(e){const t=(0,i.useRef)(e);return H((()=>{t.current=e})),t}const ne=ee("safe-polygon");function ie(e,t,n){return n&&!m(n)?0:"number"==typeof e?e:null==e?void 0:e[t]}function re(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:s,events:l,elements:{domReference:c,floating:d},refs:u}=e,{enabled:p=!0,delay:h=0,handleClose:g=null,mouseOnly:v=!1,restMs:b=0,move:y=!0}=t,k=X(),w=Y(),E=te(g),S=te(h),C=i.useRef(),_=i.useRef(),x=i.useRef(),A=i.useRef(),I=i.useRef(!0),K=i.useRef(!1),T=i.useRef((()=>{})),O=i.useCallback((()=>{var e;const t=null==(e=s.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[s]);i.useEffect((()=>{if(p)return l.on("openchange",e),()=>{l.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(_.current),clearTimeout(A.current),I.current=!0)}}),[p,l]),i.useEffect((()=>{if(!p||!E.current||!n)return;function e(e){O()&&r(!1,e,"hover")}const t=f(d).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[d,n,r,p,E,O]);const M=i.useCallback((function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const i=ie(S.current,"close",C.current);i&&!x.current?(clearTimeout(_.current),_.current=setTimeout((()=>r(!1,e,n)),i)):t&&(clearTimeout(_.current),r(!1,e,n))}),[S,r]),F=i.useCallback((()=>{T.current(),x.current=void 0}),[]),R=i.useCallback((()=>{if(K.current){const e=f(u.floating.current).body;e.style.pointerEvents="",e.removeAttribute(ne),K.current=!1}}),[u]);return i.useEffect((()=>{if(p&&(0,o.vq)(c)){const e=c;return n&&e.addEventListener("mouseleave",u),null==d||d.addEventListener("mouseleave",u),y&&e.addEventListener("mousemove",i,{once:!0}),e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",l),()=>{n&&e.removeEventListener("mouseleave",u),null==d||d.removeEventListener("mouseleave",u),y&&e.removeEventListener("mousemove",i),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",l)}}function t(){return!!s.current.openEvent&&["click","mousedown"].includes(s.current.openEvent.type)}function i(e){if(clearTimeout(_.current),I.current=!1,v&&!m(C.current)||b>0&&0===ie(S.current,"open"))return;const t=ie(S.current,"open",C.current);t?_.current=setTimeout((()=>{r(!0,e,"hover")}),t):r(!0,e,"hover")}function l(i){if(t())return;T.current();const r=f(d);if(clearTimeout(A.current),E.current){n||clearTimeout(_.current),x.current=E.current({...e,tree:k,x:i.clientX,y:i.clientY,onClose(){R(),F(),M(i,!0,"safe-polygon")}});const t=x.current;return r.addEventListener("mousemove",t),void(T.current=()=>{r.removeEventListener("mousemove",t)})}("touch"!==C.current||!a(d,i.relatedTarget))&&M(i)}function u(n){t()||null==E.current||E.current({...e,tree:k,x:n.clientX,y:n.clientY,onClose(){R(),F(),M(n)}})(n)}}),[c,d,p,e,v,b,y,M,F,R,r,n,k,S,E,s]),H((()=>{var e;if(p&&n&&null!=(e=E.current)&&e.__options.blockPointerEvents&&O()){const e=f(d).body;if(e.setAttribute(ne,""),e.style.pointerEvents="none",K.current=!0,(0,o.vq)(c)&&d){var t;const e=c,n=null==k||null==(t=k.nodesRef.current.find((e=>e.id===w)))||null==(t=t.context)?void 0:t.elements.floating;return n&&(n.style.pointerEvents=""),e.style.pointerEvents="auto",d.style.pointerEvents="auto",()=>{e.style.pointerEvents="",d.style.pointerEvents=""}}}}),[p,n,w,d,c,k,E,O]),H((()=>{n||(C.current=void 0,F(),R())}),[n,F,R]),i.useEffect((()=>()=>{F(),clearTimeout(_.current),clearTimeout(A.current),R()}),[p,c,F,R]),i.useMemo((()=>{if(!p)return{};function e(e){C.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(e){n||0===b||(clearTimeout(A.current),A.current=setTimeout((()=>{I.current||r(!0,e.nativeEvent,"hover")}),b))}},floating:{onMouseEnter(){clearTimeout(_.current)},onMouseLeave(e){M(e.nativeEvent,!1)}}}}),[p,b,n,r,M])}function oe(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),i=n;for(;i.length;)i=e.filter((e=>{var t;return null==(t=i)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(i);return n}let se=new WeakMap,ae=new WeakSet,le={},ce=0;const de=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,ue=e=>e&&(e.host||ue(e.parentNode)),pe=(e,t)=>t.map((t=>{if(e.contains(t))return t;const n=ue(t);return e.contains(n)?n:null})).filter((e=>null!=e));function me(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=f(e[0]).body;return function(e,t,n,i){const r="data-floating-ui-inert",o=i?"inert":n?"aria-hidden":null,s=pe(t,e),a=new Set,l=new Set(s),c=[];le[r]||(le[r]=new WeakMap);const d=le[r];return s.forEach((function e(t){t&&!a.has(t)&&(a.add(t),t.parentNode&&e(t.parentNode))})),function e(t){t&&!l.has(t)&&Array.prototype.forEach.call(t.children,(t=>{if(a.has(t))e(t);else{const e=o?t.getAttribute(o):null,n=null!==e&&"false"!==e,i=(se.get(t)||0)+1,s=(d.get(t)||0)+1;se.set(t,i),d.set(t,s),c.push(t),1===i&&n&&ae.add(t),1===s&&t.setAttribute(r,""),!n&&o&&t.setAttribute(o,"true")}}))}(t),a.clear(),ce++,()=>{c.forEach((e=>{const t=(se.get(e)||0)-1,n=(d.get(e)||0)-1;se.set(e,t),d.set(e,n),t||(!ae.has(e)&&o&&e.removeAttribute(o),ae.delete(e)),n||e.removeAttribute(r)})),ce--,ce||(se=new WeakMap,se=new WeakMap,ae=new WeakSet,le={})}}(e.concat(Array.from(i.querySelectorAll("[aria-live]"))),i,t,n)}const fe=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function he(e,t){const n=B(e,fe());"prev"===t&&n.reverse();const i=n.indexOf(s(f(e)));return n.slice(i+1)[0]}function ge(){return he(document.body,"next")}function ve(){return he(document.body,"prev")}function be(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!a(n,i)}function ye(e){B(e,fe()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function ke(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const we={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Ee(e){"Tab"===e.key&&(e.target,clearTimeout(void 0))}const Se=i.forwardRef((function(e,t){const[n,r]=i.useState();H((()=>(u()&&r("button"),document.addEventListener("keydown",Ee),()=>{document.removeEventListener("keydown",Ee)})),[]);const o={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[ee("focus-guard")]:"",style:we};return i.createElement("span",V({},e,o))})),Ce=i.createContext(null),_e=ee("portal");function xe(e){let{children:t,id:n,root:r=null,preserveTabOrder:s=!0}=e;const a=function(e){let{id:t,root:n}=void 0===e?{}:e;const[r,s]=i.useState(null),a=G(),l=Ae(),c=i.useRef(null);return H((()=>()=>{null==r||r.remove(),queueMicrotask((()=>{c.current=null}))}),[r]),H((()=>{if(c.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=a,n.setAttribute(_e,""),e.appendChild(n),c.current=n,s(n)}),[t,a]),H((()=>{if(c.current)return;let e=n||(null==l?void 0:l.portalNode);e&&!(0,o.vq)(e)&&(e=e.current),e=e||document.body;let i=null;t&&(i=document.createElement("div"),i.id=t,e.appendChild(i));const r=document.createElement("div");r.id=a,r.setAttribute(_e,""),e=i||e,e.appendChild(r),c.current=r,s(r)}),[t,n,a,l]),r}({id:n,root:r}),[l,c]=i.useState(null),d=i.useRef(null),u=i.useRef(null),p=i.useRef(null),m=i.useRef(null),f=!!l&&!l.modal&&l.open&&s&&!(!r&&!a);return i.useEffect((()=>{if(a&&s&&(null==l||!l.modal))return a.addEventListener("focusin",e,!0),a.addEventListener("focusout",e,!0),()=>{a.removeEventListener("focusin",e,!0),a.removeEventListener("focusout",e,!0)};function e(e){a&&be(e)&&("focusin"===e.type?ke:ye)(a)}}),[a,s,null==l?void 0:l.modal]),i.createElement(Ce.Provider,{value:i.useMemo((()=>({preserveTabOrder:s,beforeOutsideRef:d,afterOutsideRef:u,beforeInsideRef:p,afterInsideRef:m,portalNode:a,setFocusManagerState:c})),[s,a])},f&&a&&i.createElement(Se,{"data-type":"outside",ref:d,onFocus:e=>{if(be(e,a)){var t;null==(t=p.current)||t.focus()}else{const e=ve()||(null==l?void 0:l.refs.domReference.current);null==e||e.focus()}}}),f&&a&&i.createElement("span",{"aria-owns":a.id,style:we}),a&&(0,N.createPortal)(t,a),f&&a&&i.createElement(Se,{"data-type":"outside",ref:u,onFocus:e=>{if(be(e,a)){var t;null==(t=m.current)||t.focus()}else{const t=ge()||(null==l?void 0:l.refs.domReference.current);null==t||t.focus(),(null==l?void 0:l.closeOnFocusOut)&&(null==l||l.onOpenChange(!1,e.nativeEvent))}}}))}const Ae=()=>i.useContext(Ce),Ie=20;let Ke=[];function Te(e){Ke=Ke.filter((e=>e.isConnected)),e&&"body"!==(0,o.mq)(e)&&(Ke.push(e),Ke.length>Ie&&(Ke=Ke.slice(-Ie)))}function Oe(){return Ke.slice().reverse().find((e=>e.isConnected))}const Me=i.forwardRef((function(e,t){return i.createElement("button",V({},e,{type:"button",ref:t,tabIndex:-1,style:we}))}));function Fe(e){const{context:t,children:n,disabled:r=!1,order:l=["content"],guards:c=!0,initialFocus:u=0,returnFocus:m=!0,modal:h=!0,visuallyHiddenDismiss:v=!1,closeOnFocusOut:k=!0}=e,{open:w,refs:E,nodeId:S,onOpenChange:C,events:_,dataRef:x,elements:{domReference:A,floating:I}}=t,K="number"==typeof u&&u<0,T=!!(O=A)&&"combobox"===O.getAttribute("role")&&b(O)&&K;var O;const M=!de()||c,F=te(l),R=te(u),N=te(m),P=X(),D=Ae(),j=i.useRef(null),L=i.useRef(null),U=i.useRef(!1),V=i.useRef(!1),z=null!=D,W=i.useCallback((function(e){return void 0===e&&(e=I),e?B(e,fe()):[]}),[I]),Z=i.useCallback((e=>{const t=W(e);return F.current.map((e=>A&&"reference"===e?A:I&&"floating"===e?I:t)).filter(Boolean).flat()}),[A,I,F,W]);function G(e){return!r&&v&&h?i.createElement(Me,{ref:"start"===e?j:L,onClick:e=>C(!1,e.nativeEvent)},"string"==typeof v?v:"Dismiss"):null}i.useEffect((()=>{if(r||!h)return;function e(e){if("Tab"===e.key){a(I,s(f(I)))&&0===W().length&&!T&&y(e);const t=Z(),n=g(e);"reference"===F.current[0]&&n===A&&(y(e),e.shiftKey?$(t[t.length-1]):$(t[1])),"floating"===F.current[1]&&n===I&&e.shiftKey&&(y(e),$(t[0]))}}const t=f(I);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[r,A,I,h,F,T,W,Z]),i.useEffect((()=>{if(!r&&k)return I&&(0,o.sb)(A)?(A.addEventListener("focusout",t),A.addEventListener("pointerdown",e),!h&&I.addEventListener("focusout",t),()=>{A.removeEventListener("focusout",t),A.removeEventListener("pointerdown",e),!h&&I.removeEventListener("focusout",t)}):void 0;function e(){V.current=!0,setTimeout((()=>{V.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!(a(A,t)||a(I,t)||a(t,I)||a(null==D?void 0:D.portalNode,t)||null!=t&&t.hasAttribute(ee("focus-guard"))||P&&(oe(P.nodesRef.current,S).find((e=>{var n,i;return a(null==(n=e.context)?void 0:n.elements.floating,t)||a(null==(i=e.context)?void 0:i.elements.domReference,t)}))||function(e,t){var n;let i=[],r=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;r;){const t=e.find((e=>e.id===r));r=null==t?void 0:t.parentId,t&&(i=i.concat(t))}return i}(P.nodesRef.current,S).find((e=>{var n,i;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(i=e.context)?void 0:i.elements.domReference)===t}))));t&&n&&!V.current&&t!==Oe()&&(U.current=!0,C(!1,e))}))}}),[r,A,I,h,S,P,D,C,k]),i.useEffect((()=>{var e;if(r)return;const t=Array.from((null==D||null==(e=D.portalNode)?void 0:e.querySelectorAll("["+ee("portal")+"]"))||[]);if(I){const e=[I,...t,j.current,L.current,F.current.includes("reference")||T?A:null].filter((e=>null!=e)),n=h||T?me(e,M,!M):me(e);return()=>{n()}}}),[r,A,I,h,F,D,T,M]),H((()=>{if(r||!I)return;const e=s(f(I));queueMicrotask((()=>{const t=Z(I),n=R.current,i=("number"==typeof n?t[n]:n.current)||I,r=a(I,e);K||r||!w||$(i,{preventScroll:i===I})}))}),[r,w,I,K,Z,R]),H((()=>{if(r||!I)return;let e=!1;const t=f(I),n=s(t),i=x.current;function l(t){let{reason:n,event:i,nested:r}=t;"escape-key"===n&&E.domReference.current&&Te(E.domReference.current),"hover"===n&&"mouseleave"===i.type&&(U.current=!0),"outside-press"===n&&(r?(U.current=!1,e=!0):U.current=!(function(e){return!(0!==e.mozInputSource||!e.isTrusted)||(p()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}(i)||d(i)))}return Te(n),_.on("openchange",l),()=>{_.off("openchange",l);const n=s(t),r=a(I,n)||P&&oe(P.nodesRef.current,S).some((e=>{var t;return a(null==(t=e.context)?void 0:t.elements.floating,n)}));(r||i.openEvent&&["click","mousedown"].includes(i.openEvent.type))&&E.domReference.current&&Te(E.domReference.current);const c=Oe();N.current&&!U.current&&(0,o.sb)(c)&&(c===n||n===t.body||r)&&$(c,{cancelPrevious:!1,preventScroll:e})}}),[r,I,N,x,E,_,P,S]),H((()=>{if(!r&&D)return D.setFocusManagerState({modal:h,closeOnFocusOut:k,open:w,onOpenChange:C,refs:E}),()=>{D.setFocusManagerState(null)}}),[r,D,h,w,C,E,k]),H((()=>{if(r||!I||"function"!=typeof MutationObserver||K)return;const e=()=>{const e=I.getAttribute("tabindex");F.current.includes("floating")||s(f(I))!==E.domReference.current&&0===W().length?"0"!==e&&I.setAttribute("tabindex","0"):"-1"!==e&&I.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(I,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}),[r,I,E,F,W,K]);const Q=!r&&M&&(z||h);return i.createElement(i.Fragment,null,Q&&i.createElement(Se,{"data-type":"inside",ref:null==D?void 0:D.beforeInsideRef,onFocus:e=>{if(h){const e=Z();$("reference"===l[0]?e[0]:e[e.length-1])}else if(null!=D&&D.preserveTabOrder&&D.portalNode)if(U.current=!1,be(e,D.portalNode)){const e=ge()||A;null==e||e.focus()}else{var t;null==(t=D.beforeOutsideRef.current)||t.focus()}}}),!T&&G("start"),n,G("end"),Q&&i.createElement(Se,{"data-type":"inside",ref:null==D?void 0:D.afterInsideRef,onFocus:e=>{if(h)$(Z()[0]);else if(null!=D&&D.preserveTabOrder&&D.portalNode)if(k&&(U.current=!0),be(e,D.portalNode)){const e=ve()||A;null==e||e.focus()}else{var t;null==(t=D.afterOutsideRef.current)||t.focus()}}}))}function Re(e){return(0,o.sb)(e.target)&&"BUTTON"===e.target.tagName}function Be(e){return b(e)}function Ne(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:s}}=e,{enabled:a=!0,event:l="click",toggle:c=!0,ignoreMouse:d=!1,keyboardHandlers:u=!0}=t,p=i.useRef(),f=i.useRef(!1);return i.useMemo((()=>a?{reference:{onPointerDown(e){p.current=e.pointerType},onMouseDown(e){0===e.button&&(m(p.current,!0)&&d||"click"!==l&&(!n||!c||o.current.openEvent&&"mousedown"!==o.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){"mousedown"===l&&p.current?p.current=void 0:m(p.current,!0)&&d||(!n||!c||o.current.openEvent&&"click"!==o.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){p.current=void 0,e.defaultPrevented||!u||Re(e)||(" "!==e.key||Be(s)||(e.preventDefault(),f.current=!0),"Enter"===e.key&&r(!n||!c,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!u||Re(e)||Be(s)||" "===e.key&&f.current&&(f.current=!1,r(!n||!c,e.nativeEvent,"click"))}}}:{}),[a,o,l,d,u,s,c,n,r])}const Pe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},De={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},je=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function Le(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,nodeId:s,elements:{reference:l,domReference:c,floating:d},dataRef:u}=e,{enabled:p=!0,escapeKey:m=!0,outsidePress:v=!0,outsidePressEvent:b="pointerdown",referencePress:y=!1,referencePressEvent:k="pointerdown",ancestorScroll:w=!1,bubbles:E,capture:S}=t,C=X(),_=L("function"==typeof v?v:()=>!1),x="function"==typeof v?_:v,A=i.useRef(!1),I=i.useRef(!1),{escapeKey:K,outsidePress:T}=je(E),{escapeKey:O,outsidePress:M}=je(S),F=L((e=>{if(!n||!p||!m||"Escape"!==e.key)return;const t=C?oe(C.nodesRef.current,s):[];if(!K&&(e.stopPropagation(),t.length>0)){let e=!0;if(t.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),R=L((e=>{var t;const n=()=>{var t;F(e),null==(t=g(e))||t.removeEventListener("keydown",n)};null==(t=g(e))||t.addEventListener("keydown",n)})),B=L((e=>{const t=A.current;A.current=!1;const n=I.current;if(I.current=!1,"click"===b&&n)return;if(t)return;if("function"==typeof x&&!x(e))return;const i=g(e),l="["+ee("inert")+"]",u=f(d).querySelectorAll(l);let p=(0,o.vq)(i)?i:null;for(;p&&!(0,o.eu)(p);){const e=(0,o.$4)(p);if((0,o.eu)(e)||!(0,o.vq)(e))break;p=e}if(u.length&&(0,o.vq)(i)&&!i.matches("html,body")&&!a(i,d)&&Array.from(u).every((e=>!a(p,e))))return;if((0,o.sb)(i)&&d){const t=i.clientWidth>0&&i.scrollWidth>i.clientWidth,n=i.clientHeight>0&&i.scrollHeight>i.clientHeight;let r=n&&e.offsetX>i.clientWidth;if(n&&"rtl"===(0,o.L9)(i).direction&&(r=e.offsetX<=i.offsetWidth-i.clientWidth),r||t&&e.offsetY>i.clientHeight)return}const m=C&&oe(C.nodesRef.current,s).some((t=>{var n;return h(e,null==(n=t.context)?void 0:n.elements.floating)}));if(h(e,d)||h(e,c)||m)return;const v=C?oe(C.nodesRef.current,s):[];if(v.length>0){let e=!0;if(v.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),N=L((e=>{var t;const n=()=>{var t;B(e),null==(t=g(e))||t.removeEventListener(b,n)};null==(t=g(e))||t.addEventListener(b,n)}));return i.useEffect((()=>{if(!n||!p)return;function e(e){r(!1,e,"ancestor-scroll")}u.current.__escapeKeyBubbles=K,u.current.__outsidePressBubbles=T;const t=f(d);m&&t.addEventListener("keydown",O?R:F,O),x&&t.addEventListener(b,M?N:B,M);let i=[];return w&&((0,o.vq)(c)&&(i=(0,o.v9)(c)),(0,o.vq)(d)&&(i=i.concat((0,o.v9)(d))),!(0,o.vq)(l)&&l&&l.contextElement&&(i=i.concat((0,o.v9)(l.contextElement)))),i=i.filter((e=>{var n;return e!==(null==(n=t.defaultView)?void 0:n.visualViewport)})),i.forEach((t=>{t.addEventListener("scroll",e,{passive:!0})})),()=>{m&&t.removeEventListener("keydown",O?R:F,O),x&&t.removeEventListener(b,M?N:B,M),i.forEach((t=>{t.removeEventListener("scroll",e)}))}}),[u,d,c,l,m,x,b,n,r,w,p,K,T,F,O,R,B,M,N]),i.useEffect((()=>{A.current=!1}),[x,b]),i.useMemo((()=>p?{reference:{onKeyDown:F,[Pe[k]]:e=>{y&&r(!1,e.nativeEvent,"reference-press")}},floating:{onKeyDown:F,onMouseDown(){I.current=!0},onMouseUp(){I.current=!0},[De[b]]:()=>{A.current=!0}}}:{}),[p,y,b,k,r,F])}function Ue(e){var t;void 0===e&&(e={});const{open:n=!1,onOpenChange:r,nodeId:s}=e,[a,l]=i.useState(null),c=(null==(t=e.elements)?void 0:t.reference)||a,d=(0,k.we)(e),u=X(),p=null!=Y(),m=L(((e,t,n)=>{e&&(h.current.openEvent=t),g.emit("openchange",{open:e,event:t,reason:n,nested:p}),null==r||r(e,t,n)})),f=i.useRef(null),h=i.useRef({}),g=i.useState((()=>function(){const e=new Map;return{emit(t,n){var i;null==(i=e.get(t))||i.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var i;e.set(t,(null==(i=e.get(t))?void 0:i.filter((e=>e!==n)))||[])}}}()))[0],v=G(),b=i.useCallback((e=>{const t=(0,o.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;d.refs.setReference(t)}),[d.refs]),y=i.useCallback((e=>{((0,o.vq)(e)||null===e)&&(f.current=e,l(e)),((0,o.vq)(d.refs.reference.current)||null===d.refs.reference.current||null!==e&&!(0,o.vq)(e))&&d.refs.setReference(e)}),[d.refs]),w=i.useMemo((()=>({...d.refs,setReference:y,setPositionReference:b,domReference:f})),[d.refs,y,b]),E=i.useMemo((()=>({...d.elements,domReference:c})),[d.elements,c]),S=i.useMemo((()=>({...d,refs:w,elements:E,dataRef:h,nodeId:s,floatingId:v,events:g,open:n,onOpenChange:m})),[d,s,v,g,n,m,w,E]);return H((()=>{const e=null==u?void 0:u.nodesRef.current.find((e=>e.id===s));e&&(e.context=S)})),i.useMemo((()=>({...d,context:S,refs:w,elements:E})),[d,w,E,S])}function $e(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,events:c,refs:p,elements:{domReference:m}}=e,{enabled:h=!0,visibleOnly:v=!0}=t,y=i.useRef(!1),k=i.useRef(),w=i.useRef(!0);return i.useEffect((()=>{if(!h)return;const e=(0,o.zk)(m);function t(){!n&&(0,o.sb)(m)&&m===s(f(m))&&(y.current=!0)}function i(){w.current=!0}return e.addEventListener("blur",t),e.addEventListener("keydown",i,!0),()=>{e.removeEventListener("blur",t),e.removeEventListener("keydown",i,!0)}}),[m,n,h]),i.useEffect((()=>{if(h)return c.on("openchange",e),()=>{c.off("openchange",e)};function e(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(y.current=!0)}}),[c,h]),i.useEffect((()=>()=>{clearTimeout(k.current)}),[]),i.useMemo((()=>h?{reference:{onPointerDown(e){d(e.nativeEvent)||(w.current=!1)},onMouseLeave(){y.current=!1},onFocus(e){if(y.current)return;const t=g(e.nativeEvent);if(v&&(0,o.vq)(t))try{if(u()&&l().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints)throw Error();if(!t.matches(":focus-visible"))return}catch(e){if(!w.current&&!b(t))return}r(!0,e.nativeEvent,"focus")},onBlur(e){y.current=!1;const t=e.relatedTarget,n=(0,o.vq)(t)&&t.hasAttribute(ee("focus-guard"))&&"outside"===t.getAttribute("data-type");k.current=window.setTimeout((()=>{const i=s(m?m.ownerDocument:document);(t||i!==m)&&(a(p.floating.current,i)||a(m,i)||n||r(!1,e.nativeEvent,"focus"))}))}}}:{}),[h,v,m,p,r])}const He="active",Ve="selected";function ze(e,t,n){const i=new Map,r="item"===n;let o=e;if(r&&e){const{[He]:t,[Ve]:n,...i}=e;o=i}return{..."floating"===n&&{tabIndex:-1},...o,...t.map((t=>{const i=t?t[n]:null;return"function"==typeof i?e?i(e):null:i})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;var s;r&&[He,Ve].includes(n)||(0===n.indexOf("on")?(i.has(n)||i.set(n,[]),"function"==typeof o&&(null==(s=i.get(n))||s.push(o),e[n]=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return null==(e=i.get(n))?void 0:e.map((e=>e(...r))).find((e=>void 0!==e))})):e[n]=o)})),e):e),{})}}function We(e){void 0===e&&(e=[]);const t=e,n=i.useCallback((t=>ze(t,e,"reference")),t),r=i.useCallback((t=>ze(t,e,"floating")),t),o=i.useCallback((t=>ze(t,e,"item")),e.map((e=>null==e?void 0:e.item)));return i.useMemo((()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o})),[n,r,o])}const Ze=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Ge(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:o}=e,{enabled:s=!0,role:a="dialog"}=t,l=null!=(n=Ze.get(a))?n:a,c=G(),d=null!=Y();return i.useMemo((()=>{if(!s)return{};const e={id:o,...l&&{role:l}};return"tooltip"===l||"label"===a?{reference:{["aria-"+("label"===a?"labelledby":"describedby")]:r?o:void 0},floating:e}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":r?o:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:c},..."menu"===l&&d&&{role:"menuitem"},..."select"===a&&{"aria-autocomplete":"none"},..."combobox"===a&&{"aria-autocomplete":"list"}},floating:{...e,..."menu"===l&&{"aria-labelledby":c}},item(e){let{active:t,selected:n}=e;const i={role:"option",...t&&{id:o+"-option"}};switch(a){case"select":return{...i,"aria-selected":t&&n};case"combobox":return{...i,...t&&{"aria-selected":!0}}}return{}}}}),[s,a,l,r,o,c,d])}function Qe(e,t){void 0===t&&(t={});const{open:n,elements:{floating:r}}=e,{duration:o=250}=t,s=("number"==typeof o?o:o.close)||0,[a,l]=i.useState(!1),[c,d]=i.useState("unmounted"),u=function(e,t){const[n,r]=i.useState(e);return e&&!n&&r(!0),i.useEffect((()=>{if(!e){const e=setTimeout((()=>r(!1)),t);return()=>clearTimeout(e)}}),[e,t]),n}(n,s);return H((()=>{a&&!u&&d("unmounted")}),[a,u]),H((()=>{if(r){if(n){d("initial");const e=requestAnimationFrame((()=>{d("open")}));return()=>{cancelAnimationFrame(e)}}l(!0),d("close")}}),[n,r]),{isMounted:u,status:c}}},37644:(e,t,n)=>{"use strict";n.d(t,{B1:()=>w,C0:()=>c,Dz:()=>f,PG:()=>u,Sg:()=>d,TV:()=>m,WJ:()=>g,_3:()=>l,bV:()=>y,jk:()=>i,lP:()=>b,nI:()=>k,qE:()=>a,sq:()=>p,w7:()=>h});const i=Math.min,r=Math.max,o={left:"right",right:"left",bottom:"top",top:"bottom"},s={start:"end",end:"start"};function a(e,t,n){return r(e,i(t,n))}function l(e,t){return"function"==typeof e?e(t):e}function c(e){return e.split("-")[0]}function d(e){return e.split("-")[1]}function u(e){return"x"===e?"y":"x"}function p(e){return"y"===e?"height":"width"}function m(e){return["top","bottom"].includes(c(e))?"y":"x"}function f(e){return u(m(e))}function h(e,t,n){void 0===n&&(n=!1);const i=d(e),r=f(e),o=p(r);let s="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=y(s)),[s,y(s)]}function g(e){const t=y(e);return[v(e),t,v(t)]}function v(e){return e.replace(/start|end/g,(e=>s[e]))}function b(e,t,n,i){const r=d(e);let o=function(e,t,n){const i=["left","right"],r=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:i:t?i:r;case"left":case"right":return t?o:s;default:return[]}}(c(e),"start"===n,i);return r&&(o=o.map((e=>e+"-"+r)),t&&(o=o.concat(o.map(v)))),o}function y(e){return e.replace(/left|right|bottom|top/g,(e=>o[e]))}function k(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function w(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}},57792:(e,t,n)=>{"use strict";function i(e){return s(e)?(e.nodeName||"").toLowerCase():"#document"}function r(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function o(e){var t;return null==(t=(s(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function s(e){return e instanceof Node||e instanceof r(e).Node}function a(e){return e instanceof Element||e instanceof r(e).Element}function l(e){return e instanceof HTMLElement||e instanceof r(e).HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof r(e).ShadowRoot)}function d(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=g(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function u(e){return["table","td","th"].includes(i(e))}function p(e){const t=f(),n=g(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function m(e){let t=b(e);for(;l(t)&&!h(t);){if(p(t))return t;t=b(t)}return null}function f(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function h(e){return["html","body","#document"].includes(i(e))}function g(e){return r(e).getComputedStyle(e)}function v(e){return a(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function b(e){if("html"===i(e))return e;const t=e.assignedSlot||e.parentNode||c(e)&&e.host||o(e);return c(t)?t.host:t}function y(e){const t=b(e);return h(t)?e.ownerDocument?e.ownerDocument.body:e.body:l(t)&&d(t)?t:y(t)}function k(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=y(e),s=o===(null==(i=e.ownerDocument)?void 0:i.body),a=r(o);return s?t.concat(a,a.visualViewport||[],d(o)?o:[],a.frameElement&&n?k(a.frameElement):[]):t.concat(o,k(o,[],n))}n.d(t,{$4:()=>b,CP:()=>v,L9:()=>g,Lv:()=>u,Ng:()=>c,Tc:()=>f,ZU:()=>d,ep:()=>o,eu:()=>h,gJ:()=>m,mq:()=>i,sQ:()=>p,sb:()=>l,v9:()=>k,vq:()=>a,zk:()=>r})},42061:(e,t,n)=>{"use strict";n.d(t,{Wc:()=>p,og:()=>d});var i=n(50659),r=n(7644),o=n(67787);const s=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"];function a(e,t){return t.some((t=>t.contains(e)))}s.join(":not([hidden]),"),s.push('[tabindex]:not([tabindex="-1"]):not([disabled])'),s.join(':not([hidden]):not([tabindex="-1"]),');class l{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let i=this.fastMap.get(null!=t?t:null),r=new c({scopeRef:e});i.addChild(r),r.parent=i,this.fastMap.set(e,r),n&&(r.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e),n=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef.current&&a(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let i=t.children;n.removeChild(t),i.size>0&&i.forEach((e=>n.addChild(e))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){let e=new l;for(let t of this.traverse())e.addTreeNode(t.scopeRef,t.parent.scopeRef,t.nodeToRestore);return e}constructor(){this.fastMap=new Map,this.root=new c({scopeRef:null}),this.fastMap.set(null,this.root)}}class c{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}function d(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=(0,i.useRef)({isFocused:!1,isFocusVisible:t||(0,o.pP)()}),[a,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)((()=>s.current.isFocused&&s.current.isFocusVisible)),u=(0,i.useCallback)((()=>d(s.current.isFocused&&s.current.isFocusVisible)),[]),p=(0,i.useCallback)((e=>{s.current.isFocused=e,l(e),u()}),[u]);(0,o.K7)((e=>{s.current.isFocusVisible=e,u()}),[],{isTextInput:n});let{focusProps:m}=(0,o.iQ)({isDisabled:r,onFocusChange:p}),{focusWithinProps:f}=(0,o.Rb)({isDisabled:!r,onFocusWithinChange:p});return{isFocused:a,isFocusVisible:c,focusProps:r?f:m}}new l;let u=i.createContext(null);function p(e,t){let{focusProps:n}=(0,o.iQ)(e),{keyboardProps:s}=(0,o.de)(e),a=(0,r.v6)(n,s),l=function(e){let t=(0,i.useContext)(u)||{};(0,r.wt)(t,e);let{ref:n,...o}=t;return o}(t),c=e.isDisabled?{}:l,d=(0,i.useRef)(e.autoFocus);return(0,i.useEffect)((()=>{d.current&&t.current&&function(e){if("virtual"===(0,o.ME)()){let t=document.activeElement;(0,r.vg)((()=>{document.activeElement===t&&document.contains(e)&&(0,r.eC)(e)}))}else(0,r.eC)(e)}(t.current),d.current=!1}),[t]),{focusableProps:(0,r.v6)({...a,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},c)}}},67787:(e,t,n)=>{"use strict";n.d(t,{ME:()=>$,pP:()=>U,iQ:()=>A,K7:()=>H,Rb:()=>V,de:()=>W,dD:()=>h});var i=n(7644),r=n(50659);function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function s(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,o(e,t,"set"),n),n}let a="default",l="",c=new WeakMap;function d(e){(0,i.un)()?("default"===a&&(l=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),a="disabled"):(e instanceof HTMLElement||e instanceof SVGElement)&&(c.set(e,e.style.userSelect),e.style.userSelect="none")}function u(e){if((0,i.un)()){if("disabled"!==a)return;a="restoring",setTimeout((()=>{(0,i.vg)((()=>{"restoring"===a&&("none"===document.documentElement.style.webkitUserSelect&&(document.documentElement.style.webkitUserSelect=l||""),l="",a="default")}))}),300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&c.has(e)){let t=c.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),c.delete(e)}}const p=r.createContext(null);p.displayName="PressResponderContext";var m=new WeakMap;class f{continuePropagation(){s(this,m,!1)}get shouldStopPropagation(){return function(e,t){return t.get?t.get.call(e):t.value}(this,o(this,m,"get"))}constructor(e,t,n){var i,r,o;o={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i=this,r=m),r.set(i,o),s(this,m,!0),this.type=e,this.pointerType=t,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}function h(e){let{onPress:t,onPressChange:n,onPressStart:o,onPressEnd:s,onPressUp:a,isDisabled:l,isPressed:c,preventFocusOnPress:m,shouldCancelOnPointerExit:h,allowTextSelectionOnPress:S,ref:C,..._}=function(e){let t=(0,r.useContext)(p);if(t){let{register:n,...r}=t;e=(0,i.v6)(r,e),n()}return(0,i.wt)(t,e.ref),e}(e),[x,A]=(0,r.useState)(!1),I=(0,r.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:K,removeAllGlobalListeners:T}=(0,i.A5)(),O=(0,i.Jt)(((e,t)=>{let i=I.current;if(l||i.didFirePressStart)return;let r=!0;if(o){let n=new f("pressstart",t,e);o(n),r=n.shouldStopPropagation}return n&&n(!0),i.didFirePressStart=!0,A(!0),r})),M=(0,i.Jt)(((e,i,r=!0)=>{let o=I.current;if(!o.didFirePressStart)return;o.ignoreClickAfterPress=!0,o.didFirePressStart=!1;let a=!0;if(s){let t=new f("pressend",i,e);s(t),a=t.shouldStopPropagation}if(n&&n(!1),A(!1),t&&r&&!l){let n=new f("press",i,e);t(n),a&&(a=n.shouldStopPropagation)}return a})),F=(0,i.Jt)(((e,t)=>{if(!l){if(a){let n=new f("pressup",t,e);return a(n),n.shouldStopPropagation}return!0}})),R=(0,i.Jt)((e=>{let t=I.current;t.isPressed&&(t.isOverTarget&&M(y(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,T(),S||u(t.target))})),B=(0,i.Jt)((e=>{h&&R(e)})),N=(0,r.useMemo)((()=>{let e=I.current,t={onKeyDown(t){if(v(t.nativeEvent,t.currentTarget)&&t.currentTarget.contains(t.target)){E(t.target,t.key)&&t.preventDefault();let i=!0;e.isPressed||t.repeat||(e.target=t.currentTarget,e.isPressed=!0,i=O(t,"keyboard"),K(document,"keyup",n,!1)),i&&t.stopPropagation()}else"Enter"===t.key&&g(t.currentTarget)&&t.stopPropagation()},onKeyUp(t){v(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&F(y(e.target,t),"keyboard")},onClick(t){if((!t||t.currentTarget.contains(t.target))&&t&&0===t.button){let n=!0;if(l&&t.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&("virtual"===e.pointerType||(0,i.YF)(t.nativeEvent))){l||m||(0,i.eC)(t.currentTarget);let e=O(t,"virtual"),r=F(t,"virtual"),o=M(t,"virtual");n=e&&r&&o}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,n&&t.stopPropagation()}}},n=t=>{if(e.isPressed&&v(t,e.target)){E(t.target,t.key)&&t.preventDefault(),e.isPressed=!1;let n=t.target,i=M(y(e.target,t),"keyboard",e.target.contains(n));T(),i&&t.stopPropagation(),e.target instanceof HTMLElement&&e.target.contains(n)&&(g(e.target)||"link"===e.target.getAttribute("role"))&&e.target.click()}};if("undefined"!=typeof PointerEvent){t.onPointerDown=t=>{if(0!==t.button||!t.currentTarget.contains(t.target))return;if((0,i.Pg)(t.nativeEvent))return void(e.pointerType="virtual");w(t.currentTarget)&&t.preventDefault(),e.pointerType=t.pointerType;let s=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,l||m||(0,i.eC)(t.currentTarget),S||d(e.target),s=O(t,e.pointerType),K(document,"pointermove",n,!1),K(document,"pointerup",r,!1),K(document,"pointercancel",o,!1)),s&&t.stopPropagation()},t.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(w(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},t.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&k(t,t.currentTarget)&&F(t,e.pointerType||t.pointerType)};let n=t=>{t.pointerId===e.activePointerId&&(k(t,e.target)?e.isOverTarget||(e.isOverTarget=!0,O(y(e.target,t),e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,M(y(e.target,t),e.pointerType,!1),B(t)))},r=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&(k(t,e.target)?M(y(e.target,t),e.pointerType):e.isOverTarget&&M(y(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,T(),S||u(e.target))},o=e=>{R(e)};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&R(e)}}else{t.onMouseDown=t=>{0===t.button&&t.currentTarget.contains(t.target)&&(w(t.currentTarget)&&t.preventDefault(),e.ignoreEmulatedMouseEvents?t.stopPropagation():(e.isPressed=!0,e.isOverTarget=!0,e.target=t.currentTarget,e.pointerType=(0,i.YF)(t.nativeEvent)?"virtual":"mouse",l||m||(0,i.eC)(t.currentTarget),O(t,e.pointerType)&&t.stopPropagation(),K(document,"mouseup",n,!1)))},t.onMouseEnter=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!0,n=O(t,e.pointerType)),n&&t.stopPropagation()},t.onMouseLeave=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!1,n=M(t,e.pointerType,!1),B(t)),n&&t.stopPropagation()},t.onMouseUp=t=>{t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||F(t,e.pointerType))};let n=t=>{0===t.button&&(e.isPressed=!1,T(),e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:(k(t,e.target)?M(y(e.target,t),e.pointerType):e.isOverTarget&&M(y(e.target,t),e.pointerType,!1),e.isOverTarget=!1))};t.onTouchStart=t=>{if(!t.currentTarget.contains(t.target))return;let n=function(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}(t.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=t.currentTarget,e.pointerType="touch",l||m||(0,i.eC)(t.currentTarget),S||d(e.target),O(t,e.pointerType)&&t.stopPropagation(),K(window,"scroll",r,!0))},t.onTouchMove=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed)return void t.stopPropagation();let n=b(t.nativeEvent,e.activePointerId),i=!0;n&&k(n,t.currentTarget)?e.isOverTarget||(e.isOverTarget=!0,i=O(t,e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,i=M(t,e.pointerType,!1),B(t)),i&&t.stopPropagation()},t.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed)return void t.stopPropagation();let n=b(t.nativeEvent,e.activePointerId),i=!0;n&&k(n,t.currentTarget)?(F(t,e.pointerType),i=M(t,e.pointerType)):e.isOverTarget&&(i=M(t,e.pointerType,!1)),i&&t.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,S||u(e.target),T()},t.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&R(t))};let r=t=>{e.isPressed&&t.target.contains(e.target)&&R({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&R(e)}}return t}),[K,l,m,T,S,R,B,M,O,F]);return(0,r.useEffect)((()=>()=>{S||u(I.current.target)}),[S]),{isPressed:c||x,pressProps:(0,i.v6)(_,N)}}function g(e){return"A"===e.tagName&&e.hasAttribute("href")}function v(e,t){const{key:n,code:i}=e,r=t,o=r.getAttribute("role");return!("Enter"!==n&&" "!==n&&"Spacebar"!==n&&"Space"!==i||r instanceof HTMLInputElement&&!C(r,n)||r instanceof HTMLTextAreaElement||r.isContentEditable||g(r)&&("button"!==o||"Enter"===n)||"link"===o&&"Enter"!==n)}function b(e,t){const n=e.changedTouches;for(let e=0;e<n.length;e++){const i=n[e];if(i.identifier===t)return i}return null}function y(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function k(e,t){let n=t.getBoundingClientRect(),i=function(e){let t=e.width/2||e.radiusX||0,n=e.height/2||e.radiusY||0;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);return o=i,!((r=n).left>o.right||o.left>r.right||r.top>o.bottom||o.top>r.bottom);var r,o}function w(e){return!(e instanceof HTMLElement&&e.draggable)}function E(e,t){return e instanceof HTMLInputElement?!C(e,t):!(e instanceof HTMLButtonElement)||"submit"!==e.type&&"reset"!==e.type}const S=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function C(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:S.has(e.type)}class _{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function x(e){let t=(0,r.useRef)({isFocused:!1,observer:null});(0,i.Nf)((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]);let n=(0,i.Jt)((t=>{null==e||e(t)}));return(0,r.useCallback)((e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=e.target,r=e=>{t.current.isFocused=!1,i.disabled&&n(new _("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",r,{once:!0}),t.current.observer=new MutationObserver((()=>{if(t.current.isFocused&&i.disabled){t.current.observer.disconnect();let e=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}})),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}}),[n])}function A(e){let{isDisabled:t,onFocus:n,onBlur:i,onFocusChange:o}=e;const s=(0,r.useCallback)((e=>{if(e.target===e.currentTarget)return i&&i(e),o&&o(!1),!0}),[i,o]),a=x(s),l=(0,r.useCallback)((e=>{e.target===e.currentTarget&&document.activeElement===e.target&&(n&&n(e),o&&o(!0),a(e))}),[o,n,a]);return{focusProps:{onFocus:!t&&(n||o||i)?l:void 0,onBlur:t||!i&&!o?void 0:s}}}let I=null,K=new Set,T=!1,O=!1,M=!1;const F={Tab:!0,Escape:!0};function R(e,t){for(let n of K)n(e,t)}function B(e){O=!0,function(e){return!(e.metaKey||!(0,i.cX)()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(I="keyboard",R("keyboard",e))}function N(e){I="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(O=!0,R("pointer",e))}function P(e){(0,i.YF)(e)&&(O=!0,I="virtual")}function D(e){e.target!==window&&e.target!==document&&(O||M||(I="virtual",R("virtual",e)),O=!1,M=!1)}function j(){O=!1,M=!0}function L(){if("undefined"==typeof window||T)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){O=!0,e.apply(this,arguments)},document.addEventListener("keydown",B,!0),document.addEventListener("keyup",B,!0),document.addEventListener("click",P,!0),window.addEventListener("focus",D,!0),window.addEventListener("blur",j,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",N,!0),document.addEventListener("pointermove",N,!0),document.addEventListener("pointerup",N,!0)):(document.addEventListener("mousedown",N,!0),document.addEventListener("mousemove",N,!0),document.addEventListener("mouseup",N,!0)),T=!0}function U(){return"pointer"!==I}function $(){return I}function H(e,t,n){L(),(0,r.useEffect)((()=>{let t=(t,i)=>{(function(e,t,n){return!(e&&"keyboard"===t&&n instanceof KeyboardEvent&&!F[n.key])})(null==n?void 0:n.isTextInput,t,i)&&e(U())};return K.add(t),()=>{K.delete(t)}}),t)}function V(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:o}=e,s=(0,r.useRef)({isFocusWithin:!1}),a=(0,r.useCallback)((e=>{s.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(s.current.isFocusWithin=!1,n&&n(e),o&&o(!1))}),[n,o,s]),l=x(a),c=(0,r.useCallback)((e=>{s.current.isFocusWithin||document.activeElement!==e.target||(i&&i(e),o&&o(!0),s.current.isFocusWithin=!0,l(e))}),[i,o,l]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:c,onBlur:a}}}function z(e){if(!e)return;let t=!0;return n=>{let i={...n,preventDefault(){n.preventDefault()},isDefaultPrevented:()=>n.isDefaultPrevented(),stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(i),t&&n.stopPropagation()}}function W(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:z(e.onKeyDown),onKeyUp:z(e.onKeyUp)}}}"undefined"!=typeof document&&("loading"!==document.readyState?L():document.addEventListener("DOMContentLoaded",L))},7644:(e,t,n)=>{"use strict";n.d(t,{$X:()=>m,A5:()=>k,Jt:()=>x,Nf:()=>o,Pg:()=>I,UH:()=>w,YF:()=>A,cX:()=>C,eC:()=>f,un:()=>_,v6:()=>c,vg:()=>y,wt:()=>E});var i=n(50659),r=n(12174);const o="undefined"!=typeof document?i.useLayoutEffect:()=>{};let s=new Map;function a(e,t){if(e===t)return e;let n=s.get(e);if(n)return n(t),t;let i=s.get(t);return i?(i(e),e):t}function l(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}function c(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let i=e[n];for(let e in i){let n=t[e],o=i[e];"function"==typeof n&&"function"==typeof o&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=l(n,o):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof o?"id"===e&&n&&o?t.id=a(n,o):t[e]=void 0!==o?o:n:t[e]=(0,r.$)(n,o)}}return t}const d=new Set(["id"]),u=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),p=/^(data-.*)$/;function m(e,t={}){let{labelable:n,propNames:i}=t,r={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(d.has(t)||n&&u.has(t)||(null==i?void 0:i.has(t))||p.test(t))&&(r[t]=e[t]);return r}function f(e){if(function(){if(null==h){h=!1;try{document.createElement("div").focus({get preventScroll(){return h=!0,!0}})}catch(e){}}return h}())e.focus({preventScroll:!0});else{let t=function(e){for(var t=e.parentNode,n=[],i=document.scrollingElement||document.documentElement;t instanceof HTMLElement&&t!==i;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return i instanceof HTMLElement&&n.push({element:i,scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:i}of e)t.scrollTop=n,t.scrollLeft=i}(t)}}let h=null,g=new Map,v=new Set;function b(){if("undefined"==typeof window)return;let e=t=>{let n=g.get(t.target);if(n&&(n.delete(t.propertyName),0===n.size&&(t.target.removeEventListener("transitioncancel",e),g.delete(t.target)),0===g.size)){for(let e of v)e();v.clear()}};document.body.addEventListener("transitionrun",(t=>{let n=g.get(t.target);n||(n=new Set,g.set(t.target,n),t.target.addEventListener("transitioncancel",e)),n.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}function y(e){requestAnimationFrame((()=>{0===g.size?e():v.add(e)}))}function k(){let e=(0,i.useRef)(new Map),t=(0,i.useCallback)(((t,n,i,r)=>{let o=(null==r?void 0:r.once)?(...t)=>{e.current.delete(i),i(...t)}:i;e.current.set(i,{type:n,eventTarget:t,fn:o,options:r}),t.addEventListener(n,i,r)}),[]),n=(0,i.useCallback)(((t,n,i,r)=>{var o;let s=(null===(o=e.current.get(i))||void 0===o?void 0:o.fn)||i;t.removeEventListener(n,s,r),e.current.delete(i)}),[]),r=(0,i.useCallback)((()=>{e.current.forEach(((e,t)=>{n(e.eventTarget,e.type,t,e.options)}))}),[n]);return(0,i.useEffect)((()=>r),[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function w(e){const t=(0,i.useRef)();return(0,i.useMemo)((()=>({get current(){return t.current},set current(n){t.current=n,"function"==typeof e?e(n):e&&(e.current=n)}})),[e])}function E(e,t){o((()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}}),[e,t])}function S(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function C(){return S(/^Mac/i)}function _(){return S(/^iPhone/i)||S(/^iPad/i)||C()&&navigator.maxTouchPoints>1}function x(e){const t=(0,i.useRef)(null);return o((()=>{t.current=e}),[e]),(0,i.useCallback)(((...e)=>(0,t.current)(...e)),[])}function A(e){return!(0!==e.mozInputSource||!e.isTrusted)||(t=/Android/i,"undefined"!=typeof window&&null!=window.navigator&&((null===(n=window.navigator.userAgentData)||void 0===n?void 0:n.brands.some((e=>t.test(e.brand))))||t.test(window.navigator.userAgent))&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType);var t,n}function I(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType}"undefined"!=typeof document&&("loading"!==document.readyState?b():document.addEventListener("DOMContentLoaded",b))},22773:(e,t,n)=>{"use strict";n.d(t,{uB:()=>d,aC:()=>u});var i=n(50659),r=n(7644),o=n(12174),s=n(42061),a=n(67787);function l(e){return null!=e?e:"primary"}function c(e,t){switch(l(e)){case"primary":case"critical":return"inverse";case"secondary":return"brand";case"tertiary":default:return"default";case"ghost":return t?"inverse":"brand";case"premium":return"premium"}}function d(e,t,n,i){var r,s;return(0,o.$)("gds-button",`gds-button-${l(e.variant)}`,`gds-button-${e.size||"medium"}`,null!=(s=null!=(r=e.isDisabled)?r:n)&&s&&"gds-button-disabled","full"===e.width&&"gds-button-full",t&&"gds-button-pressed",n&&"gds-button-loading",i&&"gds-button-focus-visible",e.className)}function u(e,t){var n;const o=(0,r.UH)(t),{onClick:d,...u}=e,p=i.useRef(!1),[m,f]=i.useState(!1);i.useEffect((()=>(p.current=!0,()=>{p.current=!1})),[]);const{buttonProps:h,isPressed:g}=function(e,t){let n,{elementType:i="button",isDisabled:o,onPress:l,onPressStart:c,onPressEnd:d,onPressChange:u,preventFocusOnPress:p,allowFocusWhenDisabled:m,onClick:f,href:h,target:g,rel:v,type:b="button"}=e;n="button"===i?{type:b,disabled:o}:{role:"button",tabIndex:o?void 0:0,href:"a"===i&&o?void 0:h,target:"a"===i?g:void 0,type:"input"===i?b:void 0,disabled:"input"===i?o:void 0,"aria-disabled":o&&"input"!==i?o:void 0,rel:"a"===i?v:void 0};let{pressProps:y,isPressed:k}=(0,a.dD)({onPressStart:c,onPressEnd:d,onPressChange:u,onPress:l,isDisabled:o,preventFocusOnPress:p,ref:t}),{focusableProps:w}=(0,s.Wc)(e,t);m&&(w.tabIndex=o?-1:w.tabIndex);let E=(0,r.v6)(w,y,(0,r.$X)(e,{labelable:!0}));return{isPressed:k,buttonProps:(0,r.v6)(n,E,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{f&&(f(e),console.warn("onClick is deprecated, please use onPress"))}})}}({...u,onKeyDown:void 0,onKeyUp:void 0,"aria-controls":e.accessibilityControls||e["aria-controls"],"aria-haspopup":e.accessibilityHasPopup||e["aria-haspopup"],"aria-label":e.accessibilityLabel||e["aria-label"],"aria-expanded":e.accessibilityExpanded||e["aria-expanded"],type:null!=(n=e.type)?n:"button",onPress:i.useCallback((e=>{if(m)return;const t=null==d?void 0:d(e);t instanceof Promise&&(f(!0),t.finally((()=>{p.current&&f(!1)})))}),[d,m,p])},o);return null==h.style&&null!=e.style&&(h.style=e.style),{ref:o,isPressed:g,buttonProps:h,inProgress:m,iconColor:c(e.variant,g),variant:l(e.variant)}}},61229:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var i=n(50659),r=n(87194),o=n(12174);const s=i.forwardRef((function(e,t){const{accessibilityLabel:n,align:s,as:l,bgColor:c,borderColor:d,borderRadius:u,children:p,className:m,direction:f="row",flex:h,gap:g=0,height:v,justify:b,margin:y,marginBottom:k,marginLeft:w,marginRight:E,marginTop:S,padding:C,paddingBottom:_,paddingLeft:x,paddingRight:A,paddingTop:I,width:K,wrap:T=!1,style:O={},color:M,...F}=e,R=function({direction:e,wrap:t,className:n}){return(0,o.$)("gds-flex","column"===e&&"gds-flex-direction-column",t&&"gds-flex-wrap",n)}({direction:f,wrap:T,className:m}),B="number"==typeof K?`${K}px`:K,N="number"==typeof v?`${v}px`:v,P=function(e){if(void 0!==e)return/-\d\d?\d?$/.test(e)||"white"===e?`var(--${e})`:`var(--color-${e})`}(c),D=void 0!==d?`1px solid var(--color-border-${d})`:void 0,j=void 0!==u?`var(--radius-${(0,r.u2)(u)})`:void 0,L=void 0!==M?`var(--color-text-${M})`:void 0,U={...a(g),width:B,height:N,...(0,r.WI)({margin:y,marginLeft:w,marginRight:E,marginTop:S,marginBottom:k}),...(0,r.Jj)({padding:C,paddingLeft:x,paddingRight:A,paddingTop:I,paddingBottom:_}),backgroundColor:P,border:D,borderRadius:j,alignItems:s,justifyContent:b,flex:h,color:L,...O},$=null!=l?l:"div";return i.createElement($,{"aria-label":n,ref:t,className:R,style:U,...F},p)}));function a(e){return null==e?{}:"number"==typeof e?{gap:`var(--space-${(0,r.u2)(e)})`}:{gap:`${null==e.row?"normal":`var(--space-${(0,r.u2)(e.row)})`} ${null==e.column?"normal":`var(--space-${(0,r.u2)(e.column)})`}`}}},80764:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var i=n(50659),r=n(12174),o=n(87194);const s=i.forwardRef((function(e,t){const{as:n,className:s,variant:a="heading-medium",color:l,align:c,margin:d,marginLeft:u,marginRight:p,marginTop:m,marginBottom:f,style:h,...g}=e,v={...h,...null!=l&&{color:`var(--color-text-${l})`},...null!=c&&{textAlign:c},...(0,o.WI)({margin:d,marginLeft:u,marginRight:p,marginTop:m,marginBottom:f})};return i.createElement(n,{ref:t,className:(0,r.$)("gds-typography","gds-"+(a.startsWith("heading")?"heading":"text"),`gds-${a}`,s),style:v,...g})}))},38976:(e,t,n)=>{"use strict";n.d(t,{K:()=>c});var i=n(50659),r=n(22773),o=n(12174),s=n(42061),a=n(97292),l=n(53651);const c=i.forwardRef((function(e,t){var n,c,d;const{buttonProps:u,isPressed:p,ref:m,inProgress:f,iconColor:h}=(0,r.aC)(e,t),{isFocusVisible:g,focusProps:v}=(0,s.og)();return i.createElement(a.m_,{...e.tooltipProps,annotation:e.shortcut},i.createElement(a.k$,{asChild:!0},i.createElement("button",{className:(0,o.$)((0,r.uB)(e,p,f,g),`gds-icon-button-${e.size||"medium"}`),tabIndex:null!=(n=e.tabIndex)?n:0,ref:m,...u,...v},i.createElement(l.I,{icon:e.icon,accessibilityLabel:"",variant:h,size:e.size||"medium"}))),i.createElement(a.ZI,{root:null==(c=e.tooltipContentProps)?void 0:c.root},(null==(d=e.tooltipContentProps)?void 0:d.children)||e.accessibilityLabel))}))},54242:(e,t,n)=>{"use strict";n.d(t,{v:()=>f});var i=n(50659),r=n(12174);const o=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"M6 13.25h4"}),i.createElement("path",{fill:"#646B81",d:"m10.66 11.102.465.184zm0 0-.465-.185zm-2.663.652H10.4v-1H7.997zm3.693-2.9c0-1.54-1.308-3.617-3.692-3.617v1c1.718 0 2.692 1.508 2.692 2.616zm-1.291 2.9a.7.7 0 0 0 .207-.034 1 1 0 0 0 .328-.175.66.66 0 0 0 .191-.26l-.93-.368a.35.35 0 0 1 .096-.139q.026-.018.021-.014h-.002l.017-.003a.4.4 0 0 1 .072-.007zm.726-.468c.21-.53.565-1.597.565-2.433h-1c0 .634-.29 1.55-.495 2.064zm-3.128.468H10.4v-1H7.997zm3.693-2.9c0-1.54-1.308-3.617-3.692-3.617v1c1.718 0 2.692 1.508 2.692 2.616zm-1.291 2.9a.7.7 0 0 0 .207-.034 1 1 0 0 0 .328-.175.66.66 0 0 0 .191-.26l-.93-.368a.35.35 0 0 1 .096-.139q.026-.018.021-.014h-.002l.017-.003a.4.4 0 0 1 .072-.007zm.726-.468c.21-.53.565-1.597.565-2.433h-1c0 .634-.29 1.55-.495 2.064z"}),i.createElement("path",{fill:"#646B81",d:"m5.337 11.102-.465.184zm0 0 .465-.185zM8 11.754H5.6v-1H8zm-3.692-2.9c0-1.54 1.308-3.617 3.692-3.617v1c-1.719 0-2.692 1.508-2.692 2.616zm1.291 2.9a.7.7 0 0 1-.207-.034 1 1 0 0 1-.328-.175.66.66 0 0 1-.192-.26l.93-.368a.35.35 0 0 0-.096-.139q-.025-.018-.02-.014h.002l-.018-.003a.4.4 0 0 0-.071-.007zm-.727-.468c-.21-.53-.564-1.597-.564-2.433h1c0 .634.29 1.55.494 2.064zM8 11.754H5.6v-1H8zm-3.692-2.9c0-1.54 1.308-3.617 3.692-3.617v1c-1.719 0-2.692 1.508-2.692 2.616zm1.291 2.9a.7.7 0 0 1-.207-.034 1 1 0 0 1-.328-.175.66.66 0 0 1-.192-.26l.93-.368a.35.35 0 0 0-.096-.139q-.025-.018-.02-.014h.002l-.018-.003a.4.4 0 0 0-.071-.007zm-.727-.468c-.21-.53-.564-1.597-.564-2.433h1c0 .634.29 1.55.494 2.064zM13.5 5.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0M10.5 3.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0M7 3.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0M4 5.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0"}))));var s=n(99331),a=n(8966),l=n(7644),c=n(67787);const d={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function u(e){let{children:t,elementType:n="div",isFocusable:r,style:o,...s}=e,{visuallyHiddenProps:a}=function(e={}){let{style:t,isFocusable:n}=e,[r,o]=(0,i.useState)(!1),{focusWithinProps:s}=(0,c.Rb)({isDisabled:!n,onFocusWithinChange:e=>o(e)});return{visuallyHiddenProps:{...s,style:(0,i.useMemo)((()=>r?t:t?{...d,...t}:d),[r])}}}(e);return i.createElement(n,(0,l.v6)(s,a),t)}var p=n(53651),m=n(74836);const f=e=>{const{variant:t="neutral",showIcon:n=!0,iconStart:o,inline:s=!1,label:a,accessibilityLabel:l,className:c,...d}=e;return i.createElement("div",{className:(0,r.$)("gds-tag",`gds-tag-${t}`,s&&"gds-tag-inline",c),...d},n?i.createElement(h,{variant:t,iconStart:o}):null,i.createElement(g,{label:a,accessibilityLabel:l}))},h=({variant:e,iconStart:t})=>{switch(e){case"premium":return i.createElement(p.I,{className:"gds-tag-icon",icon:a.p,variant:"premium",accessibilityLabel:"Premium feature",size:"small"});case"pro":return i.createElement(p.I,{className:"gds-tag-icon",icon:s.c,variant:"inherit",accessibilityLabel:"Premium feature",size:"small"});case"tip":return i.createElement(p.I,{className:"gds-tag-icon",variant:"inherit",icon:o,accessibilityLabel:"Tip:",size:"small"});default:return t?i.createElement(p.I,{variant:"inherit",accessibilityLabel:"",className:"gds-tag-icon",icon:t,size:"small"}):null}},g=({label:e,accessibilityLabel:t})=>i.createElement(i.Fragment,null,null!=t?i.createElement(u,null,t):null,i.createElement(m.E,{variant:"text-xsmall",as:"span",className:"gds-tag-label","aria-hidden":null!=t},e))},74836:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var i=n(50659),r=n(12174),o=n(87194);const s=i.forwardRef((function(e,t){const{as:n,className:s,variant:a="text-medium",color:c,align:d,weight:u,italic:p,decoration:m,margin:f,marginLeft:h,marginRight:g,marginTop:v,marginBottom:b,style:y,...k}=e,w={...y,...null!=c&&{color:`var(--color-text-${c})`},...null!=d&&{textAlign:d},...l(u),...null!=p&&{fontStyle:p?"italic":"normal"},...null!=m&&{textDecoration:m},...(0,o.WI)({margin:f,marginLeft:h,marginRight:g,marginTop:v,marginBottom:b})};return i.createElement(n,{ref:t,className:(0,r.$)("gds-typography","gds-"+(a.startsWith("heading")?"heading":"text"),`gds-${a}`,s),style:w,...k})})),a={bold:"bold",semibold:600,medium:500,normal:"normal"};function l(e){return null!=e&&a[e]?{fontWeight:a[e]}:null}},97292:(e,t,n)=>{"use strict";n.d(t,{ZI:()=>g,k$:()=>h,m_:()=>f});var i=n(50659),r=n(54434),o=n(12174),s=n(80579),a=n(61572),l=n(74836),c=n(17804),d=n(44429),u=n(2181);const p=i.createContext(null),m=()=>{const e=i.useContext(p);if(null==e)throw new Error("Tooltip components must be wrapped in <Tooltip />");return e},f=({children:e,...t})=>{const n=function({initialOpen:e=!1,placement:t="top",open:n,onOpenChange:o,openDelay:a=200,annotation:l=null,onShow:p,onHide:m}={}){const[f,h]=i.useState(e),g=i.useRef(null),v=null!=n?n:f,b=null!=o?o:h,y=(0,s.Z)(v);(0,i.useEffect)((()=>{v&&v!==y&&(null==p||p()),v||v===y||null==m||m()}),[v,y]);const k=(0,r.we)({placement:t,open:v,strategy:"absolute",onOpenChange:b,whileElementsMounted:(...e)=>(0,c.ll)(...e,{animationFrame:!0}),middleware:[(0,d.cY)(9),(0,c.UU)({fallbackAxisSideDirection:"start"}),(0,c.BN)({padding:5}),(0,u.UE)({element:g})]}),{context:w}=k,{isMounted:E,status:S}=(0,r.$X)(w,{duration:a}),C=(0,r.Mk)(w,{move:!1,enabled:null==n,delay:a}),_=(0,r.iQ)(w,{enabled:null==n}),x=(0,r.s9)(w),A=(0,r.It)(w,{role:"tooltip"}),I=(0,r.kp)(w,{enabled:null==n,toggle:!0}),K=(0,r.bv)([C,_,x,A,I]);return i.useMemo((()=>({open:v,setOpen:b,...K,...k,arrowRef:g,isMounted:E,status:S,annotation:l})),[v,b,K,k,g,E,S,l])}(t);return i.createElement(p.Provider,{value:n},e)},h=i.forwardRef((function({children:e,asChild:t=!1,...n},o){const s=m(),a=e.ref,l=(0,r.SV)([s.refs.setReference,o,a]);return t&&i.isValidElement(e)?i.cloneElement(e,s.getReferenceProps({ref:l,...n,...e.props,"data-state":s.isMounted?"open":"closed"})):i.createElement("button",{ref:l,type:"button","data-state":s.isMounted?"open":"closed",...s.getReferenceProps(n)},e)})),g=i.forwardRef((function(e,t){var n,s,c,d;const{children:u,className:p,root:f,style:h,...g}=e,v=m(),b=i.useContext(a.n),y=(0,r.SV)([v.refs.setFloating,t]);return i.createElement(r.XF,{root:null!=(n=null!=f?f:b.tooltip)?n:b.default},v.isMounted&&i.createElement("div",{ref:y,"data-status":v.status,"data-placement":v.placement,style:{position:v.strategy,top:null!=(s=v.y)?s:0,left:null!=(c=v.x)?c:0,visibility:null==v.x?"hidden":"visible",...h},...v.getFloatingProps({...g,className:(0,o.$)("gds-tooltip",p),children:[i.createElement("div",{className:"gds-tooltip-content",key:"tooltip1","data-gds-theme":"dark"},i.createElement(l.E,{as:"span",variant:"text-small",className:"gds-tooltip-content-text"},u),(null!=(d=v.annotation)?d:"").length>0&&i.createElement(l.E,{variant:"text-small",as:"label",className:"gds-tooltip-content-annotation"},v.annotation)),i.createElement(r.ie,{key:"tooltip2",className:"gds-arrow",ref:v.arrowRef,context:v.context,stroke:"var(--color-border-elevated-default)",strokeWidth:.5})]})}))}))},87194:(e,t,n)=>{"use strict";function i(e){return.5===e?"half":.25===e?"quarter":`${e}`}function r({margin:e,marginLeft:t,marginRight:n,marginTop:i,marginBottom:r}){const o=a(e);return{marginLeft:s(t,o.left),marginRight:s(n,o.right),marginTop:s(i,o.top),marginBottom:s(r,o.bottom)}}function o({padding:e,paddingLeft:t,paddingRight:n,paddingTop:i,paddingBottom:r}){const o=a(e);return{paddingLeft:s(t,o.left),paddingRight:s(n,o.right),paddingTop:s(i,o.top),paddingBottom:s(r,o.bottom)}}function s(e,t){const n=void 0!==e?e:t;if(void 0!==n)return"string"==typeof n?n:n<0?`calc(var(--space-${i(-1*n)}) * -1)`:`var(--space-${i(n)})`}function a(e){if("string"!=typeof e)return{top:e,right:e,bottom:e,left:e};const t=e.split(" "),n=t[0],i=t[1]||n;return{top:n,right:i,bottom:t[2]||n,left:t[3]||i}}n.d(t,{Jj:()=>o,WI:()=>r,u2:()=>i})},80579:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(50659);function r(e){const t=(0,i.useRef)();return(0,i.useEffect)((()=>(t.current=e,()=>{t.current=void 0}))),t.current}},73407:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var i=n(50659);const r=(0,n(13970).w)("nocolor",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fill:"#646B81",fillRule:"evenodd",d:"M10.5 4.5A1.5 1.5 0 0 0 9 6v1H6.5a.5.5 0 0 0 0 1h.545l.785 8.237a2.5 2.5 0 0 0 2.489 2.263h3.362a2.5 2.5 0 0 0 2.49-2.263L16.954 8h.545a.5.5 0 0 0 0-1H15V6a1.5 1.5 0 0 0-1.5-1.5zM14 7V6a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1zM8.05 8h7.9l-.775 8.142A1.5 1.5 0 0 1 13.68 17.5H10.32a1.5 1.5 0 0 1-1.494-1.358z",clipRule:"evenodd"}))))},43919:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(50659);const r=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"m3 3 5 5m5 5L8 8m0 0 5-5M8 8l-5 5"}))))},59559:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var i=n(50659);const r=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"m2 5 6 6 6-6"}))))},57035:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var i=n(50659);const r=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fill:"#646B81",fillRule:"evenodd",d:"M3.174 9.996A7.994 7.994 0 1 1 7.17 16.92a.5.5 0 0 1 .5-.866 6.994 6.994 0 1 0-3.497-6.057v.667l1.644-1.645a.5.5 0 1 1 .707.707l-2.498 2.498-.353.354-.354-.354L.822 9.725a.5.5 0 0 1 .707-.707l1.645 1.645zm7.994-4.871a.5.5 0 0 1 .5.5v3.871h2.622a.5.5 0 0 1 0 1h-3.622V5.625a.5.5 0 0 1 .5-.5",clipRule:"evenodd"}))))},91047:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var i=n(50659);const r=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7.487v3.3m0-5.511v.011M13.5 8a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"}))))},88793:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var i=n(50659);const r=(0,n(13970).w)("nocolor",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fill:"#05735A",fillRule:"evenodd",d:"M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12m3.498-7.44a.75.75 0 1 0-.996-1.12L6.5 8.996l-1.002-.89a.75.75 0 0 0-.996 1.12L6.5 11.004z",clipRule:"evenodd"}))))},15753:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var i=n(50659);const r=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"m5 2 6 6-6 6"}))))},99331:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var i=n(50659);const r=(0,n(13970).w)("color",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round",d:"m8 2 1.481 3.961 4.225.185-3.31 2.633 1.13 4.075L8 10.52l-3.527 2.334 1.13-4.075-3.31-2.633L6.52 5.96z"}))))},13991:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var i=n(50659);const r=(0,n(13970).w)("nocolor",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fill:"#D67400",fillRule:"evenodd",d:"M6.94 2.629a1.21 1.21 0 0 1 2.12 0l4.774 8.485c.472.838-.118 1.886-1.06 1.886H3.226c-.943 0-1.533-1.048-1.061-1.886zM8 5a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 5m0 6.5A.75.75 0 1 0 8 10a.75.75 0 0 0 0 1.5",clipRule:"evenodd"}))))},12783:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var i=n(50659);const r=(0,n(13970).w)("nocolor",(({title:e,titleId:t,desc:n,descId:r,...o})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",viewBox:"0 0 32 32","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...o},n?i.createElement("desc",{id:r},n):null,e?i.createElement("title",{id:t},e):null,i.createElement("path",{fill:"#027E6F",d:"M0 16C0 7.163 7.162 0 16.001 0s16 7.163 16 16c0 7.732-5.482 14.183-12.773 15.676-1.042.213-2.121.324-3.222.324H0z"}),i.createElement("path",{fill:"#fff",d:"m19.876 14.484-1.788 2.94h6.02c-.93 5.116-6.62 8.599-12.304 5.653a6.7 6.7 0 0 1-2.861-2.834c-3.27-6.226 1.197-12.49 7.093-12.49a8.19 8.19 0 0 1 6.2 2.839l1.58-2.6a11.08 11.08 0 0 0-8.566-3.148c-5.562.384-10.071 4.994-10.342 10.56-.309 6.393 4.8 11.688 11.124 11.688s11.14-4.999 11.14-11.14c0-.5-.038-.989-.1-1.468z"}))))},33113:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(62481);const r=function(e,t){for(var n=e.length;n--;)if((0,i.A)(e[n][0],t))return n;return-1};var o=Array.prototype.splice;function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=function(){this.__data__=[],this.size=0},s.prototype.delete=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))},s.prototype.get=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]},s.prototype.has=function(e){return r(this.__data__,e)>-1},s.prototype.set=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};const a=s},7158:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(26030),r=n(17426);const o=(0,i.A)(r.A,"Map")},38290:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});const i=(0,n(26030).A)(Object,"create");var r=Object.prototype.hasOwnProperty;var o=Object.prototype.hasOwnProperty;function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=function(){this.__data__=i?i(null):{},this.size=0},s.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},s.prototype.get=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0},s.prototype.has=function(e){var t=this.__data__;return i?void 0!==t[e]:o.call(t,e)},s.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this};const a=s;var l=n(33113),c=n(7158);const d=function(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map};function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}u.prototype.clear=function(){this.size=0,this.__data__={hash:new a,map:new(c.A||l.A),string:new a}},u.prototype.delete=function(e){var t=d(this,e).delete(e);return this.size-=t?1:0,t},u.prototype.get=function(e){return d(this,e).get(e)},u.prototype.has=function(e){return d(this,e).has(e)},u.prototype.set=function(e,t){var n=d(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};const p=u},1025:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(33113);var r=n(7158),o=n(38290);function s(e){var t=this.__data__=new i.A(e);this.size=t.size}s.prototype.clear=function(){this.__data__=new i.A,this.size=0},s.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},s.prototype.get=function(e){return this.__data__.get(e)},s.prototype.has=function(e){return this.__data__.has(e)},s.prototype.set=function(e,t){var n=this.__data__;if(n instanceof i.A){var s=n.__data__;if(!r.A||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o.A(s)}return n.set(e,t),this.size=n.size,this};const a=s},10102:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=n(17426).A.Symbol},99723:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=n(17426).A.Uint8Array},17871:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(4181),r=n(45562),o=n(12753),s=n(52764),a=n(92783),l=Object.prototype.hasOwnProperty;const c=function(e,t){var n=(0,r.A)(e),c=!n&&(0,i.A)(e),d=!n&&!c&&(0,o.A)(e),u=!n&&!c&&!d&&(0,a.A)(e),p=n||c||d||u,m=p?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],f=m.length;for(var h in e)!t&&!l.call(e,h)||p&&("length"==h||d&&("offset"==h||"parent"==h)||u&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||(0,s.A)(h,f))||m.push(h);return m}},90693:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},16402:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(90509),r=n(62481),o=Object.prototype.hasOwnProperty;const s=function(e,t,n){var s=e[t];o.call(e,t)&&(0,r.A)(s,n)&&(void 0!==n||t in e)||(0,i.A)(e,t,n)}},90509:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(40400);const r=function(e,t,n){"__proto__"==t&&i.A?(0,i.A)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},8696:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(90693),r=n(45562);const o=function(e,t,n){var o=t(e);return(0,r.A)(e)?o:(0,i.A)(o,n(e))}},51447:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(10102),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i.A?i.A.toStringTag:void 0;var l=Object.prototype.toString;var c=i.A?i.A.toStringTag:void 0;const d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[a]=n:delete e[a]),r}(e):function(e){return l.call(e)}(e)}},49024:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(e){return function(t){return e(t)}}},5502:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(99723);const r=function(e){var t=new e.constructor(e.byteLength);return new i.A(t).set(new i.A(e)),t}},73663:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(17426),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof module&&module&&!module.nodeType&&module,s=o&&o.exports===r?i.A.Buffer:void 0,a=s?s.allocUnsafe:void 0;const l=function(e,t){if(t)return e.slice();var n=e.length,i=a?a(n):new e.constructor(n);return e.copy(i),i}},26052:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(5502);const r=function(e,t){var n=t?(0,i.A)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},87518:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},20660:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(16402),r=n(90509);const o=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],d=o?o(n[c],e[c],c,n,e):void 0;void 0===d&&(d=e[c]),s?(0,r.A)(n,c,d):(0,i.A)(n,c,d)}return n}},40400:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(26030);const r=function(){try{var e=(0,i.A)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},3739:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i="object"==typeof global&&global&&global.Object===Object&&global},55893:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(8696),r=n(87586),o=n(90026);const s=function(e){return(0,i.A)(e,o.A,r.A)}},26030:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var i=n(25395);const r=n(17426).A["__core-js_shared__"];var o,s=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";var a=n(16240),l=n(81734),c=/^\[object .+?Constructor\]$/,d=Function.prototype,u=Object.prototype,p=d.toString,m=u.hasOwnProperty,f=RegExp("^"+p.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const h=function(e){return!(!(0,a.A)(e)||(t=e,s&&s in t))&&((0,i.A)(e)?f:c).test((0,l.A)(e));var t},g=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return h(n)?n:void 0}},89100:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=(0,n(19690).A)(Object.getPrototypeOf,Object)},87586:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(12654),r=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;const s=o?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}(o(e),(function(t){return r.call(e,t)})))}:i.A},81618:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var i=n(26030),r=n(17426);const o=(0,i.A)(r.A,"DataView");var s=n(7158);const a=(0,i.A)(r.A,"Promise"),l=(0,i.A)(r.A,"Set"),c=(0,i.A)(r.A,"WeakMap");var d=n(51447),u=n(81734),p="[object Map]",m="[object Promise]",f="[object Set]",h="[object WeakMap]",g="[object DataView]",v=(0,u.A)(o),b=(0,u.A)(s.A),y=(0,u.A)(a),k=(0,u.A)(l),w=(0,u.A)(c),E=d.A;(o&&E(new o(new ArrayBuffer(1)))!=g||s.A&&E(new s.A)!=p||a&&E(a.resolve())!=m||l&&E(new l)!=f||c&&E(new c)!=h)&&(E=function(e){var t=(0,d.A)(e),n="[object Object]"==t?e.constructor:void 0,i=n?(0,u.A)(n):"";if(i)switch(i){case v:return g;case b:return p;case y:return m;case k:return f;case w:return h}return t});const S=E},6999:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(16240),r=Object.create;const o=function(){function e(){}return function(t){if(!(0,i.A)(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var s=n(89100),a=n(56654);const l=function(e){return"function"!=typeof e.constructor||(0,a.A)(e)?{}:o((0,s.A)(e))}},52764:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=/^(?:0|[1-9]\d*)$/;const r=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}},56654:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=Object.prototype;const r=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}},35990:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(3739),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof module&&module&&!module.nodeType&&module,s=o&&o.exports===r&&i.A.process;const a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}()},19690:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(e,t){return function(n){return e(t(n))}}},17426:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(3739),r="object"==typeof self&&self&&self.Object===Object&&self;const o=i.A||r||Function("return this")()},81734:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=Function.prototype.toString;const r=function(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},36921:(e,t,n)=>{"use strict";n.d(t,{A:()=>H});var i=n(1025);var r=n(16402),o=n(20660),s=n(90026);var a=n(76180);var l=n(73663),c=n(87518),d=n(87586);var u=n(90693),p=n(89100),m=n(12654);const f=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,u.A)(t,(0,d.A)(e)),e=(0,p.A)(e);return t}:m.A;var h=n(55893),g=n(8696);const v=function(e){return(0,g.A)(e,a.A,f)};var b=n(81618),y=Object.prototype.hasOwnProperty;var k=n(5502);var w=/\w*$/;var E=n(10102),S=E.A?E.A.prototype:void 0,C=S?S.valueOf:void 0;var _=n(26052);const x=function(e,t,n){var i,r,o,s=e.constructor;switch(t){case"[object ArrayBuffer]":return(0,k.A)(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return function(e,t){var n=t?(0,k.A)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,_.A)(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return(o=new(r=e).constructor(r.source,w.exec(r))).lastIndex=r.lastIndex,o;case"[object Symbol]":return i=e,C?Object(C.call(i)):{}}};var A=n(6999),I=n(45562),K=n(12753),T=n(38567);var O=n(49024),M=n(35990),F=M.A&&M.A.isMap;const R=F?(0,O.A)(F):function(e){return(0,T.A)(e)&&"[object Map]"==(0,b.A)(e)};var B=n(16240);var N=M.A&&M.A.isSet;const P=N?(0,O.A)(N):function(e){return(0,T.A)(e)&&"[object Set]"==(0,b.A)(e)};var D="[object Arguments]",j="[object Function]",L="[object Object]",U={};U[D]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object DataView]"]=U["[object Boolean]"]=U["[object Date]"]=U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Map]"]=U["[object Number]"]=U[L]=U["[object RegExp]"]=U["[object Set]"]=U["[object String]"]=U["[object Symbol]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0,U["[object Error]"]=U[j]=U["[object WeakMap]"]=!1;const $=function e(t,n,u,p,m,g){var k,w=1&n,E=2&n,S=4&n;if(u&&(k=m?u(t,p,m,g):u(t)),void 0!==k)return k;if(!(0,B.A)(t))return t;var C=(0,I.A)(t);if(C){if(k=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&y.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!w)return(0,c.A)(t,k)}else{var _=(0,b.A)(t),T=_==j||"[object GeneratorFunction]"==_;if((0,K.A)(t))return(0,l.A)(t,w);if(_==L||_==D||T&&!m){if(k=E||T?{}:(0,A.A)(t),!w)return E?function(e,t){return(0,o.A)(e,f(e),t)}(t,function(e,t){return e&&(0,o.A)(t,(0,a.A)(t),e)}(k,t)):function(e,t){return(0,o.A)(e,(0,d.A)(e),t)}(t,function(e,t){return e&&(0,o.A)(t,(0,s.A)(t),e)}(k,t))}else{if(!U[_])return m?t:{};k=x(t,_,w)}}g||(g=new i.A);var O=g.get(t);if(O)return O;g.set(t,k),P(t)?t.forEach((function(i){k.add(e(i,n,u,i,t,g))})):R(t)&&t.forEach((function(i,r){k.set(r,e(i,n,u,r,t,g))}));var M=S?E?v:h.A:E?a.A:s.A,F=C?void 0:M(t);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););}(F||t,(function(i,o){F&&(i=t[o=i]),(0,r.A)(k,o,e(i,n,u,o,t,g))})),k},H=function(e){return $(e,5)}},62481:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(e,t){return e===t||e!=e&&t!=t}},4181:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(51447),r=n(38567);const o=function(e){return(0,r.A)(e)&&"[object Arguments]"==(0,i.A)(e)};var s=Object.prototype,a=s.hasOwnProperty,l=s.propertyIsEnumerable;const c=o(function(){return arguments}())?o:function(e){return(0,r.A)(e)&&a.call(e,"callee")&&!l.call(e,"callee")}},45562:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=Array.isArray},53189:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(25395),r=n(80799);const o=function(e){return null!=e&&(0,r.A)(e.length)&&!(0,i.A)(e)}},12753:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(17426);var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof module&&module&&!module.nodeType&&module,s=o&&o.exports===r?i.A.Buffer:void 0;const a=(s?s.isBuffer:void 0)||function(){return!1}},30310:(e,t,n)=>{"use strict";n.d(t,{A:()=>K});var i=n(1025),r=n(38290);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r.A;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},o.prototype.has=function(e){return this.__data__.has(e)};const s=o,a=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},l=function(e,t,n,i,r,o){var l=1&n,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var u=o.get(e),p=o.get(t);if(u&&p)return u==t&&p==e;var m=-1,f=!0,h=2&n?new s:void 0;for(o.set(e,t),o.set(t,e);++m<c;){var g=e[m],v=t[m];if(i)var b=l?i(v,g,m,t,e,o):i(g,v,m,e,t,o);if(void 0!==b){if(b)continue;f=!1;break}if(h){if(!a(t,(function(e,t){if(s=t,!h.has(s)&&(g===e||r(g,e,n,i,o)))return h.push(t);var s}))){f=!1;break}}else if(g!==v&&!r(g,v,n,i,o)){f=!1;break}}return o.delete(e),o.delete(t),f};var c=n(10102),d=n(99723),u=n(62481);const p=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},m=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var f=c.A?c.A.prototype:void 0,h=f?f.valueOf:void 0;var g=n(55893),v=Object.prototype.hasOwnProperty;var b=n(81618),y=n(45562),k=n(12753),w=n(92783),E="[object Arguments]",S="[object Array]",C="[object Object]",_=Object.prototype.hasOwnProperty;const x=function(e,t,n,r,o,s){var a=(0,y.A)(e),c=(0,y.A)(t),f=a?S:(0,b.A)(e),x=c?S:(0,b.A)(t),A=(f=f==E?C:f)==C,I=(x=x==E?C:x)==C,K=f==x;if(K&&(0,k.A)(e)){if(!(0,k.A)(t))return!1;a=!0,A=!1}if(K&&!A)return s||(s=new i.A),a||(0,w.A)(e)?l(e,t,n,r,o,s):function(e,t,n,i,r,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new d.A(e),new d.A(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,u.A)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=p;case"[object Set]":var c=1&i;if(a||(a=m),e.size!=t.size&&!c)return!1;var f=s.get(e);if(f)return f==t;i|=2,s.set(e,t);var g=l(a(e),a(t),i,r,o,s);return s.delete(e),g;case"[object Symbol]":if(h)return h.call(e)==h.call(t)}return!1}(e,t,f,n,r,o,s);if(!(1&n)){var T=A&&_.call(e,"__wrapped__"),O=I&&_.call(t,"__wrapped__");if(T||O){var M=T?e.value():e,F=O?t.value():t;return s||(s=new i.A),o(M,F,n,r,s)}}return!!K&&(s||(s=new i.A),function(e,t,n,i,r,o){var s=1&n,a=(0,g.A)(e),l=a.length;if(l!=(0,g.A)(t).length&&!s)return!1;for(var c=l;c--;){var d=a[c];if(!(s?d in t:v.call(t,d)))return!1}var u=o.get(e),p=o.get(t);if(u&&p)return u==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);for(var f=s;++c<l;){var h=e[d=a[c]],b=t[d];if(i)var y=s?i(b,h,d,t,e,o):i(h,b,d,e,t,o);if(!(void 0===y?h===b||r(h,b,n,i,o):y)){m=!1;break}f||(f="constructor"==d)}if(m&&!f){var k=e.constructor,w=t.constructor;k==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,o,s))};var A=n(38567);const I=function e(t,n,i,r,o){return t===n||(null==t||null==n||!(0,A.A)(t)&&!(0,A.A)(n)?t!=t&&n!=n:x(t,n,i,r,e,o))},K=function(e,t){return I(e,t)}},25395:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(51447),r=n(16240);const o=function(e){if(!(0,r.A)(e))return!1;var t=(0,i.A)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},80799:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},16240:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},38567:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(e){return null!=e&&"object"==typeof e}},92783:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(51447),r=n(80799),o=n(38567),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var a=n(49024),l=n(35990),c=l.A&&l.A.isTypedArray;const d=c?(0,a.A)(c):function(e){return(0,o.A)(e)&&(0,r.A)(e.length)&&!!s[(0,i.A)(e)]}},90026:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(17871),r=n(56654);const o=(0,n(19690).A)(Object.keys,Object);var s=Object.prototype.hasOwnProperty;var a=n(53189);const l=function(e){return(0,a.A)(e)?(0,i.A)(e):function(e){if(!(0,r.A)(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}},76180:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(17871),r=n(16240),o=n(56654);var s=Object.prototype.hasOwnProperty;const a=function(e){if(!(0,r.A)(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=(0,o.A)(e),n=[];for(var i in e)("constructor"!=i||!t&&s.call(e,i))&&n.push(i);return n};var l=n(53189);const c=function(e){return(0,l.A)(e)?(0,i.A)(e,!0):a(e)}},64547:(e,t,n)=>{"use strict";n.d(t,{A:()=>H});var i=n(1025),r=n(90509),o=n(62481);const s=function(e,t,n){(void 0!==n&&!(0,o.A)(e[t],n)||void 0===n&&!(t in e))&&(0,r.A)(e,t,n)},a=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),s=o.length;s--;){var a=o[++i];if(!1===t(r[a],a,r))break}return e};var l=n(73663),c=n(26052),d=n(87518),u=n(6999),p=n(4181),m=n(45562),f=n(53189),h=n(38567);var g=n(12753),v=n(25395),b=n(16240),y=n(51447),k=n(89100),w=Function.prototype,E=Object.prototype,S=w.toString,C=E.hasOwnProperty,_=S.call(Object);var x=n(92783);const A=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var I=n(20660),K=n(76180);const T=function(e,t,n,i,r,o,a){var w,E=A(e,n),T=A(t,n),O=a.get(T);if(O)s(e,n,O);else{var M=o?o(E,T,n+"",e,t,a):void 0,F=void 0===M;if(F){var R=(0,m.A)(T),B=!R&&(0,g.A)(T),N=!R&&!B&&(0,x.A)(T);M=T,R||B||N?(0,m.A)(E)?M=E:(w=E,(0,h.A)(w)&&(0,f.A)(w)?M=(0,d.A)(E):B?(F=!1,M=(0,l.A)(T,!0)):N?(F=!1,M=(0,c.A)(T,!0)):M=[]):function(e){if(!(0,h.A)(e)||"[object Object]"!=(0,y.A)(e))return!1;var t=(0,k.A)(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==_}(T)||(0,p.A)(T)?(M=E,(0,p.A)(E)?M=function(e){return(0,I.A)(e,(0,K.A)(e))}(E):(0,b.A)(E)&&!(0,v.A)(E)||(M=(0,u.A)(T))):F=!1}F&&(a.set(T,M),r(M,T,i,o,a),a.delete(T)),s(e,n,M)}},O=function e(t,n,r,o,l){t!==n&&a(n,(function(a,c){if(l||(l=new i.A),(0,b.A)(a))T(t,n,c,r,e,o,l);else{var d=o?o(A(t,c),a,c+"",t,n,l):void 0;void 0===d&&(d=a),s(t,c,d)}}),K.A)},M=function(e){return e};var F=Math.max;var R=n(40400);const B=R.A?function(e,t){return(0,R.A)(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:M;var N=Date.now;const P=(D=B,j=0,L=0,function(){var e=N(),t=16-(e-L);if(L=e,t>0){if(++j>=800)return arguments[0]}else j=0;return D.apply(void 0,arguments)});var D,j,L;const U=function(e,t){return P(function(e,t,n){return t=F(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=F(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,M),e+"")};var $=n(52764);const H=(V=function(e,t,n){O(e,t,n)},U((function(e,t){var n=-1,i=t.length,r=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(r=V.length>3&&"function"==typeof r?(i--,r):void 0,s&&function(e,t,n){if(!(0,b.A)(n))return!1;var i=typeof t;return!!("number"==i?(0,f.A)(n)&&(0,$.A)(t,n.length):"string"==i&&t in n)&&(0,o.A)(n[t],e)}(t[0],t[1],s)&&(r=i<3?void 0:r,i=1),e=Object(e);++n<i;){var a=t[n];a&&V(e,a,n)}return e})));var V},12654:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(){return[]}}}]);