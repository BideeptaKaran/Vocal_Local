"use strict";(self.webpackChunk_grammarly_denali_app=self.webpackChunk_grammarly_denali_app||[]).push([[8203],{77396:(e,t,n)=>{n.d(t,{NQ:()=>p,h8:()=>l,hq:()=>u,qI:()=>c});var r=n(83293),i=n(29052),o=n(63336),s=n(23121),a=n(44297);function u(e){return e().then(s.$v)}var c=i.cy,l=function(e){return r.map(s.qI(e))};function p(e,t,n){return(0,o.pipe)(e,(0,i.AU)((function(s){var u=(0,o.pipe)((0,i.kb)(s),r.delay(n));return(0,o.pipe)(t(s),a.fold((function(){return(0,i.kb)(s)}),(function(t){var n=(0,o.pipe)(t,r.chain((function(){return(0,i.pG)(void 0)}))),s=r.getRaceMonoid().concat(u,n);return(0,o.pipe)(s,(0,i.cy)((function(){return e})))})))}),(function(e){return(0,i.pG)(e)})))}},817:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var n={prod:"grammarly.com",preprod:"ppgr.io",qa:"qagr.io"};t.config=function(e){var t=n[e];return{url:{properties:"https://properties."+t,treatment:"https://treatment."+t,gates:"https://gates."+t}}}},89995:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentClient=t.Gate=t.Experiment=void 0;var o=n(38008),s=n(86616),a=n(96620),u=function(){function e(e,t){this.name=e,this._experiences=t}return Object.defineProperty(e.prototype,"experiences",{get:function(){return Object.fromEntries(this._experiences.map((function(e){return[e,e]})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"experiencesArray",{get:function(){return this._experiences},enumerable:!1,configurable:!0}),e}();t.Experiment=u;t.Gate=function(e,t){void 0===t&&(t="enabled"),this.name=e,this.experience=t};t.ExperimentClient=function(e,t,n,u,c){var l=this;void 0===c&&(c={}),this._treatmentService=e,this._experiments=t,this._gatesService=n,this._gates=u,this._config=c,this._experimentTreatments=new Map,this._gateTreatments=new Map,this._initialFetched=!1,this.setPrefetchedTreatments=function(e){if(l._startRefreshIfNeeded(),!s.validateTreatmentsWithType(e))throw new Error("Not valid treatments");l._updateTreatmentForExpAndGates(e)},this._updateTreatmentForExpAndGates=function(e){l._treatmentService.refresh&&l._treatmentService.refresh(),l._experimentTreatments=new Map(e.filter((function(e){return e.type===a.ExperimentType.experiment})).map((function(e){return[e.experimentName,e]}))),l._gateTreatments=new Map(e.filter((function(e){return e.type===a.ExperimentType.gate})).map((function(e){return[e.experimentName,e]})))},this.fetchTreatments=function(e){return void 0===e&&(e={}),r(l,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this._startRefreshIfNeeded(),[4,this._fetchTreatments(e.clearCacheOnError)];case 1:return t.sent(),[2]}}))}))},this._fetchTreatments=function(e){return r(l,void 0,void 0,(function(){var t,n,r,o,s,a,u;return i(this,(function(i){switch(i.label){case 0:t=null,n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),r=this._experiments.concat(this._gates),[4,this._treatmentService.getTreatment(r.map((function(e){return e.name})))];case 2:return t=i.sent(),[3,4];case 3:return o=i.sent(),n=o,e&&this._experimentTreatments.clear(),[3,4];case 4:if(t)return this._updateTreatmentForExpAndGates(t),[2];s=null,a=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this._gatesService.getTreatment(this._gates.map((function(e){return e.name})))];case 6:return s=i.sent(),[3,8];case 7:return u=i.sent(),a=u,e&&this._gateTreatments.clear(),[3,8];case 8:if(s&&(this._gateTreatments=new Map(s.map((function(e){return[e.experimentName,e]})))),a||n)throw a||n;return[2]}}))}))},this._startRefreshIfNeeded=function(){l._initialFetched||(l._config.ttl&&(l._refreshTreatment=setInterval((function(){return r(l,void 0,void 0,(function(){var e,t=this;return i(this,(function(n){switch(n.label){case 0:return e=function(){return r(t,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._fetchTreatments()];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},this._config.ttl&&this._config.useRefreshJitter?(this._delayedRefreshTreatment=setTimeout(e,.1*this._config.ttl*Math.random()),[3,3]):[3,1];case 1:return[4,e()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}),l._config.ttl)),l._initialFetched=!0)},this.dispose=function(){l._refreshTreatment&&clearInterval(l._refreshTreatment),l._delayedRefreshTreatment&&clearTimeout(l._delayedRefreshTreatment)},this.getTreatment=function(e){var t=l.peekTreatment(e);return null!==t&&l.logTreatment(e,t).catch((function(){})),t},this.peekTreatment=function(e){var t=l._experimentTreatments.get(e.name)||l._gateTreatments.get(e.name),n=null==t?void 0:t.groupName;if(n){var r=e.experiencesArray.find((function(e){return o.getGroupNames(e).includes(n)}));if(r)return r}return null},this.logTreatment=function(e,t){if(l._config.ssrDisableLogging)return Promise.resolve();var n=l._experimentTreatments.get(e.name)||l._gateTreatments.get(e.name);if(!n||o.getExperienceName(n.groupName)!==t)throw new Error("Cannot find associated treatment");return(void 0!==n.needLog?n.needLog:n.type!==a.ExperimentType.gate)?l._treatmentService.logTreatment(n):Promise.resolve()},this.isGateEnabled=function(e){return l._getExperienceOfEnabledGate(e.name)===e.experience},this._getExperienceOfEnabledGate=function(e){var t=l._gateTreatments.get(e);return t?o.getExperienceName(t.groupName):null},this.getDynamicConfiguration=function(e){var t=l._experimentTreatments.get(e.name)||l._gateTreatments.get(e.name);return t&&t.dynamicConfiguration?t.dynamicConfiguration:null}}},83172:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GatesService=void 0;var o=n(817),s=n(31940),a=n(86616),u=function(){function e(e,t,n){this.type="gate",this._httpClient=new s.HttpClient(e,t),this._gatesUrl=o.config(n).url.gates+"/gates/get"}return e.prototype.getTreatment=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this._httpClient.post(this._gatesUrl,e)];case 1:if(t=n.sent(),a.validateTreatmentsWithType(t))return[2,t];throw new Error("Did not get valid gate treatments")}}))}))},e}();t.GatesService=u},31940:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;var o=function(){function e(e,t){var n=this;this._fetch=e,this._config=t,this._fetchWithTimeout=this._config.timeout?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.race([n._fetch.apply(n,e),new Promise((function(e,t){return setTimeout((function(){return t(new Error("Timeout"))}),n._config.timeout)}))])}:this._fetch}return e.prototype.get=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return[4,this._getHeaders()];case 1:return t=r.sent(),[4,this._fetchWithTimeout(e,{credentials:"include",mode:"cors",headers:t})];case 2:return n=r.sent(),[2,this._parseResponse(n)]}}))}))},e.prototype.post=function(e,t){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return[4,this._getHeaders()];case 1:return r=i.sent(),[4,this._fetchWithTimeout(e,{method:"POST",credentials:"include",mode:"cors",headers:n(n({},r),{"Content-Type":"application/json"}),body:JSON.stringify(t)})];case 2:return o=i.sent(),[2,this._parseResponse(o)]}}))}))},e.prototype._filterHeaders=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];r&&(t[n]=r)})),t},e.prototype._getHeaders=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return this._config.getApplicationHeaders?(e=this._filterHeaders,[4,this._config.getApplicationHeaders()]):[3,2];case 1:return[2,e.apply(this,[t.sent()])];case 2:throw new Error("Cannot get application headers")}}))}))},e.prototype._parseResponse=function(e){if(!e.ok)throw new Error("Network response was not ok, status "+e.status);return"application/json"===e.headers.get("Content-Type")?e.json():e.text()},e}();t.HttpClient=o},60251:(e,t,n)=>{t.mP=t.eb=t.Re=t.iD=t.aj=void 0;var r=n(89995);Object.defineProperty(t,"aj",{enumerable:!0,get:function(){return r.Experiment}}),Object.defineProperty(t,"iD",{enumerable:!0,get:function(){return r.Gate}}),Object.defineProperty(t,"Re",{enumerable:!0,get:function(){return r.ExperimentClient}});var i=n(96620);Object.defineProperty(t,"eb",{enumerable:!0,get:function(){return i.TreatmentService}});var o=n(83172);Object.defineProperty(t,"mP",{enumerable:!0,get:function(){return o.GatesService}});n(16305)},16305:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropertiesClient=void 0;var r=n(817),i=n(31940),o=function(){function e(e,t,n){this._propertiesUrl=r.config(t).url.properties+"/properties",this._httpClient=new i.HttpClient(e,n)}return e.prototype.getAll=function(){return this._httpClient.get(this._propertiesUrl)},e.prototype.getOne=function(e){var t=this._propertiesUrl+"/"+e;return this._httpClient.get(t)},e.prototype.set=function(e){return this._httpClient.post(this._propertiesUrl,e)},e}();t.PropertiesClient=o},38008:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupNames=t.getExperienceName=void 0,t.getExperienceName=function(e){return e.endsWith("_1")||e.endsWith("_2")?e.slice(0,-2):null},t.getGroupNames=function(e){return[e+"_1",e+"_2"]}},86616:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateTreatmentsWithType=void 0;var n=function(e){return"string"==typeof e};t.validateTreatmentsWithType=function(e){return Array.isArray(e)&&e.reduce((function(e,t){return e&&n((r=t).experimentName)&&n(r.groupName)&&n(r.experimentId)&&n(r.type);var r}),!0)}},96620:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreatmentService=t.ExperimentType=void 0;var o,s=n(817),a=n(31940),u=n(86616);(o=t.ExperimentType||(t.ExperimentType={})).experiment="experiment",o.gate="gate";var c=function(e){var t=function(e){return e.holdoutTreatment?":"+e.holdoutTreatment.experimentId+t(e.holdoutTreatment):""};return e.groupName+":"+e.userId+":"+e.experimentId+t(e)},l=function(){function e(e,t,n,r){this._persistentStorageOpts=r,this.type="experiment",this._throttleLogs=new Map,this._sentLogs={},this._httpClient=new a.HttpClient(e,t),this._treatmentUrl=s.config(n).url.treatment+"/treatment"}return e.prototype.getTreatment=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return t=this._treatmentUrl+"/get",n=e,[4,this._httpClient.post(t,n)];case 1:if(r=i.sent(),u.validateTreatmentsWithType(r))return[2,r];throw new Error("Did not get valid treatments")}}))}))},e.prototype.logTreatment=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this._checkShouldThrottle(e)||this._checkSent(e)?[2]:[4,this._sendLogTreatment(e)];case 1:return t.sent(),this._setSentLogs(e),[2]}}))}))},e.prototype.refresh=function(){this._throttleLogs.clear()},e.prototype.initSentLogsStorage=function(){return r(this,void 0,void 0,(function(){var e,t,n=this;return i(this,(function(r){switch(r.label){case 0:if(!this._persistentStorageOpts)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._persistentStorageOpts.get(this._sentLogsStorageKey)];case 2:return e=r.sent()||{},t=new Set(this._persistentStorageOpts.experimentNames),Object.entries(e).forEach((function(e){var r=e[0],i=e[1];t.has(r)&&n._updateSentLogs(r,i)})),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"_sentLogsStorageKey",{get:function(){var t;return e.STORAGE_KEY_PREFIX+(null===(t=this._persistentStorageOpts)||void 0===t?void 0:t.clientName)},enumerable:!1,configurable:!0}),e.prototype._checkShouldThrottle=function(e){var t=c(e),n=this._throttleLogs.get(e.experimentName)===t;return n||this._throttleLogs.set(e.experimentName,t),n},e.prototype._checkSent=function(e){var t=c(e);return this._sentLogs[e.experimentName]===t},e.prototype._setSentLogs=function(e){var t=c(e);this._updateSentLogs(e.experimentName,t,!0)},e.prototype._updateSentLogs=function(e,t,n){void 0===n&&(n=!1),(n||void 0===this._sentLogs[e])&&(this._sentLogs[e]=t),n&&this._persistSentLogs()},e.prototype._persistSentLogs=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this._persistentStorageOpts?[4,this._persistentStorageOpts.set(this._sentLogsStorageKey,this._sentLogs)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}}))}))},e.prototype._sendLogTreatment=function(e){var t=this._treatmentUrl+"/log";return this._httpClient.post(t,e)},e.STORAGE_KEY_PREFIX="TreatmentServiceStorage_",e}();t.TreatmentService=l},88265:(e,t,n)=>{n.d(t,{dN:()=>ne});var r=n(69063),i=n(62470).hp,o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a,u,c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)};function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function p(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.HTTP_EXCEPTION=1]="HTTP_EXCEPTION",e[e.INVALID_STATE=2]="INVALID_STATE",e[e.LOCK_TIMEOUT=3]="LOCK_TIMEOUT",e[e.STORAGE_CACHE_SET_ERROR=4]="STORAGE_CACHE_SET_ERROR",e[e.STORAGE_CACHE_REMOVE_ERROR=5]="STORAGE_CACHE_REMOVE_ERROR"}(u||(u={}));var h,d=((a={})[u.UNKNOWN]="Unknown error",a[u.HTTP_EXCEPTION]="HTTP Exception",a[u.INVALID_STATE]="Invalid State",a[u.LOCK_TIMEOUT]="Lock Timeout",a[u.STORAGE_CACHE_SET_ERROR]="Error storing tokens",a[u.STORAGE_CACHE_REMOVE_ERROR]="Error removing tokens",a),f=function(e){function t(t,n){void 0===t&&(t=u.UNKNOWN),void 0===n&&(n=d[t]);var r=e.call(this,n)||this;return r.code=t,r}return s(t,e),t.codes=u,t}(Error);!function(e){e.INVALID_AUTHORIZATION_CODE="Invalid authorization code",e.INVALID_CLIENT_TYPE="Invalid client type",e.INVALID_CODE_VERIFIER="Invalid code verifier",e.INVALID_ORIGIN="Invalid origin",e.INVALID_PUBLIC_KEY="Invalid public key",e.INVALID_REDIRECT_URI="Invalid redirect uri",e.INVALID_SCOPE="Invalid scope",e.INVALID_GRANT_TYPE="Invalid grant type",e.INVALID_REFRESH_TOKEN="Invalid refresh token",e.ACCESS_DENIED="Access is denied",e.INVALID_CLIENT="Invalid client",e.REVOKE_ERROR="Revoke error",e.NOT_ENABLED="Oauth not enabled",e.NOT_IMPLEMENTED="Not implemented"}(h||(h={}));var m=function(e){function t(n,r,i){void 0===r&&(r="unknown");var o=e.call(this,f.codes.HTTP_EXCEPTION,i)||this;return o.serverCode=r,o.response=n,Object.setPrototypeOf(o,t.prototype),o}return s(t,e),Object.defineProperty(t.prototype,"status",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusText",{get:function(){return this.response.statusText},enumerable:!1,configurable:!0}),t}(f),g="grammarly.lock.getAccessToken",y="/oauth2/authorize";function _(e){var t,n="";if("undefined"==typeof crypto||void 0===crypto.getRandomValues){t=new Uint8Array(e);for(var r=0;r<e;++r)t[r]=65535*Math.random()|0}else t=crypto.getRandomValues(new Uint8Array(e));return Array.from(t).forEach((function(e){return n+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~."[e%66]})),n}function b(e){try{return btoa(e)}catch(t){return i.from(e,"binary").toString("base64")}}function v(e,t){return void 0===t&&(t=3),l(this,void 0,void 0,(function(){var n;return p(this,(function(r){switch(r.label){case 0:n=0,r.label=1;case 1:return n<t?[4,e()]:[3,4];case 2:if(r.sent())return[2,!0];r.label=3;case 3:return n++,[3,1];case 4:return[2,!1]}}))}))}var T=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function j(e,t,n,r,i){for(var o,s,a,u,c,l,p,h,d,f,m,g,y;i>=64;){for(o=t[0],s=t[1],a=t[2],u=t[3],c=t[4],l=t[5],p=t[6],h=t[7],f=0;f<16;f++)m=r+4*f,e[f]=(255&n[m])<<24|(255&n[m+1])<<16|(255&n[m+2])<<8|255&n[m+3];for(f=16;f<64;f++)g=((d=e[f-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,y=((d=e[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,e[f]=(g+e[f-7]|0)+(y+e[f-16]|0);for(f=0;f<64;f++)g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&p)|0)+(h+(T[f]+e[f]|0)|0)|0,y=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&a^s&a)|0,h=p,p=l,l=c,c=u+g|0,u=a,a=s,s=o,o=g+y|0;t[0]+=o,t[1]+=s,t[2]+=a,t[3]+=u,t[4]+=c,t[5]+=l,t[6]+=p,t[7]+=h,r+=64,i-=64}return r}var O,E,I,w=function(){function e(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[n++],t--;64===this.bufferLength&&(j(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=j(this.temp,this.state,e,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[n++],t--;return this},e.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,n=this.bufferLength,r=t/536870912|0,i=t<<3,o=t%64<56?64:128;this.buffer[n]=128;for(var s=n+1;s<o-8;s++)this.buffer[s]=0;this.buffer[o-8]=r>>>24&255,this.buffer[o-7]=r>>>16&255,this.buffer[o-6]=r>>>8&255,this.buffer[o-5]=r>>>0&255,this.buffer[o-4]=i>>>24&255,this.buffer[o-3]=i>>>16&255,this.buffer[o-2]=i>>>8&255,this.buffer[o-1]=i>>>0&255,j(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(s=0;s<8;s++)e[4*s+0]=this.state[s]>>>24&255,e[4*s+1]=this.state[s]>>>16&255,e[4*s+2]=this.state[s]>>>8&255,e[4*s+3]=this.state[s]>>>0&255;return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},e.prototype._restoreState=function(e,t){for(var n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},e}();function P(e){var t=(new w).update(e),n=t.digest();return t.clean(),n}function x(e){return b(function(e){return String.fromCharCode.apply(null,Array.from(new Uint8Array(e)))}(e)).replace(/[=]+$/,"").replace(/[+]/g,"-").replace(/[/]/g,"_")}function R(e){return l(this,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return t=function(e){try{return(new TextEncoder).encode(e)}catch(t){return new Uint8Array(i.from(e,"utf8"))}}(e),"undefined"==typeof crypto||void 0===crypto.subtle?[2,P(t)]:[4,crypto.subtle.digest("SHA-256",t)];case 1:return[2,n.sent()]}}))}))}function S(){return l(this,void 0,void 0,(function(){var e,t,n,r;return p(this,(function(i){switch(i.label){case 0:return e=_(43),n=x,[4,R(e)];case 1:return t=n.apply(void 0,[i.sent()]),r=new Date,[2,{codeVerifier:e,codeChallenge:t,createdAt:r}]}}))}))}function M(e){return void 0===e&&(e=0),l(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){return setTimeout(t,e)}))];case 1:return t.sent(),[2]}}))}))}function C(e){var t=Math.floor(100*Math.pow(2,e));return Math.floor(Math.random()*(t-100+1))+100}function N(e){return l(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,h=this;return p(this,(function(d){switch(d.label){case 0:t=c({backoffFn:function(e){var t=e.tryNo;return l(h,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,M(Math.round(C(t)))];case 1:return e.sent(),[2]}}))}))},maxRetries:10},e),n=0,r=!1,i=null,o=null,s=Date.now(),a=function(){r=!0},d.label=1;case 1:if(!(n<=t.maxRetries))return[3,8];d.label=2;case 2:return d.trys.push([2,4,,7]),[4,t.fn({tryNo:n,startedAt:s,abort:a})];case 3:return[2,{result:o=d.sent(),error:null}];case 4:return u=d.sent(),i=u,++n,r?[3,8]:n<=t.maxRetries?[4,t.backoffFn({tryNo:n,startedAt:s,abort:a})]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,7];case 7:return[3,1];case 8:return[2,{error:i,result:o}]}}))}))}function A(e){return l(this,void 0,void 0,(function(){var t=this;return p(this,(function(n){switch(n.label){case 0:return[4,N({maxRetries:1,fn:function(n){return l(t,void 0,void 0,(function(){var t;return p(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e(n)];case 1:return[2,r.sent()];case 2:throw(t=r.sent())instanceof m&&(i=t.status)>=O.BAD_REQUEST&&i<O.INTERNAL_SERVER_ERROR&&t.status!==O.TOO_MANY_REQUESTS&&n.abort(),t;case 3:return[2]}var i}))}))}})];case 1:return[2,n.sent()]}}))}))}!function(e){e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR"}(O||(O={})),function(e){e.GET="get",e.POST="post"}(E||(E={})),function(e){e.APPLICATION_JSON="application/json"}(I||(I={}));var D,q=function(){function e(e,t){this._fetch=e,this._config=t}return e.prototype.get=function(e){return l(this,void 0,void 0,(function(){var t,n,r,i,o,s=this;return p(this,(function(a){switch(a.label){case 0:return[4,this._getHeaders()];case 1:return t=a.sent(),n=function(){return l(s,void 0,void 0,(function(){var n;return p(this,(function(r){switch(r.label){case 0:return[4,this._fetchWithTimeout(e,{credentials:"include",mode:"cors",headers:t})];case 1:return n=r.sent(),[2,this._parseResponse(e,n)]}}))}))},[4,A(n)];case 2:if(r=a.sent(),i=r.result,o=r.error,null!=i)return[2,i];if(null!=o)throw o;throw new Error("Unexpected HttpClient error")}}))}))},e.prototype.post=function(e,t){return l(this,void 0,void 0,(function(){var n,r,i,o,s,a=this;return p(this,(function(u){switch(u.label){case 0:return[4,this._getHeaders()];case 1:return n=u.sent(),r=function(){return l(a,void 0,void 0,(function(){var r;return p(this,(function(i){switch(i.label){case 0:return[4,this._fetchWithTimeout(e,{method:E.POST,credentials:"include",mode:"cors",headers:c(c({},n),{"Content-Type":I.APPLICATION_JSON}),body:JSON.stringify(t)})];case 1:return r=i.sent(),[2,this._parseResponse(e,r)]}}))}))},[4,A(r)];case 2:if(i=u.sent(),o=i.result,s=i.error,null!=o)return[2,o];if(null!=s)throw s;throw new Error("Unexpected HttpClient error")}}))}))},e.prototype._fetchWithTimeout=function(e,t){void 0===t&&(t={}),t.timeout;var n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["timeout"]);return l(this,void 0,void 0,(function(){var t=this;return p(this,(function(r){return[2,this._config.timeout?Promise.race([this._fetch(e,c({},n)),new Promise((function(e,n){return setTimeout((function(){return n(new Error("Fetch Timeout"))}),t._config.timeout)}))]):this._fetch(e,c({},n))]}))}))},e.prototype._getHeaders=function(){return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return this._config.applicationHeaders?[2,this._config.applicationHeaders]:this._config.getApplicationHeaders?[4,this._config.getApplicationHeaders()]:[3,2];case 1:return[2,e.sent()];case 2:throw new Error("Cannot get application headers")}}))}))},e.prototype._parseResponse=function(e,t){return l(this,void 0,void 0,(function(){var n,r;return p(this,(function(i){switch(i.label){case 0:if(t.status>=O.INTERNAL_SERVER_ERROR)throw new m(t,"unknown","HTTP server error ".concat(t.status,". Unable to fetch ").concat(e));return[4,t.clone().json().catch((function(e){return{error:"unknown",message:e.message}}))];case 1:if(n=i.sent(),r=n.message||"HTTP error. Unable to fetch ".concat(e),!t.ok)throw new m(t,n.error,r);return[4,t.json()];case 2:return[2,i.sent()]}}))}))},e}(),Y=function(){function e(e,t,n){this._tokensUrl=e,this._httpClient=new q(t,n)}return e.prototype.authorize=function(e){return this._httpClient.post(this._tokensUrl+y,e)},e.prototype.getTokens=function(e){return this._httpClient.post(this._tokensUrl+"/oauth2/token",e)},e}(),U=32;function k(e){var t=e.baseUrl,n=e.clientId,r=e.scopes,i=e.redirectUri,o=e.mode,s=e.state;return l(this,void 0,void 0,(function(){var e,a,u,c,l;return p(this,(function(p){switch(p.label){case 0:return[4,S()];case 1:return e=p.sent(),a=e.codeChallenge,u=e.codeVerifier,c=s||b(_(U)),l={client_id:n,redirect_uri:i,response_type:"code",response_mode:o,code_challenge:a,state:c,scope:r?r.join(" "):""},[2,{origin:new URL(t).origin,authorizeRequestBody:l,codeVerifier:u,state:c}]}}))}))}function G(e){var t=e.tokensClient,n=e.authorizeRequestBody;return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,t.authorize(n)];case 1:return[2,e.sent()]}}))}))}function L(e){var t=e.tokensClient,n=e.clientId,r=e.grantType,i=e.codeVerifier,o=e.authorizationCode,s=e.refreshToken;return l(this,void 0,void 0,(function(){var e;return p(this,(function(a){switch(a.label){case 0:switch(e={client_id:n,grant_type:r},r){case"refresh_token":e=c(c({},e),{refresh_token:s});break;case"authorization_code":e=c(c({},e),{code_verifier:i,authorization_code:o})}return[4,t.getTokens(e)];case 1:return[2,a.sent()]}}))}))}function W(e){if(e&&e.expires_at&&e.access_token&&e.refresh_token){var t=(new Date).getTime();return e.expires_at-t<=0?null:e}return null}function H(e){var t=e.tokensClient,n=e.clientId,r=e.clientType;return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,L({tokensClient:t,clientId:n,grantType:"Desktop"===r?"urn:ietf:params:oauth:grant-type:client_id":"urn:ietf:params:oauth:grant-type:origin"})];case 1:return[2,e.sent()]}}))}))}function z(e){var t=e.tokensClient,n=e.clientId,r=e.refreshToken;return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,L({tokensClient:t,clientId:n,grantType:"refresh_token",refreshToken:r})];case 1:return[2,e.sent()]}}))}))}function K(e){var t=e.tokensClient,n=e.baseUrl,r=e.clientId,i=e.redirectUri;return l(this,void 0,void 0,(function(){var e,o,s,a,c,l,h;return p(this,(function(p){switch(p.label){case 0:return[4,k({baseUrl:n+y,clientId:r,scopes:["grammarly.capi.all"],mode:"web_message",redirectUri:i})];case 1:return e=p.sent(),o=e.authorizeRequestBody,s=e.codeVerifier,a=e.state,[4,G({tokensClient:t,authorizeRequestBody:o})];case 2:if(c=p.sent(),l=c.code,h=c.state,a!==h)throw new f(u.INVALID_STATE);return[4,L({tokensClient:t,clientId:r,grantType:"authorization_code",codeVerifier:s,authorizationCode:l})];case 3:return[2,p.sent()]}}))}))}!function(e){e.GET_TOKENS_ATTEMPT_WITH_REFRESH_TOKEN="GET_TOKENS_ATTEMPT_WITH_REFRESH_TOKEN",e.GET_TOKENS_ATTEMPT_WITHOUT_REFRESH_TOKEN="GET_TOKENS_ATTEMPT_WITHOUT_REFRESH_TOKEN",e.GET_TOKENS_SUCCESS="GET_TOKENS_SUCCESS",e.GET_TOKENS_FAILURE="GET_TOKENS_FAILURE",e.INVALID_REFRESH_TOKEN="INVALID_REFRESH_TOKEN",e.ACCESS_DENIED="ACCESS_DENIED",e.LOCK_TIMEOUT="LOCK_TIMEOUT"}(D||(D={}));var V=function(e){return c(c({},e),{timestamp_ms:Date.now()})};function F(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function B(e){return void 0===e&&(e=0),l(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){return setTimeout(t,e)}))];case 1:return t.sent(),[2]}}))}))}var $=F();function J(e){return"".concat($,":").concat(e,":").concat(Math.floor(1e6*(1+Math.random())))}function Z(){return Math.floor(1+9*Math.random())}function X(e,t,n,r,i){return l(this,void 0,void 0,(function(){function o(t){return l(this,void 0,void 0,(function(){var n,i;return p(this,(function(o){switch(o.label){case 0:return[4,e.getItem(t)];case 1:return null==(n=o.sent())?[2,!1]:n===h?[2,!0]:(i=parseInt(String(n.split(":")[1]),10),[2,!Number.isFinite(i)||i+r<Date.now()])}}))}))}function s(){return l(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,o(u)];case 1:return t.sent()?[4,e.removeItem(u)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,o(c)];case 4:return t.sent()?[4,e.removeItem(c)]:[3,6];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))}var a,u,c,h,d;return p(this,(function(r){switch(r.label){case 0:a=Date.now(),u="".concat(t,"__$$MUTEX_x"),c="".concat(t,"__$$MUTEX_y"),h=J(a),r.label=1;case 1:return[4,s()];case 2:if(r.sent(),Date.now()-a>n)throw new f(f.codes.LOCK_TIMEOUT,'"Mutex on '.concat(t," was not achieved in ").concat(n,"ms"));return[4,e.getItem(u)];case 3:return null==r.sent()?[3,5]:[4,B(Z())];case 4:return r.sent(),[3,1];case 5:return[4,e.setItem(u,h)];case 6:return r.sent(),[4,e.getItem(c)];case 7:return null==r.sent()?[3,9]:[4,B(Z())];case 8:return r.sent(),[3,1];case 9:return[4,e.setItem(c,h)];case 10:return r.sent(),[4,B(Z())];case 11:return r.sent(),[4,e.getItem(u)];case 12:return r.sent()===h?[3,17]:[4,B(Z())];case 13:return r.sent(),[4,e.getItem(c)];case 14:return r.sent()===h?[3,16]:[4,B(Z())];case 15:r.sent(),r.label=16;case 16:return[3,1];case 17:return r.trys.push([17,,21,24]),d=J(Date.now()),[4,e.setItem(u,d)];case 18:return r.sent(),[4,e.setItem(c,d)];case 19:return r.sent(),[4,i()];case 20:return r.sent(),[3,24];case 21:return[4,e.removeItem(u)];case 22:return r.sent(),[4,e.removeItem(c)];case 23:return r.sent(),[7];case 24:return[3,25];case 25:return[2]}}))}))}var Q=function(){function e(e){this.locks=new Map,this.storage=e}return e.prototype.acquireLock=function(e){return l(this,void 0,void 0,(function(){var t=this;return p(this,(function(n){return[2,new Promise((function(n){return l(t,void 0,void 0,(function(){var t=this;return p(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,X(this.storage,e,6e4,5e3,(function(){return l(t,void 0,void 0,(function(){var t=this;return p(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(r){t.locks.set(e,r),n(!0)}))];case 1:return r.sent(),[2]}}))}))}))];case 1:return r.sent(),[3,3];case 2:return r.sent(),n(!1),[3,3];case 3:return[2]}}))}))}))]}))}))},e.prototype.releaseLock=function(e){return l(this,void 0,void 0,(function(){var t;return p(this,(function(n){return null!=(t=this.locks.get(e))&&t(),this.locks.delete(e),[2]}))}))},e}(),ee=function(){function e(e,t){this._storage=e,this._storageKey=t}return e.prototype.set=function(e){return l(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this._storage.setItem(this._storageKey,JSON.stringify(e))];case 1:return t.sent(),[2,e];case 2:throw t.sent(),new f(u.STORAGE_CACHE_SET_ERROR);case 3:return[2]}}))}))},e.prototype.get=function(){return l(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this._storage.getItem(this._storageKey)];case 1:return[2,(e=t.sent())?JSON.parse(e):null];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))},e.prototype.remove=function(){return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._storage.removeItem(this._storageKey)];case 1:return e.sent(),[3,3];case 2:throw e.sent(),new f(u.STORAGE_CACHE_REMOVE_ERROR);case 3:return[2]}}))}))},e}(),te=function(){function e(){this.cache={},this.length=0}return e.prototype.getItem=function(e){return e in this.cache?this.cache[e]:null},e.prototype.setItem=function(e,t){void 0===t?this.removeItem(e):(this.cache.hasOwnProperty(e)||this.length++,this.cache[e]=t)},e.prototype.removeItem=function(e){this.cache.hasOwnProperty(e)&&(delete this.cache[e],this.length--)},e.prototype.key=function(e){return Object.keys(this.cache)[e]||null},e.prototype.clear=function(){this.cache={},this.length=0},e}(),ne=function(e){function t(t){var n=e.call(this,t)||this;return n._promiseMap={},n._tokensClient=new Y(n._domain,t.fetch,t.httpClientOptions),n._storageKey=t.storageKey||"grammarly.".concat(n._clientId,".tokens"),n._storage=t.storage||new te,n._lock=t.lock||new Q(n._storage),n._onAccessDenied=t.onAccessDenied||function(){},n._cache=new ee(n._storage,n._storageKey),n._logger=r.Bx.Logging.getLogger("OAuth"),n}return s(t,e),t.prototype._authorize=function(e){return l(this,void 0,void 0,(function(){var t,n;return p(this,(function(r){switch(r.label){case 0:t=e.orAnonymous,r.label=1;case 1:return r.trys.push([1,3,,9]),[4,K({tokensClient:this._tokensClient,baseUrl:this._domain,clientId:this._clientId,redirectUri:this._redirectUri})];case 2:return[2,r.sent()];case 3:return(n=r.sent())instanceof m&&n.status===O.UNAUTHORIZED?[3,4]:[3,8];case 4:return t?[4,H({tokensClient:this._tokensClient,clientId:this._clientId,clientType:"Web"})]:[3,6];case 5:return[2,r.sent()];case 6:return this._logger.error(n.message,V(e)),[4,this._onAccessDenied(n)];case 7:r.sent(),r.label=8;case 8:throw n;case 9:return[2]}}))}))},t.prototype._refresh=function(e,t){return l(this,void 0,void 0,(function(){var n;return p(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,z({tokensClient:this._tokensClient,clientId:this._clientId,refreshToken:e})];case 1:case 3:return[2,r.sent()];case 2:return(n=r.sent())instanceof m&&n.status===O.UNAUTHORIZED?(this._logger.info(n.message,V(t)),[4,this._authorize(t)]):[3,4];case 4:throw n;case 5:return[2]}}))}))},t.prototype._getAccessToken=function(e){return l(this,void 0,void 0,(function(){var t,n,r,i,o,s,a=this;return p(this,(function(c){switch(c.label){case 0:return c.trys.push([0,16,,17]),(t=e.ignoreCache)?[3,2]:(n=W,[4,this._cache.get()]);case 1:if(i=n.apply(void 0,[c.sent()]))return[2,i.access_token];c.label=2;case 2:return[4,v((function(){return a._lock.acquireLock(g,5e3)}),10)];case 3:if(!c.sent())return[3,14];c.label=4;case 4:return c.trys.push([4,,11,13]),[4,this._cache.get()];case 5:return r=c.sent(),!t&&(i=W(r))?[2,i.access_token]:(o=void 0,!t&&r&&r.refresh_token?[3,7]:(this._logger.debug(D.GET_TOKENS_ATTEMPT_WITHOUT_REFRESH_TOKEN,V(e)),[4,this._authorize(e)]));case 6:return o=c.sent(),[3,9];case 7:return this._logger.debug(D.GET_TOKENS_ATTEMPT_WITH_REFRESH_TOKEN,V(e)),[4,this._refresh(r.refresh_token,e)];case 8:o=c.sent(),c.label=9;case 9:return this._logger.debug(D.GET_TOKENS_SUCCESS,V(e)),[4,this._cache.set((l=o,{expires_at:(new Date).getTime()+1e3*l.expires_in,access_token:l.access_token,refresh_token:l.refresh_token}))];case 10:return[2,(o=c.sent()).access_token];case 11:return[4,this._lock.releaseLock(g)];case 12:return c.sent(),[7];case 13:return[3,15];case 14:throw this._logger.debug(D.LOCK_TIMEOUT,V(e)),new f(u.LOCK_TIMEOUT);case 15:return[3,17];case 16:throw s=c.sent(),this._logger.error(D.GET_TOKENS_FAILURE,s,V(e)),s;case 17:return[2]}var l}))}))},t.prototype.getAccessToken=function(e){var t=this;void 0===e&&(e={orAnonymous:!1,ignoreCache:!1});var n="".concat(e.orAnonymous,"::").concat(e.ignoreCache),r=this._promiseMap[n];return r||(r=this._getAccessToken(e).finally((function(){delete t._promiseMap[n],r=null})),this._promiseMap[n]=r),r},t.prototype.logout=function(){return l(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,this._cache.remove()];case 1:return e.sent(),[2]}}))}))},t}((function(e){var t;this._clientId=e.clientId,this._redirectUri=e.redirectUri,this._domain=(t=e.domain,/^https?:\/\//.test(t)?t:"https://".concat(t))}))},38841:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.VitoApi=void 0;var l=a(n(27643)),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.plansGetRaw=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:if(null===e.specialOffers||void 0===e.specialOffers)throw new l.RequiredError("specialOffers","Required parameter requestParameters.specialOffers was null or undefined when calling plansGet.");if(null===e.countryCode||void 0===e.countryCode)throw new l.RequiredError("countryCode","Required parameter requestParameters.countryCode was null or undefined when calling plansGet.");return n={},e.specialOffers&&(n.specialOffers=e.specialOffers),void 0!==e.countryCode&&(n.countryCode=e.countryCode),r={},[4,this.request({path:"/plans/",method:"GET",headers:r,query:n},t)];case 1:return i=o.sent(),[2,new l.JSONApiResponse(i)]}}))}))},t.prototype.plansGet=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,this.plansGetRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.setupTrialPostRaw=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:if(null===e.setupTrialPostRequest||void 0===e.setupTrialPostRequest)throw new l.RequiredError("setupTrialPostRequest","Required parameter requestParameters.setupTrialPostRequest was null or undefined when calling setupTrialPost.");return n={},(r={})["Content-Type"]="application/json",[4,this.request({path:"/setup-trial/",method:"POST",headers:r,query:n,body:e.setupTrialPostRequest},t)];case 1:return i=o.sent(),[2,new l.JSONApiResponse(i)]}}))}))},t.prototype.setupTrialPost=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,this.setupTrialPostRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.specialOffersGetRaw=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return n={},e.names&&(n.names=e.names),r={},[4,this.request({path:"/special-offers/",method:"GET",headers:r,query:n},t)];case 1:return i=o.sent(),[2,new l.JSONApiResponse(i)]}}))}))},t.prototype.specialOffersGet=function(e,t){return void 0===e&&(e={}),u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,this.specialOffersGetRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t.prototype.subscribePostRaw=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:if(null===e.subscribePostRequest||void 0===e.subscribePostRequest)throw new l.RequiredError("subscribePostRequest","Required parameter requestParameters.subscribePostRequest was null or undefined when calling subscribePost.");return n={},(r={})["Content-Type"]="application/json",[4,this.request({path:"/subscribe/",method:"POST",headers:r,query:n,body:e.subscribePostRequest},t)];case 1:return i=o.sent(),[2,new l.JSONApiResponse(i)]}}))}))},t.prototype.subscribePost=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,this.subscribePostRaw(e,t)];case 1:return[4,n.sent().value()];case 2:return[2,n.sent()]}}))}))},t}(l.BaseAPI);t.VitoApi=p},81345:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(38841),t)},38819:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(27643),t),i(n(81345),t),i(n(54526),t)},54526:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},27643:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TextApiResponse=t.BlobApiResponse=t.VoidApiResponse=t.JSONApiResponse=t.canConsumeForm=t.querystring=t.COLLECTION_FORMATS=t.RequiredError=t.FetchError=t.ResponseError=t.BaseAPI=t.DefaultConfig=t.Configuration=t.BASE_PATH=void 0,t.BASE_PATH="http://localhost".replace(/\/+$/,"");var a=function(){function e(e){void 0===e&&(e={}),this.configuration=e}return Object.defineProperty(e.prototype,"config",{set:function(e){this.configuration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"basePath",{get:function(){return null!=this.configuration.basePath?this.configuration.basePath:t.BASE_PATH},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fetchApi",{get:function(){return this.configuration.fetchApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"middleware",{get:function(){return this.configuration.middleware||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queryParamsStringify",{get:function(){return this.configuration.queryParamsStringify||p},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"username",{get:function(){return this.configuration.username},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this.configuration.password},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apiKey",{get:function(){var e=this.configuration.apiKey;if(e)return"function"==typeof e?e:function(){return e}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"accessToken",{get:function(){var e=this,t=this.configuration.accessToken;if(t)return"function"==typeof t?t:function(){return o(e,void 0,void 0,(function(){return s(this,(function(e){return[2,t]}))}))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this.configuration.headers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"credentials",{get:function(){return this.configuration.credentials},enumerable:!1,configurable:!0}),e}();t.Configuration=a,t.DefaultConfig=new a,t.BaseAPI=function(){function e(e){void 0===e&&(e=t.DefaultConfig);var n=this;this.configuration=e,this.fetchApi=function(e,t){return o(n,void 0,void 0,(function(){var n,r,o,a,u,l,p,h,d,f;return s(this,(function(s){switch(s.label){case 0:n={url:e,init:t},r=0,o=this.middleware,s.label=1;case 1:return r<o.length?(f=o[r]).pre?[4,f.pre(i({fetch:this.fetchApi},n))]:[3,3]:[3,4];case 2:n=s.sent()||n,s.label=3;case 3:return r++,[3,1];case 4:a=void 0,s.label=5;case 5:return s.trys.push([5,7,,12]),[4,(this.configuration.fetchApi||fetch)(n.url,n.init)];case 6:return a=s.sent(),[3,12];case 7:u=s.sent(),l=0,p=this.middleware,s.label=8;case 8:return l<p.length?(f=p[l]).onError?[4,f.onError({fetch:this.fetchApi,url:n.url,init:n.init,error:u,response:a?a.clone():void 0})]:[3,10]:[3,11];case 9:a=s.sent()||a,s.label=10;case 10:return l++,[3,8];case 11:if(void 0===a)throw u instanceof Error?new c(u,"The request failed and the interceptors did not return an alternative response"):u;return[3,12];case 12:h=0,d=this.middleware,s.label=13;case 13:return h<d.length?(f=d[h]).post?[4,f.post({fetch:this.fetchApi,url:n.url,init:n.init,response:a.clone()})]:[3,15]:[3,16];case 14:a=s.sent()||a,s.label=15;case 15:return h++,[3,13];case 16:return[2,a]}}))}))},this.middleware=e.middleware}return e.prototype.withMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.clone();return r.middleware=(e=r.middleware).concat.apply(e,t),r},e.prototype.withPreMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.map((function(e){return{pre:e}}));return this.withMiddleware.apply(this,n)},e.prototype.withPostMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.map((function(e){return{post:e}}));return this.withMiddleware.apply(this,n)},e.prototype.isJsonMime=function(t){return!!t&&e.jsonRegex.test(t)},e.prototype.request=function(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(s){switch(s.label){case 0:return[4,this.createFetchParams(e,t)];case 1:return o=s.sent(),n=o.url,r=o.init,[4,this.fetchApi(n,r)];case 2:if((i=s.sent())&&i.status>=200&&i.status<300)return[2,i];throw new u(i,"Response returned an error code")}}))}))},e.prototype.createFetchParams=function(e,t){return o(this,void 0,void 0,(function(){var n,r,a,u,c,l,p,h,d=this;return s(this,(function(f){switch(f.label){case 0:return n=this.configuration.basePath+e.path,void 0!==e.query&&0!==Object.keys(e.query).length&&(n+="?"+this.configuration.queryParamsStringify(e.query)),r=Object.assign({},this.configuration.headers,e.headers),Object.keys(r).forEach((function(e){return void 0===r[e]?delete r[e]:{}})),a="function"==typeof t?t:function(){return o(d,void 0,void 0,(function(){return s(this,(function(e){return[2,t]}))}))},u={method:e.method,headers:r,body:e.body,credentials:this.configuration.credentials},l=[i({},u)],[4,a({init:u,context:e})];case 1:return m=(c=i.apply(void 0,l.concat([f.sent()]))).body,p="undefined"!=typeof FormData&&m instanceof FormData||c.body instanceof URLSearchParams||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(c.body)?c.body:this.isJsonMime(r["Content-Type"])?JSON.stringify(c.body):c.body,h=i(i({},c),{body:p}),[2,{url:n,init:h}]}var m}))}))},e.prototype.clone=function(){var e=new(0,this.constructor)(this.configuration);return e.middleware=this.middleware.slice(),e},e.jsonRegex=new RegExp("^(:?application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(:?;.*)?$","i"),e}();var u=function(e){function t(t,n){var r=e.call(this,n)||this;return r.response=t,r.name="ResponseError",r}return r(t,e),t}(Error);t.ResponseError=u;var c=function(e){function t(t,n){var r=e.call(this,n)||this;return r.cause=t,r.name="FetchError",r}return r(t,e),t}(Error);t.FetchError=c;var l=function(e){function t(t,n){var r=e.call(this,n)||this;return r.field=t,r.name="RequiredError",r}return r(t,e),t}(Error);function p(e,t){return void 0===t&&(t=""),Object.keys(e).map((function(n){return h(n,e[n],t)})).filter((function(e){return e.length>0})).join("&")}function h(e,t,n){void 0===n&&(n="");var r=n+(n.length?"[".concat(e,"]"):e);if(t instanceof Array){var i=t.map((function(e){return encodeURIComponent(String(e))})).join("&".concat(encodeURIComponent(r),"="));return"".concat(encodeURIComponent(r),"=").concat(i)}return t instanceof Set?h(e,Array.from(t),n):t instanceof Date?"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t.toISOString())):t instanceof Object?p(t,r):"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(String(t)))}t.RequiredError=l,t.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"},t.querystring=p,t.canConsumeForm=function(e){for(var t=0,n=e;t<n.length;t++)if("multipart/form-data"===n[t].contentType)return!0;return!1};var d=function(){function e(e,t){void 0===t&&(t=function(e){return e}),this.raw=e,this.transformer=t}return e.prototype.value=function(){return o(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=this.transformer,[4,this.raw.json()];case 1:return[2,e.apply(this,[t.sent()])]}}))}))},e}();t.JSONApiResponse=d;var f=function(){function e(e){this.raw=e}return e.prototype.value=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return[2,void 0]}))}))},e}();t.VoidApiResponse=f;var m=function(){function e(e){this.raw=e}return e.prototype.value=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.raw.blob()];case 1:return[2,e.sent()]}}))}))},e}();t.BlobApiResponse=m;var g=function(){function e(e){this.raw=e}return e.prototype.value=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.raw.text()];case 1:return[2,e.sent()]}}))}))},e}();t.TextApiResponse=g},16799:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.retrying=t.applyAndDelay=void 0;var s=o(n(83293)),a=o(n(44297)),u=n(63336),c=n(90892);function l(e,t){var n=c.applyPolicy(e,t);return u.pipe(n.previousDelay,a.fold((function(){return s.task.of(n)}),(function(e){return s.delay(e)(s.task.of(n))})))}t.applyAndDelay=l,t.retrying=function(e,t,n){var r=function(i){return u.pipe(i,t,s.chain((function(t){return n(t)?u.pipe(l(e,i),s.chain((function(e){return u.pipe(e.previousDelay,a.fold((function(){return s.task.of(t)}),(function(){return r(e)})))}))):s.task.of(t)})))};return r(c.defaultRetryStatus)}},90892:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.monoidRetryPolicy=t.applyPolicy=t.defaultRetryStatus=t.exponentialBackoff=t.capDelay=t.constantDelay=t.limitRetriesByDelay=t.limitRetries=t.Monoid=void 0;var s=o(n(69082)),a=o(n(44297)),u=n(98475),c=n(58413),l=n(63336);t.Monoid=s.getFunctionMonoid(a.getApplyMonoid({concat:u.getJoinSemigroup(c.ordNumber).concat,empty:0}))(),t.limitRetries=function(e){return function(t){return t.iterNumber>=e?a.none:a.some(0)}},t.limitRetriesByDelay=function(e,t){return function(n){return l.pipe(n,t,a.filter((function(t){return t<e})))}},t.constantDelay=function(e){return function(){return a.some(e)}},t.capDelay=function(e,t){return function(n){return l.pipe(n,t,a.map((function(t){return Math.min(e,t)})))}},t.exponentialBackoff=function(e){return function(t){return a.some(e*Math.pow(2,t.iterNumber))}},t.defaultRetryStatus={iterNumber:0,cumulativeDelay:0,previousDelay:a.none},t.applyPolicy=function(e,t){var n=e(t);return{iterNumber:t.iterNumber+1,cumulativeDelay:t.cumulativeDelay+a.getOrElse((function(){return 0}))(n),previousDelay:n}},t.monoidRetryPolicy=t.Monoid},30514:(e,t,n)=>{n.d(t,{X9:()=>F});var r=n(63336),i=n(96797),o=n(44297),s=n(58193),a=n(57749),u=n(67742),c=n(84679),l=n(9777);const p=i.E$([i.qO({ssoEnabled:i.zM,ssoActivated:i.zM}),i.OH({ssoId:i.Yj})]),h=i.KC([i.eu("EDU"),i.eu("GOV"),i.eu("NGO"),i.eu("BUSINESS"),i.eu("K12")]),d=a.Type.option(i.Yj),f=i.E$([i.NW({name:i.Yj,id:i.ai,docsDisabled:i.zM,onboardingType:i.KC([i.eu("SELF_SERVE"),i.eu("MANAGED")]),voxEnabled:i.zM,brandTonesEnabled:i.zM,multipleStyleGuidesEnabled:i.zM,groupRolesEnabled:i.zM,personalDictionaryDisabled:i.zM,personalSnippetsDisabled:i.zM,proFlowEnabled:i.zM,branding:d,createdAt:a.Type.date()}),i.OH({ssoSettings:p,organizationType:h,featurePackageType:a.Type.literalUnion("featurePackageType",a.n(["ENTERPRISE","EDU_GROUP","EDU_INSTITUTION","NGO","PRO","TEAM"]))})]),m=i.E$([i.NW({name:i.Yj,email:i.Yj}),i.KC([i.NW({state:i.eu("Success"),uid:i.ai,stateDateTime:a.Type.date(),isAdmin:i.zM,isAccountOwner:i.zM}),i.OH({uid:i.ai,stateDateTime:a.Type.date(),isAdmin:i.zM,state:i.KC([i.eu("Invited"),i.eu("Removed"),i.eu("Pending"),i.eu("Removing"),i.eu("error")])})])]),g=i.E$([i.NW({institution:f,user:m}),i.OH({invitee:i.NW({institution:f,user:m})})]);i.E$([i.NW({lastName:i.Yj,email:i.Yj,institutionName:i.Yj,fte:i.ai}),i.OH({firstName:i.Yj,phone:i.Yj,interest:i.Yj,notes:i.Yj,source:i.Yj,utmSource:i.Yj,title:i.Yj,payPalToken:i.Yj,billingCountryCode:i.Yj,billingRegionCode:i.Yj,billingZip:i.Yj,nonce:i.Yj,sessionId:i.Yj,purchasingRole:i.Yj,country:i.Yj,institutionType:i.Yj})]),i.qO({email:i.Yj,newAdminName:i.Yj,oldAdminName:i.Yj,institutionName:i.Yj}),i.qO({assigned:i.zM});const y=i.qO({institutionName:i.Yj}),_=i.E$([i.NW({email:i.Yj,name:i.Yj,institutionName:i.Yj,institutionId:i.ai,isRegistered:i.zM,isPremium:i.zM,proFlowEnabled:i.zM,branding:d}),i.OH({organizationType:h})]),b=i.qO({isValid:i.zM}),v=i.qO({isNgo:i.zM}),T=i.qO({companyName:i.Yj,logoUrl:a.Type.option(i.Yj)}),j=i.E$([i.qO({institutionId:i.ai,institutionName:i.Yj,key:i.Yj,state:a.Type.literalUnion("state",a.n(["ACTIVE","INACTIVE","INVALID"])),invalidReason:a.Type.option(i.Yj),domains:i.YO(i.Yj),proFlowEnabled:i.zM,branding:d}),i.OH({organizationType:h})]),O=i.qO({institutions:i.YO(i.NW({id:i.ai,institutionName:i.Yj,logoUrl:a.Type.option(i.Yj),userCount:i.ai,requestState:a.Type.option(a.Type.literalUnion("requestState",a.n(["PENDING","APPROVED","REJECTED","EXPIRED"]))),adminNames:i.YO(i.Yj),memberInitials:i.YO(i.Yj),teamDiscoveryMethod:i.Yj}))}),E=i.NW({result:i.KC([i.eu("AUTOJOIN_SUCCESS"),i.eu("AUTOJOIN_FAILED"),i.eu("REQUEST_TO_JOIN_SUCCESS"),i.eu("REQUEST_TO_JOIN_FAILED")])}),I=i.NW({requestorName:i.Yj,requestorEmail:i.Yj,requestedAt:a.Type.date(),expiredAt:a.Type.date(),state:a.Type.literalUnion("requestState",a.n(["PENDING","APPROVED","REJECTED","EXPIRED"]))}),w=i.qO({total:i.ai,data:i.YO(I)});i.YO(i.qO({email:i.Yj,action:i.Yj})),i.YO(i.qO({email:i.Yj,name:i.Yj}));const P=i.qO({failedEmails:i.YO(i.Yj)}),x=i.qO({total:i.ai,approved:i.ai,denied:i.ai,errors:i.ai,errorDetails:i.YO(i.NW({email:i.Yj,result:a.Type.literalUnion("action",a.n(["APPROVED","APPROVED_NOOP","DENIED","DENIED_NOOP","ERROR"])),reason:i.Yj}))}),R=i.qO({email:i.Yj,action:a.Type.literalUnion("action",a.n(["APPROVED","APPROVED_NOOP","DENIED","DENIED_NOOP"]))}),S=i.qO({email:i.Yj,action:a.Type.literalUnion("result",a.n(["APPROVED","APPROVED_NOOP","DENIED","DENIED_NOOP","ERROR"]))}),M=i.qO({count:i.ai}),C=i.qO({incentives:i.YO(i.NW({action:a.Type.literalUnion("action",a.n(["ACCEPT_SUGGESTION","ADD_MEMBER","INSTALL_EXT","SETUP_TRF"])),rewardDays:i.ai,earned:i.zM})),maximumRewardDays:i.ai,daysEarned:i.ai}),N=i.qO({isEligible:i.zM,nextTrueUpBillingDate:a.Type.option(a.Type.date()),overageSeats:i.ai,maxOverageSeats:i.ai,maxSeats:i.ai,chargePreview:i.ai,renewalChargeWithNewSeats:i.ai}),A=i.qO({email:i.Yj,name:a.Type.option(i.Yj)}),D=i.KC([i.qO({success:i.eu(!0)}),i.qO({success:i.eu(!1),reason:i.Yj,userId:i.ai})]),q=i.qO({name:i.Yj,description:i.Yj,noOfUsers:i.ai,customRoleId:a.Type.option(i.ai)}),Y=i.YO(q),U=i.qO({name:i.Yj,id:i.ai}),k=i.qO({permissionGroup:i.Yj,permissionGroupDescription:i.Yj,permissions:i.YO(U)}),G=i.qO({groupedPermissions:i.YO(k)}),L=i.E$([G,q]),W=i.YO(L);i.qO({name:i.Yj,description:i.Yj,permissionIds:i.YO(i.ai)});const H=i.qO({id:i.ai}),z=i.qO({id:i.ai,name:a.Type.option(i.Yj),email:i.Yj}),K=i.YO(z),V=class extends u.K.Base{constructor(e,t,n){super(),this._url=e,this._ajaxFactory=t,this._fingerprints=n,this._ajax=this._ajaxFactory({requestExtender:c.UV.toHeaderAppender(this._fingerprints)})}static getDefaultUrl(e){return`https://goldengate${e}/institution/api`}getInstitutionUser(e){const t=l.tM.get(this._url,"institution/user");return e&&t.queryParams(e),this._ajax.json(t,g)}confirmUser(e){const t=l.tM.post(this._url,"institution/confirm_user"),n=(0,r.pipe)(e,o.fold((()=>t),(e=>t.cookie("invite_key",e))));return this._ajax.empty(n)}assignToInstitutionByDomain(){const e=l.tM.post(this._url,"institution/assign_to_institution_by_domain");return this._ajax.empty(e)}addToInstitution(e){const t=l.tM.post(this._url,"institution/add_to_inst").json({accessCode:e});return(0,r.pipe)(this._ajax.json(t,y))}updateInstitutionLogo(e){const t=l.tM.put(this._url,"institution/logo").multipartFormData("file",e,"image.png");return this._ajax.empty(t)}getInstitutionLogo(){const e=l.tM.get(this._url,"institution/logo");return this._ajax.json(e,T)}addToInstitutionByInviteLink(e){const t=l.tM.post(this._url,"institution/add_to_inst_by_invite_link").json({inviteLinkKey:e});return(0,r.pipe)(this._ajax.json(t,y))}getInvitationInfo(e){const t=l.tM.get(this._url,"institution/invitation_info"),n=(0,r.pipe)(e,o.fold((()=>t),(e=>t.cookie("invite_key",e))));return(0,r.pipe)(this._ajax.json(n,_))}validateNonGenericDomain(e){const t=l.tM.post(this._url,"domain/validation").json({domain:e});return(0,r.pipe)(this._ajax.json(t,b))}validateNgoDomain(e){const t=l.tM.post(this._url,"domain/validation/ngo").json({domain:e});return(0,r.pipe)(this._ajax.json(t,v))}checkClaimed(e){const t=l.tM.post(this._url,"institution/check_claimed").json({email:e});return this._ajax.json(t)}getRoles(){const e=l.tM.get(this._url,"institution/roles");return this._ajax.json(e,Y)}getAssignedRole(){const e=l.tM.get(this._url,"institution/roles/user/assigned_role");return this._ajax.json(e,q)}getAssignedPermissions(){const e=l.tM.get(this._url,"institution/permissions/assigned_permissions");return this._ajax.json(e,L)}getPermissions(){const e=l.tM.get(this._url,"institution/permissions");return this._ajax.json(e,G)}getPermissionsForRole(e){const t=l.tM.get(this._url,"institution/permissions/role");return e.forEach((e=>t.queryParam("roleIds",e))),this._ajax.json(t,W)}createCustomRole(e){const t=l.tM.post(this._url,"institution/custom-roles").json(e);return this._ajax.json(t,H)}updateCustomRole(e,t){const n=l.tM.put(this._url,"institution/custom-roles/role",t).json(e);return this._ajax.json(n,H)}deleteCustomRole(e){const t=l.tM.del(this._url,"institution/custom-roles","role",e);return this._ajax.empty(t)}getUsersForRole(e,t=0,n=5){const r=l.tM.get(this._url,"institution/custom-roles","role",e,"users").queryParam("offset",t.toString()).queryParam("limit",n.toString());return this._ajax.json(r,K)}setUsersRoles(e){const t=l.tM.post(this._url,"institution/roles/users").json(e);return this._ajax.empty(t)}removeUsersGroupRoles(e){const t=l.tM.del(this._url,"institution/roles/users/group").json(e);return this._ajax.empty(t)}getInviteLinkByKey(e){const t=l.tM.get(this._url,"/institution/invite-link",e);return this._ajax.json(t,j)}getInviteLink(){const e=l.tM.get(this._url,"/institution/invite-link");return this._ajax.json(e,j)}createInviteLink(){const e=l.tM.post(this._url,"/institution/invite-link");return this._ajax.json(e,j)}updateInviteLink(e){const t=l.tM.put(this._url,"/institution/invite-link").json({state:e.state,invalidReason:s.$v(e.invalidReason)});return this._ajax.empty(t)}getJoinRequests(e=0,t,n,r,i,o){const s=l.tM.get(this._url,"/institution/request-to-join").queryParam("offset",String(e));return null!=t&&s.queryParam("limit",String(t)),null!=n&&s.queryParam("order",n),null!=r&&s.queryParam("order_type",r),null!=i&&s.queryParam("search",i),null!=o&&s.queryParam("state",o),this._ajax.json(s,w)}getPossibleInstitutionsToJoin(e){const t=void 0===e?l.tM.get(this._url,"/institution/request-to-join/institutions"):l.tM.post(this._url,"/institution/request-to-join/institutions").json({workEmail:e});return this._ajax.json(t,O)}sendRequestToJoin(e,t,n){const r=l.tM.post(this._url,"/institution/request-to-join").json({institutionId:e,requestorEmail:t,message:n});return this._ajax.json(r,E)}manageRequestToJoin(e){const t=l.tM.post(this._url,"/institution/request-to-join/manage"),n=(0,r.pipe)(e,o.fold((()=>t),(e=>t.cookie("request_to_join_token",e))));return this._ajax.json(n,R)}manageTokenRequestToJoin(e){const t=l.tM.post(this._url,"/institution/request-to-join/manage/token"),n=(0,r.pipe)(e,o.fold((()=>t),(e=>t.cookie("request_to_join_token",e))));return this._ajax.json(n,S)}manageRequestToJoinInstitution(e){const t=l.tM.post(this._url,"/institution/request-to-join/manage/requests").json(e);return this._ajax.json(t,x)}addUsersWithValidRequestToJoinToInstitution(e){const t=l.tM.post(this._url,"/institution/request-to-join/manage/add-users").json(e);return this._ajax.json(t,P)}sendCallToActionRequest(){const e=l.tM.post(this._url,"/institution/call-to-action-to-go");return this._ajax.empty(e)}getCallToActionCount(){const e=l.tM.get(this._url,"/institution/call-to-action-to-go/count");return this._ajax.json(e,M)}getTrialExtensionActions(){const e=l.tM.get(this._url,"/trial-extension");return this._ajax.json(e,C)}markTrialExtensionActionComplete(e){const t=l.tM.post(this._url,"/trial-extension").json({action:e});return this._ajax.empty(t)}getTrueUpSchedule(){const e=l.tM.get(this._url,"/true_up");return this._ajax.json(e,N)}getAdminInfoList(){const e=l.tM.get(this._url,"/institution/admins");return this._ajax.json(e,i.YO(A))}leave(){const e=l.tM.post(this._url,"/institution/leave");return this._ajax.json(e,D)}};V.targetTag="institution";let F=V;const B=i.qO({word:i.Yj});i.YO(B),i.YO(B),i.qO({oldEntry:B,newEntry:B}),i.OH({wordsCount:i.ai,linesWithErrors:i.YO(i.ai)}),u.K.Base;const $=class e extends u.K.Base{constructor(e,t,n){super(),this._url=e,this._ajaxFactory=t,this._fingerprints=n,this._ajax=this._ajaxFactory({requestExtender:c.UV.toHeaderAppender(this._fingerprints)})}static getDefaultUrl(e){return`https://goldengate${e}/institution/api/groups`}getGroupsList(){const t=l.tM.get(this._url);return this._ajax.json(t,e.GroupsIOType)}getGroup(t){const n=l.tM.get(this._url,t.toString());return this._ajax.json(n,e.GroupIOType)}createGroup(t){const n=l.tM.post(this._url).json(t);return this._ajax.json(n,e.GroupIOType)}updateGroup(t,n){const r=l.tM.put(this._url,t.toString()).json(n);return this._ajax.json(r,e.GroupIOType)}deleteGroup(e){const t=l.tM.del(this._url,e.toString());return this._ajax.empty(t)}getCurrentUserGroup(){const t=l.tM.get(this._url,"current");return this._ajax.json(t,e.GroupIOType)}getGroupMembers(t){const n=l.tM.get(this._url,t.toString(),"members");return this._ajax.json(n,e.GroupMembersIOType)}getGroupMemberUsers(t,n,r){const i=l.tM.get(this._url,t.toString(),"members/users").queryParam("offset",n.toString()).queryParam("limit",r.toString());return this._ajax.json(i,e.GroupUsersPageIOType)}getGroupMemberInvitees(t,n,r){const i=l.tM.get(this._url,t.toString(),"members/invitees").queryParam("offset",n.toString()).queryParam("limit",r.toString());return this._ajax.json(i,e.GroupInviteesPageIOType)}updateGroupMembers(t,n){const r=l.tM.post(this._url,t.toString(),"members").json(n);return this._ajax.json(r,e.GroupMembersResultsIOType)}deleteGroupMembers(t,n){const r=l.tM.del(this._url,t.toString(),"members").json(n);return this._ajax.json(r,e.GroupMembersResultsIOType)}enableAdminControlledGroup(t){const n=l.tM.patch(this._url,t.toString(),"enable-admin-controlled");return this._ajax.json(n,e.GroupIOType)}disableAdminControlledGroup(t){const n=l.tM.patch(this._url,t.toString(),"disable-admin-controlled");return this._ajax.json(n,e.GroupIOType)}batchEnableAdminControlledGroups(t){const n=l.tM.patch(this._url,"batch-enable-admin-controlled").json({groupIds:t});return this._ajax.json(n,i.YO(e.GroupIOType))}batchDisableAdminControlledGroups(t){const n=l.tM.patch(this._url,"batch-disable-admin-controlled").json({groupIds:t});return this._ajax.json(n,i.YO(e.GroupIOType))}};$.GroupMembersUserIOType=i.E$([i.NW({email:i.Yj,userId:i.ai}),i.OH({name:i.Yj})]),$.GroupIOType=i.E$([i.NW({name:i.Yj,createdAt:a.Type.date(),updatedAt:a.Type.date(),id:i.ai,institutionId:i.ai,membersCount:i.ai,isAdminControlled:i.zM}),i.OH({groupManagers:i.YO($.GroupMembersUserIOType)})]),$.GroupsIOType=i.NW({groups:i.YO($.GroupIOType)}),$.GroupMembersReasonIOType=a.Type.literalUnion("reason",a.n(["not_institution_member"])),$.GroupMembersResultIOType=i.E$([i.NW({email:i.Yj,success:i.zM}),i.OH({reason:$.GroupMembersReasonIOType})]),$.GroupMembersResultsIOType=i.NW({results:i.YO($.GroupMembersResultIOType)}),$.GroupMembersInviteeIOType=i.E$([i.NW({email:i.Yj,inviteeId:i.ai}),i.OH({name:i.Yj})]),$.GroupUsersPageIOType=i.NW({data:i.YO($.GroupMembersUserIOType),total:i.ai}),$.GroupInviteesPageIOType=i.NW({data:i.YO($.GroupMembersInviteeIOType),total:i.ai}),$.GroupMembersIOType=i.NW({invitees:i.YO($.GroupMembersInviteeIOType),users:i.YO($.GroupMembersUserIOType)}),$.GroupCreateRequestIOType=i.NW({name:i.Yj}),$.GroupUpdateRequestIOType=i.NW({name:i.Yj}),$.GroupMembersUpdateRequestIOType=i.NW({emails:i.YO(i.Yj)}),$.GroupMembersDeleteRequestIOType=i.NW({emails:i.YO(i.Yj)}),u.K.Base;var J=n(99678),Z=(e=>(e.Active="ACTIVE",e.Suspended="SUSPENDED",e.PendingDelete="PENDING_DELETE",e))(Z||{});const X=class e extends u.K.Base{constructor(e,t,n){super(),this._url=e,this._ajaxFactory=t,this._fingerprints=n,this._ajax=this._ajaxFactory({requestExtender:c.UV.toHeaderAppender(this._fingerprints)})}static getDefaultUrl(e){return`https://goldengate${e}/institution/api/institution/admin`}getInstitutionInfo(){const t=l.tM.get(this._url,"institution_info");return this._ajax.json(t,e.IOType)}getInstitutionSsoInfo(){const t=l.tM.get(this._url,"sso_info");return this._ajax.json(t,e.SsoInfoType)}getInstitutionScimInfo(){const t=l.tM.get(this._url,"scim_info");return this._ajax.json(t,e.ScimInfoType)}updateInstitutionSettings(e){const t=l.tM.post(this._url,"update_settings").json(e);return this._ajax.empty(t)}updateRequestToJoinSettings(e){const t=l.tM.put(this._url,"settings/request_to_join").json(e);return this._ajax.empty(t)}updateName(e){const t=l.tM.post(this._url,"update_name").queryParam("name",e);return this._ajax.empty(t)}addMembers(t){const n=l.tM.post(this._url,"users/add").json(t);return this._ajax.json(n,e.AddMembersResponseIOType)}checkMembersExport(e){const t=l.tM.get(this._url,`export/requests/${e}/link`);return this._ajax.json(t)}uploadMembersFile(e,t){const n=l.tM.put(this._url,"upload/file/load").queryParam("action",t).multipartFormData("file",e);return this._ajax.json(n)}assignToGroupsUsingFile(e){const t=l.tM.post(this._url,`/upload/file/override/groups/${e}`);return this._ajax.empty(t)}downloadImportTemplate(){const e=l.tM.get(this._url,"/upload/file/template");return this._ajax.file(e)}getMembersFileStatistic(t){const n=l.tM.get(this._url,`/upload/file/load/result/${t}`);return this._ajax.json(n,e.MembersFileStatisticIOType)}removeMembersUsingFile(e){const t=l.tM.post(this._url,`/upload/file/remove/${e}`);return this._ajax.empty(t)}addMembersUsingFile(e){const t=l.tM.post(this._url,`/upload/file/add/${e}`);return this._ajax.empty(t)}overrideMembersUsingFile(e){const t=l.tM.post(this._url,`/upload/file/override/${e}`);return this._ajax.empty(t)}cancelEmailChangeRequest(e){const t=l.tM.post(this._url,"/email/change/cancel").json({email:e});return this._ajax.empty(t)}updateProvisioningSettings(e){const t=l.tM.post(this._url,"update_provisioning_settings").json({provisioningEnabled:e});return this._ajax.empty(t)}getUnprovisionedList(){const e=l.tM.get(this._url,"scim/unprovisioned/list");return this._ajax.file(e)}getUnprovisionedCount(){const e=l.tM.get(this._url,"scim/unprovisioned/count");return(0,r.pipe)(this._ajax.json(e),this._ajax.map((e=>e.count)))}getDomains(){const t=l.tM.get(this._url,"domains");return this._ajax.json(t,e.GetDomainsResponseIOType)}getJoinActivity(t,n){const r=l.tM.get(this._url,"join_activity").queryParam("start_date",t.toISOString()).queryParam("end_date",n.toISOString());return this._ajax.json(r,e.GetJoinActivityResponseIOType)}getSuggestedInvitees(t){const n=l.tM.get(this._url,"suggested_invitees").queryParam("prefix",t);return this._ajax.json(n,e.GetSuggestedInviteesResponseIOType)}};X.OnboardingType=J.KJ.PartialInstitutionInfo.onboardingTypeCodec,X.OrganizationType=J.KJ.PartialInstitutionInfo.organizationTypeCodec,X.InstitutionUserState=J.KJ.PartialInstitutionInfo.institutionUserStateCodec,X.IOType=i.E$([i.qO({id:i.ai,name:i.Yj,hideStudents:i.zM,msOutlookEnabled:i.zM,msWordEnabled:i.zM,seats:i.ai,enrolled:i.ai,expirationDate:a.Type.date(),business:i.zM,ssoEnabled:i.zM,ssoActivated:i.zM,ssoId:a.Type.option(i.Yj),k12:i.zM,newEmail:a.Type.option(i.Yj),changeStatus:a.Type.literalUnion("changeStatus",(0,a.n)(["admin_email_init","admin_email_approved","admin_transfer_init","none"])),userTypes:i.OH({Active:i.ai,Invited:i.ai,Admins:i.ai,Removed:i.ai,AdminsOnly:i.ai,totalPaid:i.ai}),brandTonesEnabled:i.zM,provisioningEnabled:i.zM,provisioningSelfServeEnabled:i.zM,groupsCount:i.ai,groupRolesEnabled:i.zM,inviteLinkActivated:i.zM,requestToJoinActivated:i.zM,requestToJoinBlocked:i.zM,isEligibleForAutojoin:i.zM,proFlowEnabled:i.zM}),i.OH({onboardingType:X.OnboardingType,organizationType:X.OrganizationType})]),X.ScimInfoType=i.qO({institutionId:i.ai,name:i.Yj,ssoEnabled:i.zM,ssoActivated:i.zM,provisioningEnabled:i.zM,provisioningSelfServeEnabled:i.zM,ssoId:a.Type.option(i.Yj),seats:i.ai}),X.SsoInfoType=i.qO({institutionId:i.ai,name:i.Yj,ssoEnabled:i.zM,ssoActivated:i.zM,ssoId:a.Type.option(i.Yj),seats:i.ai,enrolled:i.ai,totalPaid:i.ai}),X.AnalyticsDataItemType=i.qO({date:a.Type.date(),value:i.ai}),X.AnalyticsDataType=i.qO({total:i.ai,data:i.YO(X.AnalyticsDataItemType)}),X.MemberIOType=i.E$([i.qO({email:i.Yj,name:i.Yj,isAdmin:i.zM,stateDateTime:a.Type.date(),provisioningStatus:a.Type.option(a.Type.createStringEnum(Z,"provisioningStatus"))}),i.OH({group:i.qO({id:i.ai,name:i.Yj})}),i.KC([i.qO({state:i.eu("Success"),uid:i.ai,registrationDate:a.Type.date(),lastActivity:a.Type.option(a.Type.date()),role:a.Type.literalUnion("role",(0,a.n)([J.KJ.InstitutionRoleName.Admin,J.KJ.InstitutionRoleName.AccountManager,J.KJ.InstitutionRoleName.InstitutionUser]))}),i.qO({state:i.eu("Invited")}),i.qO({state:i.eu("Removed"),registrationDate:a.Type.option(a.Type.date()),lastActivity:a.Type.option(a.Type.date())}),i.qO({state:i.eu("Pending")}),i.qO({state:i.eu("Error")}),i.qO({state:i.eu("Removing")}),i.qO({state:i.eu("Active")})])]),X.MembersIOType=i.qO({total:i.ai,data:i.YO(X.MemberIOType)}),X.AddMembersResponseIOType=i.YO(i.Yj),X.MembersFileStatisticIOType=i.qO({alreadyAssigned:i.qO({total:i.ai,data:i.YO(i.Yj)}),left:i.qO({total:i.ai,data:i.YO(i.Yj)}),inner:i.qO({total:i.ai,data:i.YO(i.Yj)}),right:i.qO({total:i.ai,data:i.YO(i.Yj)}),groupsUpdates:i.YO(i.qO({addedExistingInstitutionMembersCount:i.ai,groupName:i.Yj,isNew:i.zM,newMembersCount:i.ai,removedMembersCount:i.ai}))}),X.InstitutionDomain=i.NW({domain:i.Yj,verified:i.zM,isAdminVerified:i.zM,isDomainCaptured:i.zM}),X.GetDomainsResponseIOType=i.NW({domains:i.YO(X.InstitutionDomain)}),X.GetJoinActivityResponseIOType=i.OH({ACCESS_CODE:i.ai,FORCED_MODE:i.ai,DOMAIN_CAPTURE:i.ai,INVITE_EMAIL:i.ai,INVITE_LINK:i.ai,SEMI_AUTOJOIN:i.ai,AUTOJOIN:i.ai,REQUEST_TO_JOIN:i.ai}),X.GetSuggestedInviteesResponseIOType=i.NW({suggestedInvitees:i.YO(i.NW({id:i.ai,email:i.Yj}))});const Q=class e extends u.K.Base{constructor(e,t,n){super(),this._url=e,this._ajaxFactory=t,this._fingerprints=n,this._ajax=this._ajaxFactory({requestExtender:c.UV.toHeaderAppender(this._fingerprints)})}static getDefaultUrl(e){return`https://goldengate${e}/institution/api/institution/members`}getMembers(t,n,r="email",i,o,s,a){const u=l.tM.get(this._url).queryParam("offset",t.toString()).queryParam("limit",n.toString()).queryParam("order",r).queryParam("order_type",i);return null!=a&&a&&u.queryParam("search",a),o&&o.forEach((e=>u.queryParam("memberStatus",e))),s&&s.forEach((e=>u.queryParam("groupId",e.toString()))),this._ajax.json(u,e.MembersIOType)}removeMembers(e){const t=l.tM.del(this._url).json({emails:e});return this._ajax.empty(t)}requestExportMembers(e,t="",n,r,i){const o=l.tM.post(this._url,"export/requests");return e.forEach((e=>o.queryParam("memberStatus",e))),t&&o.queryParam("search",t),n&&o.queryParam("order",n),r&&o.queryParam("order_type",r),i&&i.forEach((e=>{o.queryParam("groupId",e.toString())})),this._ajax.json(o)}};Q.UserRole=a.n([J.KJ.InstitutionRoleName.InstitutionUser,J.KJ.InstitutionRoleName.AccountManager,J.KJ.InstitutionRoleName.Admin,J.KJ.UserGroupRoleName.GroupManager]),Q.ResourceType=a.n([J.KJ.ResourceType.Institution,J.KJ.ResourceType.UserGroup]),Q.ResourceRoleIOType=i.qO({role:a.Type.literalUnion("role",Q.UserRole),resourceType:a.Type.literalUnion("resourceType",Q.ResourceType),resourceId:i.Yj,name:a.Type.option(i.Yj),roleId:a.Type.option(i.ai)}),Q.Role=a.Type.option(a.Type.literalUnion("role",a.n([J.KJ.InstitutionRoleName.Admin,J.KJ.InstitutionRoleName.AccountManager,J.KJ.InstitutionRoleName.InstitutionUser]))),Q.IOType=i.qO({userId:a.Type.option(i.ai),email:i.Yj,name:a.Type.option(i.Yj),registeredAt:a.Type.option(a.Type.date()),lastActivityAt:a.Type.option(a.Type.date()),updatedAt:a.Type.date(),group:a.Type.option(i.NW({id:i.ai,name:i.Yj,isAdminControlled:i.zM})),status:a.Type.literalUnion("status",a.n(["ACTIVE","INVITED","INVITE_EXPIRED","REMOVED"])),attributes:a.Type.set(i.NW({name:i.Yj,value:i.Yj})),role:Q.Role,roles:a.Type.option(i.YO(Q.ResourceRoleIOType)),provisioningStatus:a.Type.option(a.Type.literalUnion("provisioningStatus",a.n([Z.Active,Z.Suspended,Z.PendingDelete]))),costCenter:a.Type.option(i.Yj)}),Q.MembersIOType=i.qO({total:i.ai,data:i.YO(Q.IOType)}),u.K.Base;const ee=class e extends u.K.Base{constructor(e,t,n){super(),this._url=e,this._ajaxFactory=t,this._fingerprints=n,this._ajax=this._ajaxFactory({requestExtender:c.UV.toHeaderAppender(this._fingerprints)})}static getDefaultUrl(e){return`https://goldengate${e}/institution/api/vault`}getVaultItemsForKeys(t){const n=l.tM.get(this._url);return t.forEach((e=>n.queryParam("key",e))),this._ajax.json(n,e.VaultResponseType)}deleteVaultItem(e){const t=l.tM.del(this._url,e);return this._ajax.empty(t)}updateVaultItem(e){const t=l.tM.post(this._url).json(e);return this._ajax.empty(t)}};ee.VaultItemIOType=i.qO({key:i.Yj,value:i.Yj}),ee.VaultResponseType=i.qO({vault:i.YO(ee.VaultItemIOType)})},19285:(e,t,n)=>{n.d(t,{t:()=>r});var r,i=n(96797),o=n(67742),s=n(84679),a=n(9777);(e=>{var t,n,r,u,c,l,p,h,d,f,m,g,y,_,b;let v,T,j,O,E,I,w;(t=e.Feature||(e.Feature={})).AdminControlledGroups="admin_controlled_groups",t.BrandingSet="branding_set",t.BrandToneProfilesLimit="brand_tone_profiles_limit",t.BrandTones="brandtones",t.BYOK="byok",t.Cheetah="cheetah",t.ClientControls="clientcontrols",t.CompanyLanguage="companylanguage",t.CostCenters="costcenters",t.CustomRoles="customroles",t.DomainCapture="domain_capture",t.DomainVerification="domain_verification",t.Institution="institution",t.InviteCapture="invite_capture",t.KnowledgeHub="knowledgehub",t.ManagedMode="managedmode",t.MemberUsageAnalytics="member_usage_analytics",t.OrgDictionary="orgdictionary",t.SCIM="scim",t.Snippets="snippets",t.Sso="sso",t.Statistics="statistics",t.StyleGuideRuleSetsLimit="style_guide_rule_sets_limit",t.Subscription="subscription",t.UserGroupsLimit="user_groups_limit",t.Vox="vox",t.WritingStyle="writingstyle",(n=e.AdminControlledGroupsPermission||(e.AdminControlledGroupsPermission={})).AdminControlledGroupsCreate="admin-controlled-groups:create",n.AdminControlledGroupsDelete="admin-controlled-groups:delete",n.AdminControlledGroupsMembershipDelete="admin-controlled-groups:membership:delete",(r=e.BrandTonesPermission||(e.BrandTonesPermission={})).GlobalRead="global:read",r.GroupCreate="group:create",r.GroupDelete="group:delete",r.GlobalDelete="global:delete",r.GlobalCreate="global:create",(u=e.CheetahPermission||(e.CheetahPermission={})).ConfigurationRead="configuration:read",u.ConfigurationWrite="configuration:write",(c=e.ClientControlsPermission||(e.ClientControlsPermission={})).ClientControlsRead="clientcontrols:read",c.ClientControlsWrite="clientcontrols:write",(l=e.KnowledgeHubPermission||(e.KnowledgeHubPermission={})).GlobalRead="global:read",l.GlobalWrite="global:write",(p=e.InstitutionPermission||(e.InstitutionPermission={})).DomainRead="domain:read",p.DomainWrite="domain:write",p.GroupCreate="group:create",p.GroupDelete="group:delete",p.GroupMembershipManage="group:membership:manage",p.GroupRead="group:read",p.InstitutionGlobalRead="institution:global:read",p.InstitutionGlobalWrite="institution:global:write",p.LogoWrite="logo:write",p.MembershipCsv="membership:csv",p.MembershipRead="membership:read",p.MembershipCreate="membership:create",p.MembershipDelete="membership:delete",p.RequestToJoinManage="request-to-join:manage",p.RolesRead="roles:read",p.RolesWriteGroupManager="roles:write:group_contributor",p.RolesWriteInstitutionUser="roles:write:institution_user",p.RolesWriteAccountManager="roles:write:contributor",p.RolesWriteCustomRoles="roles:write:custom_roles",p.RolesWriteAdmin="roles:write:owner",p.SettingsDictionaryWrite="settings:dictionary:write",p.SettingsSuggestionManage="settings:suggestion:manage",p.TeamDiscoveryRead="teamdiscovery:read",p.TeamDiscoveryWrite="teamdiscovery:write",p.ToneWrite="tone:write",p.VaultPrivateManage="vault:private:manage",p.VaultProtectedManage="vault:protected:manage",p.VaultPublicManage="vault:public:manage",(h=e.CustomRolesPermission||(e.CustomRolesPermission={})).CustomRolesRead="custom-roles:read",h.CustomRolesWrite="custom-roles:write",(d=e.SnippetsPermission||(e.SnippetsPermission={})).SettingsRead="settings:read",d.SettingsToggleWrite="settings:toggle:write",d.SettingsWrite="settings:write",d.SnippetsGlobalRead="snippets:global:read",d.SnippetsGlobalCreate="snippets:global:create",d.SnippetsGlobalDelete="snippets:global:delete",d.SnippetsRead="snippets:read",d.SnippetsWrite="snippets:write",d.SnippetsGroupCreate="snippets:group:create",d.SnippetsGroupDelete="snippets:group:delete",(f=e.StatisticsPermission||(e.StatisticsPermission={})).GeneralRead="general:read",f.GeneralWrite="general:write",f.GroupRead="group:read",f.UsersRead="users:read",f.InstitutionSettingsRead="institution:settings:read",f.InstitutionSettingsWrite="institution:settings:write",f.ManagedModeRead="managed_mode:read",(m=e.SsoPermission||(e.SsoPermission={})).ScimRead="scim:read",m.ScimWrite="scim:write",m.SettingsRead="settings:read",m.SettingsWrite="settings:write",(e.SubscriptionPermission||(e.SubscriptionPermission={})).Write="subscription:write",(g=e.WritingStylePermission||(e.WritingStylePermission={})).ReadAll="read:all",g.CreateAll="create:all",g.DeleteAll="delete:all",g.CreateGroup="create:group",g.DeleteGroup="delete:group",(y=e.VoxPermission||(e.VoxPermission={})).GlobalRead="global:read",y.GlobalCreate="global:create",y.GlobalDelete="global:delete",y.GroupCreate="group:create",y.GroupDelete="group:delete",y.RulesRead="rules:read",(_=e.CompanyLanguagePermission||(e.CompanyLanguagePermission={})).ConfigurationWrite="configuration:write",_.ConfigurationRead="configuration:read",(b=e.OrgDictionaryPermission||(e.OrgDictionaryPermission={})).Read="read",b.Write="write",(v=e.FeatureEntitlement||(e.FeatureEntitlement={})).codec=i.OH({boolValue:i.zM,stringValue:i.Yj,numberValue:i.ai}),(T=e.ResourceType||(e.ResourceType={})).codec=i.KC([i.eu("UNKNOWN_RESOURCE_TYPE"),i.eu("INSTITUTION_RESOURCE"),i.eu("USER_GROUP_RESOURCE")]),(j=e.Permission||(e.Permission={})).codec=i.NW({resourceId:i.Yj,resourceType:T.codec,permission:i.YO(i.Yj)}),(O=e.FeatureReference||(e.FeatureReference={})).codec=i.KC([i.eu("brandtones"),i.eu("cheetah"),i.eu("clientcontrols"),i.eu("institution"),i.eu("knowledgehub"),i.eu("snippets"),i.eu("sso"),i.eu("statistics"),i.eu("subscription"),i.eu("vox"),i.eu("orgdictionary"),i.eu("writingstyle"),i.eu("companylanguage"),i.eu("brand_tone_profiles_limit"),i.eu("domain_capture"),i.eu("domain_verification"),i.eu("invite_capture"),i.eu("managedmode"),i.eu("member_usage_analytics"),i.eu("scim"),i.eu("style_guide_rule_sets_limit"),i.eu("user_groups_limit"),i.eu("byok"),i.eu("customroles"),i.eu("costcenters"),i.eu("admin_controlled_groups"),i.eu("branding_set")]),(E=e.FeatureVisa||(e.FeatureVisa={})).codec=i.E$([i.NW({featureReference:O.codec}),i.OH({entitlement:v.codec,permission:i.YO(j.codec)})]),(I=e.InstitutionDetails||(e.InstitutionDetails={})).codec=i.OH({institutionId:i.Yj}),e.codec=i.OH({institutionDetails:I.codec,featureVisa:i.YO(E.codec)}),(w=e.PassportResponse||(e.PassportResponse={})).codec=i.tB(i.NW({passport:e.codec}));class P extends o.K.Base{constructor(e,t,n){super(),this._url=e,this._ajaxFactory=t,this._fingerprints=n,this._ajax=this._ajaxFactory({requestExtender:s.UV.toHeaderAppender(this._fingerprints)})}static getDefaultUrl(e){return`https://goldengate${e}/passport/api/v1/passport`}getPassport(e){const t=a.tM.get(this._url);return e&&e.forEach((e=>t.queryParam("features",e))),this._ajax.json(t,w.codec)}}e.PassportClient=P})(r||(r={}))},87840:(e,t,n)=>{n.d(t,{v:()=>l});var r=n(30040),i=n(96797),o=n(44297),s=n(67742),a=n(84679),u=n(9777);const c=class extends s.K.Base{constructor(e,t,n){super(),this._url=e,this._ajaxFactory=t,this._fingerprints=n,this._ajax=this._ajaxFactory({requestExtender:a.UV.toHeaderAppender(this._fingerprints)}),this._jsonOrEmpty=e=>(0,r.pipe)(this._ajax.text(e),this._ajax.map((e=>e?o.some(JSON.parse(e)):o.none)))}static getDefaultUrl(e){return`https://goldengate${e}/settings-registry/v1`}getSetting(e,t,n){const r=u.tM.get(this._url,`/settings/${n}/resource/${e}/${t}`);return this._jsonOrEmpty(r)}getSettings(e,t,n){const r=u.tM.post(this._url,`/settings/resource/${e}/${t}`).json(n);return this._jsonOrEmpty(r)}getMergedSettings(e){const t=u.tM.post(this._url,"/settings/merged").json(e);return this._jsonOrEmpty(t)}saveSetting(e,t,n,r){const i=u.tM.put(this._url,`/settings/${n}/resource/${e}/${t}`).json(r);return this._ajax.empty(i)}updateSetting(e,t,n,r){const i=u.tM.patch(this._url,`/settings/${n}/resource/${e}/${t}`).json(r);return this._ajax.empty(i)}deleteSetting(e,t,n){const r=u.tM.del(this._url,`/settings/${n}/resource/${e}/${t}`);return this._ajax.empty(r)}getBatchSettings(e){const t=u.tM.post(this._url,"/settings/batch-get").json(e);return this._ajax.json(t)}saveBatchSettings(e,t){const n=u.tM.put(this._url,`/settings/batch/${e}`).json(t);return this._ajax.json(n)}updateBatchSettings(e,t){const n=u.tM.patch(this._url,`/settings/batch/${e}`).json(t);return this._ajax.json(n)}deleteBatchSettings(e,t){const n=u.tM.post(this._url,`/settings/batch-delete/${e}`).json(t);return this._ajax.empty(n)}};c.targetTag="settingsRegistry",c.ResourceTypeIOType=i.KC([i.eu("INSTITUTION"),i.eu("USER"),i.eu("USER_GROUP")]),c.SettingValueIOType=i.g1(i.Yj,i.L5),c.GetSettingsRequestIOType=i.NW({settings:i.YO(i.Yj)}),c.GetBatchSettingsRequestIOType=i.YO(i.NW({resourceType:c.ResourceTypeIOType,resourceId:i.Yj,settingName:i.Yj})),c.GetBatchSettingsResponseIOType=i.YO(i.NW({resourceType:c.ResourceTypeIOType,resourceId:i.Yj,settingName:i.Yj,settingValue:c.SettingValueIOType})),c.SaveBatchSettingsRequestIOType=i.YO(i.NW({resourceType:c.ResourceTypeIOType,resourceId:i.Yj,settingValue:c.SettingValueIOType})),c.SaveBatchSettingsResponseIOType=i.YO(i.NW({resourceType:c.ResourceTypeIOType,resourceId:i.Yj,settingValue:c.SettingValueIOType})),c.SaveSettingRequestIOType=c.SettingValueIOType,c.UpdateSettingRequestIOType=c.SettingValueIOType,c.GetSettingResponseIOType=c.SettingValueIOType,c.GetSettingsResponseIOType=i.g1(i.Yj,c.SettingValueIOType),c.DeleteBatchSettingsRequestIOType=i.YO(i.NW({type:c.ResourceTypeIOType,id:i.Yj}));let l=c},98384:(e,t,n)=>{n.d(t,{DI:()=>M,SK:()=>R,it:()=>E,v0:()=>r,yB:()=>s});var r,i,o,s,a,u,c=n(47370),l=n(96797),p=n(86562),h=n(9777),d=n(67742),f=n(84679),m=n(57749);(i=r||(r={})).codec=l.NW({currency:l.Yj,value:l.ai},"Money"),i.eq=c.OW({currency:c.kK,value:c.US}),(o||(o={})).codec=l.NW({price:l.ai,priceMoney:r.codec,fromSeats:l.ai,toSeats:l.ai},"PriceTier"),(s||(s={})).codec=l.E$([l.NW({id:l.ai,title:l.Yj,description:l.Yj,periodMonths:l.ai,price:l.ai,priceMoney:r.codec,regularPlanId:l.ai,regularPrice:l.ai,regularPriceMoney:r.codec}),l.OH({nextPaymentPrice:l.ai,numberOfSeats:l.ai,renewalPrice:l.ai,renewalPriceMoney:r.codec,hasTrial:l.zM,priceTiers:l.YO(o.codec),trialDays:l.ai,renewalPlanId:l.ai})],"PaymentPlan"),(a||(a={})).codec=l.NW({nextPayDate:l.Yj,plan:s.codec},"HardChangePaymentPlan"),(u||(u={})).codec=l.KC([l.eu("payPal"),l.eu("creditCard"),l.eu("stripe"),l.Vx],"PaymentMethod");var g,y,_,b,v,T,j,O,E,I=(e=>(e.mastercard="MasterCard",e.visa="Visa",e.americanExpress="American Express",e.jcb="JCB",e.maestro="Maestro",e.discover="Discover",e.dinersClub="Diners Club",e.unionPay="UnionPay",e.mir="Mir",e.elo="Elo",e.hiper="Hiper",e))(I||{});(g||(g={})).codec=l.KC([m.Type.createStringEnum(I,"KnownCardType"),l.Yj],"CreditCardType"),(y||(y={})).codec=l.KC([l.E$([l.NW({cardType:g.codec}),l.OH({cardSuffix:l.Yj,expirationMonth:l.ai,expirationYear:l.ai})]),l.Vx],"CreditCard"),(_||(_={})).codec=l.NW({id:l.Yj,description:l.Yj,discountPercent:l.ai,isLifelong:l.zM}),(b||(b={})).codec=l.KC([l.eu("INCLUSIVE"),l.eu("EXCLUSIVE")],"RenewalPriceType"),(v||(v={})).codec=l.E$([l.NW({discountSuppressed:l.zM}),l.OH({countryCode:l.Yj,renewalPriceType:b.codec})],"PricingOptions"),(T||(T={})).codec=l.NW({payPalDisabled:l.zM,americanExpressDisabled:l.zM,disabledCardTypes:l.YO(g.codec)},"PaymentMethodOptions"),(j||(j={})).codec=l.KC([l.eu("RENEWAL"),l.eu("SEAT_EXPANSION"),l.eu("INITIAL_CHARGE"),l.eu("UNKNOWN")],"InvoiceType"),(O||(O={})).codec=l.NW({amount:r.codec,numberOfSeats:l.ai,dueDate:l.Yj,hostedLink:l.Yj,chargeable:l.zM,invoiceType:j.codec},"StripeInvoiceInfo"),(E||(E={})).codec=l.OH({state:l.KC([l.eu("DEFAULT"),l.eu("FROZEN"),l.eu("TRIAL"),l.eu("BILLING_FLOW_MIGRATION_STARTED"),l.eu("BILLING_FLOW_MIGRATION_ENDED")]),paymentMethod:u.codec,creditCard:y.codec,billingFlowMigrationMethod:l.KC([l.eu("DEFAULT"),l.eu("INVOICING")]),usePaymentsApi:l.zM,isPremium:l.zM,nextPayDate:l.Yj,nextRenewalInvoiceDate:l.Yj,lastSubscribedDate:l.Yj,expirationDate:l.Yj,isAppleSubscription:l.zM,isGooglePlaySubscription:l.zM,isCancelled:l.zM,isDunning:l.zM,isPaymentMethodFailed:l.zM,isFree:l.zM,isFreebie:l.zM,isPremiumConversion:l.zM,isLegacyPayPal:l.zM,canCancelPlanSwitch:l.zM,hasInstitutionSubscription:l.zM,currentPlan:s.codec,queuedPlan:s.codec,plans:l.YO(s.codec),hardChangePlans:l.YO(a.codec),institutionDynamicPlans:l.YO(s.codec),institutionPlans:l.YO(s.codec),institutionEduPlans:l.YO(s.codec),proPlans:l.YO(s.codec),pricingOptions:v.codec,paymentMethodOptions:T.codec,payPalEmail:l.Yj,isOnTrial:l.zM,companyInfo:l.Yj,dunningEndDate:l.Yj,dunningDeactivationDate:l.Yj,campaign:_.codec,stripeInvoiceInfo:O.codec,countryCode:l.Yj,regionCode:l.Yj,isUngatedTrialDisabled:l.zM},"SubscriptionStatus");const w=l.KC([l.eu("NO_ACTIVE_SUBSCRIPTION"),l.eu("ON_TRIAL"),l.eu("RENEWAL_IN_PROGRESS"),l.eu("MOBILE_SUBSCRIPTION"),l.eu("NOT_MATURE_ENOUGH")],"ReferrerNotEligibleReason");var P,x,R;(P||(P={})).codec=l.NW({referralLink:l.E$([l.NW({notEligibleReason:w}),l.OH({key:l.ch})]),canReferUsersStatus:l.eu("NOT_ELIGIBLE")},"ReferralInfoNoLink"),(x||(x={})).codec=l.E$([l.NW({referralLink:l.NW({key:l.Yj}),referralRewardsLimit:l.ai,referralRewardsReceived:l.ai}),l.OH({canReferUsersStatus:l.KC([l.eu("OK"),l.eu("NOT_ELIGIBLE_FOR_REWARD")]),rewardNotEligibleReason:l.KC([l.ch,w,l.eu("REWARD_LIMIT_EXCEEDED")]),referralHistory:l.YO(l.NW({refereeName:l.Yj,createdAt:l.Yj}))})],"ReferralInfoHasLink"),(R||(R={})).codec=l.KC([P.codec,x.codec],"ReferralInfo");const S=class extends d.K.Base{constructor(e,t,n){super(),this._url=e,this._ajaxFactory=t,this._fingerprints=n,this._ajax=this._ajaxFactory({requestExtender:f.UV.toHeaderAppender(this._fingerprints)})}static getDefaultUrl(e){return`https://subscription${e}/api/v1`}getStatus(){const e=h.tM.get(this._url,"/subscription");return this._ajax.json(e)}getIndividualStatus(){const e=h.tM.get(this._url,"/individual-subscription");return this._ajax.json(e)}getFrozenProSubscriptionStatus(){const e=h.tM.get(this._url,"/subscriptions/frozen/grammarly-pro");return this._ajax.json(e)}getIndividualPlans(e){const t=h.tM.get(this._url,"/individual-plans").queryParam("billingCountryCode",e);return this._ajax.json(t)}cancelSubscription(){const e=h.tM.post(this._url,"/cancel");return this._ajax.empty(e)}renewSubscription(){const e=h.tM.post(this._url,"/renew");return this._ajax.empty(e)}ackPremiumConversion(){const e=h.tM.post(this._url,"/ack-premium-conversion");return this._ajax.empty(e)}generateClientToken(){const e=h.tM.post(this._url,"/token/generateClientToken");return this._ajax.json(e)}getAvailablePlans(){const e=h.tM.get(this._url,"/pricing");return this._ajax.json(e)}changePlan(e){const t=h.tM.post(this._url,"/set-plan").pathParam(e.toString());return this._ajax.empty(t)}changeCurrentPlan(e){const t=h.tM.post(this._url,"/hard-change-plan").pathParam(e.toString());return this._ajax.empty(t)}subscribe(e,t,n,r,i,o){const s=h.tM.post(this._url,"/subscribe").formParam("nonce",t).formParam("planId",e.toString()).formParam("sessionId",n);return r&&s.formParam("billingZip",r),i&&s.formParam("billingCountryCode",i),o&&s.formParam("billingRegionCode",o),this._ajax.empty(s)}getSetupStatus(e){const t=h.tM.get(this._url,`/setup/${e}`);return this._ajax.json(t)}subscribeCard(e,t,n,r){return this.subscribe(e,t,n,r)}subscribeCardSandbox(e="1"){const t=h.tM.post(this._url,"/subscribe").formParam("planId",e).formParam("nonce","fake-valid-nonce").formParam("sessionId","test-session").formParam("billingZip","12345");return this._ajax.empty(t)}updateCreditCard(e,t,n,r){const i=h.tM.post(this._url,"/update-card").formParam("nonce",e);return t&&i.formParam("billingZip",t),n&&i.formParam("billingCountryCode",n),r&&i.formParam("billingRegionCode",r),this._ajax.empty(i)}generateTokenPaypal({cancelUrl:e,returnUrl:t}){const n=h.tM.post(this._url,"/token/paypal").formParam("cancelUrl",e).formParam("returnUrl",t);return this._ajax.json(n)}downloadSingleReceipt(e){const t=h.tM.get(this._url,`/receipt/${e}`);return this._ajax.file(t)}downloadBillingReceipts(){const e=h.tM.get(this._url,"/receipt");return this._ajax.file(e)}downloadSingleProReceipt(e){const t=h.tM.get(this._url,`/grammarly-pro/receipt//${e}`);return this._ajax.file(t)}downloadProBillingReceipts(){const e=h.tM.get(this._url,"/grammarly-pro/receipt");return this._ajax.file(e)}setCompanyInfo(e){const t=h.tM.post(this._url,"/set-company-info").formParam("companyInfo",e);return this._ajax.empty(t)}setProCompanyInfo(e){const t=h.tM.post(this._url,"/grammarly-pro/set-company-info").formParam("companyInfo",e);return this._ajax.empty(t)}getProCompanyInfo(){const e=h.tM.get(this._url,"/grammarly-pro/company-info");return this._ajax.json(e)}subscribeNewInstitution(e){return this._subscribeNewInstitutionInternal(e)}sendInvoice(e){return this._subscribeNewInstitutionInternal({...e,stripeInvoice:!0})}subscribeNewInstitutionForNgo(e){return this._subscribeNewInstitutionInternal(e)}subscribeNewInstitutionUsingIndividualPremium(e){return this._subscribeNewInstitutionInternal(e)}isEligibleForBusinessTrial(){const e=h.tM.get(this._url,"/is-eligible-for-business-trial");return this._ajax.json(e)}getInstitutionPlans(){const e=h.tM.get(this._url,"/get-institution-plans");return this._ajax.json(e)}getInstitutionPlansForNgo(){const e=h.tM.get(this._url,"/get-institution-plans-for-ngo");return this._ajax.json(e)}isVoucherValid(e){const t=h.tM.get(this._url,"/voucher",e,"valid");return this._ajax.empty(t)}applyVoucher(e){const t=h.tM.post(this._url,"/voucher",e,"apply");return this._ajax.empty(t)}getPaymentHistory(){const e=h.tM.get(this._url,"/payment-history");return this._ajax.json(e)}updateInstitutionSeats({numberOfSeats:e}){const t=h.tM.post(this._url,"/set-number-of-seats").formParam("numberOfSeats",e.toString());return this._ajax.empty(t)}updateInstitutionPlan({numberOfSeats:e,plan:t}){const n=h.tM.post(this._url,"/change-institution-subscription");return e&&n.formParam("numberOfSeats",e.toString()),t&&n.formParam("plan",t.toString()),this._ajax.empty(n)}getAdjustedVolumePricing(e){const t=h.tM.get(this._url,"/volume-adjust-pricing").pathParam(e.toString());return this._ajax.json(t)}getInstitutionAdjustedPricing(e,t){const n=h.tM.get(this._url,"/institution-subscription-adjust-pricing").queryParam("numberOfSeats",e.toString()).queryParam("plan",t.toString());return this._ajax.json(n)}isPaymentMethodExpired(){const e=h.tM.get(this._url,"/isPaymentMethodExpired");return this._ajax.json(e)}getIndividualPaymentHistory(){const e=h.tM.get(this._url,"/individual/payment-history");return this._ajax.json(e)}getProPaymentHistory(){const e=h.tM.get(this._url,"/grammarly-pro/payment-history");return this._ajax.json(e)}requestRefund(){const e=h.tM.post(this._url,"/individual-subscription/refund");return this._ajax.empty(e)}requestFrozenProSubscriptionRefund(){const e=h.tM.post(this._url,"subscriptions/frozen/grammarly-pro/refund");return this._ajax.empty(e)}validateUSZipCode(e){const t=h.tM.post(this._url,"/zip-code/validate").json({zipCode:e});return this._ajax.json(t)}sendInvoiceDraft(e){const t=h.tM.post(this._url,"/submit-draft-invoice");return Object.entries(e).forEach((([e,n])=>t.formParam(e,n))),this._ajax.empty(t)}getInvoiceDraft(){const e=h.tM.get(this._url,"/get-draft-invoice");return this._ajax.json(e)}voidDraftInvoice(){const e=h.tM.post(this._url,"void-unpaid-invoice");return this._ajax.empty(e)}getCountriesConfiguration(){const e=h.tM.get(this._url,"/country-config");return this._ajax.json(e)}getTaxInformation(e,t,{billingPostalCode:n,billingRegionCode:r,numberOfSeats:i}={}){const o=h.tM.get(this._url,"/tax-info").queryParam("planId",e.toString()).queryParam("billingCountryCode",t);return n&&o.queryParam("billingZip",n),r&&o.queryParam("billingRegionCode",r),i&&o.queryParam("numberOfSeats",i.toString()),this._ajax.json(o)}getOrderStatus(e){const t=h.tM.get(this._url,`/order/${e}`);return this._ajax.json(t)}getReferralInfo(){const e=h.tM.post(this._url,"/referrals/info");return this._ajax.json(e)}createOrder(e,t,n,r){const i=h.tM.post(this._url,"/order/individual").formParam("planId",e.toString()).formParam("billingCountryCode",t);return void 0!==n&&i.formParam("billingZip",n),void 0!==r&&i.formParam("billingRegionCode",r),this._ajax.json(i)}createInstitutionalOrder({planId:e,volume:t,institutionName:n,countryCode:r,postalCode:i,regionCode:o}){const s=h.tM.post(this._url,"/order").formParam("planId",e.toString()).formParam("volume",t.toString()).formParam("institutionName",n).formParam("billingCountryCode",r);return void 0!==i&&s.formParam("billingZip",i),void 0!==o&&s.formParam("billingRegionCode",o),this._ajax.json(s)}updatePaymentMethod(e,t,n){const r=h.tM.post(this._url,"/setup/payment-methods").json({billingCountry:e,billingPostalCode:t,billingRegion:n});return this._ajax.json(r)}getPaymentMethodUpdateStatus(e){const t=h.tM.get(this._url,`/setup/update/payment-methods/${e}`);return this._ajax.json(t)}_subscribeNewInstitutionInternal(e){const t=h.tM.post(this._url,"/subscribe-new-institution").formParam("institutionName",e.institutionName).formParam("numberOfSeats",e.numberOfSeats.toString());return"sessionId"in e&&e.sessionId&&t.formParam("sessionId",e.sessionId),"billingCountryCode"in e&&e.billingCountryCode&&t.formParam("billingCountryCode",e.billingCountryCode),"billingRegionCode"in e&&e.billingRegionCode&&t.formParam("billingRegionCode",e.billingRegionCode),"billingZip"in e&&e.billingZip&&t.formParam("billingZip",e.billingZip),"nonce"in e&&e.nonce&&t.formParam("nonce",e.nonce),e.planId&&t.formParam("planId",e.planId.toString()),"voxEnabled"in e&&e.voxEnabled&&t.formParam("voxEnabled",e.voxEnabled.toString()),"stripeInvoice"in e&&e.stripeInvoice&&t.formParam("stripeInvoice",e.stripeInvoice.toString()),"brandTonesEnabled"in e&&e.brandTonesEnabled&&t.formParam("brandTonesEnabled",e.brandTonesEnabled.toString()),this._ajax.json(t)}};S.targetTag="subscription";let M=S;p.eo},71483:(e,t,n)=>{n.d(t,{j:()=>E});const r=/%([0-9A-Fa-f]{2})/g,i=/[^\x20-\x7e\xa0-\xff]/g,o=/\\([\u0000-\u007f])/g,s=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,a=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,u=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/,c=e=>String(e).replace(i,"?");class l{constructor(e,t){this.type=e,this.parameters=t}}const p=(e,t)=>String.fromCharCode(parseInt(t,16));function h(e){const t=a.exec(e);if(!t)throw new TypeError("invalid extended field value");const n=t[1].toLowerCase(),i=t[2];let o;switch(n){case"iso-8859-1":o=c(i.replace(r,p));break;case"utf-8":try{o=decodeURIComponent(i)}catch(e){throw new TypeError("invalid encoded utf-8")}break;default:throw new TypeError("unsupported charset in extended field")}return o}function d(e){let t=u.exec(e);if(!t)throw new TypeError("invalid type format");let n=t[0].length;const r=t[1].toLowerCase();let i;const a=[],c={};let p;for(n=s.lastIndex=";"===t[0].slice(-1)?n-1:n;t=s.exec(e);){if(t.index!==n)throw new TypeError("invalid parameter format");if(n+=t[0].length,i=t[1].toLowerCase(),p=t[2],-1!==a.indexOf(i))throw new TypeError("invalid duplicate parameter");a.push(i),i.indexOf("*")+1!==i.length?"string"!=typeof c[i]&&('"'===p[0]&&(p=p.slice(1,p.length-1).replace(o,"$1")),c[i]=p):(i=i.slice(0,-1),p=h(p),c[i]=p)}if(-1!==n&&n!==e.length)throw new TypeError("invalid parameter format");return new l(r,c)}var f=n(83293),m=n(30040),g=n(63336),y=n(67947),_=n(29052),b=n(58193),v=n(91817),T=n(22835),j={URI:"Promise",map:function(e,t){return e.then(t)},of:Promise.resolve.bind(Promise),ap:function(e,t){return Promise.all([e,t]).then((function(e){var t=(0,v._)(e,2);return(0,t[0])(t[1])}))},chain:function(e,t){return e.then(t)},mapLeft:function(e,t){return e.catch((function(e){return Promise.reject(t(e))}))},bimap:function(e,t,n){return e.then(n,(function(e){return Promise.reject(t(e))}))},throwError:function(e){return Promise.reject(e)}};function O(e){return function(t){return t.catch(e)}}var E,I=T.h1(j,{ap:function(e,t){return e.then((function(e){return t.then(e)}))}}),w=(0,g.pipeable)(j),P=(w.ap,w.apFirst,w.apSecond,w.chain,w.chainFirst,w.map,n(77396)),x=n(58889),R=n(36840),S=n(9777),M=n(82745);(e=>{let t,n,r;var i;let o;e.create=function(e){return(0,g.pipe)(e,t.fromFetch,n.fromExecutor,y.Tj(r.forPromise))},e.createTE=function(e){return(0,g.pipe)(e,t.fromFetch,n.fromExecutor,y.Tj(r.forTaskEither))},(t||(t={})).fromFetch=e=>(t,n,r)=>i=>{return(0,g.pipe)(_.TX((()=>e(i.url,{body:b.y0(i.body),method:i.method,headers:i.headers,keepalive:i.keepalive,mode:t,credentials:n})),s("request failed on client side")),_.cy((o=i,a=r,e=>e.ok?_.pG(e):(0,g.pipe)((()=>e.text()),_.rT,_.qE((t=>a(t,e,o)))))));var o,a},(n||(n={})).fromExecutor=function(e){return y.zW((({credentials:t="include",errorMapper:n=S.dj.mapToHTTPError,requestExtender:r=S.tM.Extender.identity})=>i=>o=>(0,g.pipe)(i,S.tM.Extender.compose(r,o),f.map((e=>e.build())),_.M1,_.cy(e("cors",t,n)))))},(i=r||(r={})).forTaskEither=y.zW((e=>({...(0,g.pipeable)(_.bP),of:_.bP.of,throwError:_.bP.throwError,ApplicativePar:_.bP,ApplicativeSeq:_.yE,orElse:_.NW,retry:u,...o.forTaskEither(e)}))),i.forPromise=y.zW((e=>{const t=o.forTaskEither(e);return{...(0,g.pipeable)(j),of:j.of,throwError:j.throwError,ApplicativePar:j,ApplicativeSeq:I,orElse:O,retry:a,json:(0,m.flow)(t.json,P.hq),file:(0,m.flow)(t.file,P.hq),text:(0,m.flow)(t.text,P.hq),empty:(0,m.flow)(t.empty,P.hq),jsonWithHeaders:(0,m.flow)(t.jsonWithHeaders,P.hq),fileWithHeaders:(0,m.flow)(t.fileWithHeaders,P.hq),textWithHeaders:(0,m.flow)(t.textWithHeaders,P.hq),headers:(0,m.flow)(t.headers,P.hq)}})),(e=>{e.forTaskEither=function(e){function t(t,i){return(0,g.pipe)(t,e,n(S.dj.MimeType.json),r((e=>e.json())),P.h8(i?e=>(0,g.pipe)(i.decode(e.result),x.bimap((e=>new S.dj.ParseError("json parse error",e)),(t=>({headers:e.headers,result:t})))):x.right))}function i(t){return(0,g.pipe)(t,e,n(S.dj.MimeType.txt,S.dj.MimeType.stream,S.dj.MimeType.vnd,S.dj.MimeType.pdf,S.dj.MimeType.json,S.dj.MimeType.zip),r((e=>e.blob())),_.Tj((({headers:e,result:t})=>({headers:e,result:{title:d(e.get("Content-Disposition")||"downloadedDocument").parameters.filename,data:t}}))))}function o(t){return(0,g.pipe)(t,e,n(S.dj.MimeType.any),r((e=>e.text())))}function s(t){return(0,g.pipe)(t,e,n(S.dj.MimeType.any),_.Tj((e=>({headers:e.headers}))))}return{json:function(e,n){return(0,g.pipe)(t(e,n),_.Tj((({result:e})=>e)))},file:function(e){return(0,g.pipe)(e,i,_.Tj((({result:e})=>e)))},text:function(e){return(0,g.pipe)(e,o,_.Tj((({result:e})=>e)))},empty:function(e){return(0,g.pipe)(e,s,_.Tj(R.Yi))},jsonWithHeaders:t,fileWithHeaders:i,textWithHeaders:o,headers:s}};const t=e=>e.headers.get("Content-Type")||e.headers.get("content-type");function n(...e){const n=("Accept",r=e.join(","),e=>f.task.of(e.header("Accept",r)));var r;return r=>(0,g.pipe)(r(n),_.cy(function(...e){return _.aN((n=>{if(201===n.status||204===n.status)return!0;{const r=t(n)||S.dj.MimeType.any;return Boolean(r)&&e.some((e=>e===S.dj.MimeType.any||r.indexOf(e)>-1))}}),(n=>new S.Hl({code:-1,message:"Unexpected Content-Type",status:`Expected: ${e.join()}\nActual: ${t(n)}`})))}(...e)))}function r(e){return _.cy((t=>_.TX((()=>e(t).then((e=>({result:e,headers:t.headers})))),s("client parse error"))))}})(o||(o={}));const s=e=>t=>{if("string"==typeof t)return new S.GI(e,t);if(t instanceof Error||null!=(n=t).name||null!=n.code)return S.GI.fromError(e,t);{let n="";try{n=JSON.stringify(t)}catch(e){n=String(t)}return new S.GI(e,`unexpected result: ${n}`)}var n};function a(...e){return t=>(0,g.pipe)(_.TX(t,m.identity),(0,M.L5)(e),P.hq)}function u(...e){return t=>(0,g.pipe)(t(),(0,M.L5)(e))}})(E||(E={}))},67742:(e,t,n)=>{var r;n.d(t,{K:()=>r}),(r||(r={})).Base=class{}},82745:(e,t,n)=>{n.d(t,{Xb:()=>m,L5:()=>g});var r=n(69082),i=n(63336),o=n(44297),s=n(98475),a=n(58413),u=r.getFunctionMonoid(o.getApplyMonoid({concat:(0,s.getJoinSemigroup)(a.ordNumber).concat,empty:0}))();o.none;var c=u,l=n(16799),p=n(86562),h=n(29052),d=n(58889),f=n(69063);p.eo,p.eo,p.eo;class m extends p.eo{constructor(e){super(e||"Not Connected to WS"),this.name="NotConnectedError"}static isNotConnectedError(e){return e instanceof m}}function g(e,t=(()=>!0)){const n=r.fold(c)(e);let s;return e=>(0,l.retrying)(n,(t=>(0,i.pipe)(t.previousDelay,o.fold((()=>e),(n=>(0,i.pipe)(y(t.iterNumber,n),h.g$(e),h.qE((e=>{var n;return null!==(n=e)&&"object"==typeof n&&"stack"in n&&void 0!==n.stack&&(1===t.iterNumber?s=e.stack:void 0!==s&&(e.stack=s)),e}))))))),(e=>d.isLeft(e)&&t(e.left)))}p.eo;const y=(e,t)=>h.BK((()=>f.Bx.Logging.root.getLogger("coreclients.utils").trace(`retryWithDelay: count ${e}, timeout: ${t}`)))}}]);